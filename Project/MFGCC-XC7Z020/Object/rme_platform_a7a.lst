ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 1


   1              		.cpu cortex-a9
   2              		.arch armv7-a
   3              		.fpu neon-fp16
   4              		.arch_extension mp
   5              		.arch_extension sec
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"rme_platform_a7a.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.rodata.RME_A7A_Pgflg_1M_RME2NAT,"a"
  20              		.align	2
  23              	RME_A7A_Pgflg_1M_RME2NAT:
  24 0000 11880300 		.word	231441
  25 0004 11880300 		.word	231441
  26 0008 11080300 		.word	198673
  27 000c 11080300 		.word	198673
  28 0010 01880300 		.word	231425
  29 0014 01880300 		.word	231425
  30 0018 01080300 		.word	198657
  31 001c 01080300 		.word	198657
  32 0020 19880300 		.word	231449
  33 0024 19880300 		.word	231449
  34 0028 19080300 		.word	198681
  35 002c 19080300 		.word	198681
  36 0030 09880300 		.word	231433
  37 0034 09880300 		.word	231433
  38 0038 09080300 		.word	198665
  39 003c 09080300 		.word	198665
  40 0040 15880300 		.word	231445
  41 0044 15880300 		.word	231445
  42 0048 15080300 		.word	198677
  43 004c 15080300 		.word	198677
  44 0050 05880300 		.word	231429
  45 0054 05880300 		.word	231429
  46 0058 05080300 		.word	198661
  47 005c 05080300 		.word	198661
  48 0060 1D880300 		.word	231453
  49 0064 1D880300 		.word	231453
  50 0068 1D080300 		.word	198685
  51 006c 1D080300 		.word	198685
  52 0070 0D880300 		.word	231437
  53 0074 0D880300 		.word	231437
  54 0078 0D080300 		.word	198669
  55 007c 0D080300 		.word	198669
  56              		.section	.rodata.RME_A7A_Pgflg_4K_RME2NAT,"a"
  57              		.align	2
  60              	RME_A7A_Pgflg_4K_RME2NAT:
  61 0000 230E0000 		.word	3619
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 2


  62 0004 230E0000 		.word	3619
  63 0008 230C0000 		.word	3107
  64 000c 230C0000 		.word	3107
  65 0010 220E0000 		.word	3618
  66 0014 220E0000 		.word	3618
  67 0018 220C0000 		.word	3106
  68 001c 220C0000 		.word	3106
  69 0020 2B0E0000 		.word	3627
  70 0024 2B0E0000 		.word	3627
  71 0028 2B0C0000 		.word	3115
  72 002c 2B0C0000 		.word	3115
  73 0030 2A0E0000 		.word	3626
  74 0034 2A0E0000 		.word	3626
  75 0038 2A0C0000 		.word	3114
  76 003c 2A0C0000 		.word	3114
  77 0040 270E0000 		.word	3623
  78 0044 270E0000 		.word	3623
  79 0048 270C0000 		.word	3111
  80 004c 270C0000 		.word	3111
  81 0050 260E0000 		.word	3622
  82 0054 260E0000 		.word	3622
  83 0058 260C0000 		.word	3110
  84 005c 260C0000 		.word	3110
  85 0060 2F0E0000 		.word	3631
  86 0064 2F0E0000 		.word	3631
  87 0068 2F0C0000 		.word	3119
  88 006c 2F0C0000 		.word	3119
  89 0070 2E0E0000 		.word	3630
  90 0074 2E0E0000 		.word	3630
  91 0078 2E0C0000 		.word	3118
  92 007c 2E0C0000 		.word	3118
  93              		.section	.rodata.RME_A7A_Pgflg_1M_NAT2RME,"a"
  94              		.align	2
  97              	RME_A7A_Pgflg_1M_NAT2RME:
  98 0000 07000000 		.word	7
  99 0004 17000000 		.word	23
 100 0008 0F000000 		.word	15
 101 000c 1F000000 		.word	31
 102 0010 03000000 		.word	3
 103 0014 13000000 		.word	19
 104 0018 0B000000 		.word	11
 105 001c 1B000000 		.word	27
 106 0020 05000000 		.word	5
 107 0024 15000000 		.word	21
 108 0028 0D000000 		.word	13
 109 002c 1D000000 		.word	29
 110 0030 01000000 		.word	1
 111 0034 11000000 		.word	17
 112 0038 09000000 		.word	9
 113 003c 19000000 		.word	25
 114              		.section	.rodata.RME_A7A_Pgflg_4K_NAT2RME,"a"
 115              		.align	2
 118              	RME_A7A_Pgflg_4K_NAT2RME:
 119 0000 07000000 		.word	7
 120 0004 03000000 		.word	3
 121 0008 17000000 		.word	23
 122 000c 13000000 		.word	19
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 3


 123 0010 0F000000 		.word	15
 124 0014 0B000000 		.word	11
 125 0018 1F000000 		.word	31
 126 001c 1B000000 		.word	27
 127 0020 05000000 		.word	5
 128 0024 01000000 		.word	1
 129 0028 15000000 		.word	21
 130 002c 11000000 		.word	17
 131 0030 0D000000 		.word	13
 132 0034 09000000 		.word	9
 133 0038 1D000000 		.word	29
 134 003c 19000000 		.word	25
 135              		.global	RME_A7A_Timestamp
 136              		.section	.bss.RME_A7A_Timestamp,"aw",%nobits
 137              		.align	2
 140              	RME_A7A_Timestamp:
 141 0000 00000000 		.space	4
 142              		.global	RME_A7A_Local
 143              		.section	.bss.RME_A7A_Local,"aw",%nobits
 144              		.align	2
 147              	RME_A7A_Local:
 148 0000 00000000 		.space	276
 148      00000000 
 148      00000000 
 148      00000000 
 148      00000000 
 149              		.global	RME_A7A_Kot
 150              		.section	.bss.RME_A7A_Kot,"aw",%nobits
 151              		.align	2
 154              	RME_A7A_Kot:
 155 0000 00000000 		.space	8388608
 155      00000000 
 155      00000000 
 155      00000000 
 155      00000000 
 156              		.global	RME_A7A_Mem_Info
 157              		.section	.rodata.RME_A7A_Mem_Info,"a"
 158              		.align	2
 161              	RME_A7A_Mem_Info:
 162 0000 19000000 		.word	25
 163 0004 00000000 		.word	0
 164 0008 00000000 		.word	0
 165 000c 00040000 		.word	1024
 166 0010 0E0C0300 		.word	199694
 167 0014 00000040 		.word	1073741824
 168 0018 00000040 		.word	1073741824
 169 001c 00020000 		.word	512
 170 0020 020C0300 		.word	199682
 171 0024 000000E0 		.word	-536870912
 172 0028 00000060 		.word	1610612736
 173 002c 00020000 		.word	512
 174 0030 020C0300 		.word	199682
 175 0034 00000000 		.word	0
 176 0038 00000080 		.word	-2147483648
 177 003c 00040000 		.word	1024
 178 0040 0E040300 		.word	197646
 179 0044 00000040 		.word	1073741824
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 4


 180 0048 000000C0 		.word	-1073741824
 181 004c 00020000 		.word	512
 182 0050 02040300 		.word	197634
 183 0054 000000E0 		.word	-536870912
 184 0058 000000E0 		.word	-536870912
 185 005c 00020000 		.word	512
 186 0060 02040300 		.word	197634
 187              		.global	RME_A7A_CPU_Cnt
 188              		.section	.bss.RME_A7A_CPU_Cnt,"aw",%nobits
 189              		.align	2
 192              	RME_A7A_CPU_Cnt:
 193 0000 00000000 		.space	4
 194              		.section	.text.main,"ax",%progbits
 195              		.align	2
 196              		.global	main
 197              		.syntax unified
 198              		.arm
 200              	main:
 201              	.LFB0:
 202              		.file 1 "../../Source/Platform/A7A/rme_platform_a7a.c"
   1:../../Source/Platform/A7A/rme_platform_a7a.c **** /******************************************************************************
   2:../../Source/Platform/A7A/rme_platform_a7a.c **** Filename    : platform_a7a.c
   3:../../Source/Platform/A7A/rme_platform_a7a.c **** Author      : pry
   4:../../Source/Platform/A7A/rme_platform_a7a.c **** Date        : 01/04/2017
   5:../../Source/Platform/A7A/rme_platform_a7a.c **** Licence     : LGPL v3+; see COPYING for details.
   6:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The hardware abstraction layer for ARMv7-A machines.
   7:../../Source/Platform/A7A/rme_platform_a7a.c ****               1. Interrupt controller
   8:../../Source/Platform/A7A/rme_platform_a7a.c ****               2. Timer
   9:../../Source/Platform/A7A/rme_platform_a7a.c ****               3. Pgt setup
  10:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  11:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  12:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Include *******************************************************************/
  13:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_DEF__
  14:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  15:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  16:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_DEF__
  17:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  18:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_STRUCT__
  19:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  20:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  21:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_STRUCT__
  22:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  23:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Private include */
  24:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  25:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  26:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_PUBLIC__
  27:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  28:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_PUBLIC__
  29:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Include ***************************************************************/
  30:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  31:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:main **************************************************************
  32:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The entrance of the operating system.
  33:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  34:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  35:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : int - This function never returns.
  36:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  37:../../Source/Platform/A7A/rme_platform_a7a.c **** int main(void)
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 5


  38:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 203              		.loc 1 38 1
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 0
 206              		@ frame_needed = 1, uses_anonymous_args = 0
 207 0000 00482DE9 		push	{fp, lr}
 208              		.cfi_def_cfa_offset 8
 209              		.cfi_offset 11, -8
 210              		.cfi_offset 14, -4
 211 0004 04B08DE2 		add	fp, sp, #4
 212              		.cfi_def_cfa 11, 4
  39:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(__RME_A7A_ID_ISAR0_Get());
 213              		.loc 1 39 2
 214 0008 FEFFFFEB 		bl	__RME_A7A_ID_ISAR0_Get
 215 000c 0030A0E1 		mov	r3, r0
 216 0010 0300A0E1 		mov	r0, r3
 217 0014 FEFFFFEB 		bl	RME_Hex_Print
 218              	.L2:
  40:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 219              		.loc 1 40 7 discriminator 1
 220 0018 FEFFFFEA 		b	.L2
 221              		.cfi_endproc
 222              	.LFE0:
 224              		.section	.text.__RME_Putchar,"ax",%progbits
 225              		.align	2
 226              		.global	__RME_Putchar
 227              		.syntax unified
 228              		.arm
 230              	__RME_Putchar:
 231              	.LFB1:
  41:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('h');
  42:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('e');
  43:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  44:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  45:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  46:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar(' ');
  47:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('w');*/
  48:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  49:../../Source/Platform/A7A/rme_platform_a7a.c ****    /* RME_DBG_S("0123456789\n");
  50:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  51:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  52:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  53:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  54:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  55:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  56:../../Source/Platform/A7A/rme_platform_a7a.c ****     while(1);*/
  57:../../Source/Platform/A7A/rme_platform_a7a.c ****    // __RME_Putchar('h');
  58:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('e');
  59:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');*/
  61:../../Source/Platform/A7A/rme_platform_a7a.c ****     //__RME_Putchar('o');
  62:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('w');
  63:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  64:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('r');
  65:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  66:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('d');*/
  67:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_Kmain();
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 6


  68:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  69:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  70:../../Source/Platform/A7A/rme_platform_a7a.c ****     //test
  71:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The main function of the kernel - we will start our kernel boot here */
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     //_RME_Kmain(RME_KOM_STACK_ADDR);
  73:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  74:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
  75:../../Source/Platform/A7A/rme_platform_a7a.c **** }
  76:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
  77:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  78:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Putchar *****************************************************
  79:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Output a character to console. In Cortex-M, under most circumstances, 
  80:../../Source/Platform/A7A/rme_platform_a7a.c ****               we should use the ITM for such outputs.
  81:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : char Char - The character to print.
  82:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  83:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
  84:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  85:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Putchar(char Char)
  86:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 232              		.loc 1 86 1
 233              		.cfi_startproc
 234              		@ args = 0, pretend = 0, frame = 8
 235              		@ frame_needed = 1, uses_anonymous_args = 0
 236              		@ link register save eliminated.
 237 0000 04B02DE5 		str	fp, [sp, #-4]!
 238              		.cfi_def_cfa_offset 4
 239              		.cfi_offset 11, -4
 240 0004 00B08DE2 		add	fp, sp, #0
 241              		.cfi_def_cfa_register 11
 242 0008 0CD04DE2 		sub	sp, sp, #12
 243 000c 0030A0E1 		mov	r3, r0
 244 0010 05304BE5 		strb	r3, [fp, #-5]
  87:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PUTCHAR(Char);
 245              		.loc 1 87 5
 246 0014 00F020E3 		nop
 247              	.L4:
 248              		.loc 1 87 5 is_stmt 0 discriminator 1
 249 0018 2C3001E3 		movw	r3, #4140
 250 001c 00304EE3 		movt	r3, 57344
 251 0020 003093E5 		ldr	r3, [r3]
 252 0024 083003E2 		and	r3, r3, #8
 253 0028 000053E3 		cmp	r3, #0
 254 002c F9FFFF0A 		beq	.L4
 255              		.loc 1 87 5 discriminator 2
 256 0030 303001E3 		movw	r3, #4144
 257 0034 00304EE3 		movt	r3, 57344
 258 0038 D5205BE1 		ldrsb	r2, [fp, #-5]
 259 003c 002083E5 		str	r2, [r3]
  88:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 260              		.loc 1 88 12 is_stmt 1 discriminator 2
 261 0040 0030A0E3 		mov	r3, #0
  89:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 262              		.loc 1 89 1 discriminator 2
 263 0044 0300A0E1 		mov	r0, r3
 264 0048 00D08BE2 		add	sp, fp, #0
 265              		.cfi_def_cfa_register 13
 266              		@ sp needed
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 7


 267 004c 04B09DE4 		ldr	fp, [sp], #4
 268              		.cfi_restore 11
 269              		.cfi_def_cfa_offset 0
 270 0050 1EFF2FE1 		bx	lr
 271              		.cfi_endproc
 272              	.LFE1:
 274              		.section	.rodata
 275              		.align	2
 276              	.LC0:
 277 0000 0D0A4137 		.ascii	"\015\012A7A-GIC: ProductID: \000"
 277      412D4749 
 277      433A2050 
 277      726F6475 
 277      63744944 
 278 0017 00       		.align	2
 279              	.LC1:
 280 0018 0D0A4137 		.ascii	"\015\012A7A-GIC: Variant: \000"
 280      412D4749 
 280      433A2056 
 280      61726961 
 280      6E743A20 
 281 002d 000000   		.align	2
 282              	.LC2:
 283 0030 0D0A4137 		.ascii	"\015\012A7A-GIC: Revision: \000"
 283      412D4749 
 283      433A2052 
 283      65766973 
 283      696F6E3A 
 284 0046 0000     		.align	2
 285              	.LC3:
 286 0048 0D0A4137 		.ascii	"\015\012A7A-GIC: Implementer: 0x\000"
 286      412D4749 
 286      433A2049 
 286      6D706C65 
 286      6D656E74 
 287 0063 00       		.align	2
 288              	.LC4:
 289 0064 0D0A4137 		.ascii	"\015\012A7A-GIC: SPI number: \000"
 289      412D4749 
 289      433A2053 
 289      5049206E 
 289      756D6265 
 290              		.align	2
 291              	.LC5:
 292 007c 0D0A4137 		.ascii	"\015\012A7A-GIC: Security extension: \000"
 292      412D4749 
 292      433A2053 
 292      65637572 
 292      69747920 
 293              		.align	2
 294              	.LC6:
 295 009c 0D0A4137 		.ascii	"\015\012A7A-GIC: CPU number: \000"
 295      412D4749 
 295      433A2043 
 295      5055206E 
 295      756D6265 
 296              		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 8


 297              	.LC7:
 298 00b4 0D0A4137 		.ascii	"\015\012A7A-GIC: Interrupt line number: \000"
 298      412D4749 
 298      433A2049 
 298      6E746572 
 298      72757074 
 299              		.section	.text.__RME_A7A_Int_Init,"ax",%progbits
 300              		.align	2
 301              		.syntax unified
 302              		.arm
 304              	__RME_A7A_Int_Init:
 305              	.LFB2:
  90:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Putchar ************************************************/
  91:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  92:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_CPU_Local_Get ******************************************
  93:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the CPU-local data structures. This is to identify where we are
  94:../../Source/Platform/A7A/rme_platform_a7a.c ****               executing.
  95:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  96:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  97:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : struct RME_CPU_Local* - The CPU-local data structures.
  98:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  99:../../Source/Platform/A7A/rme_platform_a7a.c **** /*struct RME_CPU_Local* __RME_A7A_CPU_Local_Get(void)
 100:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 101:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return &RME_A7A_Local[__RME_A7A_MPIDR_Get()&0x03];
 102:../../Source/Platform/A7A/rme_platform_a7a.c **** }*/
 103:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_CPU_Local_Get *************************************/
 104:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 105:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Init ***********************************************
 106:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 107:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 108:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 109:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 110:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 111:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 112:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 113:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Init(void)
 114:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 306              		.loc 1 114 1
 307              		.cfi_startproc
 308              		@ args = 0, pretend = 0, frame = 8
 309              		@ frame_needed = 1, uses_anonymous_args = 0
 310 0000 00482DE9 		push	{fp, lr}
 311              		.cfi_def_cfa_offset 8
 312              		.cfi_offset 11, -8
 313              		.cfi_offset 14, -4
 314 0004 04B08DE2 		add	fp, sp, #4
 315              		.cfi_def_cfa 11, 4
 316 0008 08D04DE2 		sub	sp, sp, #8
 115:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
 116:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Lines;
 117:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 118:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Who implemented the GIC, what variant, how many interrupts? */
 119:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_IIDR;
 317              		.loc 1 119 10
 318 000c 083001E3 		movw	r3, #4104
 319 0010 F0384FE3 		movt	r3, 63728
 320              		.loc 1 119 9
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 9


 321 0014 003093E5 		ldr	r3, [r3]
 322 0018 08300BE5 		str	r3, [fp, #-8]
 120:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 323              		.loc 1 120 5
 324 001c 000000E3 		movw	r0, #:lower16:.LC0
 325 0020 000040E3 		movt	r0, #:upper16:.LC0
 326 0024 FEFFFFEB 		bl	RME_Str_Print
 121:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>24);
 327              		.loc 1 121 5
 328 0028 08301BE5 		ldr	r3, [fp, #-8]
 329 002c 233CA0E1 		lsr	r3, r3, #24
 330 0030 0300A0E1 		mov	r0, r3
 331 0034 FEFFFFEB 		bl	RME_Int_Print
 122:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Variant: ");
 332              		.loc 1 122 5
 333 0038 000000E3 		movw	r0, #:lower16:.LC1
 334 003c 000040E3 		movt	r0, #:upper16:.LC1
 335 0040 FEFFFFEB 		bl	RME_Str_Print
 123:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>20)&0xF);
 336              		.loc 1 123 5
 337 0044 08301BE5 		ldr	r3, [fp, #-8]
 338 0048 233AA0E1 		lsr	r3, r3, #20
 339 004c 0F3003E2 		and	r3, r3, #15
 340 0050 0300A0E1 		mov	r0, r3
 341 0054 FEFFFFEB 		bl	RME_Int_Print
 124:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Revision: ");
 342              		.loc 1 124 5
 343 0058 000000E3 		movw	r0, #:lower16:.LC2
 344 005c 000040E3 		movt	r0, #:upper16:.LC2
 345 0060 FEFFFFEB 		bl	RME_Str_Print
 125:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>12)&0xF);
 346              		.loc 1 125 5
 347 0064 08301BE5 		ldr	r3, [fp, #-8]
 348 0068 2336A0E1 		lsr	r3, r3, #12
 349 006c 0F3003E2 		and	r3, r3, #15
 350 0070 0300A0E1 		mov	r0, r3
 351 0074 FEFFFFEB 		bl	RME_Int_Print
 126:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Implementer: 0x");
 352              		.loc 1 126 5
 353 0078 000000E3 		movw	r0, #:lower16:.LC3
 354 007c 000040E3 		movt	r0, #:upper16:.LC3
 355 0080 FEFFFFEB 		bl	RME_Str_Print
 127:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Temp&0xFFF);
 356              		.loc 1 127 5
 357 0084 08301BE5 		ldr	r3, [fp, #-8]
 358 0088 5330EBE7 		ubfx	r3, r3, #0, #12
 359 008c 0300A0E1 		mov	r0, r3
 360 0090 FEFFFFEB 		bl	RME_Hex_Print
 128:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 129:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* How many locked SPIs, security extension enabled or not, number of
 130:../../Source/Platform/A7A/rme_platform_a7a.c ****      * actual CPUs and interrupt lines */
 131:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_TYPER;
 361              		.loc 1 131 10
 362 0094 043001E3 		movw	r3, #4100
 363 0098 F0384FE3 		movt	r3, 63728
 364              		.loc 1 131 9
 365 009c 003093E5 		ldr	r3, [r3]
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 10


 366 00a0 08300BE5 		str	r3, [fp, #-8]
 132:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
 367              		.loc 1 132 5
 368 00a4 000000E3 		movw	r0, #:lower16:.LC4
 369 00a8 000040E3 		movt	r0, #:upper16:.LC4
 370 00ac FEFFFFEB 		bl	RME_Str_Print
 133:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 371              		.loc 1 133 5
 372 00b0 08301BE5 		ldr	r3, [fp, #-8]
 373 00b4 2338A0E1 		lsr	r3, r3, #16
 374 00b8 0300A0E1 		mov	r0, r3
 375 00bc FEFFFFEB 		bl	RME_Int_Print
 134:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Security extension: ");
 376              		.loc 1 134 5
 377 00c0 000000E3 		movw	r0, #:lower16:.LC5
 378 00c4 000040E3 		movt	r0, #:upper16:.LC5
 379 00c8 FEFFFFEB 		bl	RME_Str_Print
 135:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>10)&0x1);
 380              		.loc 1 135 5
 381 00cc 08301BE5 		ldr	r3, [fp, #-8]
 382 00d0 2335A0E1 		lsr	r3, r3, #10
 383 00d4 013003E2 		and	r3, r3, #1
 384 00d8 0300A0E1 		mov	r0, r3
 385 00dc FEFFFFEB 		bl	RME_Int_Print
 136:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: CPU number: ");
 386              		.loc 1 136 5
 387 00e0 000000E3 		movw	r0, #:lower16:.LC6
 388 00e4 000040E3 		movt	r0, #:upper16:.LC6
 389 00e8 FEFFFFEB 		bl	RME_Str_Print
 137:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(((Temp>>5)&0x7)+1);
 390              		.loc 1 137 5
 391 00ec 08301BE5 		ldr	r3, [fp, #-8]
 392 00f0 A332A0E1 		lsr	r3, r3, #5
 393 00f4 073003E2 		and	r3, r3, #7
 394 00f8 013083E2 		add	r3, r3, #1
 395 00fc 0300A0E1 		mov	r0, r3
 396 0100 FEFFFFEB 		bl	RME_Int_Print
 138:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 397              		.loc 1 138 5
 398 0104 000000E3 		movw	r0, #:lower16:.LC7
 399 0108 000040E3 		movt	r0, #:upper16:.LC7
 400 010c FEFFFFEB 		bl	RME_Str_Print
 139:../../Source/Platform/A7A/rme_platform_a7a.c ****     Lines=((Temp&0x1F)+1)*32;
 401              		.loc 1 139 17
 402 0110 08301BE5 		ldr	r3, [fp, #-8]
 403 0114 1F3003E2 		and	r3, r3, #31
 404              		.loc 1 139 23
 405 0118 013083E2 		add	r3, r3, #1
 406              		.loc 1 139 10
 407 011c 8332A0E1 		lsl	r3, r3, #5
 408 0120 0C300BE5 		str	r3, [fp, #-12]
 140:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Lines);
 409              		.loc 1 140 5
 410 0124 0C001BE5 		ldr	r0, [fp, #-12]
 411 0128 FEFFFFEB 		bl	RME_Hex_Print
 141:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 142:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 11


 143:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 144:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 0, and disable all */
 145:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/32;Temp++)
 412              		.loc 1 145 10
 413 012c 0030A0E3 		mov	r3, #0
 414 0130 08300BE5 		str	r3, [fp, #-8]
 415              		.loc 1 145 2
 416 0134 1A0000EA 		b	.L7
 417              	.L8:
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 418              		.loc 1 147 3 discriminator 3
 419 0138 08201BE5 		ldr	r2, [fp, #-8]
 420 013c 4A3EA0E3 		mov	r3, #1184
 421 0140 3C3E43E3 		movt	r3, 15932
 422 0144 033082E0 		add	r3, r2, r3
 423 0148 0331A0E1 		lsl	r3, r3, #2
 424 014c 0320A0E1 		mov	r2, r3
 425              		.loc 1 147 29 discriminator 3
 426 0150 0030E0E3 		mvn	r3, #0
 427 0154 003082E5 		str	r3, [r2]
 148:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 428              		.loc 1 148 3 discriminator 3
 429 0158 08201BE5 		ldr	r2, [fp, #-8]
 430 015c 423EA0E3 		mov	r3, #1056
 431 0160 3C3E43E3 		movt	r3, 15932
 432 0164 033082E0 		add	r3, r2, r3
 433 0168 0331A0E1 		lsl	r3, r3, #2
 434 016c 0320A0E1 		mov	r2, r3
 435              		.loc 1 148 29 discriminator 3
 436 0170 0030A0E3 		mov	r3, #0
 437 0174 003082E5 		str	r3, [r2]
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 438              		.loc 1 149 3 discriminator 3
 439 0178 08201BE5 		ldr	r2, [fp, #-8]
 440 017c 463EA0E3 		mov	r3, #1120
 441 0180 3C3E43E3 		movt	r3, 15932
 442 0184 033082E0 		add	r3, r2, r3
 443 0188 0331A0E1 		lsl	r3, r3, #2
 444 018c 0320A0E1 		mov	r2, r3
 445              		.loc 1 149 31 discriminator 3
 446 0190 0030E0E3 		mvn	r3, #0
 447 0194 003082E5 		str	r3, [r2]
 145:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 448              		.loc 1 145 31 discriminator 3
 449 0198 08301BE5 		ldr	r3, [fp, #-8]
 450 019c 013083E2 		add	r3, r3, #1
 451 01a0 08300BE5 		str	r3, [fp, #-8]
 452              	.L7:
 145:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 453              		.loc 1 145 23 discriminator 1
 454 01a4 0C301BE5 		ldr	r3, [fp, #-12]
 455 01a8 A332A0E1 		lsr	r3, r3, #5
 145:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 456              		.loc 1 145 2 discriminator 1
 457 01ac 08201BE5 		ldr	r2, [fp, #-8]
 458 01b0 030052E1 		cmp	r2, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 12


 459 01b4 DFFFFF3A 		bcc	.L8
 150:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 151:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 152:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Set the priority of all such interrupts to the lowest level */
 153:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/4;Temp++)
 460              		.loc 1 153 10
 461 01b8 0030A0E3 		mov	r3, #0
 462 01bc 08300BE5 		str	r3, [fp, #-8]
 463              		.loc 1 153 2
 464 01c0 0B0000EA 		b	.L9
 465              	.L10:
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 466              		.loc 1 154 3 discriminator 3
 467 01c4 08201BE5 		ldr	r2, [fp, #-8]
 468 01c8 053CA0E3 		mov	r3, #1280
 469 01cc 3C3E43E3 		movt	r3, 15932
 470 01d0 033082E0 		add	r3, r2, r3
 471 01d4 0331A0E1 		lsl	r3, r3, #2
 472 01d8 0320A0E1 		mov	r2, r3
 473              		.loc 1 154 32 discriminator 3
 474 01dc A0300AE3 		movw	r3, #41120
 475 01e0 A0304AE3 		movt	r3, 41120
 476 01e4 003082E5 		str	r3, [r2]
 153:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 477              		.loc 1 153 30 discriminator 3
 478 01e8 08301BE5 		ldr	r3, [fp, #-8]
 479 01ec 013083E2 		add	r3, r3, #1
 480 01f0 08300BE5 		str	r3, [fp, #-8]
 481              	.L9:
 153:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 482              		.loc 1 153 23 discriminator 1
 483 01f4 0C301BE5 		ldr	r3, [fp, #-12]
 484 01f8 2331A0E1 		lsr	r3, r3, #2
 153:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 485              		.loc 1 153 2 discriminator 1
 486 01fc 08201BE5 		ldr	r2, [fp, #-8]
 487 0200 030052E1 		cmp	r2, r3
 488 0204 EEFFFF3A 		bcc	.L10
 155:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 156:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts target CPU0 */
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=8;Temp<Lines/4;Temp++)
 489              		.loc 1 157 10
 490 0208 0830A0E3 		mov	r3, #8
 491 020c 08300BE5 		str	r3, [fp, #-8]
 492              		.loc 1 157 2
 493 0210 0B0000EA 		b	.L11
 494              	.L12:
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 495              		.loc 1 158 3 discriminator 3
 496 0214 08201BE5 		ldr	r2, [fp, #-8]
 497 0218 063CA0E3 		mov	r3, #1536
 498 021c 3C3E43E3 		movt	r3, 15932
 499 0220 033082E0 		add	r3, r2, r3
 500 0224 0331A0E1 		lsl	r3, r3, #2
 501 0228 0320A0E1 		mov	r2, r3
 502              		.loc 1 158 31 discriminator 3
 503 022c 013100E3 		movw	r3, #257
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 13


 504 0230 013140E3 		movt	r3, 257
 505 0234 003082E5 		str	r3, [r2]
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 506              		.loc 1 157 30 discriminator 3
 507 0238 08301BE5 		ldr	r3, [fp, #-8]
 508 023c 013083E2 		add	r3, r3, #1
 509 0240 08300BE5 		str	r3, [fp, #-8]
 510              	.L11:
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 511              		.loc 1 157 23 discriminator 1
 512 0244 0C301BE5 		ldr	r3, [fp, #-12]
 513 0248 2331A0E1 		lsr	r3, r3, #2
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 514              		.loc 1 157 2 discriminator 1
 515 024c 08201BE5 		ldr	r2, [fp, #-8]
 516 0250 030052E1 		cmp	r2, r3
 517 0254 EEFFFF3A 		bcc	.L12
 159:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 160:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts are edge triggered, and use 1-N model */
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/16;Temp++)
 518              		.loc 1 161 10
 519 0258 0030A0E3 		mov	r3, #0
 520 025c 08300BE5 		str	r3, [fp, #-8]
 521              		.loc 1 161 2
 522 0260 0B0000EA 		b	.L13
 523              	.L14:
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 524              		.loc 1 162 3 discriminator 3
 525 0264 08201BE5 		ldr	r2, [fp, #-8]
 526 0268 073CA0E3 		mov	r3, #1792
 527 026c 3C3E43E3 		movt	r3, 15932
 528 0270 033082E0 		add	r3, r2, r3
 529 0274 0331A0E1 		lsl	r3, r3, #2
 530 0278 0320A0E1 		mov	r2, r3
 531              		.loc 1 162 27 discriminator 3
 532 027c 553505E3 		movw	r3, #21845
 533 0280 553545E3 		movt	r3, 21845
 534 0284 003082E5 		str	r3, [r2]
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 535              		.loc 1 161 31 discriminator 3
 536 0288 08301BE5 		ldr	r3, [fp, #-8]
 537 028c 013083E2 		add	r3, r3, #1
 538 0290 08300BE5 		str	r3, [fp, #-8]
 539              	.L13:
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 540              		.loc 1 161 23 discriminator 1
 541 0294 0C301BE5 		ldr	r3, [fp, #-12]
 542 0298 2332A0E1 		lsr	r3, r3, #4
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 543              		.loc 1 161 2 discriminator 1
 544 029c 08201BE5 		ldr	r2, [fp, #-8]
 545 02a0 030052E1 		cmp	r2, r3
 546 02a4 EEFFFF3A 		bcc	.L14
 163:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 164:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable the interrupt controller */
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 547              		.loc 1 165 2
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 14


 548 02a8 013AA0E3 		mov	r3, #4096
 549 02ac F0384FE3 		movt	r3, 63728
 550              		.loc 1 165 19
 551 02b0 0320A0E3 		mov	r2, #3
 552 02b4 002083E5 		str	r2, [r3]
 166:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 167:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 1, unless otherwise noted, and disable all */
 168:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/32;Temp++)
 169:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 170:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 171:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_IGROUPR(Temp)=0xFFFFFFFFU;
 172:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 173:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 174:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 175:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the priority of all such interrupts to the lowest level*/
 176:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/4;Temp++)
 177:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xE0E0E0E0U;
 178:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 179:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts target CPU0 */
 180:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=8;Temp<Lines/4;Temp++)
 181:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 182:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 183:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts are edge triggered, and use 1-N model */
 184:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/16;Temp++)
 185:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICFGR(Temp)=0xFFFFFFFFU;
 186:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 187:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the interrupt controller */
 188:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 189:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 190:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 553              		.loc 1 190 1
 554 02b8 00F020E3 		nop
 555 02bc 04D04BE2 		sub	sp, fp, #4
 556              		.cfi_def_cfa 13, 8
 557              		@ sp needed
 558 02c0 0088BDE8 		pop	{fp, pc}
 559              		.cfi_endproc
 560              	.LFE2:
 562              		.section	.text.__RME_A7A_Int_Local_Init,"ax",%progbits
 563              		.align	2
 564              		.global	__RME_A7A_Int_Local_Init
 565              		.syntax unified
 566              		.arm
 568              	__RME_A7A_Int_Local_Init:
 569              	.LFB3:
 191:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Init ******************************************/
 192:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 193:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Local_Init *****************************************
 194:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the local CPU interface of the processor.
 195:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 196:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 197:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 198:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 199:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Local_Init(void)
 200:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 570              		.loc 1 200 1
 571              		.cfi_startproc
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 15


 572              		@ args = 0, pretend = 0, frame = 0
 573              		@ frame_needed = 1, uses_anonymous_args = 0
 574              		@ link register save eliminated.
 575 0000 04B02DE5 		str	fp, [sp, #-4]!
 576              		.cfi_def_cfa_offset 4
 577              		.cfi_offset 11, -4
 578 0004 00B08DE2 		add	fp, sp, #0
 579              		.cfi_def_cfa_register 11
 201:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Priority grouping */
 202:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_BPR=RME_A7A_GIC_GROUPING;
 580              		.loc 1 202 2
 581 0008 413FA0E3 		mov	r3, #260
 582 000c F0384FE3 		movt	r3, 63728
 583              		.loc 1 202 18
 584 0010 0020A0E3 		mov	r2, #0
 585 0014 002083E5 		str	r2, [r3]
 203:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 204:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 205:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable all interrupts to this interface - FIQ is bypassed, and all
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * interrupts go through the IRQ. The FIQ feature is only available on
 207:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * the stabdalone FIQ interrupt line */
 208:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_ENABLEGRP0;
 586              		.loc 1 208 2
 587 0018 013CA0E3 		mov	r3, #256
 588 001c F0384FE3 		movt	r3, 63728
 589              		.loc 1 208 19
 590 0020 0120A0E3 		mov	r2, #1
 591 0024 002083E5 		str	r2, [r3]
 209:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 210:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_CBPR|RME_A7A_GICC_FIQEN|
 211:../../Source/Platform/A7A/rme_platform_a7a.c **** 			           RME_A7A_GICC_ENABLEGRP1|RME_A7A_GICC_ENABLEGRP0;
 212:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 213:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 214:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* No interrupts are masked - This must be set at last because enabling
 215:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * will trash the contents of this register if previously set. To maintain
 216:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * compatibility across all possible implementations, no priority level
 217:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * lower than 0xF0 will be considered valid */
 218:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_PMR=0xF0U;
 592              		.loc 1 218 2
 593 0028 413FA0E3 		mov	r3, #260
 594 002c F0384FE3 		movt	r3, 63728
 595              		.loc 1 218 18
 596 0030 F020A0E3 		mov	r2, #240
 597 0034 002083E5 		str	r2, [r3]
 219:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 598              		.loc 1 219 1
 599 0038 00F020E3 		nop
 600 003c 00D08BE2 		add	sp, fp, #0
 601              		.cfi_def_cfa_register 13
 602              		@ sp needed
 603 0040 04B09DE4 		ldr	fp, [sp], #4
 604              		.cfi_restore 11
 605              		.cfi_def_cfa_offset 0
 606 0044 1EFF2FE1 		bx	lr
 607              		.cfi_endproc
 608              	.LFE3:
 610              		.section	.text.__RME_A7A_Timer_Init,"ax",%progbits
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 16


 611              		.align	2
 612              		.syntax unified
 613              		.arm
 615              	__RME_A7A_Timer_Init:
 616              	.LFB4:
 220:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Local_Init ************************************/
 221:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 222:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Timer_Init *********************************************
 223:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 224:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 225:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 226:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 227:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 228:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 229:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 230:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Timer_Init(void)
 231:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 617              		.loc 1 231 1
 618              		.cfi_startproc
 619              		@ args = 0, pretend = 0, frame = 0
 620              		@ frame_needed = 1, uses_anonymous_args = 0
 621              		@ link register save eliminated.
 622 0000 04B02DE5 		str	fp, [sp, #-4]!
 623              		.cfi_def_cfa_offset 4
 624              		.cfi_offset 11, -4
 625 0004 00B08DE2 		add	fp, sp, #0
 626              		.cfi_def_cfa_register 11
 232:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 233:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 234:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Writing this will also write the counter register as well */
 235:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTLR=RME_A7A_SYSTICK_VAL;
 627              		.loc 1 235 5
 628 0008 063CA0E3 		mov	r3, #1536
 629 000c F0384FE3 		movt	r3, 63728
 630              		.loc 1 235 22
 631 0010 782408E3 		movw	r2, #33912
 632 0014 3A2040E3 		movt	r2, 58
 633 0018 002083E5 		str	r2, [r3]
 236:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 237:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTISR=0;
 634              		.loc 1 237 5
 635 001c 0C3600E3 		movw	r3, #1548
 636 0020 F0384FE3 		movt	r3, 63728
 637              		.loc 1 237 23
 638 0024 0020A0E3 		mov	r2, #0
 639 0028 002083E5 		str	r2, [r3]
 238:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 239:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTCTLR=RME_A7A_PTWD_PTCTLR_PRESC(0)|
 640              		.loc 1 239 5
 641 002c 083600E3 		movw	r3, #1544
 642 0030 F0384FE3 		movt	r3, 63728
 643              		.loc 1 239 24
 644 0034 0720A0E3 		mov	r2, #7
 645 0038 002083E5 		str	r2, [r3]
 240:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 241:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_AUTOREL|
 242:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_TIMEN;
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 17


 243:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 244:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the timer interrupt in the GIC */
 245:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_ISENABLER(0)|=1<<29;
 646              		.loc 1 245 30
 647 003c 113CA0E3 		mov	r3, #4352
 648 0040 F0384FE3 		movt	r3, 63728
 649 0044 002093E5 		ldr	r2, [r3]
 650 0048 113CA0E3 		mov	r3, #4352
 651 004c F0384FE3 		movt	r3, 63728
 652 0050 022282E3 		orr	r2, r2, #536870912
 653 0054 002083E5 		str	r2, [r3]
 246:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 247:../../Source/Platform/A7A/rme_platform_a7a.c **** 	#error Cortex-A7/8/15/17 is not supported at the moment.
 248:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cortex-A7/15/17 use the new generic timer, and Cortex-A8 does not
 249:../../Source/Platform/A7A/rme_platform_a7a.c **** 	have a processor timer due to very early release dates.
 250:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 251:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 654              		.loc 1 251 1
 655 0058 00F020E3 		nop
 656 005c 00D08BE2 		add	sp, fp, #0
 657              		.cfi_def_cfa_register 13
 658              		@ sp needed
 659 0060 04B09DE4 		ldr	fp, [sp], #4
 660              		.cfi_restore 11
 661              		.cfi_def_cfa_offset 0
 662 0064 1EFF2FE1 		bx	lr
 663              		.cfi_endproc
 664              	.LFE4:
 666              		.section	.text.__RME_A7A_Feature_Get,"ax",%progbits
 667              		.align	2
 668              		.global	__RME_A7A_Feature_Get
 669              		.syntax unified
 670              		.arm
 672              	__RME_A7A_Feature_Get:
 673              	.LFB5:
 252:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Timer_Init ****************************************/
 253:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 254:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Feature_Get ********************************************
 255:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Use the CPUID instruction extensively to get all the processor
 256:../../Source/Platform/A7A/rme_platform_a7a.c ****               information. We assume that all processors installed have the same
 257:../../Source/Platform/A7A/rme_platform_a7a.c ****               features.
 258:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 259:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 260:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 261:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 262:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Feature_Get(void)
 263:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 674              		.loc 1 263 1
 675              		.cfi_startproc
 676              		@ args = 0, pretend = 0, frame = 0
 677              		@ frame_needed = 1, uses_anonymous_args = 0
 678              		@ link register save eliminated.
 679 0000 04B02DE5 		str	fp, [sp, #-4]!
 680              		.cfi_def_cfa_offset 4
 681              		.cfi_offset 11, -4
 682 0004 00B08DE2 		add	fp, sp, #0
 683              		.cfi_def_cfa_register 11
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 18


 264:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 265:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* TODO: Check these flags. If not satisfied, we hang immediately. */
 266:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 684              		.loc 1 266 1
 685 0008 00F020E3 		nop
 686 000c 00D08BE2 		add	sp, fp, #0
 687              		.cfi_def_cfa_register 13
 688              		@ sp needed
 689 0010 04B09DE4 		ldr	fp, [sp], #4
 690              		.cfi_restore 11
 691              		.cfi_def_cfa_offset 0
 692 0014 1EFF2FE1 		bx	lr
 693              		.cfi_endproc
 694              	.LFE5:
 696              		.section	.text.__RME_A7A_Mem_Init,"ax",%progbits
 697              		.align	2
 698              		.global	__RME_A7A_Mem_Init
 699              		.syntax unified
 700              		.arm
 702              	__RME_A7A_Mem_Init:
 703              	.LFB6:
 267:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Feature_Get ***************************************/
 268:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 269:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Mem_Init ***********************************************
 270:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the memory map, and get the size of kernel object
 271:../../Source/Platform/A7A/rme_platform_a7a.c ****               allocation registration table(Kot) and page table reference
 272:../../Source/Platform/A7A/rme_platform_a7a.c ****               count registration table(Pgreg).
 273:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t MMap_Addr - The GRUB multiboot memory map data address.
 274:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t MMap_Length - The GRUB multiboot memory map data length.
 275:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 276:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 277:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 278:../../Source/Platform/A7A/rme_platform_a7a.c **** const rme_ptr_t RME_A7A_Mem_Info[RME_A7A_MEM_ENTRIES]={RME_A7A_MEM_CONTENTS};
 279:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Mem_Init(rme_ptr_t MMap_Addr, rme_ptr_t MMap_Length)
 280:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 704              		.loc 1 280 1
 705              		.cfi_startproc
 706              		@ args = 0, pretend = 0, frame = 8
 707              		@ frame_needed = 1, uses_anonymous_args = 0
 708              		@ link register save eliminated.
 709 0000 04B02DE5 		str	fp, [sp, #-4]!
 710              		.cfi_def_cfa_offset 4
 711              		.cfi_offset 11, -4
 712 0004 00B08DE2 		add	fp, sp, #0
 713              		.cfi_def_cfa_register 11
 714 0008 0CD04DE2 		sub	sp, sp, #12
 715 000c 08000BE5 		str	r0, [fp, #-8]
 716 0010 0C100BE5 		str	r1, [fp, #-12]
 281:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 282:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 717              		.loc 1 282 1
 718 0014 00F020E3 		nop
 719 0018 00D08BE2 		add	sp, fp, #0
 720              		.cfi_def_cfa_register 13
 721              		@ sp needed
 722 001c 04B09DE4 		ldr	fp, [sp], #4
 723              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 19


 724              		.cfi_def_cfa_offset 0
 725 0020 1EFF2FE1 		bx	lr
 726              		.cfi_endproc
 727              	.LFE6:
 729              		.section	.text.__RME_A7A_SMP_Init,"ax",%progbits
 730              		.align	2
 731              		.global	__RME_A7A_SMP_Init
 732              		.syntax unified
 733              		.arm
 735              	__RME_A7A_SMP_Init:
 736              	.LFB7:
 283:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Mem_Init ******************************************/
 284:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 285:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Init ***********************************************
 286:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Start all other processors, one by one.
 287:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 288:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 289:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 290:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 291:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Init(void)
 292:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 737              		.loc 1 292 1
 738              		.cfi_startproc
 739              		@ args = 0, pretend = 0, frame = 0
 740              		@ frame_needed = 1, uses_anonymous_args = 0
 741              		@ link register save eliminated.
 742 0000 04B02DE5 		str	fp, [sp, #-4]!
 743              		.cfi_def_cfa_offset 4
 744              		.cfi_offset 11, -4
 745 0004 00B08DE2 		add	fp, sp, #0
 746              		.cfi_def_cfa_register 11
 293:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 294:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 747              		.loc 1 294 1
 748 0008 00F020E3 		nop
 749 000c 00D08BE2 		add	sp, fp, #0
 750              		.cfi_def_cfa_register 13
 751              		@ sp needed
 752 0010 04B09DE4 		ldr	fp, [sp], #4
 753              		.cfi_restore 11
 754              		.cfi_def_cfa_offset 0
 755 0014 1EFF2FE1 		bx	lr
 756              		.cfi_endproc
 757              	.LFE7:
 759              		.section	.text.__RME_A7A_SMP_Tick,"ax",%progbits
 760              		.align	2
 761              		.global	__RME_A7A_SMP_Tick
 762              		.syntax unified
 763              		.arm
 765              	__RME_A7A_SMP_Tick:
 766              	.LFB8:
 295:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Init ******************************************/
 296:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 297:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Tick ***********************************************
 298:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Send IPI to all other cores,to run their handler on the time.
 299:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 300:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 20


 301:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 302:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 303:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Tick(void)
 304:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 767              		.loc 1 304 1
 768              		.cfi_startproc
 769              		@ args = 0, pretend = 0, frame = 0
 770              		@ frame_needed = 1, uses_anonymous_args = 0
 771              		@ link register save eliminated.
 772 0000 04B02DE5 		str	fp, [sp, #-4]!
 773              		.cfi_def_cfa_offset 4
 774              		.cfi_offset 11, -4
 775 0004 00B08DE2 		add	fp, sp, #0
 776              		.cfi_def_cfa_register 11
 305:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 306:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 777              		.loc 1 306 1
 778 0008 00F020E3 		nop
 779 000c 00D08BE2 		add	sp, fp, #0
 780              		.cfi_def_cfa_register 13
 781              		@ sp needed
 782 0010 04B09DE4 		ldr	fp, [sp], #4
 783              		.cfi_restore 11
 784              		.cfi_def_cfa_offset 0
 785 0014 1EFF2FE1 		bx	lr
 786              		.cfi_endproc
 787              	.LFE8:
 789              		.section	.rodata
 790 00d7 00       		.align	2
 791              	.LC8:
 792 00d8 0D0A4137 		.ascii	"\015\012A7A-Vector: 0x\000"
 792      412D5665 
 792      63746F72 
 792      3A203078 
 792      00
 793 00e9 000000   		.align	2
 794              	.LC9:
 795 00ec 0D0A4137 		.ascii	"\015\012A7A-Non-Secure: \000"
 795      412D4E6F 
 795      6E2D5365 
 795      63757265 
 795      3A2000
 796              		.section	.text.__RME_Lowlvl_Init,"ax",%progbits
 797              		.align	2
 798              		.global	__RME_Lowlvl_Init
 799              		.syntax unified
 800              		.arm
 802              	__RME_Lowlvl_Init:
 803              	.LFB9:
 307:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Tick *******************************************/
 308:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 309:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Lowlvl_Init **********************************************
 310:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the low-level hardware. This assumes that we are already
 311:../../Source/Platform/A7A/rme_platform_a7a.c ****               in Supervisor (SVC) mode.
 312:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 313:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 314:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 21


 315:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 316:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Lowlvl_Init(void)
 317:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 804              		.loc 1 317 1
 805              		.cfi_startproc
 806              		@ args = 0, pretend = 0, frame = 0
 807              		@ frame_needed = 1, uses_anonymous_args = 0
 808 0000 00482DE9 		push	{fp, lr}
 809              		.cfi_def_cfa_offset 8
 810              		.cfi_offset 11, -8
 811              		.cfi_offset 14, -4
 812 0004 04B08DE2 		add	fp, sp, #4
 813              		.cfi_def_cfa 11, 4
 318:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 319:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_LOW_LEVEL_INIT();
 320:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 321:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local data structure */
 322:../../Source/Platform/A7A/rme_platform_a7a.c ****     _RME_CPU_Local_Init(&RME_A7A_Local,0);
 814              		.loc 1 322 5
 815 0008 0010A0E3 		mov	r1, #0
 816 000c 000000E3 		movw	r0, #:lower16:RME_A7A_Local
 817 0010 000040E3 		movt	r0, #:upper16:RME_A7A_Local
 818 0014 FEFFFFEB 		bl	_RME_CPU_Local_Init
 323:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 324:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the interrupt controller */
 325:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_Int_Init();
 819              		.loc 1 325 5
 820 0018 FEFFFFEB 		bl	__RME_A7A_Int_Init
 326:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 327:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize CPU-local interrupt resources */
 328:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Int_Local_Init();
 821              		.loc 1 328 2
 822 001c FEFFFFEB 		bl	__RME_A7A_Int_Local_Init
 329:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 330:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the vector table */
 331:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Vector: 0x");
 823              		.loc 1 331 5
 824 0020 000000E3 		movw	r0, #:lower16:.LC8
 825 0024 000040E3 		movt	r0, #:upper16:.LC8
 826 0028 FEFFFFEB 		bl	RME_Str_Print
 332:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H((rme_ptr_t)&__RME_A7A_Vector_Table);
 827              		.loc 1 332 5
 828 002c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 829 0030 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 830 0034 0300A0E1 		mov	r0, r3
 831 0038 FEFFFFEB 		bl	RME_Hex_Print
 333:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_VBAR_Set((rme_ptr_t)&__RME_A7A_Vector_Table);
 832              		.loc 1 333 5
 833 003c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 834 0040 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 835 0044 0300A0E1 		mov	r0, r3
 836 0048 FEFFFFEB 		bl	__RME_A7A_VBAR_Set
 334:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 335:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Non-Secure: ");
 837              		.loc 1 335 5
 838 004c 000000E3 		movw	r0, #:lower16:.LC9
 839 0050 000040E3 		movt	r0, #:upper16:.LC9
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 22


 840 0054 FEFFFFEB 		bl	RME_Str_Print
 336:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(__RME_A7A_SCR_Get());
 841              		.loc 1 336 5
 842 0058 FEFFFFEB 		bl	__RME_A7A_SCR_Get
 843 005c 0030A0E1 		mov	r3, r0
 844 0060 0300A0E1 		mov	r0, r3
 845 0064 FEFFFFEB 		bl	RME_Hex_Print
 337:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 846              		.loc 1 337 1
 847 0068 00F020E3 		nop
 848 006c 0088BDE8 		pop	{fp, pc}
 849              		.cfi_endproc
 850              	.LFE9:
 852              		.section	.text.__RME_Pgt_Kom_Init,"ax",%progbits
 853              		.align	2
 854              		.global	__RME_Pgt_Kom_Init
 855              		.syntax unified
 856              		.arm
 858              	__RME_Pgt_Kom_Init:
 859              	.LFB10:
 338:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Lowlvl_Init *****************************************/
 339:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 340:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Kom_Init *********************************************
 341:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the kernel mapping tables, so it can be added to all the
 342:../../Source/Platform/A7A/rme_platform_a7a.c ****               top-level page tables. Currently this have no consideration for >1TB
 343:../../Source/Platform/A7A/rme_platform_a7a.c ****               RAM, and is not NUMA-aware.
 344:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 345:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 346:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 347:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 348:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Kom_Init(void)
 349:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 860              		.loc 1 349 1
 861              		.cfi_startproc
 862              		@ args = 0, pretend = 0, frame = 0
 863              		@ frame_needed = 1, uses_anonymous_args = 0
 864              		@ link register save eliminated.
 865 0000 04B02DE5 		str	fp, [sp, #-4]!
 866              		.cfi_def_cfa_offset 4
 867              		.cfi_offset 11, -4
 868 0004 00B08DE2 		add	fp, sp, #0
 869              		.cfi_def_cfa_register 11
 350:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 351:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 870              		.loc 1 351 12
 871 0008 0030A0E3 		mov	r3, #0
 352:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 872              		.loc 1 352 1
 873 000c 0300A0E1 		mov	r0, r3
 874 0010 00D08BE2 		add	sp, fp, #0
 875              		.cfi_def_cfa_register 13
 876              		@ sp needed
 877 0014 04B09DE4 		ldr	fp, [sp], #4
 878              		.cfi_restore 11
 879              		.cfi_def_cfa_offset 0
 880 0018 1EFF2FE1 		bx	lr
 881              		.cfi_endproc
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 23


 882              	.LFE10:
 884              		.section	.text.__RME_SMP_Low_Level_Init,"ax",%progbits
 885              		.align	2
 886              		.global	__RME_SMP_Low_Level_Init
 887              		.syntax unified
 888              		.arm
 890              	__RME_SMP_Low_Level_Init:
 891              	.LFB11:
 353:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Kom_Init ****************************************/
 354:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 355:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_SMP_Low_Level_Init ******************************************
 356:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Low-level initialization for all other cores.
 357:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 358:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 359:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 360:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 361:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_SMP_Low_Level_Init(void)
 362:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 892              		.loc 1 362 1
 893              		.cfi_startproc
 894              		@ args = 0, pretend = 0, frame = 0
 895              		@ frame_needed = 1, uses_anonymous_args = 0
 896              		@ link register save eliminated.
 897 0000 04B02DE5 		str	fp, [sp, #-4]!
 898              		.cfi_def_cfa_offset 4
 899              		.cfi_offset 11, -4
 900 0004 00B08DE2 		add	fp, sp, #0
 901              		.cfi_def_cfa_register 11
 363:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 364:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_SMP_LOW_LEVEL_INIT();
 365:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local variables */
 366:../../Source/Platform/A7A/rme_platform_a7a.c ****    // _RME_CPU_Local_Init(&RME_A7A_Local[RME_A7A_CPU_Cnt],RME_A7A_CPU_Cnt);
 367:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 902              		.loc 1 367 12
 903 0008 0030A0E3 		mov	r3, #0
 368:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 904              		.loc 1 368 1
 905 000c 0300A0E1 		mov	r0, r3
 906 0010 00D08BE2 		add	sp, fp, #0
 907              		.cfi_def_cfa_register 13
 908              		@ sp needed
 909 0014 04B09DE4 		ldr	fp, [sp], #4
 910              		.cfi_restore 11
 911              		.cfi_def_cfa_offset 0
 912 0018 1EFF2FE1 		bx	lr
 913              		.cfi_endproc
 914              	.LFE11:
 916              		.section	.text.__RME_Boot,"ax",%progbits
 917              		.align	2
 918              		.global	__RME_Boot
 919              		.syntax unified
 920              		.arm
 922              	__RME_Boot:
 923              	.LFB12:
 369:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_SMP_Low_Level_Init *************************************/
 370:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 371:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Boot ********************************************************
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 24


 372:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Boot the first process in the system.
 373:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 374:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 375:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 376:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 377:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Boot(void)
 378:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 924              		.loc 1 378 1
 925              		.cfi_startproc
 926              		@ args = 0, pretend = 0, frame = 0
 927              		@ frame_needed = 1, uses_anonymous_args = 0
 928 0000 00482DE9 		push	{fp, lr}
 929              		.cfi_def_cfa_offset 8
 930              		.cfi_offset 11, -8
 931              		.cfi_offset 14, -4
 932 0004 04B08DE2 		add	fp, sp, #4
 933              		.cfi_def_cfa 11, 4
 379:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize timer */
 380:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Timer_Init();
 934              		.loc 1 380 2
 935 0008 FEFFFFEB 		bl	__RME_A7A_Timer_Init
 381:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Int_Enable();
 936              		.loc 1 381 5
 937 000c FEFFFFEB 		bl	__RME_Int_Enable
 938              	.L27:
 382:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 939              		.loc 1 382 7 discriminator 1
 940 0010 FEFFFFEA 		b	.L27
 941              		.cfi_endproc
 942              	.LFE12:
 944              		.section	.text.__RME_Reboot,"ax",%progbits
 945              		.align	2
 946              		.global	__RME_Reboot
 947              		.syntax unified
 948              		.arm
 950              	__RME_Reboot:
 951              	.LFB13:
 383:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 384:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Boot ***************************************************/
 385:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 386:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Reboot ******************************************************
 387:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Reboot the machine, abandon all operating system states.
 388:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 389:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 390:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 391:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 392:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Reboot(void)
 393:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 952              		.loc 1 393 1
 953              		.cfi_startproc
 954              		@ args = 0, pretend = 0, frame = 0
 955              		@ frame_needed = 1, uses_anonymous_args = 0
 956              		@ link register save eliminated.
 957 0000 04B02DE5 		str	fp, [sp, #-4]!
 958              		.cfi_def_cfa_offset 4
 959              		.cfi_offset 11, -4
 960 0004 00B08DE2 		add	fp, sp, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 25


 961              		.cfi_def_cfa_register 11
 394:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 395:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 962              		.loc 1 395 1
 963 0008 00F020E3 		nop
 964 000c 00D08BE2 		add	sp, fp, #0
 965              		.cfi_def_cfa_register 13
 966              		@ sp needed
 967 0010 04B09DE4 		ldr	fp, [sp], #4
 968              		.cfi_restore 11
 969              		.cfi_def_cfa_offset 0
 970 0014 1EFF2FE1 		bx	lr
 971              		.cfi_endproc
 972              	.LFE13:
 974              		.section	.text.__RME_Shutdown,"ax",%progbits
 975              		.align	2
 976              		.global	__RME_Shutdown
 977              		.syntax unified
 978              		.arm
 980              	__RME_Shutdown:
 981              	.LFB14:
 396:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Reboot *************************************************/
 397:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 398:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Shutdown ****************************************************
 399:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Shutdown the machine, abandon all operating system states.
 400:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 401:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 402:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 403:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 404:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Shutdown(void)
 405:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 982              		.loc 1 405 1
 983              		.cfi_startproc
 984              		@ args = 0, pretend = 0, frame = 0
 985              		@ frame_needed = 1, uses_anonymous_args = 0
 986              		@ link register save eliminated.
 987 0000 04B02DE5 		str	fp, [sp, #-4]!
 988              		.cfi_def_cfa_offset 4
 989              		.cfi_offset 11, -4
 990 0004 00B08DE2 		add	fp, sp, #0
 991              		.cfi_def_cfa_register 11
 406:../../Source/Platform/A7A/rme_platform_a7a.c ****    // RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 407:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 992              		.loc 1 407 1
 993 0008 00F020E3 		nop
 994 000c 00D08BE2 		add	sp, fp, #0
 995              		.cfi_def_cfa_register 13
 996              		@ sp needed
 997 0010 04B09DE4 		ldr	fp, [sp], #4
 998              		.cfi_restore 11
 999              		.cfi_def_cfa_offset 0
 1000 0014 1EFF2FE1 		bx	lr
 1001              		.cfi_endproc
 1002              	.LFE14:
 1004              		.section	.text.__RME_Svc_Param_Get,"ax",%progbits
 1005              		.align	2
 1006              		.global	__RME_Svc_Param_Get
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 26


 1007              		.syntax unified
 1008              		.arm
 1010              	__RME_Svc_Param_Get:
 1011              	.LFB15:
 408:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Shutdown ***********************************************/
 409:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 410:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Get_Syscall_Param *******************************************
 411:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the system call parameters from the stack frame.
 412:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 413:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Svc - The system service number.
 414:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Capid - The capability ID number.
 415:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Param - The parameters.
 416:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 417:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 418:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Param_Get(struct RME_Reg_Struct* Reg,rme_ptr_t* Svc,rme_ptr_t* Capid,rme_ptr_t* Para
 419:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1012              		.loc 1 419 1
 1013              		.cfi_startproc
 1014              		@ args = 0, pretend = 0, frame = 16
 1015              		@ frame_needed = 1, uses_anonymous_args = 0
 1016              		@ link register save eliminated.
 1017 0000 04B02DE5 		str	fp, [sp, #-4]!
 1018              		.cfi_def_cfa_offset 4
 1019              		.cfi_offset 11, -4
 1020 0004 00B08DE2 		add	fp, sp, #0
 1021              		.cfi_def_cfa_register 11
 1022 0008 14D04DE2 		sub	sp, sp, #20
 1023 000c 08000BE5 		str	r0, [fp, #-8]
 1024 0010 0C100BE5 		str	r1, [fp, #-12]
 1025 0014 10200BE5 		str	r2, [fp, #-16]
 1026 0018 14300BE5 		str	r3, [fp, #-20]
 420:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Svc=(Reg->R0)>>16;
 1027              		.loc 1 420 14
 1028 001c 08301BE5 		ldr	r3, [fp, #-8]
 1029 0020 043093E5 		ldr	r3, [r3, #4]
 1030              		.loc 1 420 19
 1031 0024 2328A0E1 		lsr	r2, r3, #16
 1032              		.loc 1 420 9
 1033 0028 0C301BE5 		ldr	r3, [fp, #-12]
 1034 002c 002083E5 		str	r2, [r3]
 421:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Capid=(Reg->R0)&0xFFFF;
 1035              		.loc 1 421 16
 1036 0030 08301BE5 		ldr	r3, [fp, #-8]
 1037 0034 043093E5 		ldr	r3, [r3, #4]
 1038              		.loc 1 421 21
 1039 0038 7320FFE6 		uxth	r2, r3
 1040              		.loc 1 421 11
 1041 003c 10301BE5 		ldr	r3, [fp, #-16]
 1042 0040 002083E5 		str	r2, [r3]
 422:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[0]=Reg->R1;
 1043              		.loc 1 422 17
 1044 0044 08301BE5 		ldr	r3, [fp, #-8]
 1045 0048 082093E5 		ldr	r2, [r3, #8]
 1046              		.loc 1 422 13
 1047 004c 14301BE5 		ldr	r3, [fp, #-20]
 1048 0050 002083E5 		str	r2, [r3]
 423:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[1]=Reg->R2;
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 27


 1049              		.loc 1 423 10
 1050 0054 14301BE5 		ldr	r3, [fp, #-20]
 1051 0058 043083E2 		add	r3, r3, #4
 1052              		.loc 1 423 17
 1053 005c 08201BE5 		ldr	r2, [fp, #-8]
 1054 0060 0C2092E5 		ldr	r2, [r2, #12]
 1055              		.loc 1 423 13
 1056 0064 002083E5 		str	r2, [r3]
 424:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[2]=Reg->R3;
 1057              		.loc 1 424 10
 1058 0068 14301BE5 		ldr	r3, [fp, #-20]
 1059 006c 083083E2 		add	r3, r3, #8
 1060              		.loc 1 424 17
 1061 0070 08201BE5 		ldr	r2, [fp, #-8]
 1062 0074 102092E5 		ldr	r2, [r2, #16]
 1063              		.loc 1 424 13
 1064 0078 002083E5 		str	r2, [r3]
 425:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1065              		.loc 1 425 1
 1066 007c 00F020E3 		nop
 1067 0080 00D08BE2 		add	sp, fp, #0
 1068              		.cfi_def_cfa_register 13
 1069              		@ sp needed
 1070 0084 04B09DE4 		ldr	fp, [sp], #4
 1071              		.cfi_restore 11
 1072              		.cfi_def_cfa_offset 0
 1073 0088 1EFF2FE1 		bx	lr
 1074              		.cfi_endproc
 1075              	.LFE15:
 1077              		.section	.text.__RME_Svc_Retval_Set,"ax",%progbits
 1078              		.align	2
 1079              		.global	__RME_Svc_Retval_Set
 1080              		.syntax unified
 1081              		.arm
 1083              	__RME_Svc_Retval_Set:
 1084              	.LFB16:
 426:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Get_Syscall_Param **************************************/
 427:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 428:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Syscall_Retval ******************************************
 429:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the system call return value to the stack frame. This function 
 430:../../Source/Platform/A7A/rme_platform_a7a.c ****               may carry up to 4 return values. If the last 3 is not needed, just set
 431:../../Source/Platform/A7A/rme_platform_a7a.c ****               them to zero.
 432:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 433:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 434:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 435:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 436:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Retval_Set(struct RME_Reg_Struct* Reg,rme_ret_t Retval)
 437:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1085              		.loc 1 437 1
 1086              		.cfi_startproc
 1087              		@ args = 0, pretend = 0, frame = 8
 1088              		@ frame_needed = 1, uses_anonymous_args = 0
 1089              		@ link register save eliminated.
 1090 0000 04B02DE5 		str	fp, [sp, #-4]!
 1091              		.cfi_def_cfa_offset 4
 1092              		.cfi_offset 11, -4
 1093 0004 00B08DE2 		add	fp, sp, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 28


 1094              		.cfi_def_cfa_register 11
 1095 0008 0CD04DE2 		sub	sp, sp, #12
 1096 000c 08000BE5 		str	r0, [fp, #-8]
 1097 0010 0C100BE5 		str	r1, [fp, #-12]
 438:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=(rme_ptr_t)Retval;
 1098              		.loc 1 438 13
 1099 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1100              		.loc 1 438 12
 1101 0018 08301BE5 		ldr	r3, [fp, #-8]
 1102 001c 042083E5 		str	r2, [r3, #4]
 439:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1103              		.loc 1 439 1
 1104 0020 00F020E3 		nop
 1105 0024 00D08BE2 		add	sp, fp, #0
 1106              		.cfi_def_cfa_register 13
 1107              		@ sp needed
 1108 0028 04B09DE4 		ldr	fp, [sp], #4
 1109              		.cfi_restore 11
 1110              		.cfi_def_cfa_offset 0
 1111 002c 1EFF2FE1 		bx	lr
 1112              		.cfi_endproc
 1113              	.LFE16:
 1115              		.section	.text.__RME_Thd_Reg_Init,"ax",%progbits
 1116              		.align	2
 1117              		.global	__RME_Thd_Reg_Init
 1118              		.syntax unified
 1119              		.arm
 1121              	__RME_Thd_Reg_Init:
 1122              	.LFB17:
 440:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Syscall_Retval *************************************/
 441:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 442:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Init ************************************************
 443:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the register set for the thread.
 444:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Entry - The thread entry address.
 445:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Stack - The thread stack address.
 446:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param - The parameter to pass to it.
 447:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set content generated.
 448:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 449:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 450:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Init(rme_ptr_t Attr,rme_ptr_t Entry,rme_ptr_t Stack,rme_ptr_t Param,
 451:../../Source/Platform/A7A/rme_platform_a7a.c ****                                        struct RME_Reg_Struct* Reg)
 452:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1123              		.loc 1 452 1
 1124              		.cfi_startproc
 1125              		@ args = 4, pretend = 0, frame = 16
 1126              		@ frame_needed = 1, uses_anonymous_args = 0
 1127              		@ link register save eliminated.
 1128 0000 04B02DE5 		str	fp, [sp, #-4]!
 1129              		.cfi_def_cfa_offset 4
 1130              		.cfi_offset 11, -4
 1131 0004 00B08DE2 		add	fp, sp, #0
 1132              		.cfi_def_cfa_register 11
 1133 0008 14D04DE2 		sub	sp, sp, #20
 1134 000c 08000BE5 		str	r0, [fp, #-8]
 1135 0010 0C100BE5 		str	r1, [fp, #-12]
 1136 0014 10200BE5 		str	r2, [fp, #-16]
 1137 0018 14300BE5 		str	r3, [fp, #-20]
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 29


 453:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the entry and stack */
 454:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Entry;
 1138              		.loc 1 454 12
 1139 001c 04309BE5 		ldr	r3, [fp, #4]
 1140 0020 0C201BE5 		ldr	r2, [fp, #-12]
 1141 0024 3C2083E5 		str	r2, [r3, #60]
 455:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Stack;
 1142              		.loc 1 455 12
 1143 0028 04309BE5 		ldr	r3, [fp, #4]
 1144 002c 10201BE5 		ldr	r2, [fp, #-16]
 1145 0030 342083E5 		str	r2, [r3, #52]
 456:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the parameter */
 457:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=Param;
 1146              		.loc 1 457 12
 1147 0034 04309BE5 		ldr	r3, [fp, #4]
 1148 0038 14201BE5 		ldr	r2, [fp, #-20]
 1149 003c 042083E5 		str	r2, [r3, #4]
 458:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1150              		.loc 1 458 1
 1151 0040 00F020E3 		nop
 1152 0044 00D08BE2 		add	sp, fp, #0
 1153              		.cfi_def_cfa_register 13
 1154              		@ sp needed
 1155 0048 04B09DE4 		ldr	fp, [sp], #4
 1156              		.cfi_restore 11
 1157              		.cfi_def_cfa_offset 0
 1158 004c 1EFF2FE1 		bx	lr
 1159              		.cfi_endproc
 1160              	.LFE17:
 1162              		.section	.text.__RME_Thd_Reg_Copy,"ax",%progbits
 1163              		.align	2
 1164              		.global	__RME_Thd_Reg_Copy
 1165              		.syntax unified
 1166              		.arm
 1168              	__RME_Thd_Reg_Copy:
 1169              	.LFB18:
 459:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Init *******************************************/
 460:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 461:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Copy ************************************************
 462:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Copy one set of registers into another.
 463:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Src - The source register set.
 464:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Dst - The destination register set.
 465:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 466:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 467:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Copy(struct RME_Reg_Struct* Dst, struct RME_Reg_Struct* Src)
 468:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1170              		.loc 1 468 1
 1171              		.cfi_startproc
 1172              		@ args = 0, pretend = 0, frame = 8
 1173              		@ frame_needed = 1, uses_anonymous_args = 0
 1174              		@ link register save eliminated.
 1175 0000 04B02DE5 		str	fp, [sp, #-4]!
 1176              		.cfi_def_cfa_offset 4
 1177              		.cfi_offset 11, -4
 1178 0004 00B08DE2 		add	fp, sp, #0
 1179              		.cfi_def_cfa_register 11
 1180 0008 0CD04DE2 		sub	sp, sp, #12
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 30


 1181 000c 08000BE5 		str	r0, [fp, #-8]
 1182 0010 0C100BE5 		str	r1, [fp, #-12]
 469:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that the ordering is the same so the compiler can optimize */
 470:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->CPSR=Src->CPSR;
 1183              		.loc 1 470 18
 1184 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1185 0018 002093E5 		ldr	r2, [r3]
 1186              		.loc 1 470 14
 1187 001c 08301BE5 		ldr	r3, [fp, #-8]
 1188 0020 002083E5 		str	r2, [r3]
 471:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R0=Src->R0;
 1189              		.loc 1 471 16
 1190 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1191 0028 042093E5 		ldr	r2, [r3, #4]
 1192              		.loc 1 471 12
 1193 002c 08301BE5 		ldr	r3, [fp, #-8]
 1194 0030 042083E5 		str	r2, [r3, #4]
 472:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R1=Src->R1;
 1195              		.loc 1 472 16
 1196 0034 0C301BE5 		ldr	r3, [fp, #-12]
 1197 0038 082093E5 		ldr	r2, [r3, #8]
 1198              		.loc 1 472 12
 1199 003c 08301BE5 		ldr	r3, [fp, #-8]
 1200 0040 082083E5 		str	r2, [r3, #8]
 473:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R2=Src->R2;
 1201              		.loc 1 473 16
 1202 0044 0C301BE5 		ldr	r3, [fp, #-12]
 1203 0048 0C2093E5 		ldr	r2, [r3, #12]
 1204              		.loc 1 473 12
 1205 004c 08301BE5 		ldr	r3, [fp, #-8]
 1206 0050 0C2083E5 		str	r2, [r3, #12]
 474:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R3=Src->R3;
 1207              		.loc 1 474 16
 1208 0054 0C301BE5 		ldr	r3, [fp, #-12]
 1209 0058 102093E5 		ldr	r2, [r3, #16]
 1210              		.loc 1 474 12
 1211 005c 08301BE5 		ldr	r3, [fp, #-8]
 1212 0060 102083E5 		str	r2, [r3, #16]
 475:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R4=Src->R4;
 1213              		.loc 1 475 16
 1214 0064 0C301BE5 		ldr	r3, [fp, #-12]
 1215 0068 142093E5 		ldr	r2, [r3, #20]
 1216              		.loc 1 475 12
 1217 006c 08301BE5 		ldr	r3, [fp, #-8]
 1218 0070 142083E5 		str	r2, [r3, #20]
 476:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R5=Src->R5;
 1219              		.loc 1 476 16
 1220 0074 0C301BE5 		ldr	r3, [fp, #-12]
 1221 0078 182093E5 		ldr	r2, [r3, #24]
 1222              		.loc 1 476 12
 1223 007c 08301BE5 		ldr	r3, [fp, #-8]
 1224 0080 182083E5 		str	r2, [r3, #24]
 477:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R6=Src->R6;
 1225              		.loc 1 477 16
 1226 0084 0C301BE5 		ldr	r3, [fp, #-12]
 1227 0088 1C2093E5 		ldr	r2, [r3, #28]
 1228              		.loc 1 477 12
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 31


 1229 008c 08301BE5 		ldr	r3, [fp, #-8]
 1230 0090 1C2083E5 		str	r2, [r3, #28]
 478:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R7=Src->R7;
 1231              		.loc 1 478 16
 1232 0094 0C301BE5 		ldr	r3, [fp, #-12]
 1233 0098 202093E5 		ldr	r2, [r3, #32]
 1234              		.loc 1 478 12
 1235 009c 08301BE5 		ldr	r3, [fp, #-8]
 1236 00a0 202083E5 		str	r2, [r3, #32]
 479:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R8=Src->R8;
 1237              		.loc 1 479 16
 1238 00a4 0C301BE5 		ldr	r3, [fp, #-12]
 1239 00a8 242093E5 		ldr	r2, [r3, #36]
 1240              		.loc 1 479 12
 1241 00ac 08301BE5 		ldr	r3, [fp, #-8]
 1242 00b0 242083E5 		str	r2, [r3, #36]
 480:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R9=Src->R9;
 1243              		.loc 1 480 16
 1244 00b4 0C301BE5 		ldr	r3, [fp, #-12]
 1245 00b8 282093E5 		ldr	r2, [r3, #40]
 1246              		.loc 1 480 12
 1247 00bc 08301BE5 		ldr	r3, [fp, #-8]
 1248 00c0 282083E5 		str	r2, [r3, #40]
 481:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R10=Src->R10;
 1249              		.loc 1 481 17
 1250 00c4 0C301BE5 		ldr	r3, [fp, #-12]
 1251 00c8 2C2093E5 		ldr	r2, [r3, #44]
 1252              		.loc 1 481 13
 1253 00cc 08301BE5 		ldr	r3, [fp, #-8]
 1254 00d0 2C2083E5 		str	r2, [r3, #44]
 482:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R11=Src->R11;
 1255              		.loc 1 482 17
 1256 00d4 0C301BE5 		ldr	r3, [fp, #-12]
 1257 00d8 302093E5 		ldr	r2, [r3, #48]
 1258              		.loc 1 482 13
 1259 00dc 08301BE5 		ldr	r3, [fp, #-8]
 1260 00e0 302083E5 		str	r2, [r3, #48]
 483:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->SP=Src->SP;
 1261              		.loc 1 483 16
 1262 00e4 0C301BE5 		ldr	r3, [fp, #-12]
 1263 00e8 342093E5 		ldr	r2, [r3, #52]
 1264              		.loc 1 483 12
 1265 00ec 08301BE5 		ldr	r3, [fp, #-8]
 1266 00f0 342083E5 		str	r2, [r3, #52]
 484:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->LR=Src->LR;
 1267              		.loc 1 484 16
 1268 00f4 0C301BE5 		ldr	r3, [fp, #-12]
 1269 00f8 382093E5 		ldr	r2, [r3, #56]
 1270              		.loc 1 484 12
 1271 00fc 08301BE5 		ldr	r3, [fp, #-8]
 1272 0100 382083E5 		str	r2, [r3, #56]
 485:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->PC=Src->PC;
 1273              		.loc 1 485 16
 1274 0104 0C301BE5 		ldr	r3, [fp, #-12]
 1275 0108 3C2093E5 		ldr	r2, [r3, #60]
 1276              		.loc 1 485 12
 1277 010c 08301BE5 		ldr	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 32


 1278 0110 3C2083E5 		str	r2, [r3, #60]
 486:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1279              		.loc 1 486 1
 1280 0114 00F020E3 		nop
 1281 0118 00D08BE2 		add	sp, fp, #0
 1282              		.cfi_def_cfa_register 13
 1283              		@ sp needed
 1284 011c 04B09DE4 		ldr	fp, [sp], #4
 1285              		.cfi_restore 11
 1286              		.cfi_def_cfa_offset 0
 1287 0120 1EFF2FE1 		bx	lr
 1288              		.cfi_endproc
 1289              	.LFE18:
 1291              		.section	.text.__RME_Thd_Cop_Init,"ax",%progbits
 1292              		.align	2
 1293              		.global	__RME_Thd_Cop_Init
 1294              		.syntax unified
 1295              		.arm
 1297              	__RME_Thd_Cop_Init:
 1298              	.LFB19:
 487:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Copy *******************************************/
 488:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 489:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Init ************************************************
 490:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the coprocessor register set for the thread.
 491:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register struct to help initialize the coprocessor.
 492:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Cop_Struct* Cop_Reg - The register set content generated.
 493:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 494:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 495:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Init(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 496:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1299              		.loc 1 496 1
 1300              		.cfi_startproc
 1301              		@ args = 0, pretend = 0, frame = 8
 1302              		@ frame_needed = 1, uses_anonymous_args = 0
 1303              		@ link register save eliminated.
 1304 0000 04B02DE5 		str	fp, [sp, #-4]!
 1305              		.cfi_def_cfa_offset 4
 1306              		.cfi_offset 11, -4
 1307 0004 00B08DE2 		add	fp, sp, #0
 1308              		.cfi_def_cfa_register 11
 1309 0008 0CD04DE2 		sub	sp, sp, #12
 1310 000c 08000BE5 		str	r0, [fp, #-8]
 1311 0010 0C100BE5 		str	r1, [fp, #-12]
 497:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Empty function, return immediately. The FPU contents is not predictable */
 498:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1312              		.loc 1 498 1
 1313 0014 00F020E3 		nop
 1314 0018 00D08BE2 		add	sp, fp, #0
 1315              		.cfi_def_cfa_register 13
 1316              		@ sp needed
 1317 001c 04B09DE4 		ldr	fp, [sp], #4
 1318              		.cfi_restore 11
 1319              		.cfi_def_cfa_offset 0
 1320 0020 1EFF2FE1 		bx	lr
 1321              		.cfi_endproc
 1322              	.LFE19:
 1324              		.section	.text.__RME_Thd_Cop_Save,"ax",%progbits
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 33


 1325              		.align	2
 1326              		.global	__RME_Thd_Cop_Save
 1327              		.syntax unified
 1328              		.arm
 1330              	__RME_Thd_Cop_Save:
 1331              	.LFB20:
 499:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Reg_Init ***************************************/
 500:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 501:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Save ************************************************
 502:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the co-op register sets. This operation is flexible - If the
 503:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save its context.
 504:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 505:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 506:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 507:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 508:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 509:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Save(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 510:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1332              		.loc 1 510 1
 1333              		.cfi_startproc
 1334              		@ args = 0, pretend = 0, frame = 8
 1335              		@ frame_needed = 1, uses_anonymous_args = 0
 1336              		@ link register save eliminated.
 1337 0000 04B02DE5 		str	fp, [sp, #-4]!
 1338              		.cfi_def_cfa_offset 4
 1339              		.cfi_offset 11, -4
 1340 0004 00B08DE2 		add	fp, sp, #0
 1341              		.cfi_def_cfa_register 11
 1342 0008 0CD04DE2 		sub	sp, sp, #12
 1343 000c 08000BE5 		str	r0, [fp, #-8]
 1344 0010 0C100BE5 		str	r1, [fp, #-12]
 511:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 512:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1345              		.loc 1 512 1
 1346 0014 00F020E3 		nop
 1347 0018 00D08BE2 		add	sp, fp, #0
 1348              		.cfi_def_cfa_register 13
 1349              		@ sp needed
 1350 001c 04B09DE4 		ldr	fp, [sp], #4
 1351              		.cfi_restore 11
 1352              		.cfi_def_cfa_offset 0
 1353 0020 1EFF2FE1 		bx	lr
 1354              		.cfi_endproc
 1355              	.LFE20:
 1357              		.section	.text.__RME_Thd_Cop_Restore,"ax",%progbits
 1358              		.align	2
 1359              		.global	__RME_Thd_Cop_Restore
 1360              		.syntax unified
 1361              		.arm
 1363              	__RME_Thd_Cop_Restore:
 1364              	.LFB21:
 513:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Save *******************************************/
 514:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 515:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Restore *********************************************
 516:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the co-op register sets. This operation is flexible - If the
 517:../../Source/Platform/A7A/rme_platform_a7a.c ****               FPU is not used, we do not restore its context.
 518:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 34


 519:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 520:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 521:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 522:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 523:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Restore(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 524:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1365              		.loc 1 524 1
 1366              		.cfi_startproc
 1367              		@ args = 0, pretend = 0, frame = 8
 1368              		@ frame_needed = 1, uses_anonymous_args = 0
 1369              		@ link register save eliminated.
 1370 0000 04B02DE5 		str	fp, [sp, #-4]!
 1371              		.cfi_def_cfa_offset 4
 1372              		.cfi_offset 11, -4
 1373 0004 00B08DE2 		add	fp, sp, #0
 1374              		.cfi_def_cfa_register 11
 1375 0008 0CD04DE2 		sub	sp, sp, #12
 1376 000c 08000BE5 		str	r0, [fp, #-8]
 1377 0010 0C100BE5 		str	r1, [fp, #-12]
 525:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 526:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1378              		.loc 1 526 1
 1379 0014 00F020E3 		nop
 1380 0018 00D08BE2 		add	sp, fp, #0
 1381              		.cfi_def_cfa_register 13
 1382              		@ sp needed
 1383 001c 04B09DE4 		ldr	fp, [sp], #4
 1384              		.cfi_restore 11
 1385              		.cfi_def_cfa_offset 0
 1386 0020 1EFF2FE1 		bx	lr
 1387              		.cfi_endproc
 1388              	.LFE21:
 1390              		.section	.text.__RME_Inv_Reg_Save,"ax",%progbits
 1391              		.align	2
 1392              		.global	__RME_Inv_Reg_Save
 1393              		.syntax unified
 1394              		.arm
 1396              	__RME_Inv_Reg_Save:
 1397              	.LFB22:
 527:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Restore ****************************************/
 528:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 529:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Save ************************************************
 530:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the necessary registers on invocation for returning. Only the
 531:../../Source/Platform/A7A/rme_platform_a7a.c ****               registers that will influence program control flow will be saved.
 532:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 533:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Iret_Struct* Ret - The invocation return register context.
 534:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 535:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 536:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Save(struct RME_Iret_Struct* Ret, struct RME_Reg_Struct* Reg)
 537:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1398              		.loc 1 537 1
 1399              		.cfi_startproc
 1400              		@ args = 0, pretend = 0, frame = 8
 1401              		@ frame_needed = 1, uses_anonymous_args = 0
 1402              		@ link register save eliminated.
 1403 0000 04B02DE5 		str	fp, [sp, #-4]!
 1404              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 35


 1405              		.cfi_offset 11, -4
 1406 0004 00B08DE2 		add	fp, sp, #0
 1407              		.cfi_def_cfa_register 11
 1408 0008 0CD04DE2 		sub	sp, sp, #12
 1409 000c 08000BE5 		str	r0, [fp, #-8]
 1410 0010 0C100BE5 		str	r1, [fp, #-12]
 538:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->PC=Reg->PC;
 1411              		.loc 1 538 16
 1412 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1413 0018 3C2093E5 		ldr	r2, [r3, #60]
 1414              		.loc 1 538 12
 1415 001c 08301BE5 		ldr	r3, [fp, #-8]
 1416 0020 002083E5 		str	r2, [r3]
 539:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->SP=Reg->SP;
 1417              		.loc 1 539 16
 1418 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1419 0028 342093E5 		ldr	r2, [r3, #52]
 1420              		.loc 1 539 12
 1421 002c 08301BE5 		ldr	r3, [fp, #-8]
 1422 0030 042083E5 		str	r2, [r3, #4]
 540:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1423              		.loc 1 540 1
 1424 0034 00F020E3 		nop
 1425 0038 00D08BE2 		add	sp, fp, #0
 1426              		.cfi_def_cfa_register 13
 1427              		@ sp needed
 1428 003c 04B09DE4 		ldr	fp, [sp], #4
 1429              		.cfi_restore 11
 1430              		.cfi_def_cfa_offset 0
 1431 0040 1EFF2FE1 		bx	lr
 1432              		.cfi_endproc
 1433              	.LFE22:
 1435              		.section	.text.__RME_Inv_Reg_Restore,"ax",%progbits
 1436              		.align	2
 1437              		.global	__RME_Inv_Reg_Restore
 1438              		.syntax unified
 1439              		.arm
 1441              	__RME_Inv_Reg_Restore:
 1442              	.LFB23:
 541:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Save *******************************************/
 542:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 543:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Restore *********************************************
 544:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the necessary registers for returning from an invocation.
 545:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Iret_Struct* Ret - The invocation return register context.
 546:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 547:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 548:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 549:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Restore(struct RME_Reg_Struct* Reg, struct RME_Iret_Struct* Ret)
 550:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1443              		.loc 1 550 1
 1444              		.cfi_startproc
 1445              		@ args = 0, pretend = 0, frame = 8
 1446              		@ frame_needed = 1, uses_anonymous_args = 0
 1447              		@ link register save eliminated.
 1448 0000 04B02DE5 		str	fp, [sp, #-4]!
 1449              		.cfi_def_cfa_offset 4
 1450              		.cfi_offset 11, -4
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 36


 1451 0004 00B08DE2 		add	fp, sp, #0
 1452              		.cfi_def_cfa_register 11
 1453 0008 0CD04DE2 		sub	sp, sp, #12
 1454 000c 08000BE5 		str	r0, [fp, #-8]
 1455 0010 0C100BE5 		str	r1, [fp, #-12]
 551:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Ret->PC;
 1456              		.loc 1 551 16
 1457 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1458 0018 002093E5 		ldr	r2, [r3]
 1459              		.loc 1 551 12
 1460 001c 08301BE5 		ldr	r3, [fp, #-8]
 1461 0020 3C2083E5 		str	r2, [r3, #60]
 552:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Ret->SP;
 1462              		.loc 1 552 16
 1463 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1464 0028 042093E5 		ldr	r2, [r3, #4]
 1465              		.loc 1 552 12
 1466 002c 08301BE5 		ldr	r3, [fp, #-8]
 1467 0030 342083E5 		str	r2, [r3, #52]
 553:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1468              		.loc 1 553 1
 1469 0034 00F020E3 		nop
 1470 0038 00D08BE2 		add	sp, fp, #0
 1471              		.cfi_def_cfa_register 13
 1472              		@ sp needed
 1473 003c 04B09DE4 		ldr	fp, [sp], #4
 1474              		.cfi_restore 11
 1475              		.cfi_def_cfa_offset 0
 1476 0040 1EFF2FE1 		bx	lr
 1477              		.cfi_endproc
 1478              	.LFE23:
 1480              		.section	.text.__RME_Inv_Retval_Set,"ax",%progbits
 1481              		.align	2
 1482              		.global	__RME_Inv_Retval_Set
 1483              		.syntax unified
 1484              		.arm
 1486              	__RME_Inv_Retval_Set:
 1487              	.LFB24:
 554:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Restore ****************************************/
 555:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 556:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Retval_Set **********************************************
 557:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 558:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 559:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 560:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 561:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 562:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Retval_Set(struct RME_Reg_Struct* Reg,
 563:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ret_t Retval)
 564:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1488              		.loc 1 564 1
 1489              		.cfi_startproc
 1490              		@ args = 0, pretend = 0, frame = 8
 1491              		@ frame_needed = 1, uses_anonymous_args = 0
 1492              		@ link register save eliminated.
 1493 0000 04B02DE5 		str	fp, [sp, #-4]!
 1494              		.cfi_def_cfa_offset 4
 1495              		.cfi_offset 11, -4
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 37


 1496 0004 00B08DE2 		add	fp, sp, #0
 1497              		.cfi_def_cfa_register 11
 1498 0008 0CD04DE2 		sub	sp, sp, #12
 1499 000c 08000BE5 		str	r0, [fp, #-8]
 1500 0010 0C100BE5 		str	r1, [fp, #-12]
 565:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R5=(rme_ptr_t)Retval;
 1501              		.loc 1 565 13
 1502 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1503              		.loc 1 565 12
 1504 0018 08301BE5 		ldr	r3, [fp, #-8]
 1505 001c 182083E5 		str	r2, [r3, #24]
 566:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1506              		.loc 1 566 1
 1507 0020 00F020E3 		nop
 1508 0024 00D08BE2 		add	sp, fp, #0
 1509              		.cfi_def_cfa_register 13
 1510              		@ sp needed
 1511 0028 04B09DE4 		ldr	fp, [sp], #4
 1512              		.cfi_restore 11
 1513              		.cfi_def_cfa_offset 0
 1514 002c 1EFF2FE1 		bx	lr
 1515              		.cfi_endproc
 1516              	.LFE24:
 1518              		.section	.text.__RME_Set_Inv_Retval,"ax",%progbits
 1519              		.align	2
 1520              		.global	__RME_Set_Inv_Retval
 1521              		.syntax unified
 1522              		.arm
 1524              	__RME_Set_Inv_Retval:
 1525              	.LFB25:
 567:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Retval_Set *****************************************/
 568:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 569:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Inv_Retval **********************************************
 570:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 571:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 572:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 573:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 574:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 575:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Set_Inv_Retval(struct RME_Reg_Struct* Reg, rme_ret_t Retval)
 576:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1526              		.loc 1 576 1
 1527              		.cfi_startproc
 1528              		@ args = 0, pretend = 0, frame = 8
 1529              		@ frame_needed = 1, uses_anonymous_args = 0
 1530              		@ link register save eliminated.
 1531 0000 04B02DE5 		str	fp, [sp, #-4]!
 1532              		.cfi_def_cfa_offset 4
 1533              		.cfi_offset 11, -4
 1534 0004 00B08DE2 		add	fp, sp, #0
 1535              		.cfi_def_cfa_register 11
 1536 0008 0CD04DE2 		sub	sp, sp, #12
 1537 000c 08000BE5 		str	r0, [fp, #-8]
 1538 0010 0C100BE5 		str	r1, [fp, #-12]
 577:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R1=(rme_ptr_t)Retval;
 1539              		.loc 1 577 13
 1540 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1541              		.loc 1 577 12
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 38


 1542 0018 08301BE5 		ldr	r3, [fp, #-8]
 1543 001c 082083E5 		str	r2, [r3, #8]
 578:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1544              		.loc 1 578 1
 1545 0020 00F020E3 		nop
 1546 0024 00D08BE2 		add	sp, fp, #0
 1547              		.cfi_def_cfa_register 13
 1548              		@ sp needed
 1549 0028 04B09DE4 		ldr	fp, [sp], #4
 1550              		.cfi_restore 11
 1551              		.cfi_def_cfa_offset 0
 1552 002c 1EFF2FE1 		bx	lr
 1553              		.cfi_endproc
 1554              	.LFE25:
 1556              		.section	.text.__RME_Thd_Cop_Swap,"ax",%progbits
 1557              		.align	2
 1558              		.global	__RME_Thd_Cop_Swap
 1559              		.syntax unified
 1560              		.arm
 1562              	__RME_Thd_Cop_Swap:
 1563              	.LFB26:
 579:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Inv_Retval *****************************************/
 580:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 581:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Swap ************************************************
 582:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Swap the cop register sets. This operation is flexible - If the
 583:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save/restore its context.
 584:../../Source/Platform/A7A/rme_platform_a7a.c ****               We do not need to turn off lazy stacking, because even if a fault
 585:../../Source/Platform/A7A/rme_platform_a7a.c ****               occurs, it (1) tails the execution of activates the will get dropped
 586:../../Source/Platform/A7A/rme_platform_a7a.c ****               by our handler deliberately and will not cause wrong attribution.
 587:../../Source/Platform/A7A/rme_platform_a7a.c ****               They can be alternatively disabled as well if you wish.
 588:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Attr_New - The attribute of the context to switch to.
 589:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_New - Whether the context to switch to is a
 590:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 591:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_New - The context to switch to.
 592:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Attr_Cur - The attribute of the context to switch from.
 593:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_Cur - Whether the context to switch from is a
 594:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 595:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_Cur - The context to switch from.
 596:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : void* Cop_New - The coprocessor context to switch to.
 597:../../Source/Platform/A7A/rme_platform_a7a.c ****               void* Cop_Cur - The coprocessor context to switch from.
 598:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 599:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 600:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Swap(rme_ptr_t Attr_New,
 601:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_New,
 602:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_New,
 603:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_New,
 604:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Attr_Cur,
 605:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_Cur,
 606:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_Cur,
 607:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_Cur)
 608:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1564              		.loc 1 608 1
 1565              		.cfi_startproc
 1566              		@ args = 16, pretend = 0, frame = 16
 1567              		@ frame_needed = 1, uses_anonymous_args = 0
 1568              		@ link register save eliminated.
 1569 0000 04B02DE5 		str	fp, [sp, #-4]!
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 39


 1570              		.cfi_def_cfa_offset 4
 1571              		.cfi_offset 11, -4
 1572 0004 00B08DE2 		add	fp, sp, #0
 1573              		.cfi_def_cfa_register 11
 1574 0008 14D04DE2 		sub	sp, sp, #20
 1575 000c 08000BE5 		str	r0, [fp, #-8]
 1576 0010 0C100BE5 		str	r1, [fp, #-12]
 1577 0014 10200BE5 		str	r2, [fp, #-16]
 1578 0018 14300BE5 		str	r3, [fp, #-20]
 609:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 610:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1579              		.loc 1 610 1
 1580 001c 00F020E3 		nop
 1581 0020 00D08BE2 		add	sp, fp, #0
 1582              		.cfi_def_cfa_register 13
 1583              		@ sp needed
 1584 0024 04B09DE4 		ldr	fp, [sp], #4
 1585              		.cfi_restore 11
 1586              		.cfi_def_cfa_offset 0
 1587 0028 1EFF2FE1 		bx	lr
 1588              		.cfi_endproc
 1589              	.LFE26:
 1591              		.section	.text.__RME_Kfn_Handler,"ax",%progbits
 1592              		.align	2
 1593              		.global	__RME_Kfn_Handler
 1594              		.syntax unified
 1595              		.arm
 1597              	__RME_Kfn_Handler:
 1598              	.LFB27:
 611:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Swap *******************************************/
 612:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 613:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Kern_Func_Handler *******************************************
 614:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Handle kernel function calls.
 615:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The current register set.
 616:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Func_ID - The function ID.
 617:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Sub_ID - The sub function ID.
 618:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param1 - The first parameter.
 619:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param2 - The second parameter.
 620:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 621:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - The value that the function returned.
 622:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 623:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Kfn_Handler(struct RME_Cap_Cpt* Cpt,
 624:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            struct RME_Reg_Struct* Reg,
 625:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Func_ID,
 626:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Sub_ID,
 627:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param1,
 628:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param2)
 629:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1599              		.loc 1 629 1
 1600              		.cfi_startproc
 1601              		@ args = 8, pretend = 0, frame = 16
 1602              		@ frame_needed = 1, uses_anonymous_args = 0
 1603              		@ link register save eliminated.
 1604 0000 04B02DE5 		str	fp, [sp, #-4]!
 1605              		.cfi_def_cfa_offset 4
 1606              		.cfi_offset 11, -4
 1607 0004 00B08DE2 		add	fp, sp, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 40


 1608              		.cfi_def_cfa_register 11
 1609 0008 14D04DE2 		sub	sp, sp, #20
 1610 000c 08000BE5 		str	r0, [fp, #-8]
 1611 0010 0C100BE5 		str	r1, [fp, #-12]
 1612 0014 10200BE5 		str	r2, [fp, #-16]
 1613 0018 14300BE5 		str	r3, [fp, #-20]
 630:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Currently no kernel function implemented */
 631:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 1614              		.loc 1 631 12
 1615 001c 0030A0E3 		mov	r3, #0
 632:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1616              		.loc 1 632 1
 1617 0020 0300A0E1 		mov	r0, r3
 1618 0024 00D08BE2 		add	sp, fp, #0
 1619              		.cfi_def_cfa_register 13
 1620              		@ sp needed
 1621 0028 04B09DE4 		ldr	fp, [sp], #4
 1622              		.cfi_restore 11
 1623              		.cfi_def_cfa_offset 0
 1624 002c 1EFF2FE1 		bx	lr
 1625              		.cfi_endproc
 1626              	.LFE27:
 1628              		.section	.text.__RME_A7A_Undefined_Handler,"ax",%progbits
 1629              		.align	2
 1630              		.global	__RME_A7A_Undefined_Handler
 1631              		.syntax unified
 1632              		.arm
 1634              	__RME_A7A_Undefined_Handler:
 1635              	.LFB28:
 633:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Kern_Func_Handler **************************************/
 634:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 635:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Undefined_Handler **************************************
 636:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The undefined instruction vector handler of RME.
 637:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 639:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 640:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 641:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Undefined_Handler(struct RME_Reg_Struct* Reg)
 642:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1636              		.loc 1 642 1
 1637              		.cfi_startproc
 1638              		@ args = 0, pretend = 0, frame = 8
 1639              		@ frame_needed = 1, uses_anonymous_args = 0
 1640              		@ link register save eliminated.
 1641 0000 04B02DE5 		str	fp, [sp, #-4]!
 1642              		.cfi_def_cfa_offset 4
 1643              		.cfi_offset 11, -4
 1644 0004 00B08DE2 		add	fp, sp, #0
 1645              		.cfi_def_cfa_register 11
 1646 0008 0CD04DE2 		sub	sp, sp, #12
 1647 000c 08000BE5 		str	r0, [fp, #-8]
 1648              	.L45:
 643:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle undefined instructions now */
 644:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1649              		.loc 1 644 7 discriminator 1
 1650 0010 FEFFFFEA 		b	.L45
 1651              		.cfi_endproc
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 41


 1652              	.LFE28:
 1654              		.section	.text.__RME_A7A_Prefetch_Abort_Handler,"ax",%progbits
 1655              		.align	2
 1656              		.global	__RME_A7A_Prefetch_Abort_Handler
 1657              		.syntax unified
 1658              		.arm
 1660              	__RME_A7A_Prefetch_Abort_Handler:
 1661              	.LFB29:
 645:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 646:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Undefined_Handler *********************************/
 647:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 648:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Prefetch_Abort_Handler *********************************
 649:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The prefetch abort vector handler of RME.
 650:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 651:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 652:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 653:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 654:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Prefetch_Abort_Handler(struct RME_Reg_Struct* Reg)
 655:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1662              		.loc 1 655 1
 1663              		.cfi_startproc
 1664              		@ args = 0, pretend = 0, frame = 8
 1665              		@ frame_needed = 1, uses_anonymous_args = 0
 1666              		@ link register save eliminated.
 1667 0000 04B02DE5 		str	fp, [sp, #-4]!
 1668              		.cfi_def_cfa_offset 4
 1669              		.cfi_offset 11, -4
 1670 0004 00B08DE2 		add	fp, sp, #0
 1671              		.cfi_def_cfa_register 11
 1672 0008 0CD04DE2 		sub	sp, sp, #12
 1673 000c 08000BE5 		str	r0, [fp, #-8]
 1674              	.L47:
 656:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle prefetch aborts now */
 657:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1675              		.loc 1 657 7 discriminator 1
 1676 0010 FEFFFFEA 		b	.L47
 1677              		.cfi_endproc
 1678              	.LFE29:
 1680              		.section	.text.__RME_A7A_Data_Abort_Handler,"ax",%progbits
 1681              		.align	2
 1682              		.global	__RME_A7A_Data_Abort_Handler
 1683              		.syntax unified
 1684              		.arm
 1686              	__RME_A7A_Data_Abort_Handler:
 1687              	.LFB30:
 658:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 659:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Prefetch_Abort_Handler ****************************/
 660:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 661:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Data_Abort_Handler *************************************
 662:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The data abort vector handler of RME.
 663:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 665:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 666:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 667:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Data_Abort_Handler(struct RME_Reg_Struct* Reg)
 668:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1688              		.loc 1 668 1
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 42


 1689              		.cfi_startproc
 1690              		@ args = 0, pretend = 0, frame = 8
 1691              		@ frame_needed = 1, uses_anonymous_args = 0
 1692              		@ link register save eliminated.
 1693 0000 04B02DE5 		str	fp, [sp, #-4]!
 1694              		.cfi_def_cfa_offset 4
 1695              		.cfi_offset 11, -4
 1696 0004 00B08DE2 		add	fp, sp, #0
 1697              		.cfi_def_cfa_register 11
 1698 0008 0CD04DE2 		sub	sp, sp, #12
 1699 000c 08000BE5 		str	r0, [fp, #-8]
 1700              	.L49:
 669:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle data aborts now */
 670:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1701              		.loc 1 670 7 discriminator 1
 1702 0010 FEFFFFEA 		b	.L49
 1703              		.cfi_endproc
 1704              	.LFE30:
 1706              		.section	.rodata
 1707 00ff 00       		.align	2
 1708              	.LC10:
 1709 0100 0D0A494E 		.ascii	"\015\012INT_ID is \000"
 1709      545F4944 
 1709      20697320 
 1709      00
 1710 010d 000000   		.align	2
 1711              	.LC11:
 1712 0110 30303A34 		.ascii	"00:46:18\000"
 1712      363A3138 
 1712      00
 1713 0119 000000   		.align	2
 1714              	.LC12:
 1715 011c 46656220 		.ascii	"Feb 27 2025\000"
 1715      32372032 
 1715      30323500 
 1716              		.align	2
 1717              	.LC13:
 1718 0128 2E2E2F2E 		.ascii	"../../Source/Platform/A7A/rme_platform_a7a.c\000"
 1718      2E2F536F 
 1718      75726365 
 1718      2F506C61 
 1718      74666F72 
 1719              		.section	.text.__RME_A7A_IRQ_Handler,"ax",%progbits
 1720              		.align	2
 1721              		.global	__RME_A7A_IRQ_Handler
 1722              		.syntax unified
 1723              		.arm
 1725              	__RME_A7A_IRQ_Handler:
 1726              	.LFB31:
 671:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 672:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Data_Abort_Handler ********************************/
 673:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 674:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_IRQ_Handler ********************************************
 675:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The regular interrupt vector handler of RME.
 676:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 677:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 43


 679:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 680:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_IRQ_Handler(struct RME_Reg_Struct* Reg)
 681:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1727              		.loc 1 681 1
 1728              		.cfi_startproc
 1729              		@ args = 0, pretend = 0, frame = 16
 1730              		@ frame_needed = 1, uses_anonymous_args = 0
 1731 0000 00482DE9 		push	{fp, lr}
 1732              		.cfi_def_cfa_offset 8
 1733              		.cfi_offset 11, -8
 1734              		.cfi_offset 14, -4
 1735 0004 04B08DE2 		add	fp, sp, #4
 1736              		.cfi_def_cfa 11, 4
 1737 0008 10D04DE2 		sub	sp, sp, #16
 1738 000c 10000BE5 		str	r0, [fp, #-16]
 682:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t Int_ID;
 683:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t CPUID;
 684:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 685:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* What interrupt is this? */
 686:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID=RME_A7A_GICC_IAR;
 1739              		.loc 1 686 9
 1740 0010 433FA0E3 		mov	r3, #268
 1741 0014 F0384FE3 		movt	r3, 63728
 1742              		.loc 1 686 8
 1743 0018 003093E5 		ldr	r3, [r3]
 1744 001c 08300BE5 		str	r3, [fp, #-8]
 687:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 1745              		.loc 1 687 7
 1746 0020 08301BE5 		ldr	r3, [fp, #-8]
 1747 0024 2335A0E1 		lsr	r3, r3, #10
 1748 0028 0C300BE5 		str	r3, [fp, #-12]
 688:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID&=0x3FFU;
 1749              		.loc 1 688 8
 1750 002c 08301BE5 		ldr	r3, [fp, #-8]
 1751 0030 5330E9E7 		ubfx	r3, r3, #0, #10
 1752 0034 08300BE5 		str	r3, [fp, #-8]
 689:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nINT_ID is ");
 1753              		.loc 1 689 5
 1754 0038 000000E3 		movw	r0, #:lower16:.LC10
 1755 003c 000040E3 		movt	r0, #:upper16:.LC10
 1756 0040 FEFFFFEB 		bl	RME_Str_Print
 690:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Int_ID);
 1757              		.loc 1 690 2
 1758 0044 08001BE5 		ldr	r0, [fp, #-8]
 1759 0048 FEFFFFEB 		bl	RME_Hex_Print
 691:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 693:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a spurious interrupt? (Can't be 1022 because GICv1 don't have group1) */
 694:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(Int_ID!=1022);
 1760              		.loc 1 694 2
 1761 004c 08301BE5 		ldr	r3, [fp, #-8]
 1762 0050 FE2300E3 		movw	r2, #1022
 1763 0054 020053E1 		cmp	r3, r2
 1764 0058 0800001A 		bne	.L51
 1765              		.loc 1 694 2 is_stmt 0 discriminator 1
 1766 005c 003000E3 		movw	r3, #:lower16:.LC11
 1767 0060 003040E3 		movt	r3, #:upper16:.LC11
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 44


 1768 0064 002000E3 		movw	r2, #:lower16:.LC12
 1769 0068 002040E3 		movt	r2, #:upper16:.LC12
 1770 006c B61200E3 		movw	r1, #694
 1771 0070 000000E3 		movw	r0, #:lower16:.LC13
 1772 0074 000040E3 		movt	r0, #:upper16:.LC13
 1773 0078 FEFFFFEB 		bl	RME_Log
 1774              	.L52:
 1775 007c FEFFFFEA 		b	.L52
 1776              	.L51:
 695:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1777              		.loc 1 695 4 is_stmt 1
 1778 0080 08301BE5 		ldr	r3, [fp, #-8]
 1779 0084 FF2300E3 		movw	r2, #1023
 1780 0088 020053E1 		cmp	r3, r2
 1781 008c 3D00000A 		beq	.L61
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 697:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 698:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 699:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 700:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is is an timer interrupt? (we know that it is at 29) */
 701:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==29)
 1782              		.loc 1 701 4
 1783 0090 08301BE5 		ldr	r3, [fp, #-8]
 1784 0094 1D0053E3 		cmp	r3, #29
 1785 0098 0B00001A 		bne	.L55
 702:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 703:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Clear the interrupt flag */
 704:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    RME_A7A_PTWD_PTISR=0;
 1786              		.loc 1 704 6
 1787 009c 0C3600E3 		movw	r3, #1548
 1788 00a0 F0384FE3 		movt	r3, 63728
 1789              		.loc 1 704 24
 1790 00a4 0020A0E3 		mov	r2, #0
 1791 00a8 002083E5 		str	r2, [r3]
 705:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 706:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    _RME_Tim_Handler(Reg,1);
 1792              		.loc 1 706 6
 1793 00ac 0110A0E3 		mov	r1, #1
 1794 00b0 10001BE5 		ldr	r0, [fp, #-16]
 1795 00b4 FEFFFFEB 		bl	_RME_Tim_Handler
 707:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Send interrupt to all other processors to notify them about this */
 708:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 709:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 1796              		.loc 1 709 3
 1797 00b8 113EA0E3 		mov	r3, #272
 1798 00bc F0384FE3 		movt	r3, 63728
 1799              		.loc 1 709 20
 1800 00c0 08201BE5 		ldr	r2, [fp, #-8]
 1801 00c4 002083E5 		str	r2, [r3]
 710:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1802              		.loc 1 710 3
 1803 00c8 2F0000EA 		b	.L50
 1804              	.L55:
 711:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 712:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 713:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 714:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 45


 715:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 716:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 717:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 718:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 719:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a coprocessor timer interrupt? (We use interrupt number 0 for these) */
 720:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==0)
 1805              		.loc 1 720 4
 1806 00cc 08301BE5 		ldr	r3, [fp, #-8]
 1807 00d0 000053E3 		cmp	r3, #0
 1808 00d4 1000001A 		bne	.L56
 721:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 722:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* This must have originated from interface 0 */
 723:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(CPUID==0);
 1809              		.loc 1 723 3
 1810 00d8 0C301BE5 		ldr	r3, [fp, #-12]
 1811 00dc 000053E3 		cmp	r3, #0
 1812 00e0 0800000A 		beq	.L57
 1813              		.loc 1 723 3 is_stmt 0 discriminator 1
 1814 00e4 003000E3 		movw	r3, #:lower16:.LC11
 1815 00e8 003040E3 		movt	r3, #:upper16:.LC11
 1816 00ec 002000E3 		movw	r2, #:lower16:.LC12
 1817 00f0 002040E3 		movt	r2, #:upper16:.LC12
 1818 00f4 D31200E3 		movw	r1, #723
 1819 00f8 000000E3 		movw	r0, #:lower16:.LC13
 1820 00fc 000040E3 		movt	r0, #:upper16:.LC13
 1821 0100 FEFFFFEB 		bl	RME_Log
 1822              	.L58:
 1823              		.loc 1 723 3 discriminator 2
 1824 0104 FEFFFFEA 		b	.L58
 1825              	.L57:
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 725:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 726:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 1826              		.loc 1 726 3 is_stmt 1
 1827 0108 113EA0E3 		mov	r3, #272
 1828 010c F0384FE3 		movt	r3, 63728
 1829              		.loc 1 726 20
 1830 0110 08201BE5 		ldr	r2, [fp, #-8]
 1831 0114 002083E5 		str	r2, [r3]
 727:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1832              		.loc 1 727 3
 1833 0118 1B0000EA 		b	.L50
 1834              	.L56:
 728:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 729:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 730:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an other IPI? (All the rest of the SGIs are these) */
 731:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID<16)
 1835              		.loc 1 731 4
 1836 011c 08301BE5 		ldr	r3, [fp, #-8]
 1837 0120 0F0053E3 		cmp	r3, #15
 1838 0124 0B00008A 		bhi	.L59
 732:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 733:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_A7A_SGI_Handler(Reg,CPUID,Int_ID);
 1839              		.loc 1 733 3
 1840 0128 08201BE5 		ldr	r2, [fp, #-8]
 1841 012c 0C101BE5 		ldr	r1, [fp, #-12]
 1842 0130 10001BE5 		ldr	r0, [fp, #-16]
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 46


 1843 0134 FEFFFFEB 		bl	_RME_A7A_SGI_Handler
 734:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 735:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=(CPUID<<10U)|Int_ID;
 1844              		.loc 1 735 27
 1845 0138 0C301BE5 		ldr	r3, [fp, #-12]
 1846 013c 0315A0E1 		lsl	r1, r3, #10
 1847              		.loc 1 735 3
 1848 0140 113EA0E3 		mov	r3, #272
 1849 0144 F0384FE3 		movt	r3, 63728
 1850              		.loc 1 735 33
 1851 0148 08201BE5 		ldr	r2, [fp, #-8]
 1852 014c 022081E1 		orr	r2, r1, r2
 1853              		.loc 1 735 20
 1854 0150 002083E5 		str	r2, [r3]
 736:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1855              		.loc 1 736 3
 1856 0154 0C0000EA 		b	.L50
 1857              	.L59:
 737:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 738:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 739:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an casual interrupt? */
 740:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(CPUID==0);
 1858              		.loc 1 740 2
 1859 0158 0C301BE5 		ldr	r3, [fp, #-12]
 1860 015c 000053E3 		cmp	r3, #0
 1861 0160 0900000A 		beq	.L50
 1862              		.loc 1 740 2 is_stmt 0 discriminator 1
 1863 0164 003000E3 		movw	r3, #:lower16:.LC11
 1864 0168 003040E3 		movt	r3, #:upper16:.LC11
 1865 016c 002000E3 		movw	r2, #:lower16:.LC12
 1866 0170 002040E3 		movt	r2, #:upper16:.LC12
 1867 0174 B91FA0E3 		mov	r1, #740
 1868 0178 000000E3 		movw	r0, #:lower16:.LC13
 1869 017c 000040E3 		movt	r0, #:upper16:.LC13
 1870 0180 FEFFFFEB 		bl	RME_Log
 1871              	.L60:
 1872              		.loc 1 740 2 discriminator 3
 1873 0184 FEFFFFEA 		b	.L60
 1874              	.L61:
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 1875              		.loc 1 696 3 is_stmt 1
 1876 0188 00F020E3 		nop
 1877              	.L50:
 741:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 742:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1878              		.loc 1 742 1
 1879 018c 04D04BE2 		sub	sp, fp, #4
 1880              		.cfi_def_cfa 13, 8
 1881              		@ sp needed
 1882 0190 0088BDE8 		pop	{fp, pc}
 1883              		.cfi_endproc
 1884              	.LFE31:
 1886              		.section	.text._RME_A7A_SGI_Handler,"ax",%progbits
 1887              		.align	2
 1888              		.global	_RME_A7A_SGI_Handler
 1889              		.syntax unified
 1890              		.arm
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 47


 1892              	_RME_A7A_SGI_Handler:
 1893              	.LFB32:
 743:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_IRQ_Handler ***************************************/
 744:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 745:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:_RME_A7A_SGI_Handler *********************************************
 746:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for x64.
 747:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 748:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t CPUID - The ID of the sender CPU.
 749:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_ID - The ID of the SGI.
 750:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 751:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 752:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 753:../../Source/Platform/A7A/rme_platform_a7a.c **** void _RME_A7A_SGI_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t CPUID, rme_ptr_t Int_ID)
 754:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1894              		.loc 1 754 1
 1895              		.cfi_startproc
 1896              		@ args = 0, pretend = 0, frame = 16
 1897              		@ frame_needed = 1, uses_anonymous_args = 0
 1898              		@ link register save eliminated.
 1899 0000 04B02DE5 		str	fp, [sp, #-4]!
 1900              		.cfi_def_cfa_offset 4
 1901              		.cfi_offset 11, -4
 1902 0004 00B08DE2 		add	fp, sp, #0
 1903              		.cfi_def_cfa_register 11
 1904 0008 14D04DE2 		sub	sp, sp, #20
 1905 000c 08000BE5 		str	r0, [fp, #-8]
 1906 0010 0C100BE5 		str	r1, [fp, #-12]
 1907 0014 10200BE5 		str	r2, [fp, #-16]
 755:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Not handling SGIs */
 756:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return;
 1908              		.loc 1 756 2
 1909 0018 00F020E3 		nop
 757:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1910              		.loc 1 757 1
 1911 001c 00D08BE2 		add	sp, fp, #0
 1912              		.cfi_def_cfa_register 13
 1913              		@ sp needed
 1914 0020 04B09DE4 		ldr	fp, [sp], #4
 1915              		.cfi_restore 11
 1916              		.cfi_def_cfa_offset 0
 1917 0024 1EFF2FE1 		bx	lr
 1918              		.cfi_endproc
 1919              	.LFE32:
 1921              		.section	.rodata
 1922 0155 000000   		.align	2
 1923              	.LC14:
 1924 0158 0D0A4765 		.ascii	"\015\012General int:\000"
 1924      6E657261 
 1924      6C20696E 
 1924      743A00
 1925              		.section	.text.__RME_A7A_Generic_Handler,"ax",%progbits
 1926              		.align	2
 1927              		.global	__RME_A7A_Generic_Handler
 1928              		.syntax unified
 1929              		.arm
 1931              	__RME_A7A_Generic_Handler:
 1932              	.LFB33:
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 48


 758:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:_RME_A7A_SGI_Handler ****************************************/
 759:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 760:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Generic_Handler ****************************************
 761:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for Cortex-A (ARMv7).
 762:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 763:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_Num - The interrupt number.
 764:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 765:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 766:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 767:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Generic_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t Int_Num)
 768:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1933              		.loc 1 768 1
 1934              		.cfi_startproc
 1935              		@ args = 0, pretend = 0, frame = 8
 1936              		@ frame_needed = 1, uses_anonymous_args = 0
 1937 0000 00482DE9 		push	{fp, lr}
 1938              		.cfi_def_cfa_offset 8
 1939              		.cfi_offset 11, -8
 1940              		.cfi_offset 14, -4
 1941 0004 04B08DE2 		add	fp, sp, #4
 1942              		.cfi_def_cfa 11, 4
 1943 0008 08D04DE2 		sub	sp, sp, #8
 1944 000c 08000BE5 		str	r0, [fp, #-8]
 1945 0010 0C100BE5 		str	r1, [fp, #-12]
 769:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 770:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nGeneral int:");
 1946              		.loc 1 770 5
 1947 0014 000000E3 		movw	r0, #:lower16:.LC14
 1948 0018 000040E3 		movt	r0, #:upper16:.LC14
 1949 001c FEFFFFEB 		bl	RME_Str_Print
 771:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 1950              		.loc 1 771 5
 1951 0020 0C301BE5 		ldr	r3, [fp, #-12]
 1952 0024 0300A0E1 		mov	r0, r3
 1953 0028 FEFFFFEB 		bl	RME_Int_Print
 772:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 773:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling anything */
 774:../../Source/Platform/A7A/rme_platform_a7a.c ****     switch(Int_Num)
 775:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 776:../../Source/Platform/A7A/rme_platform_a7a.c ****         default:break;
 1954              		.loc 1 776 9
 1955 002c 00F020E3 		nop
 777:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 778:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Remember to perform context switch after any kernel sends */
 779:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1956              		.loc 1 779 1
 1957 0030 00F020E3 		nop
 1958 0034 04D04BE2 		sub	sp, fp, #4
 1959              		.cfi_def_cfa 13, 8
 1960              		@ sp needed
 1961 0038 0088BDE8 		pop	{fp, pc}
 1962              		.cfi_endproc
 1963              	.LFE33:
 1965              		.section	.text.__RME_Pgt_Set,"ax",%progbits
 1966              		.align	2
 1967              		.global	__RME_Pgt_Set
 1968              		.syntax unified
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 49


 1969              		.arm
 1971              	__RME_Pgt_Set:
 1972              	.LFB34:
 780:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Generic_Handler ***********************************/
 781:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 782:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Set ***************************************************
 783:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the processor's page table.
 784:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Pgt - The virtual address of the page table.
 785:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 786:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 787:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 788:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Pgt_Set(rme_ptr_t Pgt)
 789:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1973              		.loc 1 789 1
 1974              		.cfi_startproc
 1975              		@ args = 0, pretend = 0, frame = 8
 1976              		@ frame_needed = 1, uses_anonymous_args = 0
 1977              		@ link register save eliminated.
 1978 0000 04B02DE5 		str	fp, [sp, #-4]!
 1979              		.cfi_def_cfa_offset 4
 1980              		.cfi_offset 11, -4
 1981 0004 00B08DE2 		add	fp, sp, #0
 1982              		.cfi_def_cfa_register 11
 1983 0008 0CD04DE2 		sub	sp, sp, #12
 1984 000c 08000BE5 		str	r0, [fp, #-8]
 790:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 791:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1985              		.loc 1 791 1
 1986 0010 00F020E3 		nop
 1987 0014 00D08BE2 		add	sp, fp, #0
 1988              		.cfi_def_cfa_register 13
 1989              		@ sp needed
 1990 0018 04B09DE4 		ldr	fp, [sp], #4
 1991              		.cfi_restore 11
 1992              		.cfi_def_cfa_offset 0
 1993 001c 1EFF2FE1 		bx	lr
 1994              		.cfi_endproc
 1995              	.LFE34:
 1997              		.section	.text.__RME_Pgt_Check,"ax",%progbits
 1998              		.align	2
 1999              		.global	__RME_Pgt_Check
 2000              		.syntax unified
 2001              		.arm
 2003              	__RME_Pgt_Check:
 2004              	.LFB35:
 792:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Set **********************************************/
 793:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 794:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Check *************************************************
 795:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table parameters are feasible, according to the
 796:../../Source/Platform/A7A/rme_platform_a7a.c ****               parameters. This is only used in page table creation. The following
 797:../../Source/Platform/A7A/rme_platform_a7a.c ****               restrictions apply:
 798:../../Source/Platform/A7A/rme_platform_a7a.c **** 1. PAE is not supported by this port: if you have that much memory, use the Cortex-A
 799:../../Source/Platform/A7A/rme_platform_a7a.c ****    64-bit port instead. The translation scheme here is always:
 800:../../Source/Platform/A7A/rme_platform_a7a.c ****    4GB VA -> {Supersection, Section} -> {Large Page, Small Page}.
 801:../../Source/Platform/A7A/rme_platform_a7a.c ****    The supersection is described in ARMv7-AR ARM as optional, but is implemented on
 802:../../Source/Platform/A7A/rme_platform_a7a.c ****    all known ARMv7-A processors.
 803:../../Source/Platform/A7A/rme_platform_a7a.c ****    We only user TTBR0 here and we set value N to 0 as always. Using TTBR1 is nonsense
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 50


 804:../../Source/Platform/A7A/rme_platform_a7a.c ****    in our context, as it gives little benefit.
 805:../../Source/Platform/A7A/rme_platform_a7a.c **** 2. The ARM page tables have idiosyncrasy that allow two page size mappings to exist
 806:../../Source/Platform/A7A/rme_platform_a7a.c ****    in the same page table.
 807:../../Source/Platform/A7A/rme_platform_a7a.c **** 3. ARM page tables use repetition when it comes to supersections and large pages.
 808:../../Source/Platform/A7A/rme_platform_a7a.c ****    This breaks our numorder-sizeorder assumption, and for this reason, we do not
 809:../../Source/Platform/A7A/rme_platform_a7a.c ****    support these two page sizes explicitly. These two sizes are supported by kernel
 810:../../Source/Platform/A7A/rme_platform_a7a.c ****    functions instead, and the kernel function always maps/unmaps the pages as needed
 811:../../Source/Platform/A7A/rme_platform_a7a.c ****    without checking for any permissions; this can be viewed as a hack, and require
 812:../../Source/Platform/A7A/rme_platform_a7a.c ****    some caution when we are mapping pages in.
 813:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Start_Addr - The start mapping address.
 814:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Top - The top-level flag,
 815:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Size_Order - The size order of the page directory.
 816:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Num_Order - The number order of the page directory.
 817:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address of the page directory.
 818:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 819:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 820:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 821:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Check(rme_ptr_t Start_Addr, rme_ptr_t Is_Top,
 822:../../Source/Platform/A7A/rme_platform_a7a.c ****                             rme_ptr_t Size_Order, rme_ptr_t Num_Order, rme_ptr_t Vaddr)
 823:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2005              		.loc 1 823 1
 2006              		.cfi_startproc
 2007              		@ args = 4, pretend = 0, frame = 16
 2008              		@ frame_needed = 1, uses_anonymous_args = 0
 2009              		@ link register save eliminated.
 2010 0000 04B02DE5 		str	fp, [sp, #-4]!
 2011              		.cfi_def_cfa_offset 4
 2012              		.cfi_offset 11, -4
 2013 0004 00B08DE2 		add	fp, sp, #0
 2014              		.cfi_def_cfa_register 11
 2015 0008 14D04DE2 		sub	sp, sp, #20
 2016 000c 08000BE5 		str	r0, [fp, #-8]
 2017 0010 0C100BE5 		str	r1, [fp, #-12]
 2018 0014 10200BE5 		str	r2, [fp, #-16]
 2019 0018 14300BE5 		str	r3, [fp, #-20]
 824:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Top-level - 1MB pages, 4096 entries, 16kB alignment */
 825:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Is_Top!=0)
 2020              		.loc 1 825 7
 2021 001c 0C301BE5 		ldr	r3, [fp, #-12]
 2022 0020 000053E3 		cmp	r3, #0
 2023 0024 0F00000A 		beq	.L67
 826:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 827:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_1M)
 2024              		.loc 1 827 11
 2025 0028 10301BE5 		ldr	r3, [fp, #-16]
 2026 002c 140053E3 		cmp	r3, #20
 2027 0030 0100000A 		beq	.L68
 828:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2028              		.loc 1 828 20
 2029 0034 0030E0E3 		mvn	r3, #0
 2030 0038 1B0000EA 		b	.L69
 2031              	.L68:
 829:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_4K)
 2032              		.loc 1 829 11
 2033 003c 14301BE5 		ldr	r3, [fp, #-20]
 2034 0040 0C0053E3 		cmp	r3, #12
 2035 0044 0100000A 		beq	.L70
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 51


 830:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2036              		.loc 1 830 20
 2037 0048 0030E0E3 		mvn	r3, #0
 2038 004c 160000EA 		b	.L69
 2039              	.L70:
 831:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 2040              		.loc 1 831 18
 2041 0050 04309BE5 		ldr	r3, [fp, #4]
 2042 0054 5330EDE7 		ubfx	r3, r3, #0, #14
 2043              		.loc 1 831 11
 2044 0058 000053E3 		cmp	r3, #0
 2045 005c 1100000A 		beq	.L71
 832:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2046              		.loc 1 832 20
 2047 0060 0030E0E3 		mvn	r3, #0
 2048 0064 100000EA 		b	.L69
 2049              	.L67:
 833:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 834:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Second-level - 1MB pages, 4096 entries, 16kB alignment */
 835:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 836:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 837:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_64K)
 2050              		.loc 1 837 11
 2051 0068 10301BE5 		ldr	r3, [fp, #-16]
 2052 006c 100053E3 		cmp	r3, #16
 2053 0070 0100000A 		beq	.L72
 838:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2054              		.loc 1 838 20
 2055 0074 0030E0E3 		mvn	r3, #0
 2056 0078 0B0000EA 		b	.L69
 2057              	.L72:
 839:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_1K)
 2058              		.loc 1 839 11
 2059 007c 14301BE5 		ldr	r3, [fp, #-20]
 2060 0080 0A0053E3 		cmp	r3, #10
 2061 0084 0100000A 		beq	.L73
 840:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2062              		.loc 1 840 20
 2063 0088 0030E0E3 		mvn	r3, #0
 2064 008c 060000EA 		b	.L69
 2065              	.L73:
 841:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FF)!=0)
 2066              		.loc 1 841 18
 2067 0090 04309BE5 		ldr	r3, [fp, #4]
 2068 0094 5330E9E7 		ubfx	r3, r3, #0, #10
 2069              		.loc 1 841 11
 2070 0098 000053E3 		cmp	r3, #0
 2071 009c 0100000A 		beq	.L71
 842:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2072              		.loc 1 842 20
 2073 00a0 0030E0E3 		mvn	r3, #0
 2074 00a4 000000EA 		b	.L69
 2075              	.L71:
 843:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 844:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 845:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2076              		.loc 1 845 12
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 52


 2077 00a8 0030A0E3 		mov	r3, #0
 2078              	.L69:
 846:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2079              		.loc 1 846 1
 2080 00ac 0300A0E1 		mov	r0, r3
 2081 00b0 00D08BE2 		add	sp, fp, #0
 2082              		.cfi_def_cfa_register 13
 2083              		@ sp needed
 2084 00b4 04B09DE4 		ldr	fp, [sp], #4
 2085              		.cfi_restore 11
 2086              		.cfi_def_cfa_offset 0
 2087 00b8 1EFF2FE1 		bx	lr
 2088              		.cfi_endproc
 2089              	.LFE35:
 2091              		.section	.text.__RME_Pgt_Init,"ax",%progbits
 2092              		.align	2
 2093              		.global	__RME_Pgt_Init
 2094              		.syntax unified
 2095              		.arm
 2097              	__RME_Pgt_Init:
 2098              	.LFB36:
 847:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Check ********************************************/
 848:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 849:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Init **************************************************
 850:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the page table data structure, according to the capability.
 851:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
 852:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 853:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 854:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 855:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Init(struct RME_Cap_Pgt* Pgt_Op)
 856:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2099              		.loc 1 856 1
 2100              		.cfi_startproc
 2101              		@ args = 0, pretend = 0, frame = 8
 2102              		@ frame_needed = 1, uses_anonymous_args = 0
 2103              		@ link register save eliminated.
 2104 0000 04B02DE5 		str	fp, [sp, #-4]!
 2105              		.cfi_def_cfa_offset 4
 2106              		.cfi_offset 11, -4
 2107 0004 00B08DE2 		add	fp, sp, #0
 2108              		.cfi_def_cfa_register 11
 2109 0008 0CD04DE2 		sub	sp, sp, #12
 2110 000c 08000BE5 		str	r0, [fp, #-8]
 857:../../Source/Platform/A7A/rme_platform_a7a.c **** #if 0
 858:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_cnt_t Count;
 859:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
 860:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 861:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the actual table */
 862:../../Source/Platform/A7A/rme_platform_a7a.c ****     //Ptr=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 863:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 864:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a first-level or a second-level? */
 865:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)
 866:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 867:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* First-level - clean up the first half and map in the second half as kernel entries */
 868:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<2048;Count++)
 869:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 870:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 53


 871:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(;Count<4096;Count++)
 872:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 873:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 874:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 875:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 876:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Second-level - just clean it up to all zeros */
 877:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<256;Count++)
 878:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 879:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 880:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 881:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PGREG_POS(Ptr).Parent_Cnt=0;
 882:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PGREG_POS(Ptr).ASID_Child_Cnt=0;
 883:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 884:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 885:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2111              		.loc 1 885 1
 2112 0010 00F020E3 		nop
 2113 0014 0300A0E1 		mov	r0, r3
 2114 0018 00D08BE2 		add	sp, fp, #0
 2115              		.cfi_def_cfa_register 13
 2116              		@ sp needed
 2117 001c 04B09DE4 		ldr	fp, [sp], #4
 2118              		.cfi_restore 11
 2119              		.cfi_def_cfa_offset 0
 2120 0020 1EFF2FE1 		bx	lr
 2121              		.cfi_endproc
 2122              	.LFE36:
 2124              		.section	.text.__RME_Pgt_Del_Check,"ax",%progbits
 2125              		.align	2
 2126              		.global	__RME_Pgt_Del_Check
 2127              		.syntax unified
 2128              		.arm
 2130              	__RME_Pgt_Del_Check:
 2131              	.LFB37:
 886:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Init *********************************************/
 887:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 888:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Del_Check *********************************************
 889:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table can be deleted.
 890:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt Pgt_Op* - The capability to the page table to operate on.
 891:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 892:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If can be deleted, 0; else RME_ERR_HAL_FAIL.
 893:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 894:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Del_Check(struct RME_Cap_Pgt* Pgt_Op)
 895:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2132              		.loc 1 895 1
 2133              		.cfi_startproc
 2134              		@ args = 0, pretend = 0, frame = 8
 2135              		@ frame_needed = 1, uses_anonymous_args = 0
 2136              		@ link register save eliminated.
 2137 0000 04B02DE5 		str	fp, [sp, #-4]!
 2138              		.cfi_def_cfa_offset 4
 2139              		.cfi_offset 11, -4
 2140 0004 00B08DE2 		add	fp, sp, #0
 2141              		.cfi_def_cfa_register 11
 2142 0008 0CD04DE2 		sub	sp, sp, #12
 2143 000c 08000BE5 		str	r0, [fp, #-8]
 896:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 54


 897:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 898:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 899:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 900:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 901:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* See if this is a top-level. If yes, we only check child count */
 902:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)
 903:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 904:../../Source/Platform/A7A/rme_platform_a7a.c ****     	if(((RME_A7A_PGREG_POS(Table).ASID_Child_Cnt)&0xFFFF)==0)
 905:../../Source/Platform/A7A/rme_platform_a7a.c ****     		return 0;
 906:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 907:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 908:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 909:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Must be the second-level. We only check parent count because it can't have child anymore */
 910:../../Source/Platform/A7A/rme_platform_a7a.c ****     	if(RME_A7A_PGREG_POS(Table).Parent_Cnt==0)
 911:../../Source/Platform/A7A/rme_platform_a7a.c ****     	        return 0;
 912:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 913:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 914:../../Source/Platform/A7A/rme_platform_a7a.c ****     return RME_ERR_HAL_FAIL;
 915:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
 916:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2144              		.loc 1 916 1
 2145 0010 00F020E3 		nop
 2146 0014 0300A0E1 		mov	r0, r3
 2147 0018 00D08BE2 		add	sp, fp, #0
 2148              		.cfi_def_cfa_register 13
 2149              		@ sp needed
 2150 001c 04B09DE4 		ldr	fp, [sp], #4
 2151              		.cfi_restore 11
 2152              		.cfi_def_cfa_offset 0
 2153 0020 1EFF2FE1 		bx	lr
 2154              		.cfi_endproc
 2155              	.LFE37:
 2157              		.section	.text.__RME_Pgt_Page_Map,"ax",%progbits
 2158              		.align	2
 2159              		.global	__RME_Pgt_Page_Map
 2160              		.syntax unified
 2161              		.arm
 2163              	__RME_Pgt_Page_Map:
 2164              	.LFB38:
 917:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Del_Check ****************************************/
 918:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 919:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Map **********************************************
 920:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page into the page table. This architecture requires that the
 921:../../Source/Platform/A7A/rme_platform_a7a.c ****               mapping is always at least readable. The Cortex-A's super pages are
 922:../../Source/Platform/A7A/rme_platform_a7a.c ****               not supported by this. Also, RME dfoesn't use the domain model; all
 923:../../Source/Platform/A7A/rme_platform_a7a.c ****               page tables' domain is always client, which means that the permission
 924:../../Source/Platform/A7A/rme_platform_a7a.c ****               flags will always be checked.
 925:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The cap ability to the page table to operate on.
 926:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Paddr - The physical address to map to. If we are unmapping,
 927:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 this have no effect.
 928:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
 929:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard page attributes. Need to translate
 930:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 them into architecture specific page table's settings.
 931:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 932:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 933:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 934:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Map(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Paddr, rme_ptr_t Pos, rme_ptr_t 
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 55


 935:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2165              		.loc 1 935 1
 2166              		.cfi_startproc
 2167              		@ args = 0, pretend = 0, frame = 16
 2168              		@ frame_needed = 1, uses_anonymous_args = 0
 2169              		@ link register save eliminated.
 2170 0000 04B02DE5 		str	fp, [sp, #-4]!
 2171              		.cfi_def_cfa_offset 4
 2172              		.cfi_offset 11, -4
 2173 0004 00B08DE2 		add	fp, sp, #0
 2174              		.cfi_def_cfa_register 11
 2175 0008 14D04DE2 		sub	sp, sp, #20
 2176 000c 08000BE5 		str	r0, [fp, #-8]
 2177 0010 0C100BE5 		str	r1, [fp, #-12]
 2178 0014 10200BE5 		str	r2, [fp, #-16]
 2179 0018 14300BE5 		str	r3, [fp, #-20]
 936:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 937:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 938:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
 939:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 940:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
 941:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 942:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 943:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 944:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
 945:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
 946:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 947:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 948:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
 949:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 950:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 951:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate flags */
 952:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)==RME_PGT_SIZE_4K)
 953:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_1M_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_1M_RME2NAT(Flags);
 954:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 955:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_4K_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_4K_RME2NAT(Flags);
 956:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 957:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in */
 958:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),0,A7A_Flags)==0)
 959:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 960:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 961:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 962:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
 963:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2180              		.loc 1 963 1
 2181 001c 00F020E3 		nop
 2182 0020 0300A0E1 		mov	r0, r3
 2183 0024 00D08BE2 		add	sp, fp, #0
 2184              		.cfi_def_cfa_register 13
 2185              		@ sp needed
 2186 0028 04B09DE4 		ldr	fp, [sp], #4
 2187              		.cfi_restore 11
 2188              		.cfi_def_cfa_offset 0
 2189 002c 1EFF2FE1 		bx	lr
 2190              		.cfi_endproc
 2191              	.LFE38:
 2193              		.section	.text.__RME_Pgt_Page_Unmap,"ax",%progbits
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 56


 2194              		.align	2
 2195              		.global	__RME_Pgt_Page_Unmap
 2196              		.syntax unified
 2197              		.arm
 2199              	__RME_Pgt_Page_Unmap:
 2200              	.LFB39:
 964:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Map *****************************************/
 965:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 966:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Unmap ********************************************
 967:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page from the page table.
 968:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
 969:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
 970:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 971:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 972:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 973:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Unmap(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos)
 974:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2201              		.loc 1 974 1
 2202              		.cfi_startproc
 2203              		@ args = 0, pretend = 0, frame = 8
 2204              		@ frame_needed = 1, uses_anonymous_args = 0
 2205              		@ link register save eliminated.
 2206 0000 04B02DE5 		str	fp, [sp, #-4]!
 2207              		.cfi_def_cfa_offset 4
 2208              		.cfi_offset 11, -4
 2209 0004 00B08DE2 		add	fp, sp, #0
 2210              		.cfi_def_cfa_register 11
 2211 0008 0CD04DE2 		sub	sp, sp, #12
 2212 000c 08000BE5 		str	r0, [fp, #-8]
 2213 0010 0C100BE5 		str	r1, [fp, #-12]
 975:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 976:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 977:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
 978:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 979:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to unmap the kernel space on the top level? */
 980:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
 981:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 982:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 983:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
 984:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 985:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 986:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that there is something */
 987:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 988:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Temp==0)
 989:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 990:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 991:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a page directory? We cannot unmap page directories like this */
 992:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)!=RME_PGT_SIZE_4K)&&((Temp&RME_A7A_MMU_1M_PGDIR_PRES
 993:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 994:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 995:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to unmap it. Use CAS just in case */
 996:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),Temp,0)==0)
 997:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 998:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 999:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1000:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1001:../../Source/Platform/A7A/rme_platform_a7a.c **** }
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 57


 2214              		.loc 1 1001 1
 2215 0014 00F020E3 		nop
 2216 0018 0300A0E1 		mov	r0, r3
 2217 001c 00D08BE2 		add	sp, fp, #0
 2218              		.cfi_def_cfa_register 13
 2219              		@ sp needed
 2220 0020 04B09DE4 		ldr	fp, [sp], #4
 2221              		.cfi_restore 11
 2222              		.cfi_def_cfa_offset 0
 2223 0024 1EFF2FE1 		bx	lr
 2224              		.cfi_endproc
 2225              	.LFE39:
 2227              		.section	.text.__RME_Pgt_Pgdir_Map,"ax",%progbits
 2228              		.align	2
 2229              		.global	__RME_Pgt_Pgdir_Map
 2230              		.syntax unified
 2231              		.arm
 2233              	__RME_Pgt_Pgdir_Map:
 2234              	.LFB40:
1002:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Unmap ***************************************/
1003:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1004:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Map *********************************************
1005:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page directory into the page table. It is surprising that
1006:../../Source/Platform/A7A/rme_platform_a7a.c ****               Cortex-A (ARMv7) does not support any kind of page directory flags.
1007:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Parent - The parent page table.
1008:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Cap_Pgt* Pgt_Child - The child page table.
1009:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the destination page table.
1010:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard flags for the child page table.
1011:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1012:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1013:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1014:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Pgdir_Map(struct RME_Cap_Pgt* Pgt_Parent, rme_ptr_t Pos,
1015:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 struct RME_Cap_Pgt* Pgt_Child, rme_ptr_t Flags)
1016:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2235              		.loc 1 1016 1
 2236              		.cfi_startproc
 2237              		@ args = 0, pretend = 0, frame = 16
 2238              		@ frame_needed = 1, uses_anonymous_args = 0
 2239              		@ link register save eliminated.
 2240 0000 04B02DE5 		str	fp, [sp, #-4]!
 2241              		.cfi_def_cfa_offset 4
 2242              		.cfi_offset 11, -4
 2243 0004 00B08DE2 		add	fp, sp, #0
 2244              		.cfi_def_cfa_register 11
 2245 0008 14D04DE2 		sub	sp, sp, #20
 2246 000c 08000BE5 		str	r0, [fp, #-8]
 2247 0010 0C100BE5 		str	r1, [fp, #-12]
 2248 0014 10200BE5 		str	r2, [fp, #-16]
 2249 0018 14300BE5 		str	r3, [fp, #-20]
1017:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
1018:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Parent_Table;
1019:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Child_Table;
1020:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1021:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1022:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
1023:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
1024:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 58


1025:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1026:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1027:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Parent->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
1028:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1029:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1030:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1031:../../Source/Platform/A7A/rme_platform_a7a.c ****     Parent_Table=RME_CAP_GETOBJ(Pgt_Parent,rme_ptr_t*);
1032:../../Source/Platform/A7A/rme_platform_a7a.c ****     Child_Table=RME_CAP_GETOBJ(Pgt_Child,rme_ptr_t*);
1033:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1034:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate the content */
1035:../../Source/Platform/A7A/rme_platform_a7a.c ****     A7A_Flags=RME_A7A_MMU_1M_PGT_ADDR(RME_A7A_VA2PA(Child_Table))|RME_A7A_MMU_1M_PGDIR_PRESENT;
1036:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1037:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in - may need to increase some count */
1038:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Parent_Table[Pos]),0,A7A_Flags)==0)
1039:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1040:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1041:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Map complete, increase reference count for both page tables */
1042:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_FETCH_ADD((rme_ptr_t*)&(RME_A7A_PGREG_POS(Child_Table).Parent_Cnt),1);
1043:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_FETCH_ADD((rme_ptr_t*)&(RME_A7A_PGREG_POS(Parent_Table).ASID_Child_Cnt),1);
1044:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1045:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1046:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1047:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2250              		.loc 1 1047 1
 2251 001c 00F020E3 		nop
 2252 0020 0300A0E1 		mov	r0, r3
 2253 0024 00D08BE2 		add	sp, fp, #0
 2254              		.cfi_def_cfa_register 13
 2255              		@ sp needed
 2256 0028 04B09DE4 		ldr	fp, [sp], #4
 2257              		.cfi_restore 11
 2258              		.cfi_def_cfa_offset 0
 2259 002c 1EFF2FE1 		bx	lr
 2260              		.cfi_endproc
 2261              	.LFE40:
 2263              		.section	.text.__RME_Pgt_Pgdir_Unmap,"ax",%progbits
 2264              		.align	2
 2265              		.global	__RME_Pgt_Pgdir_Unmap
 2266              		.syntax unified
 2267              		.arm
 2269              	__RME_Pgt_Pgdir_Unmap:
 2270              	.LFB41:
1048:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Map ****************************************/
1049:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1050:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Unmap *******************************************
1051:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page directory from the page table.
1052:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to operate on.
1053:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1054:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1055:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1056:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1057:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Pgt_Pgdir_Unmap(struct RME_Cap_Pgt* Pgt_Parent,rme_ptr_t Pos,
1058:../../Source/Platform/A7A/rme_platform_a7a.c ****                                                struct RME_Cap_Pgt* Pgt_Child)
1059:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2271              		.loc 1 1059 1
 2272              		.cfi_startproc
 2273              		@ args = 0, pretend = 0, frame = 16
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 59


 2274              		@ frame_needed = 1, uses_anonymous_args = 0
 2275              		@ link register save eliminated.
 2276 0000 04B02DE5 		str	fp, [sp, #-4]!
 2277              		.cfi_def_cfa_offset 4
 2278              		.cfi_offset 11, -4
 2279 0004 00B08DE2 		add	fp, sp, #0
 2280              		.cfi_def_cfa_register 11
 2281 0008 14D04DE2 		sub	sp, sp, #20
 2282 000c 08000BE5 		str	r0, [fp, #-8]
 2283 0010 0C100BE5 		str	r1, [fp, #-12]
 2284 0014 10200BE5 		str	r2, [fp, #-16]
1060:../../Source/Platform/A7A/rme_platform_a7a.c ****    return 0;
 2285              		.loc 1 1060 11
 2286 0018 0030A0E3 		mov	r3, #0
1061:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2287              		.loc 1 1061 1
 2288 001c 0300A0E1 		mov	r0, r3
 2289 0020 00D08BE2 		add	sp, fp, #0
 2290              		.cfi_def_cfa_register 13
 2291              		@ sp needed
 2292 0024 04B09DE4 		ldr	fp, [sp], #4
 2293              		.cfi_restore 11
 2294              		.cfi_def_cfa_offset 0
 2295 0028 1EFF2FE1 		bx	lr
 2296              		.cfi_endproc
 2297              	.LFE41:
 2299              		.section	.text.__RME_Pgt_Lookup,"ax",%progbits
 2300              		.align	2
 2301              		.global	__RME_Pgt_Lookup
 2302              		.syntax unified
 2303              		.arm
 2305              	__RME_Pgt_Lookup:
 2306              	.LFB42:
1062:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Unmap **************************************/
1063:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1064:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Lookup **************************************************
1065:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Lookup a page entry in a page directory. This function cannot deal
1066:../../Source/Platform/A7A/rme_platform_a7a.c ****               with large pages and super sections - it is the user's responsibility
1067:../../Source/Platform/A7A/rme_platform_a7a.c ****               to avoid this.
1068:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page directory to lookup.
1069:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position to look up.
1070:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Paddr - The physical address of the page.
1071:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1072:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1073:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1074:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Lookup(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos, rme_ptr_t* Paddr, rme_ptr_t* 
1075:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2307              		.loc 1 1075 1
 2308              		.cfi_startproc
 2309              		@ args = 0, pretend = 0, frame = 16
 2310              		@ frame_needed = 1, uses_anonymous_args = 0
 2311              		@ link register save eliminated.
 2312 0000 04B02DE5 		str	fp, [sp, #-4]!
 2313              		.cfi_def_cfa_offset 4
 2314              		.cfi_offset 11, -4
 2315 0004 00B08DE2 		add	fp, sp, #0
 2316              		.cfi_def_cfa_register 11
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 60


 2317 0008 14D04DE2 		sub	sp, sp, #20
 2318 000c 08000BE5 		str	r0, [fp, #-8]
 2319 0010 0C100BE5 		str	r1, [fp, #-12]
 2320 0014 10200BE5 		str	r2, [fp, #-16]
 2321 0018 14300BE5 		str	r3, [fp, #-20]
1076:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
1077:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1078:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1079:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1080:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if the position is within the range of this page table */
1081:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pos>>RME_PGT_NUMORD(Pgt_Op->Size_Num_Order))!=0)
1082:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1083:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1084:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1085:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
1086:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the position requested - atomic read */
1087:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
1088:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1089:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start lookup - is this a terminal page, or? */
1090:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)==RME_PGT_SIZE_4K)
1091:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1092:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)==0)
1093:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
1094:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1095:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a small page. Return the physical address and flags */
1096:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
1097:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
1098:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
1099:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
1100:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1101:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1102:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1103:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)==0)
1104:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
1105:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1106:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a section. Return the physical address and flags */
1107:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
1108:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
1109:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
1110:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
1111:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1112:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1113:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1114:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1115:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2322              		.loc 1 1115 1
 2323 001c 00F020E3 		nop
 2324 0020 0300A0E1 		mov	r0, r3
 2325 0024 00D08BE2 		add	sp, fp, #0
 2326              		.cfi_def_cfa_register 13
 2327              		@ sp needed
 2328 0028 04B09DE4 		ldr	fp, [sp], #4
 2329              		.cfi_restore 11
 2330              		.cfi_def_cfa_offset 0
 2331 002c 1EFF2FE1 		bx	lr
 2332              		.cfi_endproc
 2333              	.LFE42:
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 61


 2335              		.section	.text.__RME_Pgt_Walk,"ax",%progbits
 2336              		.align	2
 2337              		.global	__RME_Pgt_Walk
 2338              		.syntax unified
 2339              		.arm
 2341              	__RME_Pgt_Walk:
 2342              	.LFB43:
1116:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Lookup *******************************************/
1117:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1118:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Walk **************************************************
1119:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Walking function for the page table. This function just does page
1120:../../Source/Platform/A7A/rme_platform_a7a.c ****               table lookups. The page table that is being walked must be the top-
1121:../../Source/Platform/A7A/rme_platform_a7a.c ****               level page table. The output values are optional; only pass in pointers
1122:../../Source/Platform/A7A/rme_platform_a7a.c ****               when you need that value.
1123:../../Source/Platform/A7A/rme_platform_a7a.c ****               Walking kernel page tables is prohibited.
1124:../../Source/Platform/A7A/rme_platform_a7a.c ****               This function also does not support large pages and super sections.
1125:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to walk.
1126:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address to look up.
1127:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Pgt - The pointer to the page table level.
1128:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Map_Vaddr - The virtual address that starts mapping.
1129:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Paddr - The physical address of the page.
1130:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Size_Order - The size order of the page.
1131:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Num_Order - The entry order of the page.
1132:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1133:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1134:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1135:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Walk(struct RME_Cap_Pgt* Pgt_Op, 
1136:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t Vaddr, 
1137:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t* Pgt,
1138:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Map_Vaddr, 
1139:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Paddr, 
1140:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Size_Order, 
1141:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Num_Order, 
1142:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Flags)
1143:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2343              		.loc 1 1143 1
 2344              		.cfi_startproc
 2345              		@ args = 16, pretend = 0, frame = 16
 2346              		@ frame_needed = 1, uses_anonymous_args = 0
 2347              		@ link register save eliminated.
 2348 0000 04B02DE5 		str	fp, [sp, #-4]!
 2349              		.cfi_def_cfa_offset 4
 2350              		.cfi_offset 11, -4
 2351 0004 00B08DE2 		add	fp, sp, #0
 2352              		.cfi_def_cfa_register 11
 2353 0008 14D04DE2 		sub	sp, sp, #20
 2354 000c 08000BE5 		str	r0, [fp, #-8]
 2355 0010 0C100BE5 		str	r1, [fp, #-12]
 2356 0014 10200BE5 		str	r2, [fp, #-16]
 2357 0018 14300BE5 		str	r3, [fp, #-20]
1144:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
1145:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1146:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Pos;
1147:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1148:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1149:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if this is the top-level page table */
1150:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr)&RME_PGT_TOP)==0)
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 62


1151:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1152:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1153:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we attempting a kernel or non-canonical lookup? If yes, stop immediately */
1154:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Vaddr>=0x7FFFFFFFU)
1155:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1156:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1157:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table and start lookup - We know that there are only 2 levels */
1158:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op, rme_ptr_t*);
1159:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1160:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Calculate where is the entry - always 0 to 4096 */
1161:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Pos=(Vaddr>>RME_PGT_SIZE_1M)&0xFFFU;
1162:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Atomic read */
1163:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Temp=Table[Pos];
1164:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1165:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Find the position of the entry - Is there a page, a directory, or nothing? */
1166:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)!=0)
1167:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1168:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* There is a 1M page */
1169:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Pgt!=0)
1170:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Pgt=(rme_ptr_t)Table;
1171:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Map_Vaddr!=0)
1172:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_1M);
1173:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Paddr!=0)
1174:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
1175:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Size_Order!=0)
1176:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Size_Order=RME_PGT_SIZE_1M;
1177:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Num_Order!=0)
1178:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Num_Order=RME_PGT_NUM_4K;
1179:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Flags!=0)
1180:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
1181:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1182:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1183:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else if((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0)
1184:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1185:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Table=(rme_ptr_t*)RME_A7A_PA2VA(RME_A7A_MMU_1M_PGT_ADDR(Temp));
1186:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Calculate where is the entry - always 0 to 256 */
1187:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Pos=(Vaddr>>RME_PGT_SIZE_4K)&0xFFU;
1188:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Atomic read */
1189:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Temp=Table[Pos];
1190:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1191:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)!=0)
1192:../../Source/Platform/A7A/rme_platform_a7a.c **** 		{
1193:../../Source/Platform/A7A/rme_platform_a7a.c **** 			/* There is a 4k page */
1194:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Pgt!=0)
1195:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Pgt=(rme_ptr_t)Table;
1196:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Map_Vaddr!=0)
1197:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_4K);
1198:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Paddr!=0)
1199:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
1200:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Size_Order!=0)
1201:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Size_Order=RME_PGT_SIZE_4K;
1202:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Num_Order!=0)
1203:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Num_Order=RME_PGT_NUM_256;
1204:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Flags!=0)
1205:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
1206:../../Source/Platform/A7A/rme_platform_a7a.c **** 		}
1207:../../Source/Platform/A7A/rme_platform_a7a.c **** 		else
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 63


1208:../../Source/Platform/A7A/rme_platform_a7a.c **** 			return RME_ERR_HAL_FAIL;
1209:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1210:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else
1211:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return RME_ERR_HAL_FAIL;
1212:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1213:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1214:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1215:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2358              		.loc 1 1215 1
 2359 001c 00F020E3 		nop
 2360 0020 0300A0E1 		mov	r0, r3
 2361 0024 00D08BE2 		add	sp, fp, #0
 2362              		.cfi_def_cfa_register 13
 2363              		@ sp needed
 2364 0028 04B09DE4 		ldr	fp, [sp], #4
 2365              		.cfi_restore 11
 2366              		.cfi_def_cfa_offset 0
 2367 002c 1EFF2FE1 		bx	lr
 2368              		.cfi_endproc
 2369              	.LFE43:
 2371              		.text
 2372              	.Letext0:
 2373              		.file 2 "../../Include/Platform/A7A/rme_platform_a7a.h"
 2374              		.file 3 "../../Include/Kernel/rme_kernel.h"
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 64


DEFINED SYMBOLS
                            *ABS*:00000000 rme_platform_a7a.c
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:20     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:23     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 RME_A7A_Pgflg_1M_RME2NAT
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:57     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:60     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 RME_A7A_Pgflg_4K_RME2NAT
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:94     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:97     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 RME_A7A_Pgflg_1M_NAT2RME
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:115    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:118    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 RME_A7A_Pgflg_4K_NAT2RME
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:140    .bss.RME_A7A_Timestamp:00000000 RME_A7A_Timestamp
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:137    .bss.RME_A7A_Timestamp:00000000 $d
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:147    .bss.RME_A7A_Local:00000000 RME_A7A_Local
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:144    .bss.RME_A7A_Local:00000000 $d
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:154    .bss.RME_A7A_Kot:00000000 RME_A7A_Kot
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:151    .bss.RME_A7A_Kot:00000000 $d
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:161    .rodata.RME_A7A_Mem_Info:00000000 RME_A7A_Mem_Info
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:158    .rodata.RME_A7A_Mem_Info:00000000 $d
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:192    .bss.RME_A7A_CPU_Cnt:00000000 RME_A7A_CPU_Cnt
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:189    .bss.RME_A7A_CPU_Cnt:00000000 $d
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:195    .text.main:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:200    .text.main:00000000 main
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:225    .text.__RME_Putchar:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:230    .text.__RME_Putchar:00000000 __RME_Putchar
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:275    .rodata:00000000 $d
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:276    .rodata:00000000 .LC0
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:279    .rodata:00000018 .LC1
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:282    .rodata:00000030 .LC2
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:285    .rodata:00000048 .LC3
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:288    .rodata:00000064 .LC4
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:291    .rodata:0000007c .LC5
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:294    .rodata:0000009c .LC6
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:297    .rodata:000000b4 .LC7
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:300    .text.__RME_A7A_Int_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:304    .text.__RME_A7A_Int_Init:00000000 __RME_A7A_Int_Init
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:563    .text.__RME_A7A_Int_Local_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:568    .text.__RME_A7A_Int_Local_Init:00000000 __RME_A7A_Int_Local_Init
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:611    .text.__RME_A7A_Timer_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:615    .text.__RME_A7A_Timer_Init:00000000 __RME_A7A_Timer_Init
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:667    .text.__RME_A7A_Feature_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:672    .text.__RME_A7A_Feature_Get:00000000 __RME_A7A_Feature_Get
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:697    .text.__RME_A7A_Mem_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:702    .text.__RME_A7A_Mem_Init:00000000 __RME_A7A_Mem_Init
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:730    .text.__RME_A7A_SMP_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:735    .text.__RME_A7A_SMP_Init:00000000 __RME_A7A_SMP_Init
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:760    .text.__RME_A7A_SMP_Tick:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:765    .text.__RME_A7A_SMP_Tick:00000000 __RME_A7A_SMP_Tick
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:791    .rodata:000000d8 .LC8
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:794    .rodata:000000ec .LC9
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:797    .text.__RME_Lowlvl_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:802    .text.__RME_Lowlvl_Init:00000000 __RME_Lowlvl_Init
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:853    .text.__RME_Pgt_Kom_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:858    .text.__RME_Pgt_Kom_Init:00000000 __RME_Pgt_Kom_Init
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:885    .text.__RME_SMP_Low_Level_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:890    .text.__RME_SMP_Low_Level_Init:00000000 __RME_SMP_Low_Level_Init
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:917    .text.__RME_Boot:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:922    .text.__RME_Boot:00000000 __RME_Boot
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 65


C:\Users\even\AppData\Local\Temp\cci1vwrX.s:945    .text.__RME_Reboot:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:950    .text.__RME_Reboot:00000000 __RME_Reboot
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:975    .text.__RME_Shutdown:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:980    .text.__RME_Shutdown:00000000 __RME_Shutdown
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1005   .text.__RME_Svc_Param_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1010   .text.__RME_Svc_Param_Get:00000000 __RME_Svc_Param_Get
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1078   .text.__RME_Svc_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1083   .text.__RME_Svc_Retval_Set:00000000 __RME_Svc_Retval_Set
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1116   .text.__RME_Thd_Reg_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1121   .text.__RME_Thd_Reg_Init:00000000 __RME_Thd_Reg_Init
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1163   .text.__RME_Thd_Reg_Copy:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1168   .text.__RME_Thd_Reg_Copy:00000000 __RME_Thd_Reg_Copy
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1292   .text.__RME_Thd_Cop_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1297   .text.__RME_Thd_Cop_Init:00000000 __RME_Thd_Cop_Init
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1325   .text.__RME_Thd_Cop_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1330   .text.__RME_Thd_Cop_Save:00000000 __RME_Thd_Cop_Save
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1358   .text.__RME_Thd_Cop_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1363   .text.__RME_Thd_Cop_Restore:00000000 __RME_Thd_Cop_Restore
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1391   .text.__RME_Inv_Reg_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1396   .text.__RME_Inv_Reg_Save:00000000 __RME_Inv_Reg_Save
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1436   .text.__RME_Inv_Reg_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1441   .text.__RME_Inv_Reg_Restore:00000000 __RME_Inv_Reg_Restore
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1481   .text.__RME_Inv_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1486   .text.__RME_Inv_Retval_Set:00000000 __RME_Inv_Retval_Set
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1519   .text.__RME_Set_Inv_Retval:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1524   .text.__RME_Set_Inv_Retval:00000000 __RME_Set_Inv_Retval
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1557   .text.__RME_Thd_Cop_Swap:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1562   .text.__RME_Thd_Cop_Swap:00000000 __RME_Thd_Cop_Swap
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1592   .text.__RME_Kfn_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1597   .text.__RME_Kfn_Handler:00000000 __RME_Kfn_Handler
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1629   .text.__RME_A7A_Undefined_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1634   .text.__RME_A7A_Undefined_Handler:00000000 __RME_A7A_Undefined_Handler
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1655   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1660   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 __RME_A7A_Prefetch_Abort_Handler
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1681   .text.__RME_A7A_Data_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1686   .text.__RME_A7A_Data_Abort_Handler:00000000 __RME_A7A_Data_Abort_Handler
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1708   .rodata:00000100 .LC10
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1711   .rodata:00000110 .LC11
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1714   .rodata:0000011c .LC12
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1717   .rodata:00000128 .LC13
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1720   .text.__RME_A7A_IRQ_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1725   .text.__RME_A7A_IRQ_Handler:00000000 __RME_A7A_IRQ_Handler
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1892   .text._RME_A7A_SGI_Handler:00000000 _RME_A7A_SGI_Handler
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1887   .text._RME_A7A_SGI_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1923   .rodata:00000158 .LC14
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1926   .text.__RME_A7A_Generic_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1931   .text.__RME_A7A_Generic_Handler:00000000 __RME_A7A_Generic_Handler
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1966   .text.__RME_Pgt_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1971   .text.__RME_Pgt_Set:00000000 __RME_Pgt_Set
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:1998   .text.__RME_Pgt_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2003   .text.__RME_Pgt_Check:00000000 __RME_Pgt_Check
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2092   .text.__RME_Pgt_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2097   .text.__RME_Pgt_Init:00000000 __RME_Pgt_Init
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2125   .text.__RME_Pgt_Del_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2130   .text.__RME_Pgt_Del_Check:00000000 __RME_Pgt_Del_Check
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2158   .text.__RME_Pgt_Page_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2163   .text.__RME_Pgt_Page_Map:00000000 __RME_Pgt_Page_Map
ARM GAS  C:\Users\even\AppData\Local\Temp\cci1vwrX.s 			page 66


C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2194   .text.__RME_Pgt_Page_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2199   .text.__RME_Pgt_Page_Unmap:00000000 __RME_Pgt_Page_Unmap
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2228   .text.__RME_Pgt_Pgdir_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2233   .text.__RME_Pgt_Pgdir_Map:00000000 __RME_Pgt_Pgdir_Map
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2264   .text.__RME_Pgt_Pgdir_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2269   .text.__RME_Pgt_Pgdir_Unmap:00000000 __RME_Pgt_Pgdir_Unmap
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2300   .text.__RME_Pgt_Lookup:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2305   .text.__RME_Pgt_Lookup:00000000 __RME_Pgt_Lookup
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2336   .text.__RME_Pgt_Walk:00000000 $a
C:\Users\even\AppData\Local\Temp\cci1vwrX.s:2341   .text.__RME_Pgt_Walk:00000000 __RME_Pgt_Walk
                           .group:00000000 wm4.0.cbcd577d9d448c52ea0a91d4889f53b3
                           .group:00000000 wm4.rme_platform_a7a.h.12.4ea7c3e7cd5be5689682b56f61920b43
                           .group:00000000 wm4.rme_platform_xc7z020.h.15.439a86713387cac48fb920c2c501913e
                           .group:00000000 wm4.rme_platform_a7a.h.136.4a0faa042aee30814e6d83fdc3818dd9
                           .group:00000000 wm4.rme_kernel.h.27.716340edb41bad57d522729bf2b8a38a
                           .group:00000000 wm4.rme.h.11.9832b5e30070a0fa5589a615f357d92d
                           .group:00000000 wm4.rme_kernel.h.185.3974182bb1c1d44bb740025d2e899ec7
                           .group:00000000 wm4.rme_platform_a7a.h.393.7eab80424ec01c7c054622820ea1dfa1
                           .group:00000000 wm4.rme_kernel.h.679.5cba0ca852965e732f79ab9e9cae51eb
                           .group:00000000 wm4.rme_platform_a7a.h.509.3a87267ca40020cc6371d66068d169d1
                           .group:00000000 wm4.rme_kernel.h.931.ec71bd25af7f487c8cb7f50ed1922251

UNDEFINED SYMBOLS
__RME_A7A_ID_ISAR0_Get
RME_Hex_Print
RME_Str_Print
RME_Int_Print
_RME_CPU_Local_Init
__RME_A7A_Vector_Table
__RME_A7A_VBAR_Set
__RME_A7A_SCR_Get
__RME_Int_Enable
RME_Log
_RME_Tim_Handler
