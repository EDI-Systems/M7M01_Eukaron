ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 1


   1              		.cpu cortex-a7
   2              		.arch armv7-a
   3              		.arch_extension virt
   4              		.arch_extension idiv
   5              		.arch_extension sec
   6              		.arch_extension mp
   7              		.fpu neon-fp16
   8              		.eabi_attribute 20, 1
   9              		.eabi_attribute 21, 1
  10              		.eabi_attribute 23, 3
  11              		.eabi_attribute 24, 1
  12              		.eabi_attribute 25, 1
  13              		.eabi_attribute 26, 1
  14              		.eabi_attribute 30, 2
  15              		.eabi_attribute 34, 1
  16              		.eabi_attribute 18, 4
  17              		.file	"rme_platform_a7a.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.startup.main,"ax",%progbits
  22              		.align	2
  23              		.global	main
  24              		.syntax unified
  25              		.arm
  27              	main:
  28              	.LFB0:
  29              		.file 1 "../../Source/Platform/A7A/rme_platform_a7a.c"
   1:../../Source/Platform/A7A/rme_platform_a7a.c **** /******************************************************************************
   2:../../Source/Platform/A7A/rme_platform_a7a.c **** Filename    : platform_a7a.c
   3:../../Source/Platform/A7A/rme_platform_a7a.c **** Author      : pry
   4:../../Source/Platform/A7A/rme_platform_a7a.c **** Date        : 01/04/2017
   5:../../Source/Platform/A7A/rme_platform_a7a.c **** Licence     : LGPL v3+; see COPYING for details.
   6:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The hardware abstraction layer for ARMv7-A machines.
   7:../../Source/Platform/A7A/rme_platform_a7a.c ****               1. Interrupt controller
   8:../../Source/Platform/A7A/rme_platform_a7a.c ****               2. Timer
   9:../../Source/Platform/A7A/rme_platform_a7a.c ****               3. Pgt setup
  10:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  11:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  12:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Include *******************************************************************/
  13:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_DEF__
  14:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  15:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  16:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_DEF__
  17:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  18:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_STRUCT__
  19:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  20:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  21:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_STRUCT__
  22:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  23:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Private include */
  24:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  25:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  26:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_PUBLIC__
  27:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  28:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_PUBLIC__
  29:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Include ***************************************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 2


  30:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  31:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:main **************************************************************
  32:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The entrance of the operating system.
  33:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  34:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  35:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : int - This function never returns.
  36:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  37:../../Source/Platform/A7A/rme_platform_a7a.c **** int main(void)
  38:../../Source/Platform/A7A/rme_platform_a7a.c **** {
  30              		.loc 1 38 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  39:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('h');
  35              		.loc 1 39 5 view .LVU1
  36              	.LVL0:
  37              	.LBB18:
  38              	.LBI18:
  40:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('e');
  41:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  42:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  43:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');//test
  44:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The main function of the kernel - we will start our kernel boot here */
  45:../../Source/Platform/A7A/rme_platform_a7a.c ****     //_RME_Kmain(RME_KOM_STACK_ADDR);
  46:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  47:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
  48:../../Source/Platform/A7A/rme_platform_a7a.c **** }
  49:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
  50:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  51:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Putchar *****************************************************
  52:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Output a character to console. In Cortex-M, under most circumstances, 
  53:../../Source/Platform/A7A/rme_platform_a7a.c ****               we should use the ITM for such outputs.
  54:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : char Char - The character to print.
  55:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  56:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
  57:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  58:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Putchar(char Char)
  39              		.loc 1 58 11 view .LVU2
  40              	.LBB19:
  59:../../Source/Platform/A7A/rme_platform_a7a.c **** {
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PUTCHAR(Char);
  41              		.loc 1 60 5 view .LVU3
  42              		.loc 1 60 5 view .LVU4
  43 0000 012AA0E3 		mov	r2, #4096
  44 0004 00204EE3 		movt	r2, 57344
  45              	.L2:
  46              		.loc 1 60 5 view .LVU5
  47              		.loc 1 60 5 view .LVU6
  48 0008 2C3092E5 		ldr	r3, [r2, #44]
  49 000c 080013E3 		tst	r3, #8
  50 0010 FCFFFF0A 		beq	.L2
  51              		.loc 1 60 5 view .LVU7
  52              	.LBE19:
  53              	.LBE18:
  54              	.LBB22:
  55              	.LBB23:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 3


  56 0014 011AA0E3 		mov	r1, #4096
  57              	.LBE23:
  58              	.LBE22:
  59              	.LBB28:
  60              	.LBB20:
  61 0018 6830A0E3 		mov	r3, #104
  62              	.LBE20:
  63              	.LBE28:
  64              	.LBB29:
  65              	.LBB24:
  66 001c 00104EE3 		movt	r1, 57344
  67              	.LBE24:
  68              	.LBE29:
  69              	.LBB30:
  70              	.LBB21:
  71 0020 303082E5 		str	r3, [r2, #48]
  72              		.loc 1 60 5 view .LVU8
  61:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
  73              		.loc 1 61 5 view .LVU9
  74              	.LVL1:
  75              	.L3:
  76              		.loc 1 61 5 is_stmt 0 view .LVU10
  77              	.LBE21:
  78              	.LBE30:
  79              	.LBB31:
  80              	.LBB25:
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
  81              		.loc 1 60 5 is_stmt 1 view .LVU11
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
  82              		.loc 1 60 5 view .LVU12
  83 0024 2C3091E5 		ldr	r3, [r1, #44]
  84 0028 080013E3 		tst	r3, #8
  85 002c FCFFFF0A 		beq	.L3
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
  86              		.loc 1 60 5 view .LVU13
  87              	.LBE25:
  88              	.LBE31:
  89              	.LBB32:
  90              	.LBB33:
  91 0030 012AA0E3 		mov	r2, #4096
  92              	.LBE33:
  93              	.LBE32:
  94              	.LBB38:
  95              	.LBB26:
  96 0034 6530A0E3 		mov	r3, #101
  97              	.LBE26:
  98              	.LBE38:
  99              	.LBB39:
 100              	.LBB34:
 101 0038 00204EE3 		movt	r2, 57344
 102              	.LBE34:
 103              	.LBE39:
 104              	.LBB40:
 105              	.LBB27:
 106 003c 303081E5 		str	r3, [r1, #48]
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 107              		.loc 1 60 5 view .LVU14
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 4


 108              		.loc 1 61 5 view .LVU15
 109              	.L4:
 110              	.LBE27:
 111              	.LBE40:
 112              	.LBB41:
 113              	.LBB35:
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 114              		.loc 1 60 5 view .LVU16
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 115              		.loc 1 60 5 view .LVU17
 116 0040 2C3092E5 		ldr	r3, [r2, #44]
 117 0044 080013E3 		tst	r3, #8
 118 0048 FCFFFF0A 		beq	.L4
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 119              		.loc 1 60 5 view .LVU18
 120              	.LBE35:
 121              	.LBE41:
 122              	.LBB42:
 123              	.LBB43:
 124 004c 011AA0E3 		mov	r1, #4096
 125              	.LBE43:
 126              	.LBE42:
 127              	.LBB48:
 128              	.LBB36:
 129 0050 6C30A0E3 		mov	r3, #108
 130              	.LBE36:
 131              	.LBE48:
 132              	.LBB49:
 133              	.LBB44:
 134 0054 00104EE3 		movt	r1, 57344
 135              	.LBE44:
 136              	.LBE49:
 137              	.LBB50:
 138              	.LBB37:
 139 0058 303082E5 		str	r3, [r2, #48]
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 140              		.loc 1 60 5 view .LVU19
 141              		.loc 1 61 5 view .LVU20
 142              	.L5:
 143              	.LBE37:
 144              	.LBE50:
 145              	.LBB51:
 146              	.LBB45:
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 147              		.loc 1 60 5 view .LVU21
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 148              		.loc 1 60 5 view .LVU22
 149 005c 2C3091E5 		ldr	r3, [r1, #44]
 150 0060 080013E3 		tst	r3, #8
 151 0064 FCFFFF0A 		beq	.L5
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 152              		.loc 1 60 5 view .LVU23
 153              	.LBE45:
 154              	.LBE51:
 155              	.LBB52:
 156              	.LBB53:
 157 0068 012AA0E3 		mov	r2, #4096
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 5


 158              	.LBE53:
 159              	.LBE52:
 160              	.LBB57:
 161              	.LBB46:
 162 006c 6C30A0E3 		mov	r3, #108
 163              	.LBE46:
 164              	.LBE57:
 165              	.LBB58:
 166              	.LBB54:
 167 0070 00204EE3 		movt	r2, 57344
 168              	.LBE54:
 169              	.LBE58:
 170              	.LBB59:
 171              	.LBB47:
 172 0074 303081E5 		str	r3, [r1, #48]
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 173              		.loc 1 60 5 view .LVU24
 174              		.loc 1 61 5 view .LVU25
 175              	.L6:
 176              	.LBE47:
 177              	.LBE59:
 178              	.LBB60:
 179              	.LBB55:
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 180              		.loc 1 60 5 view .LVU26
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 181              		.loc 1 60 5 view .LVU27
 182 0078 2C3092E5 		ldr	r3, [r2, #44]
 183 007c 080013E3 		tst	r3, #8
 184 0080 FCFFFF0A 		beq	.L6
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 185              		.loc 1 60 5 view .LVU28
 186 0084 6F30A0E3 		mov	r3, #111
 187              	.LBE55:
 188              	.LBE60:
  48:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
 189              		.loc 1 48 1 is_stmt 0 view .LVU29
 190 0088 0000A0E3 		mov	r0, #0
 191              	.LBB61:
 192              	.LBB56:
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 193              		.loc 1 60 5 view .LVU30
 194 008c 303082E5 		str	r3, [r2, #48]
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 195              		.loc 1 60 5 is_stmt 1 view .LVU31
 196              		.loc 1 61 5 view .LVU32
 197              	.LBE56:
 198              	.LBE61:
  47:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 199              		.loc 1 47 5 view .LVU33
  48:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
 200              		.loc 1 48 1 is_stmt 0 view .LVU34
 201 0090 1EFF2FE1 		bx	lr
 202              		.cfi_endproc
 203              	.LFE0:
 205              		.section	.text.__RME_Putchar,"ax",%progbits
 206              		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 6


 207              		.global	__RME_Putchar
 208              		.syntax unified
 209              		.arm
 211              	__RME_Putchar:
 212              	.LVL2:
 213              	.LFB1:
  59:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PUTCHAR(Char);
 214              		.loc 1 59 1 is_stmt 1 view -0
 215              		.cfi_startproc
 216              		@ args = 0, pretend = 0, frame = 0
 217              		@ frame_needed = 0, uses_anonymous_args = 0
 218              		@ link register save eliminated.
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 219              		.loc 1 60 5 view .LVU36
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 220              		.loc 1 60 5 view .LVU37
 221 0000 012AA0E3 		mov	r2, #4096
 222 0004 00204EE3 		movt	r2, 57344
 223              	.L19:
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 224              		.loc 1 60 5 discriminator 1 view .LVU38
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 225              		.loc 1 60 5 discriminator 1 view .LVU39
 226 0008 2C3092E5 		ldr	r3, [r2, #44]
 227 000c 080013E3 		tst	r3, #8
 228 0010 FCFFFF0A 		beq	.L19
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 229              		.loc 1 60 5 discriminator 2 view .LVU40
 230 0014 300082E5 		str	r0, [r2, #48]
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 231              		.loc 1 60 5 discriminator 2 view .LVU41
 232              		.loc 1 61 5 discriminator 2 view .LVU42
  62:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 233              		.loc 1 62 1 is_stmt 0 discriminator 2 view .LVU43
 234 0018 0000A0E3 		mov	r0, #0
 235              	.LVL3:
 236              		.loc 1 62 1 discriminator 2 view .LVU44
 237 001c 1EFF2FE1 		bx	lr
 238              		.cfi_endproc
 239              	.LFE1:
 241              		.section	.text.__RME_A7A_Int_Local_Init,"ax",%progbits
 242              		.align	2
 243              		.global	__RME_A7A_Int_Local_Init
 244              		.syntax unified
 245              		.arm
 247              	__RME_A7A_Int_Local_Init:
 248              	.LFB3:
  63:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Putchar ************************************************/
  64:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  65:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_CPU_Local_Get ******************************************
  66:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the CPU-local data structures. This is to identify where we are
  67:../../Source/Platform/A7A/rme_platform_a7a.c ****               executing.
  68:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  69:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  70:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : struct RME_CPU_Local* - The CPU-local data structures.
  71:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  72:../../Source/Platform/A7A/rme_platform_a7a.c **** /*struct RME_CPU_Local* __RME_A7A_CPU_Local_Get(void)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 7


  73:../../Source/Platform/A7A/rme_platform_a7a.c **** {
  74:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return &RME_A7A_Local[__RME_A7A_MPIDR_Get()&0x03];
  75:../../Source/Platform/A7A/rme_platform_a7a.c **** }*/
  76:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_CPU_Local_Get *************************************/
  77:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  78:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Init ***********************************************
  79:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
  80:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
  81:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
  82:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  83:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  84:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
  85:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  86:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Init(void)
  87:../../Source/Platform/A7A/rme_platform_a7a.c **** {
  88:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
  89:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Lines;
  90:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  91:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Who implemented the GIC, what variant, how many interrupts? */
  92:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_IIDR;
  93:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
  94:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>24);
  95:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Variant: ");
  96:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>20)&0xF);
  97:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Revision: ");
  98:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>12)&0xF);
  99:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Implementer: 0x");
 100:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_DBG_U(Temp&0xFFF);
 101:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 102:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* How many locked SPIs, security extension enabled or not, number of
 103:../../Source/Platform/A7A/rme_platform_a7a.c ****      * actual CPUs and interrupt lines */
 104:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_TYPER;
 105:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
 106:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 107:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Security extension: ");
 108:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>10)&0x1);
 109:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: CPU number: ");
 110:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(((Temp>>5)&0x7)+1);
 111:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 112:../../Source/Platform/A7A/rme_platform_a7a.c ****     Lines=((Temp&0x1F)+1)*32;
 113:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 114:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 115:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 116:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 0, and disable all */
 117:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/32;Temp++)
 118:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 119:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 120:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 121:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 122:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 123:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 124:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Set the priority of all such interrupts to the lowest level */
 125:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/4;Temp++)
 126:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 127:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 128:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts target CPU0 */
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=8;Temp<Lines/4;Temp++)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 8


 130:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 131:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 132:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts are edge triggered, and use 1-N model */
 133:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/16;Temp++)
 134:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 135:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 136:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable the interrupt controller */
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 138:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 139:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 1, unless otherwise noted, and disable all */
 140:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/32;Temp++)
 141:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 142:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 143:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_IGROUPR(Temp)=0xFFFFFFFFU;
 144:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 145:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 147:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the priority of all such interrupts to the lowest level*/
 148:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/4;Temp++)
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xE0E0E0E0U;
 150:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 151:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts target CPU0 */
 152:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=8;Temp<Lines/4;Temp++)
 153:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 155:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts are edge triggered, and use 1-N model */
 156:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/16;Temp++)
 157:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICFGR(Temp)=0xFFFFFFFFU;
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 159:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the interrupt controller */
 160:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 163:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Init ******************************************/
 164:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Local_Init *****************************************
 166:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the local CPU interface of the processor.
 167:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 168:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 169:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 170:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 171:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Local_Init(void)
 172:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 249              		.loc 1 172 1 is_stmt 1 view -0
 250              		.cfi_startproc
 251              		@ args = 0, pretend = 0, frame = 0
 252              		@ frame_needed = 0, uses_anonymous_args = 0
 253              		@ link register save eliminated.
 173:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Priority grouping */
 174:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_BPR=RME_A7A_GIC_GROUPING;
 254              		.loc 1 174 2 view .LVU46
 255              		.loc 1 174 18 is_stmt 0 view .LVU47
 256 0000 0030A0E3 		mov	r3, #0
 175:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 176:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 177:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable all interrupts to this interface - FIQ is bypassed, and all
 178:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * interrupts go through the IRQ. The FIQ feature is only available on
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 9


 179:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * the stabdalone FIQ interrupt line */
 180:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_ENABLEGRP0;
 257              		.loc 1 180 19 view .LVU48
 258 0004 0110A0E3 		mov	r1, #1
 174:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 259              		.loc 1 174 18 view .LVU49
 260 0008 0320A0E1 		mov	r2, r3
 261 000c F0384FE3 		movt	r3, 63728
 262 0010 042183E5 		str	r2, [r3, #260]
 263              		.loc 1 180 2 is_stmt 1 view .LVU50
 181:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 182:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_CBPR|RME_A7A_GICC_FIQEN|
 183:../../Source/Platform/A7A/rme_platform_a7a.c **** 			           RME_A7A_GICC_ENABLEGRP1|RME_A7A_GICC_ENABLEGRP0;
 184:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 185:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 186:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* No interrupts are masked - This must be set at last because enabling
 187:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * will trash the contents of this register if previously set. To maintain
 188:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * compatibility across all possible implementations, no priority level
 189:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * lower than 0xF0 will be considered valid */
 190:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_PMR=0xF0U;
 264              		.loc 1 190 18 is_stmt 0 view .LVU51
 265 0014 F020A0E3 		mov	r2, #240
 180:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 266              		.loc 1 180 19 view .LVU52
 267 0018 001183E5 		str	r1, [r3, #256]
 268              		.loc 1 190 2 is_stmt 1 view .LVU53
 269              		.loc 1 190 18 is_stmt 0 view .LVU54
 270 001c 042183E5 		str	r2, [r3, #260]
 191:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 271              		.loc 1 191 1 view .LVU55
 272 0020 1EFF2FE1 		bx	lr
 273              		.cfi_endproc
 274              	.LFE3:
 276              		.section	.text.__RME_A7A_Feature_Get,"ax",%progbits
 277              		.align	2
 278              		.global	__RME_A7A_Feature_Get
 279              		.syntax unified
 280              		.arm
 282              	__RME_A7A_Feature_Get:
 283              	.LFB47:
 284              		.cfi_startproc
 285              		@ args = 0, pretend = 0, frame = 0
 286              		@ frame_needed = 0, uses_anonymous_args = 0
 287              		@ link register save eliminated.
 288 0000 1EFF2FE1 		bx	lr
 289              		.cfi_endproc
 290              	.LFE47:
 292              		.section	.text.__RME_A7A_Mem_Init,"ax",%progbits
 293              		.align	2
 294              		.global	__RME_A7A_Mem_Init
 295              		.syntax unified
 296              		.arm
 298              	__RME_A7A_Mem_Init:
 299              	.LVL4:
 300              	.LFB6:
 192:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Local_Init ************************************/
 193:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 10


 194:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Timer_Init *********************************************
 195:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 196:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 197:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 198:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 199:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 200:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 201:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 202:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Timer_Init(void)
 203:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 204:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 205:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 206:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Writing this will also write the counter register as well */
 207:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTLR=RME_A7A_SYSTICK_VAL;
 208:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 209:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTISR=0;
 210:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 211:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTCTLR=RME_A7A_PTWD_PTCTLR_PRESC(0)|
 212:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 213:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_AUTOREL|
 214:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_TIMEN;
 215:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 216:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the timer interrupt in the GIC */
 217:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_ISENABLER(0)|=1<<29;
 218:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 219:../../Source/Platform/A7A/rme_platform_a7a.c **** 	#error Cortex-A7/8/15/17 is not supported at the moment.
 220:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cortex-A7/15/17 use the new generic timer, and Cortex-A8 does not
 221:../../Source/Platform/A7A/rme_platform_a7a.c **** 	have a processor timer due to very early release dates.
 222:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 223:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 224:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Timer_Init ****************************************/
 225:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 226:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Feature_Get ********************************************
 227:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Use the CPUID instruction extensively to get all the processor
 228:../../Source/Platform/A7A/rme_platform_a7a.c ****               information. We assume that all processors installed have the same
 229:../../Source/Platform/A7A/rme_platform_a7a.c ****               features.
 230:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 231:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 232:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 233:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 234:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Feature_Get(void)
 235:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 236:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 237:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* TODO: Check these flags. If not satisfied, we hang immediately. */
 238:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 239:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Feature_Get ***************************************/
 240:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 241:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Mem_Init ***********************************************
 242:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the memory map, and get the size of kernel object
 243:../../Source/Platform/A7A/rme_platform_a7a.c ****               allocation registration table(Kot) and page table reference
 244:../../Source/Platform/A7A/rme_platform_a7a.c ****               count registration table(Pgreg).
 245:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t MMap_Addr - The GRUB multiboot memory map data address.
 246:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t MMap_Length - The GRUB multiboot memory map data length.
 247:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 248:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 249:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 250:../../Source/Platform/A7A/rme_platform_a7a.c **** const rme_ptr_t RME_A7A_Mem_Info[RME_A7A_MEM_ENTRIES]={RME_A7A_MEM_CONTENTS};
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 11


 251:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Mem_Init(rme_ptr_t MMap_Addr, rme_ptr_t MMap_Length)
 252:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 301              		.loc 1 252 1 is_stmt 1 view -0
 302              		.cfi_startproc
 303              		@ args = 0, pretend = 0, frame = 0
 304              		@ frame_needed = 0, uses_anonymous_args = 0
 305              		@ link register save eliminated.
 253:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 254:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 306              		.loc 1 254 1 view .LVU57
 307 0000 1EFF2FE1 		bx	lr
 308              		.cfi_endproc
 309              	.LFE6:
 311              		.section	.text.__RME_A7A_SMP_Init,"ax",%progbits
 312              		.align	2
 313              		.global	__RME_A7A_SMP_Init
 314              		.syntax unified
 315              		.arm
 317              	__RME_A7A_SMP_Init:
 318              	.LFB49:
 319              		.cfi_startproc
 320              		@ args = 0, pretend = 0, frame = 0
 321              		@ frame_needed = 0, uses_anonymous_args = 0
 322              		@ link register save eliminated.
 323 0000 1EFF2FE1 		bx	lr
 324              		.cfi_endproc
 325              	.LFE49:
 327              		.section	.text.__RME_A7A_SMP_Tick,"ax",%progbits
 328              		.align	2
 329              		.global	__RME_A7A_SMP_Tick
 330              		.syntax unified
 331              		.arm
 333              	__RME_A7A_SMP_Tick:
 334              	.LFB51:
 335              		.cfi_startproc
 336              		@ args = 0, pretend = 0, frame = 0
 337              		@ frame_needed = 0, uses_anonymous_args = 0
 338              		@ link register save eliminated.
 339 0000 1EFF2FE1 		bx	lr
 340              		.cfi_endproc
 341              	.LFE51:
 343              		.section	.rodata.__RME_Lowlvl_Init.str1.4,"aMS",%progbits,1
 344              		.align	2
 345              	.LC0:
 346 0000 0D0A4137 		.ascii	"\015\012A7A-GIC: ProductID: \000"
 346      412D4749 
 346      433A2050 
 346      726F6475 
 346      63744944 
 347 0017 00       		.align	2
 348              	.LC1:
 349 0018 0D0A4137 		.ascii	"\015\012A7A-GIC: Variant: \000"
 349      412D4749 
 349      433A2056 
 349      61726961 
 349      6E743A20 
 350 002d 000000   		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 12


 351              	.LC2:
 352 0030 0D0A4137 		.ascii	"\015\012A7A-GIC: Revision: \000"
 352      412D4749 
 352      433A2052 
 352      65766973 
 352      696F6E3A 
 353 0046 0000     		.align	2
 354              	.LC3:
 355 0048 0D0A4137 		.ascii	"\015\012A7A-GIC: Implementer: 0x\000"
 355      412D4749 
 355      433A2049 
 355      6D706C65 
 355      6D656E74 
 356 0063 00       		.align	2
 357              	.LC4:
 358 0064 0D0A4137 		.ascii	"\015\012A7A-GIC: SPI number: \000"
 358      412D4749 
 358      433A2053 
 358      5049206E 
 358      756D6265 
 359              		.align	2
 360              	.LC5:
 361 007c 0D0A4137 		.ascii	"\015\012A7A-GIC: Security extension: \000"
 361      412D4749 
 361      433A2053 
 361      65637572 
 361      69747920 
 362              		.align	2
 363              	.LC6:
 364 009c 0D0A4137 		.ascii	"\015\012A7A-GIC: CPU number: \000"
 364      412D4749 
 364      433A2043 
 364      5055206E 
 364      756D6265 
 365              		.align	2
 366              	.LC7:
 367 00b4 0D0A4137 		.ascii	"\015\012A7A-GIC: Interrupt line number: \000"
 367      412D4749 
 367      433A2049 
 367      6E746572 
 367      72757074 
 368 00d7 00       		.align	2
 369              	.LC8:
 370 00d8 0D0A4137 		.ascii	"\015\012A7A-Vector: 0x\000"
 370      412D5665 
 370      63746F72 
 370      3A203078 
 370      00
 371 00e9 000000   		.align	2
 372              	.LC9:
 373 00ec 0D0A4137 		.ascii	"\015\012A7A-Non-Secure: \000"
 373      412D4E6F 
 373      6E2D5365 
 373      63757265 
 373      3A2000
 374              		.section	.text.__RME_Lowlvl_Init,"ax",%progbits
 375              		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 13


 376              		.global	__RME_Lowlvl_Init
 377              		.syntax unified
 378              		.arm
 380              	__RME_Lowlvl_Init:
 381              	.LFB9:
 255:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Mem_Init ******************************************/
 256:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 257:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Init ***********************************************
 258:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Start all other processors, one by one.
 259:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 260:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 261:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 262:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 263:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Init(void)
 264:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 265:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 266:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 267:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Init ******************************************/
 268:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 269:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Tick ***********************************************
 270:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Send IPI to all other cores,to run their handler on the time.
 271:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 272:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 273:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 274:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 275:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Tick(void)
 276:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 277:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 278:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 279:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Tick *******************************************/
 280:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 281:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Lowlvl_Init **********************************************
 282:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the low-level hardware. This assumes that we are already
 283:../../Source/Platform/A7A/rme_platform_a7a.c ****               in Supervisor (SVC) mode.
 284:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 285:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 286:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 287:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 288:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Lowlvl_Init(void)
 289:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 382              		.loc 1 289 1 view -0
 383              		.cfi_startproc
 384              		@ args = 0, pretend = 0, frame = 0
 385              		@ frame_needed = 0, uses_anonymous_args = 0
 290:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 291:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_LOW_LEVEL_INIT();
 386              		.loc 1 291 5 view .LVU59
 387              		.loc 1 291 5 view .LVU60
 388              		.loc 1 291 5 view .LVU61
 292:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 293:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local data structure */
 294:../../Source/Platform/A7A/rme_platform_a7a.c ****     _RME_CPU_Local_Init(&RME_A7A_Local,0);
 389              		.loc 1 294 5 view .LVU62
 289:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 390              		.loc 1 289 1 is_stmt 0 view .LVU63
 391 0000 70402DE9 		push	{r4, r5, r6, lr}
 392              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 14


 393              		.cfi_offset 4, -16
 394              		.cfi_offset 5, -12
 395              		.cfi_offset 6, -8
 396              		.cfi_offset 14, -4
 397              	.LBB66:
 398              	.LBB67:
  92:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 399              		.loc 1 92 9 view .LVU64
 400 0004 014AA0E3 		mov	r4, #4096
 401 0008 F0484FE3 		movt	r4, 63728
 402              	.LBE67:
 403              	.LBE66:
 404              		.loc 1 294 5 view .LVU65
 405 000c 000000E3 		movw	r0, #:lower16:.LANCHOR0
 406 0010 000040E3 		movt	r0, #:upper16:.LANCHOR0
 407 0014 0010A0E3 		mov	r1, #0
 408 0018 FEFFFFEB 		bl	_RME_CPU_Local_Init
 409              	.LVL5:
 295:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 296:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the interrupt controller */
 297:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_Int_Init();
 410              		.loc 1 297 5 is_stmt 1 view .LVU66
 411              	.LBB71:
 412              	.LBI66:
  86:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 413              		.loc 1 86 6 view .LVU67
 414              	.LBB68:
  88:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Lines;
 415              		.loc 1 88 5 view .LVU68
  89:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 416              		.loc 1 89 5 view .LVU69
  92:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 417              		.loc 1 92 5 view .LVU70
  92:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 418              		.loc 1 92 9 is_stmt 0 view .LVU71
 419 001c 085094E5 		ldr	r5, [r4, #8]
 420              	.LVL6:
  93:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>24);
 421              		.loc 1 93 5 is_stmt 1 view .LVU72
 422 0020 000000E3 		movw	r0, #:lower16:.LC0
 423 0024 000040E3 		movt	r0, #:upper16:.LC0
 424 0028 FEFFFFEB 		bl	RME_Str_Print
 425              	.LVL7:
  94:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Variant: ");
 426              		.loc 1 94 5 view .LVU73
 427 002c 250CA0E1 		lsr	r0, r5, #24
 428 0030 FEFFFFEB 		bl	RME_Int_Print
 429              	.LVL8:
  95:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>20)&0xF);
 430              		.loc 1 95 5 view .LVU74
 431 0034 000000E3 		movw	r0, #:lower16:.LC1
 432 0038 000040E3 		movt	r0, #:upper16:.LC1
 433 003c FEFFFFEB 		bl	RME_Str_Print
 434              	.LVL9:
  96:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Revision: ");
 435              		.loc 1 96 5 view .LVU75
 436 0040 550AE3E7 		ubfx	r0, r5, #20, #4
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 15


 437 0044 FEFFFFEB 		bl	RME_Int_Print
 438              	.LVL10:
  97:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>12)&0xF);
 439              		.loc 1 97 5 view .LVU76
 440 0048 000000E3 		movw	r0, #:lower16:.LC2
 441 004c 000040E3 		movt	r0, #:upper16:.LC2
 442 0050 FEFFFFEB 		bl	RME_Str_Print
 443              	.LVL11:
  98:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Implementer: 0x");
 444              		.loc 1 98 5 view .LVU77
 445 0054 5506E3E7 		ubfx	r0, r5, #12, #4
 446 0058 FEFFFFEB 		bl	RME_Int_Print
 447              	.LVL12:
  99:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_DBG_U(Temp&0xFFF);
 448              		.loc 1 99 5 view .LVU78
 449 005c 000000E3 		movw	r0, #:lower16:.LC3
 450 0060 000040E3 		movt	r0, #:upper16:.LC3
 451 0064 FEFFFFEB 		bl	RME_Str_Print
 452              	.LVL13:
 104:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
 453              		.loc 1 104 5 view .LVU79
 104:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
 454              		.loc 1 104 9 is_stmt 0 view .LVU80
 455 0068 044094E5 		ldr	r4, [r4, #4]
 456              	.LVL14:
 105:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 457              		.loc 1 105 5 is_stmt 1 view .LVU81
 458 006c 000000E3 		movw	r0, #:lower16:.LC4
 459 0070 000040E3 		movt	r0, #:upper16:.LC4
 112:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 460              		.loc 1 112 17 is_stmt 0 view .LVU82
 461 0074 1F5004E2 		and	r5, r4, #31
 105:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 462              		.loc 1 105 5 view .LVU83
 463 0078 FEFFFFEB 		bl	RME_Str_Print
 464              	.LVL15:
 106:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Security extension: ");
 465              		.loc 1 106 5 is_stmt 1 view .LVU84
 466 007c 2408A0E1 		lsr	r0, r4, #16
 467 0080 FEFFFFEB 		bl	RME_Int_Print
 468              	.LVL16:
 107:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>10)&0x1);
 469              		.loc 1 107 5 view .LVU85
 470 0084 000000E3 		movw	r0, #:lower16:.LC5
 471 0088 000040E3 		movt	r0, #:upper16:.LC5
 472 008c FEFFFFEB 		bl	RME_Str_Print
 473              	.LVL17:
 108:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: CPU number: ");
 474              		.loc 1 108 5 view .LVU86
 475 0090 5405E0E7 		ubfx	r0, r4, #10, #1
 476 0094 FEFFFFEB 		bl	RME_Int_Print
 477              	.LVL18:
 109:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(((Temp>>5)&0x7)+1);
 478              		.loc 1 109 5 view .LVU87
 479 0098 000000E3 		movw	r0, #:lower16:.LC6
 480 009c 000040E3 		movt	r0, #:upper16:.LC6
 481 00a0 FEFFFFEB 		bl	RME_Str_Print
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 16


 482              	.LVL19:
 110:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 483              		.loc 1 110 5 view .LVU88
 484 00a4 D402E2E7 		ubfx	r0, r4, #5, #3
 112:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 485              		.loc 1 112 23 is_stmt 0 view .LVU89
 486 00a8 014085E2 		add	r4, r5, #1
 487              	.LVL20:
 110:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 488              		.loc 1 110 5 view .LVU90
 489 00ac 010080E2 		add	r0, r0, #1
 112:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 490              		.loc 1 112 10 view .LVU91
 491 00b0 8442A0E1 		lsl	r4, r4, #5
 110:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 492              		.loc 1 110 5 view .LVU92
 493 00b4 FEFFFFEB 		bl	RME_Int_Print
 494              	.LVL21:
 111:../../Source/Platform/A7A/rme_platform_a7a.c ****     Lines=((Temp&0x1F)+1)*32;
 495              		.loc 1 111 5 is_stmt 1 view .LVU93
 496 00b8 000000E3 		movw	r0, #:lower16:.LC7
 497 00bc 000040E3 		movt	r0, #:upper16:.LC7
 498 00c0 FEFFFFEB 		bl	RME_Str_Print
 499              	.LVL22:
 112:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 500              		.loc 1 112 5 view .LVU94
 113:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 501              		.loc 1 113 5 view .LVU95
 502 00c4 0400A0E1 		mov	r0, r4
 503 00c8 FEFFFFEB 		bl	RME_Int_Print
 504              	.LVL23:
 117:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 505              		.loc 1 117 2 view .LVU96
 117:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 506              		.loc 1 117 13 view .LVU97
 507 00cc A11400E3 		movw	r1, #1185
 113:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 508              		.loc 1 113 5 is_stmt 0 view .LVU98
 509 00d0 4A3DA0E3 		mov	r3, #4736
 510 00d4 3C1E43E3 		movt	r1, 15932
 119:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 511              		.loc 1 119 29 view .LVU99
 512 00d8 0020E0E3 		mvn	r2, #0
 513 00dc 011085E0 		add	r1, r5, r1
 120:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 514              		.loc 1 120 29 view .LVU100
 515 00e0 0000A0E3 		mov	r0, #0
 113:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 516              		.loc 1 113 5 view .LVU101
 517 00e4 F0384FE3 		movt	r3, 63728
 518 00e8 0111A0E1 		lsl	r1, r1, #2
 519              	.LVL24:
 520              	.L28:
 119:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 521              		.loc 1 119 3 is_stmt 1 view .LVU102
 119:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 522              		.loc 1 119 29 is_stmt 0 view .LVU103
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 17


 523 00ec 002083E5 		str	r2, [r3]
 120:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 524              		.loc 1 120 3 is_stmt 1 view .LVU104
 117:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 525              		.loc 1 117 2 is_stmt 0 view .LVU105
 526 00f0 043083E2 		add	r3, r3, #4
 120:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 527              		.loc 1 120 29 view .LVU106
 528 00f4 040203E5 		str	r0, [r3, #-516]
 121:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 529              		.loc 1 121 3 is_stmt 1 view .LVU107
 121:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 530              		.loc 1 121 31 is_stmt 0 view .LVU108
 531 00f8 042103E5 		str	r2, [r3, #-260]
 117:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 532              		.loc 1 117 27 is_stmt 1 view .LVU109
 117:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 533              		.loc 1 117 13 view .LVU110
 117:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 534              		.loc 1 117 2 is_stmt 0 view .LVU111
 535 00fc 030051E1 		cmp	r1, r3
 536 0100 F9FFFF1A 		bne	.L28
 537              	.LVL25:
 125:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 538              		.loc 1 125 13 is_stmt 1 view .LVU112
 539 0104 052BA0E3 		mov	r2, #5120
 126:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 540              		.loc 1 126 32 is_stmt 0 view .LVU113
 541 0108 A0100AE3 		movw	r1, #41120
 542 010c A0104AE3 		movt	r1, 41120
 125:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 543              		.loc 1 125 23 view .LVU114
 544 0110 0230A0E1 		mov	r3, r2
 545 0114 F0284FE3 		movt	r2, 63728
 546 0118 2401A0E1 		lsr	r0, r4, #2
 547 011c 022084E0 		add	r2, r4, r2
 548 0120 F0384FE3 		movt	r3, 63728
 549              	.LVL26:
 550              	.L29:
 126:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 551              		.loc 1 126 3 is_stmt 1 view .LVU115
 126:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 552              		.loc 1 126 32 is_stmt 0 view .LVU116
 553 0124 041083E4 		str	r1, [r3], #4
 125:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 554              		.loc 1 125 26 is_stmt 1 view .LVU117
 125:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 555              		.loc 1 125 13 view .LVU118
 125:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 556              		.loc 1 125 2 is_stmt 0 view .LVU119
 557 0128 030052E1 		cmp	r2, r3
 558 012c FCFFFF1A 		bne	.L29
 559              	.LVL27:
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 560              		.loc 1 129 13 is_stmt 1 view .LVU120
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 561              		.loc 1 129 2 is_stmt 0 view .LVU121
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 18


 562 0130 080050E3 		cmp	r0, #8
 563 0134 0700000A 		beq	.L30
 564 0138 203801E3 		movw	r3, #6176
 130:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 565              		.loc 1 130 31 view .LVU122
 566 013c 011100E3 		movw	r1, #257
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 567              		.loc 1 129 2 view .LVU123
 568 0140 F0384FE3 		movt	r3, 63728
 569 0144 012B82E2 		add	r2, r2, #1024
 130:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 570              		.loc 1 130 31 view .LVU124
 571 0148 011140E3 		movt	r1, 257
 572              	.LVL28:
 573              	.L31:
 130:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 574              		.loc 1 130 3 is_stmt 1 view .LVU125
 130:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 575              		.loc 1 130 31 is_stmt 0 view .LVU126
 576 014c 041083E4 		str	r1, [r3], #4
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 577              		.loc 1 129 26 is_stmt 1 view .LVU127
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 578              		.loc 1 129 13 view .LVU128
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 579              		.loc 1 129 2 is_stmt 0 view .LVU129
 580 0150 030052E1 		cmp	r2, r3
 581 0154 FCFFFF1A 		bne	.L31
 582              	.L30:
 583              	.LVL29:
 133:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 584              		.loc 1 133 13 is_stmt 1 view .LVU130
 585 0158 072BA0E3 		mov	r2, #7168
 133:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 586              		.loc 1 133 23 is_stmt 0 view .LVU131
 587 015c 073BA0E3 		mov	r3, #7168
 588 0160 2441A0E1 		lsr	r4, r4, #2
 589              	.LVL30:
 134:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 590              		.loc 1 134 27 view .LVU132
 591 0164 551505E3 		movw	r1, #21845
 592 0168 F0284FE3 		movt	r2, 63728
 593 016c 022084E0 		add	r2, r4, r2
 133:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 594              		.loc 1 133 23 view .LVU133
 595 0170 F0384FE3 		movt	r3, 63728
 134:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 596              		.loc 1 134 27 view .LVU134
 597 0174 551545E3 		movt	r1, 21845
 598              	.LVL31:
 599              	.L32:
 134:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 600              		.loc 1 134 3 is_stmt 1 view .LVU135
 134:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 601              		.loc 1 134 27 is_stmt 0 view .LVU136
 602 0178 041083E4 		str	r1, [r3], #4
 133:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 19


 603              		.loc 1 133 27 is_stmt 1 view .LVU137
 133:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 604              		.loc 1 133 13 view .LVU138
 133:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 605              		.loc 1 133 2 is_stmt 0 view .LVU139
 606 017c 030052E1 		cmp	r2, r3
 607 0180 FCFFFF1A 		bne	.L32
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 608              		.loc 1 137 2 is_stmt 1 view .LVU140
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 609              		.loc 1 137 19 is_stmt 0 view .LVU141
 610 0184 012AA0E3 		mov	r2, #4096
 611              	.LBE68:
 612              	.LBE71:
 613              	.LBB72:
 614              	.LBB73:
 174:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 615              		.loc 1 174 18 view .LVU142
 616 0188 0030A0E3 		mov	r3, #0
 617 018c F0384FE3 		movt	r3, 63728
 618              	.LBE73:
 619              	.LBE72:
 620              	.LBB77:
 621              	.LBB69:
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 622              		.loc 1 137 19 view .LVU143
 623 0190 0310A0E3 		mov	r1, #3
 624 0194 F0284FE3 		movt	r2, 63728
 625              	.LBE69:
 626              	.LBE77:
 627              	.LBB78:
 628              	.LBB74:
 174:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 629              		.loc 1 174 18 view .LVU144
 630 0198 0000A0E3 		mov	r0, #0
 631              	.LBE74:
 632              	.LBE78:
 633              	.LBB79:
 634              	.LBB70:
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 635              		.loc 1 137 19 view .LVU145
 636 019c 001082E5 		str	r1, [r2]
 637              	.LVL32:
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 638              		.loc 1 137 19 view .LVU146
 639              	.LBE70:
 640              	.LBE79:
 298:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 299:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize CPU-local interrupt resources */
 300:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Int_Local_Init();
 641              		.loc 1 300 2 is_stmt 1 view .LVU147
 642              	.LBB80:
 643              	.LBI72:
 171:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 644              		.loc 1 171 6 view .LVU148
 645              	.LBB75:
 174:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 20


 646              		.loc 1 174 2 view .LVU149
 180:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 647              		.loc 1 180 19 is_stmt 0 view .LVU150
 648 01a0 0110A0E3 		mov	r1, #1
 174:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 649              		.loc 1 174 18 view .LVU151
 650 01a4 040183E5 		str	r0, [r3, #260]
 180:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 651              		.loc 1 180 2 is_stmt 1 view .LVU152
 190:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 652              		.loc 1 190 18 is_stmt 0 view .LVU153
 653 01a8 F020A0E3 		mov	r2, #240
 180:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 654              		.loc 1 180 19 view .LVU154
 655 01ac 001183E5 		str	r1, [r3, #256]
 190:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 656              		.loc 1 190 2 is_stmt 1 view .LVU155
 657              	.LBE75:
 658              	.LBE80:
 301:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 302:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the vector table */
 303:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Vector: 0x");
 659              		.loc 1 303 5 is_stmt 0 view .LVU156
 660 01b0 000000E3 		movw	r0, #:lower16:.LC8
 661              	.LBB81:
 662              	.LBB76:
 190:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 663              		.loc 1 190 18 view .LVU157
 664 01b4 042183E5 		str	r2, [r3, #260]
 665              	.LBE76:
 666              	.LBE81:
 667              		.loc 1 303 5 is_stmt 1 view .LVU158
 668 01b8 000040E3 		movt	r0, #:upper16:.LC8
 669 01bc FEFFFFEB 		bl	RME_Str_Print
 670              	.LVL33:
 304:../../Source/Platform/A7A/rme_platform_a7a.c ****    // RME_DBG_U((rme_ptr_t)&__RME_A7A_Vector_Table);
 305:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_VBAR_Set((rme_ptr_t)&__RME_A7A_Vector_Table);
 671              		.loc 1 305 5 view .LVU159
 672 01c0 000000E3 		movw	r0, #:lower16:__RME_A7A_Vector_Table
 673 01c4 000040E3 		movt	r0, #:upper16:__RME_A7A_Vector_Table
 674 01c8 FEFFFFEB 		bl	__RME_A7A_VBAR_Set
 675              	.LVL34:
 306:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 307:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Non-Secure: ");
 676              		.loc 1 307 5 view .LVU160
 677 01cc 000000E3 		movw	r0, #:lower16:.LC9
 308:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_DBG_U(__RME_A7A_SCR_Get());
 309:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 678              		.loc 1 309 1 is_stmt 0 view .LVU161
 679 01d0 7040BDE8 		pop	{r4, r5, r6, lr}
 680              		.cfi_restore 14
 681              		.cfi_restore 6
 682              		.cfi_restore 5
 683              		.cfi_restore 4
 684              		.cfi_def_cfa_offset 0
 307:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_DBG_U(__RME_A7A_SCR_Get());
 685              		.loc 1 307 5 view .LVU162
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 21


 686 01d4 000040E3 		movt	r0, #:upper16:.LC9
 687 01d8 FEFFFFEA 		b	RME_Str_Print
 688              	.LVL35:
 689              		.cfi_endproc
 690              	.LFE9:
 692              		.section	.text.__RME_Pgt_Kom_Init,"ax",%progbits
 693              		.align	2
 694              		.global	__RME_Pgt_Kom_Init
 695              		.syntax unified
 696              		.arm
 698              	__RME_Pgt_Kom_Init:
 699              	.LFB10:
 310:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Lowlvl_Init *****************************************/
 311:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 312:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Kom_Init *********************************************
 313:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the kernel mapping tables, so it can be added to all the
 314:../../Source/Platform/A7A/rme_platform_a7a.c ****               top-level page tables. Currently this have no consideration for >1TB
 315:../../Source/Platform/A7A/rme_platform_a7a.c ****               RAM, and is not NUMA-aware.
 316:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 317:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 318:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 319:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 320:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Kom_Init(void)
 321:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 700              		.loc 1 321 1 is_stmt 1 view -0
 701              		.cfi_startproc
 702              		@ args = 0, pretend = 0, frame = 0
 703              		@ frame_needed = 0, uses_anonymous_args = 0
 704              		@ link register save eliminated.
 322:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 323:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 705              		.loc 1 323 5 view .LVU164
 324:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 706              		.loc 1 324 1 is_stmt 0 view .LVU165
 707 0000 0000A0E3 		mov	r0, #0
 708 0004 1EFF2FE1 		bx	lr
 709              		.cfi_endproc
 710              	.LFE10:
 712              		.section	.text.__RME_SMP_Low_Level_Init,"ax",%progbits
 713              		.align	2
 714              		.global	__RME_SMP_Low_Level_Init
 715              		.syntax unified
 716              		.arm
 718              	__RME_SMP_Low_Level_Init:
 719              	.LFB59:
 720              		.cfi_startproc
 721              		@ args = 0, pretend = 0, frame = 0
 722              		@ frame_needed = 0, uses_anonymous_args = 0
 723              		@ link register save eliminated.
 724 0000 0000A0E3 		mov	r0, #0
 725 0004 1EFF2FE1 		bx	lr
 726              		.cfi_endproc
 727              	.LFE59:
 729              		.section	.text.__RME_Boot,"ax",%progbits
 730              		.align	2
 731              		.global	__RME_Boot
 732              		.syntax unified
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 22


 733              		.arm
 735              	__RME_Boot:
 736              	.LFB12:
 325:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Kom_Init ****************************************/
 326:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 327:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_SMP_Low_Level_Init ******************************************
 328:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Low-level initialization for all other cores.
 329:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 330:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 331:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 332:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 333:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_SMP_Low_Level_Init(void)
 334:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 335:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 336:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_SMP_LOW_LEVEL_INIT();
 337:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local variables */
 338:../../Source/Platform/A7A/rme_platform_a7a.c ****    // _RME_CPU_Local_Init(&RME_A7A_Local[RME_A7A_CPU_Cnt],RME_A7A_CPU_Cnt);
 339:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 340:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 341:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_SMP_Low_Level_Init *************************************/
 342:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 343:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Boot ********************************************************
 344:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Boot the first process in the system.
 345:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 346:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 347:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 348:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 349:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Boot(void)
 350:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 737              		.loc 1 350 1 is_stmt 1 view -0
 738              		.cfi_startproc
 739              		@ Volatile: function does not return.
 740              		@ args = 0, pretend = 0, frame = 0
 741              		@ frame_needed = 0, uses_anonymous_args = 0
 351:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize timer */
 352:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Timer_Init();
 742              		.loc 1 352 2 view .LVU167
 743              	.LBB82:
 744              	.LBI82:
 202:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 745              		.loc 1 202 6 view .LVU168
 746              	.LBB83:
 207:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 747              		.loc 1 207 5 view .LVU169
 207:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 748              		.loc 1 207 22 is_stmt 0 view .LVU170
 749 0000 0030A0E3 		mov	r3, #0
 217:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 750              		.loc 1 217 30 view .LVU171
 751 0004 012AA0E3 		mov	r2, #4096
 207:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 752              		.loc 1 207 22 view .LVU172
 753 0008 F0384FE3 		movt	r3, 63728
 754 000c 781408E3 		movw	r1, #33912
 217:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 755              		.loc 1 217 30 view .LVU173
 756 0010 F0284FE3 		movt	r2, 63728
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 23


 209:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 757              		.loc 1 209 23 view .LVU174
 758 0014 00C0A0E3 		mov	ip, #0
 207:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 759              		.loc 1 207 22 view .LVU175
 760 0018 3A1040E3 		movt	r1, 58
 211:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 761              		.loc 1 211 24 view .LVU176
 762 001c 0700A0E3 		mov	r0, #7
 763              	.LBE83:
 764              	.LBE82:
 350:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize timer */
 765              		.loc 1 350 1 view .LVU177
 766 0020 10402DE9 		push	{r4, lr}
 767              		.cfi_def_cfa_offset 8
 768              		.cfi_offset 4, -8
 769              		.cfi_offset 14, -4
 770              	.LBB85:
 771              	.LBB84:
 207:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 772              		.loc 1 207 22 view .LVU178
 773 0024 001683E5 		str	r1, [r3, #1536]
 209:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 774              		.loc 1 209 5 is_stmt 1 view .LVU179
 209:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 775              		.loc 1 209 23 is_stmt 0 view .LVU180
 776 0028 0CC683E5 		str	ip, [r3, #1548]
 211:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 777              		.loc 1 211 5 is_stmt 1 view .LVU181
 211:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 778              		.loc 1 211 24 is_stmt 0 view .LVU182
 779 002c 080683E5 		str	r0, [r3, #1544]
 217:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 780              		.loc 1 217 5 is_stmt 1 view .LVU183
 217:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 781              		.loc 1 217 30 is_stmt 0 view .LVU184
 782 0030 003192E5 		ldr	r3, [r2, #256]
 783 0034 023283E3 		orr	r3, r3, #536870912
 784 0038 003182E5 		str	r3, [r2, #256]
 785              	.LBE84:
 786              	.LBE85:
 353:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Int_Enable();
 787              		.loc 1 353 5 is_stmt 1 view .LVU185
 788 003c FEFFFFEB 		bl	__RME_Int_Enable
 789              	.LVL36:
 790              	.L44:
 354:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 791              		.loc 1 354 2 discriminator 1 view .LVU186
 792              		.loc 1 354 10 discriminator 1 view .LVU187
 793              		.loc 1 354 7 discriminator 1 view .LVU188
 794              		.loc 1 354 2 discriminator 1 view .LVU189
 795              		.loc 1 354 10 discriminator 1 view .LVU190
 796              		.loc 1 354 7 discriminator 1 view .LVU191
 797 0040 FEFFFFEA 		b	.L44
 798              		.cfi_endproc
 799              	.LFE12:
 801              		.section	.text.__RME_Reboot,"ax",%progbits
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 24


 802              		.align	2
 803              		.global	__RME_Reboot
 804              		.syntax unified
 805              		.arm
 807              	__RME_Reboot:
 808              	.LFB13:
 355:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 356:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Boot ***************************************************/
 357:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 358:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Reboot ******************************************************
 359:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Reboot the machine, abandon all operating system states.
 360:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 361:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 362:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 363:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 364:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Reboot(void)
 365:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 809              		.loc 1 365 1 view -0
 810              		.cfi_startproc
 811              		@ args = 0, pretend = 0, frame = 0
 812              		@ frame_needed = 0, uses_anonymous_args = 0
 813              		@ link register save eliminated.
 366:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 367:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 814              		.loc 1 367 1 view .LVU193
 815 0000 1EFF2FE1 		bx	lr
 816              		.cfi_endproc
 817              	.LFE13:
 819              		.section	.text.__RME_Shutdown,"ax",%progbits
 820              		.align	2
 821              		.global	__RME_Shutdown
 822              		.syntax unified
 823              		.arm
 825              	__RME_Shutdown:
 826              	.LFB45:
 827              		.cfi_startproc
 828              		@ args = 0, pretend = 0, frame = 0
 829              		@ frame_needed = 0, uses_anonymous_args = 0
 830              		@ link register save eliminated.
 831 0000 1EFF2FE1 		bx	lr
 832              		.cfi_endproc
 833              	.LFE45:
 835              		.section	.text.__RME_Svc_Param_Get,"ax",%progbits
 836              		.align	2
 837              		.global	__RME_Svc_Param_Get
 838              		.syntax unified
 839              		.arm
 841              	__RME_Svc_Param_Get:
 842              	.LVL37:
 843              	.LFB15:
 368:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Reboot *************************************************/
 369:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 370:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Shutdown ****************************************************
 371:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Shutdown the machine, abandon all operating system states.
 372:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 373:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 374:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 25


 375:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 376:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Shutdown(void)
 377:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 378:../../Source/Platform/A7A/rme_platform_a7a.c ****    // RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 379:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 380:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Shutdown ***********************************************/
 381:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 382:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Get_Syscall_Param *******************************************
 383:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the system call parameters from the stack frame.
 384:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 385:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Svc - The system service number.
 386:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Capid - The capability ID number.
 387:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Param - The parameters.
 388:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 389:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 390:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Param_Get(struct RME_Reg_Struct* Reg,rme_ptr_t* Svc,rme_ptr_t* Capid,rme_ptr_t* Para
 391:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 844              		.loc 1 391 1 view -0
 845              		.cfi_startproc
 846              		@ args = 0, pretend = 0, frame = 0
 847              		@ frame_needed = 0, uses_anonymous_args = 0
 848              		@ link register save eliminated.
 392:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Svc=(Reg->R0)>>16;
 849              		.loc 1 392 5 view .LVU195
 850              		.loc 1 392 19 is_stmt 0 view .LVU196
 851 0000 B6C0D0E1 		ldrh	ip, [r0, #6]
 852              		.loc 1 392 9 view .LVU197
 853 0004 00C081E5 		str	ip, [r1]
 393:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Capid=(Reg->R0)&0xFFFF;
 854              		.loc 1 393 5 is_stmt 1 view .LVU198
 855              		.loc 1 393 21 is_stmt 0 view .LVU199
 856 0008 B410D0E1 		ldrh	r1, [r0, #4]
 857              	.LVL38:
 858              		.loc 1 393 11 view .LVU200
 859 000c 001082E5 		str	r1, [r2]
 394:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[0]=Reg->R1;
 860              		.loc 1 394 5 is_stmt 1 view .LVU201
 861              		.loc 1 394 17 is_stmt 0 view .LVU202
 862 0010 082090E5 		ldr	r2, [r0, #8]
 863              	.LVL39:
 864              		.loc 1 394 13 view .LVU203
 865 0014 002083E5 		str	r2, [r3]
 395:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[1]=Reg->R2;
 866              		.loc 1 395 5 is_stmt 1 view .LVU204
 867              		.loc 1 395 17 is_stmt 0 view .LVU205
 868 0018 0C2090E5 		ldr	r2, [r0, #12]
 869              		.loc 1 395 13 view .LVU206
 870 001c 042083E5 		str	r2, [r3, #4]
 396:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[2]=Reg->R3;
 871              		.loc 1 396 5 is_stmt 1 view .LVU207
 872              		.loc 1 396 17 is_stmt 0 view .LVU208
 873 0020 102090E5 		ldr	r2, [r0, #16]
 874              		.loc 1 396 13 view .LVU209
 875 0024 082083E5 		str	r2, [r3, #8]
 397:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 876              		.loc 1 397 1 view .LVU210
 877 0028 1EFF2FE1 		bx	lr
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 26


 878              		.cfi_endproc
 879              	.LFE15:
 881              		.section	.text.__RME_Svc_Retval_Set,"ax",%progbits
 882              		.align	2
 883              		.global	__RME_Svc_Retval_Set
 884              		.syntax unified
 885              		.arm
 887              	__RME_Svc_Retval_Set:
 888              	.LVL40:
 889              	.LFB16:
 398:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Get_Syscall_Param **************************************/
 399:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 400:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Syscall_Retval ******************************************
 401:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the system call return value to the stack frame. This function 
 402:../../Source/Platform/A7A/rme_platform_a7a.c ****               may carry up to 4 return values. If the last 3 is not needed, just set
 403:../../Source/Platform/A7A/rme_platform_a7a.c ****               them to zero.
 404:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 405:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 406:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 407:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 408:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Retval_Set(struct RME_Reg_Struct* Reg,rme_ret_t Retval)
 409:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 890              		.loc 1 409 1 is_stmt 1 view -0
 891              		.cfi_startproc
 892              		@ args = 0, pretend = 0, frame = 0
 893              		@ frame_needed = 0, uses_anonymous_args = 0
 894              		@ link register save eliminated.
 410:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=(rme_ptr_t)Retval;
 895              		.loc 1 410 5 view .LVU212
 896              		.loc 1 410 12 is_stmt 0 view .LVU213
 897 0000 041080E5 		str	r1, [r0, #4]
 411:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 898              		.loc 1 411 1 view .LVU214
 899 0004 1EFF2FE1 		bx	lr
 900              		.cfi_endproc
 901              	.LFE16:
 903              		.section	.text.__RME_Thd_Reg_Init,"ax",%progbits
 904              		.align	2
 905              		.global	__RME_Thd_Reg_Init
 906              		.syntax unified
 907              		.arm
 909              	__RME_Thd_Reg_Init:
 910              	.LVL41:
 911              	.LFB17:
 412:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Syscall_Retval *************************************/
 413:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 414:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Init ************************************************
 415:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the register set for the thread.
 416:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Entry - The thread entry address.
 417:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Stack - The thread stack address.
 418:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param - The parameter to pass to it.
 419:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set content generated.
 420:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 421:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 422:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Init(rme_ptr_t Attr,rme_ptr_t Entry,rme_ptr_t Stack,rme_ptr_t Param,
 423:../../Source/Platform/A7A/rme_platform_a7a.c ****                                        struct RME_Reg_Struct* Reg)
 424:../../Source/Platform/A7A/rme_platform_a7a.c **** {
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 27


 912              		.loc 1 424 1 is_stmt 1 view -0
 913              		.cfi_startproc
 914              		@ args = 4, pretend = 0, frame = 0
 915              		@ frame_needed = 0, uses_anonymous_args = 0
 916              		@ link register save eliminated.
 425:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the entry and stack */
 426:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Entry;
 917              		.loc 1 426 5 view .LVU216
 424:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the entry and stack */
 918              		.loc 1 424 1 is_stmt 0 view .LVU217
 919 0000 00009DE5 		ldr	r0, [sp]
 920              	.LVL42:
 921              		.loc 1 426 12 view .LVU218
 922 0004 3C1080E5 		str	r1, [r0, #60]
 427:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Stack;
 923              		.loc 1 427 5 is_stmt 1 view .LVU219
 924              		.loc 1 427 12 is_stmt 0 view .LVU220
 925 0008 342080E5 		str	r2, [r0, #52]
 428:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the parameter */
 429:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=Param;
 926              		.loc 1 429 5 is_stmt 1 view .LVU221
 927              		.loc 1 429 12 is_stmt 0 view .LVU222
 928 000c 043080E5 		str	r3, [r0, #4]
 430:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 929              		.loc 1 430 1 view .LVU223
 930 0010 1EFF2FE1 		bx	lr
 931              		.cfi_endproc
 932              	.LFE17:
 934              		.section	.text.__RME_Thd_Reg_Copy,"ax",%progbits
 935              		.align	2
 936              		.global	__RME_Thd_Reg_Copy
 937              		.syntax unified
 938              		.arm
 940              	__RME_Thd_Reg_Copy:
 941              	.LVL43:
 942              	.LFB18:
 431:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Init *******************************************/
 432:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 433:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Copy ************************************************
 434:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Copy one set of registers into another.
 435:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Src - The source register set.
 436:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Dst - The destination register set.
 437:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 438:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 439:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Copy(struct RME_Reg_Struct* Dst, struct RME_Reg_Struct* Src)
 440:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 943              		.loc 1 440 1 is_stmt 1 view -0
 944              		.cfi_startproc
 945              		@ args = 0, pretend = 0, frame = 0
 946              		@ frame_needed = 0, uses_anonymous_args = 0
 947              		@ link register save eliminated.
 441:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that the ordering is the same so the compiler can optimize */
 442:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->CPSR=Src->CPSR;
 948              		.loc 1 442 5 view .LVU225
 949              		.loc 1 442 18 is_stmt 0 view .LVU226
 950 0000 003091E5 		ldr	r3, [r1]
 951              		.loc 1 442 14 view .LVU227
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 28


 952 0004 003080E5 		str	r3, [r0]
 443:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R0=Src->R0;
 953              		.loc 1 443 5 is_stmt 1 view .LVU228
 954              		.loc 1 443 16 is_stmt 0 view .LVU229
 955 0008 043091E5 		ldr	r3, [r1, #4]
 956              		.loc 1 443 12 view .LVU230
 957 000c 043080E5 		str	r3, [r0, #4]
 444:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R1=Src->R1;
 958              		.loc 1 444 5 is_stmt 1 view .LVU231
 959              		.loc 1 444 16 is_stmt 0 view .LVU232
 960 0010 083091E5 		ldr	r3, [r1, #8]
 961              		.loc 1 444 12 view .LVU233
 962 0014 083080E5 		str	r3, [r0, #8]
 445:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R2=Src->R2;
 963              		.loc 1 445 5 is_stmt 1 view .LVU234
 964              		.loc 1 445 16 is_stmt 0 view .LVU235
 965 0018 0C3091E5 		ldr	r3, [r1, #12]
 966              		.loc 1 445 12 view .LVU236
 967 001c 0C3080E5 		str	r3, [r0, #12]
 446:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R3=Src->R3;
 968              		.loc 1 446 5 is_stmt 1 view .LVU237
 969              		.loc 1 446 16 is_stmt 0 view .LVU238
 970 0020 103091E5 		ldr	r3, [r1, #16]
 971              		.loc 1 446 12 view .LVU239
 972 0024 103080E5 		str	r3, [r0, #16]
 447:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R4=Src->R4;
 973              		.loc 1 447 5 is_stmt 1 view .LVU240
 974              		.loc 1 447 16 is_stmt 0 view .LVU241
 975 0028 143091E5 		ldr	r3, [r1, #20]
 976              		.loc 1 447 12 view .LVU242
 977 002c 143080E5 		str	r3, [r0, #20]
 448:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R5=Src->R5;
 978              		.loc 1 448 5 is_stmt 1 view .LVU243
 979              		.loc 1 448 16 is_stmt 0 view .LVU244
 980 0030 183091E5 		ldr	r3, [r1, #24]
 981              		.loc 1 448 12 view .LVU245
 982 0034 183080E5 		str	r3, [r0, #24]
 449:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R6=Src->R6;
 983              		.loc 1 449 5 is_stmt 1 view .LVU246
 984              		.loc 1 449 16 is_stmt 0 view .LVU247
 985 0038 1C3091E5 		ldr	r3, [r1, #28]
 986              		.loc 1 449 12 view .LVU248
 987 003c 1C3080E5 		str	r3, [r0, #28]
 450:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R7=Src->R7;
 988              		.loc 1 450 5 is_stmt 1 view .LVU249
 989              		.loc 1 450 16 is_stmt 0 view .LVU250
 990 0040 203091E5 		ldr	r3, [r1, #32]
 991              		.loc 1 450 12 view .LVU251
 992 0044 203080E5 		str	r3, [r0, #32]
 451:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R8=Src->R8;
 993              		.loc 1 451 5 is_stmt 1 view .LVU252
 994              		.loc 1 451 16 is_stmt 0 view .LVU253
 995 0048 243091E5 		ldr	r3, [r1, #36]
 996              		.loc 1 451 12 view .LVU254
 997 004c 243080E5 		str	r3, [r0, #36]
 452:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R9=Src->R9;
 998              		.loc 1 452 5 is_stmt 1 view .LVU255
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 29


 999              		.loc 1 452 16 is_stmt 0 view .LVU256
 1000 0050 283091E5 		ldr	r3, [r1, #40]
 1001              		.loc 1 452 12 view .LVU257
 1002 0054 283080E5 		str	r3, [r0, #40]
 453:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R10=Src->R10;
 1003              		.loc 1 453 5 is_stmt 1 view .LVU258
 1004              		.loc 1 453 17 is_stmt 0 view .LVU259
 1005 0058 2C3091E5 		ldr	r3, [r1, #44]
 1006              		.loc 1 453 13 view .LVU260
 1007 005c 2C3080E5 		str	r3, [r0, #44]
 454:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R11=Src->R11;
 1008              		.loc 1 454 5 is_stmt 1 view .LVU261
 1009              		.loc 1 454 17 is_stmt 0 view .LVU262
 1010 0060 303091E5 		ldr	r3, [r1, #48]
 1011              		.loc 1 454 13 view .LVU263
 1012 0064 303080E5 		str	r3, [r0, #48]
 455:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->SP=Src->SP;
 1013              		.loc 1 455 5 is_stmt 1 view .LVU264
 1014              		.loc 1 455 16 is_stmt 0 view .LVU265
 1015 0068 343091E5 		ldr	r3, [r1, #52]
 1016              		.loc 1 455 12 view .LVU266
 1017 006c 343080E5 		str	r3, [r0, #52]
 456:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->LR=Src->LR;
 1018              		.loc 1 456 5 is_stmt 1 view .LVU267
 1019              		.loc 1 456 16 is_stmt 0 view .LVU268
 1020 0070 383091E5 		ldr	r3, [r1, #56]
 1021              		.loc 1 456 12 view .LVU269
 1022 0074 383080E5 		str	r3, [r0, #56]
 457:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->PC=Src->PC;
 1023              		.loc 1 457 5 is_stmt 1 view .LVU270
 1024              		.loc 1 457 16 is_stmt 0 view .LVU271
 1025 0078 3C3091E5 		ldr	r3, [r1, #60]
 1026              		.loc 1 457 12 view .LVU272
 1027 007c 3C3080E5 		str	r3, [r0, #60]
 458:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1028              		.loc 1 458 1 view .LVU273
 1029 0080 1EFF2FE1 		bx	lr
 1030              		.cfi_endproc
 1031              	.LFE18:
 1033              		.section	.text.__RME_Thd_Cop_Init,"ax",%progbits
 1034              		.align	2
 1035              		.global	__RME_Thd_Cop_Init
 1036              		.syntax unified
 1037              		.arm
 1039              	__RME_Thd_Cop_Init:
 1040              	.LVL44:
 1041              	.LFB19:
 459:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Copy *******************************************/
 460:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 461:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Init ************************************************
 462:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the coprocessor register set for the thread.
 463:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register struct to help initialize the coprocessor.
 464:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Cop_Struct* Cop_Reg - The register set content generated.
 465:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 466:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 467:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Init(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 468:../../Source/Platform/A7A/rme_platform_a7a.c **** {
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 30


 1042              		.loc 1 468 1 is_stmt 1 view -0
 1043              		.cfi_startproc
 1044              		@ args = 0, pretend = 0, frame = 0
 1045              		@ frame_needed = 0, uses_anonymous_args = 0
 1046              		@ link register save eliminated.
 469:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Empty function, return immediately. The FPU contents is not predictable */
 470:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1047              		.loc 1 470 1 view .LVU275
 1048 0000 1EFF2FE1 		bx	lr
 1049              		.cfi_endproc
 1050              	.LFE19:
 1052              		.section	.text.__RME_Thd_Cop_Save,"ax",%progbits
 1053              		.align	2
 1054              		.global	__RME_Thd_Cop_Save
 1055              		.syntax unified
 1056              		.arm
 1058              	__RME_Thd_Cop_Save:
 1059              	.LFB53:
 1060              		.cfi_startproc
 1061              		@ args = 0, pretend = 0, frame = 0
 1062              		@ frame_needed = 0, uses_anonymous_args = 0
 1063              		@ link register save eliminated.
 1064 0000 1EFF2FE1 		bx	lr
 1065              		.cfi_endproc
 1066              	.LFE53:
 1068              		.section	.text.__RME_Thd_Cop_Restore,"ax",%progbits
 1069              		.align	2
 1070              		.global	__RME_Thd_Cop_Restore
 1071              		.syntax unified
 1072              		.arm
 1074              	__RME_Thd_Cop_Restore:
 1075              	.LFB55:
 1076              		.cfi_startproc
 1077              		@ args = 0, pretend = 0, frame = 0
 1078              		@ frame_needed = 0, uses_anonymous_args = 0
 1079              		@ link register save eliminated.
 1080 0000 1EFF2FE1 		bx	lr
 1081              		.cfi_endproc
 1082              	.LFE55:
 1084              		.section	.text.__RME_Inv_Reg_Save,"ax",%progbits
 1085              		.align	2
 1086              		.global	__RME_Inv_Reg_Save
 1087              		.syntax unified
 1088              		.arm
 1090              	__RME_Inv_Reg_Save:
 1091              	.LVL45:
 1092              	.LFB22:
 471:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Reg_Init ***************************************/
 472:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 473:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Save ************************************************
 474:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the co-op register sets. This operation is flexible - If the
 475:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save its context.
 476:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 477:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 478:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 479:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 480:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 31


 481:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Save(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 482:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 483:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 484:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 485:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Save *******************************************/
 486:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 487:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Restore *********************************************
 488:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the co-op register sets. This operation is flexible - If the
 489:../../Source/Platform/A7A/rme_platform_a7a.c ****               FPU is not used, we do not restore its context.
 490:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 491:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 492:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 493:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 494:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 495:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Restore(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 496:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 497:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 498:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 499:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Restore ****************************************/
 500:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 501:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Save ************************************************
 502:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the necessary registers on invocation for returning. Only the
 503:../../Source/Platform/A7A/rme_platform_a7a.c ****               registers that will influence program control flow will be saved.
 504:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 505:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Iret_Struct* Ret - The invocation return register context.
 506:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 507:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 508:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Save(struct RME_Iret_Struct* Ret, struct RME_Reg_Struct* Reg)
 509:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1093              		.loc 1 509 1 view -0
 1094              		.cfi_startproc
 1095              		@ args = 0, pretend = 0, frame = 0
 1096              		@ frame_needed = 0, uses_anonymous_args = 0
 1097              		@ link register save eliminated.
 510:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->PC=Reg->PC;
 1098              		.loc 1 510 5 view .LVU277
 1099              		.loc 1 510 16 is_stmt 0 view .LVU278
 1100 0000 3C3091E5 		ldr	r3, [r1, #60]
 1101              		.loc 1 510 12 view .LVU279
 1102 0004 003080E5 		str	r3, [r0]
 511:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->SP=Reg->SP;
 1103              		.loc 1 511 5 is_stmt 1 view .LVU280
 1104              		.loc 1 511 16 is_stmt 0 view .LVU281
 1105 0008 343091E5 		ldr	r3, [r1, #52]
 1106              		.loc 1 511 12 view .LVU282
 1107 000c 043080E5 		str	r3, [r0, #4]
 512:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1108              		.loc 1 512 1 view .LVU283
 1109 0010 1EFF2FE1 		bx	lr
 1110              		.cfi_endproc
 1111              	.LFE22:
 1113              		.section	.text.__RME_Inv_Reg_Restore,"ax",%progbits
 1114              		.align	2
 1115              		.global	__RME_Inv_Reg_Restore
 1116              		.syntax unified
 1117              		.arm
 1119              	__RME_Inv_Reg_Restore:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 32


 1120              	.LVL46:
 1121              	.LFB23:
 513:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Save *******************************************/
 514:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 515:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Restore *********************************************
 516:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the necessary registers for returning from an invocation.
 517:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Iret_Struct* Ret - The invocation return register context.
 518:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 519:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 520:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 521:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Restore(struct RME_Reg_Struct* Reg, struct RME_Iret_Struct* Ret)
 522:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1122              		.loc 1 522 1 is_stmt 1 view -0
 1123              		.cfi_startproc
 1124              		@ args = 0, pretend = 0, frame = 0
 1125              		@ frame_needed = 0, uses_anonymous_args = 0
 1126              		@ link register save eliminated.
 523:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Ret->PC;
 1127              		.loc 1 523 5 view .LVU285
 1128              		.loc 1 523 16 is_stmt 0 view .LVU286
 1129 0000 003091E5 		ldr	r3, [r1]
 1130              		.loc 1 523 12 view .LVU287
 1131 0004 3C3080E5 		str	r3, [r0, #60]
 524:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Ret->SP;
 1132              		.loc 1 524 5 is_stmt 1 view .LVU288
 1133              		.loc 1 524 16 is_stmt 0 view .LVU289
 1134 0008 043091E5 		ldr	r3, [r1, #4]
 1135              		.loc 1 524 12 view .LVU290
 1136 000c 343080E5 		str	r3, [r0, #52]
 525:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1137              		.loc 1 525 1 view .LVU291
 1138 0010 1EFF2FE1 		bx	lr
 1139              		.cfi_endproc
 1140              	.LFE23:
 1142              		.section	.text.__RME_Inv_Retval_Set,"ax",%progbits
 1143              		.align	2
 1144              		.global	__RME_Inv_Retval_Set
 1145              		.syntax unified
 1146              		.arm
 1148              	__RME_Inv_Retval_Set:
 1149              	.LVL47:
 1150              	.LFB24:
 526:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Restore ****************************************/
 527:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 528:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Retval_Set **********************************************
 529:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 530:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 531:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 532:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 533:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 534:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Retval_Set(struct RME_Reg_Struct* Reg,
 535:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ret_t Retval)
 536:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1151              		.loc 1 536 1 is_stmt 1 view -0
 1152              		.cfi_startproc
 1153              		@ args = 0, pretend = 0, frame = 0
 1154              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 33


 1155              		@ link register save eliminated.
 537:../../Source/Platform/A7A/rme_platform_a7a.c ****     //Reg->R5=(rme_ptr_t)Retval;
 538:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1156              		.loc 1 538 1 view .LVU293
 1157 0000 1EFF2FE1 		bx	lr
 1158              		.cfi_endproc
 1159              	.LFE24:
 1161              		.section	.text.__RME_Set_Inv_Retval,"ax",%progbits
 1162              		.align	2
 1163              		.global	__RME_Set_Inv_Retval
 1164              		.syntax unified
 1165              		.arm
 1167              	__RME_Set_Inv_Retval:
 1168              	.LVL48:
 1169              	.LFB25:
 539:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Retval_Set *****************************************/
 540:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 541:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Inv_Retval **********************************************
 542:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 543:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 544:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 545:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 546:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 547:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Set_Inv_Retval(struct RME_Reg_Struct* Reg, rme_ret_t Retval)
 548:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1170              		.loc 1 548 1 view -0
 1171              		.cfi_startproc
 1172              		@ args = 0, pretend = 0, frame = 0
 1173              		@ frame_needed = 0, uses_anonymous_args = 0
 1174              		@ link register save eliminated.
 549:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R1=(rme_ptr_t)Retval;
 1175              		.loc 1 549 5 view .LVU295
 1176              		.loc 1 549 12 is_stmt 0 view .LVU296
 1177 0000 081080E5 		str	r1, [r0, #8]
 550:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1178              		.loc 1 550 1 view .LVU297
 1179 0004 1EFF2FE1 		bx	lr
 1180              		.cfi_endproc
 1181              	.LFE25:
 1183              		.section	.text.__RME_Thd_Cop_Swap,"ax",%progbits
 1184              		.align	2
 1185              		.global	__RME_Thd_Cop_Swap
 1186              		.syntax unified
 1187              		.arm
 1189              	__RME_Thd_Cop_Swap:
 1190              	.LVL49:
 1191              	.LFB26:
 551:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Inv_Retval *****************************************/
 552:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 553:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Swap ************************************************
 554:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Swap the cop register sets. This operation is flexible - If the
 555:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save/restore its context.
 556:../../Source/Platform/A7A/rme_platform_a7a.c ****               We do not need to turn off lazy stacking, because even if a fault
 557:../../Source/Platform/A7A/rme_platform_a7a.c ****               occurs, it (1) tails the execution of activates the will get dropped
 558:../../Source/Platform/A7A/rme_platform_a7a.c ****               by our handler deliberately and will not cause wrong attribution.
 559:../../Source/Platform/A7A/rme_platform_a7a.c ****               They can be alternatively disabled as well if you wish.
 560:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Attr_New - The attribute of the context to switch to.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 34


 561:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_New - Whether the context to switch to is a
 562:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 563:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_New - The context to switch to.
 564:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Attr_Cur - The attribute of the context to switch from.
 565:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_Cur - Whether the context to switch from is a
 566:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 567:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_Cur - The context to switch from.
 568:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : void* Cop_New - The coprocessor context to switch to.
 569:../../Source/Platform/A7A/rme_platform_a7a.c ****               void* Cop_Cur - The coprocessor context to switch from.
 570:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 571:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 572:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Swap(rme_ptr_t Attr_New,
 573:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_New,
 574:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_New,
 575:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_New,
 576:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Attr_Cur,
 577:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_Cur,
 578:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_Cur,
 579:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_Cur)
 580:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1192              		.loc 1 580 1 is_stmt 1 view -0
 1193              		.cfi_startproc
 1194              		@ args = 16, pretend = 0, frame = 0
 1195              		@ frame_needed = 0, uses_anonymous_args = 0
 1196              		@ link register save eliminated.
 581:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 582:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1197              		.loc 1 582 1 view .LVU299
 1198 0000 1EFF2FE1 		bx	lr
 1199              		.cfi_endproc
 1200              	.LFE26:
 1202              		.section	.text.__RME_Kfn_Handler,"ax",%progbits
 1203              		.align	2
 1204              		.global	__RME_Kfn_Handler
 1205              		.syntax unified
 1206              		.arm
 1208              	__RME_Kfn_Handler:
 1209              	.LVL50:
 1210              	.LFB27:
 583:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Swap *******************************************/
 584:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 585:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Kern_Func_Handler *******************************************
 586:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Handle kernel function calls.
 587:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The current register set.
 588:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Func_ID - The function ID.
 589:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Sub_ID - The sub function ID.
 590:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param1 - The first parameter.
 591:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param2 - The second parameter.
 592:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 593:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - The value that the function returned.
 594:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 595:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Kfn_Handler(struct RME_Cap_Cpt* Cpt,
 596:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            struct RME_Reg_Struct* Reg,
 597:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Func_ID,
 598:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Sub_ID,
 599:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param1,
 600:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param2)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 35


 601:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1211              		.loc 1 601 1 view -0
 1212              		.cfi_startproc
 1213              		@ args = 8, pretend = 0, frame = 0
 1214              		@ frame_needed = 0, uses_anonymous_args = 0
 1215              		@ link register save eliminated.
 602:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Currently no kernel function implemented */
 603:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 1216              		.loc 1 603 5 view .LVU301
 604:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1217              		.loc 1 604 1 is_stmt 0 view .LVU302
 1218 0000 0000A0E3 		mov	r0, #0
 1219              	.LVL51:
 1220              		.loc 1 604 1 view .LVU303
 1221 0004 1EFF2FE1 		bx	lr
 1222              		.cfi_endproc
 1223              	.LFE27:
 1225              		.section	.text.__RME_A7A_Undefined_Handler,"ax",%progbits
 1226              		.align	2
 1227              		.global	__RME_A7A_Undefined_Handler
 1228              		.syntax unified
 1229              		.arm
 1231              	__RME_A7A_Undefined_Handler:
 1232              	.LFB28:
 605:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Kern_Func_Handler **************************************/
 606:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 607:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Undefined_Handler **************************************
 608:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The undefined instruction vector handler of RME.
 609:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 610:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 611:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 612:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 613:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Undefined_Handler(struct RME_Reg_Struct* Reg)
 614:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1233              		.loc 1 614 1 is_stmt 1 view -0
 1234              		.cfi_startproc
 1235              		@ Volatile: function does not return.
 1236              		@ args = 0, pretend = 0, frame = 0
 1237              		@ frame_needed = 0, uses_anonymous_args = 0
 1238              		@ link register save eliminated.
 1239              	.LVL52:
 1240              	.L62:
 615:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle undefined instructions now */
 616:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1241              		.loc 1 616 2 discriminator 1 view .LVU305
 1242              		.loc 1 616 10 discriminator 1 view .LVU306
 1243              		.loc 1 616 7 discriminator 1 view .LVU307
 1244 0000 FEFFFFEA 		b	.L62
 1245              		.cfi_endproc
 1246              	.LFE28:
 1248              		.section	.text.__RME_A7A_Prefetch_Abort_Handler,"ax",%progbits
 1249              		.align	2
 1250              		.global	__RME_A7A_Prefetch_Abort_Handler
 1251              		.syntax unified
 1252              		.arm
 1254              	__RME_A7A_Prefetch_Abort_Handler:
 1255              	.LFB29:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 36


 617:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 618:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Undefined_Handler *********************************/
 619:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 620:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Prefetch_Abort_Handler *********************************
 621:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The prefetch abort vector handler of RME.
 622:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 623:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 624:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 625:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 626:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Prefetch_Abort_Handler(struct RME_Reg_Struct* Reg)
 627:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1256              		.loc 1 627 1 view -0
 1257              		.cfi_startproc
 1258              		@ Volatile: function does not return.
 1259              		@ args = 0, pretend = 0, frame = 0
 1260              		@ frame_needed = 0, uses_anonymous_args = 0
 1261              		@ link register save eliminated.
 1262              	.LVL53:
 1263              	.L64:
 628:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle prefetch aborts now */
 629:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1264              		.loc 1 629 2 discriminator 1 view .LVU309
 1265              		.loc 1 629 10 discriminator 1 view .LVU310
 1266              		.loc 1 629 7 discriminator 1 view .LVU311
 1267 0000 FEFFFFEA 		b	.L64
 1268              		.cfi_endproc
 1269              	.LFE29:
 1271              		.section	.text.__RME_A7A_Data_Abort_Handler,"ax",%progbits
 1272              		.align	2
 1273              		.global	__RME_A7A_Data_Abort_Handler
 1274              		.syntax unified
 1275              		.arm
 1277              	__RME_A7A_Data_Abort_Handler:
 1278              	.LFB30:
 630:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 631:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Prefetch_Abort_Handler ****************************/
 632:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 633:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Data_Abort_Handler *************************************
 634:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The data abort vector handler of RME.
 635:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 636:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 637:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 639:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Data_Abort_Handler(struct RME_Reg_Struct* Reg)
 640:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1279              		.loc 1 640 1 view -0
 1280              		.cfi_startproc
 1281              		@ Volatile: function does not return.
 1282              		@ args = 0, pretend = 0, frame = 0
 1283              		@ frame_needed = 0, uses_anonymous_args = 0
 1284              		@ link register save eliminated.
 1285              	.LVL54:
 1286              	.L66:
 641:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle data aborts now */
 642:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1287              		.loc 1 642 2 discriminator 1 view .LVU313
 1288              		.loc 1 642 10 discriminator 1 view .LVU314
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 37


 1289              		.loc 1 642 7 discriminator 1 view .LVU315
 1290 0000 FEFFFFEA 		b	.L66
 1291              		.cfi_endproc
 1292              	.LFE30:
 1294              		.section	.rodata.__RME_A7A_IRQ_Handler.str1.4,"aMS",%progbits,1
 1295              		.align	2
 1296              	.LC10:
 1297 0000 32323A32 		.ascii	"22:27:21\000"
 1297      373A3231 
 1297      00
 1298 0009 000000   		.align	2
 1299              	.LC11:
 1300 000c 46656220 		.ascii	"Feb  6 2025\000"
 1300      20362032 
 1300      30323500 
 1301              		.align	2
 1302              	.LC12:
 1303 0018 2E2E2F2E 		.ascii	"../../Source/Platform/A7A/rme_platform_a7a.c\000"
 1303      2E2F536F 
 1303      75726365 
 1303      2F506C61 
 1303      74666F72 
 1304              		.section	.text.__RME_A7A_IRQ_Handler,"ax",%progbits
 1305              		.align	2
 1306              		.global	__RME_A7A_IRQ_Handler
 1307              		.syntax unified
 1308              		.arm
 1310              	__RME_A7A_IRQ_Handler:
 1311              	.LVL55:
 1312              	.LFB31:
 643:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 644:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Data_Abort_Handler ********************************/
 645:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 646:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_IRQ_Handler ********************************************
 647:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The regular interrupt vector handler of RME.
 648:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 649:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 650:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 651:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 652:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_IRQ_Handler(struct RME_Reg_Struct* Reg)
 653:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1313              		.loc 1 653 1 view -0
 1314              		.cfi_startproc
 1315              		@ args = 0, pretend = 0, frame = 0
 1316              		@ frame_needed = 0, uses_anonymous_args = 0
 654:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t Int_ID;
 1317              		.loc 1 654 2 view .LVU317
 655:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t CPUID;
 1318              		.loc 1 655 2 view .LVU318
 656:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 657:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* What interrupt is this? */
 658:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID=RME_A7A_GICC_IAR;
 1319              		.loc 1 658 2 view .LVU319
 1320              		.loc 1 658 8 is_stmt 0 view .LVU320
 1321 0000 0020A0E3 		mov	r2, #0
 659:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 660:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID&=0x3FFU;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 38


 661:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 662:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 663:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a spurious interrupt? (Can't be 1022 because GICv1 don't have group1) */
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(Int_ID!=1022);
 1322              		.loc 1 664 2 view .LVU321
 1323 0004 FE0300E3 		movw	r0, #1022
 1324              	.LVL56:
 658:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 1325              		.loc 1 658 8 view .LVU322
 1326 0008 F0284FE3 		movt	r2, 63728
 653:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t Int_ID;
 1327              		.loc 1 653 1 view .LVU323
 1328 000c 10402DE9 		push	{r4, lr}
 1329              		.cfi_def_cfa_offset 8
 1330              		.cfi_offset 4, -8
 1331              		.cfi_offset 14, -4
 658:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 1332              		.loc 1 658 8 view .LVU324
 1333 0010 0C1192E5 		ldr	r1, [r2, #268]
 1334              	.LVL57:
 659:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 1335              		.loc 1 659 2 is_stmt 1 view .LVU325
 660:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 1336              		.loc 1 660 2 view .LVU326
 660:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 1337              		.loc 1 660 8 is_stmt 0 view .LVU327
 1338 0014 5130E9E7 		ubfx	r3, r1, #0, #10
 1339              	.LVL58:
 1340              		.loc 1 664 2 is_stmt 1 view .LVU328
 1341              		.loc 1 664 2 view .LVU329
 1342 0018 000053E1 		cmp	r3, r0
 1343 001c 1800000A 		beq	.L81
 1344 0020 FFC300E3 		movw	ip, #1023
 1345              		.loc 1 664 2 discriminator 2 view .LVU330
 665:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1346              		.loc 1 665 2 discriminator 2 view .LVU331
 1347              		.loc 1 665 4 is_stmt 0 discriminator 2 view .LVU332
 1348 0024 0C0053E1 		cmp	r3, ip
 1349 0028 1080BD08 		popeq	{r4, pc}
 666:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 667:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 668:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 669:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 670:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is is an timer interrupt? (we know that it is at 29) */
 671:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==29)
 1350              		.loc 1 671 2 is_stmt 1 view .LVU333
 1351              		.loc 1 671 4 is_stmt 0 view .LVU334
 1352 002c 1D0053E3 		cmp	r3, #29
 1353 0030 1C00000A 		beq	.L82
 659:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID&=0x3FFU;
 1354              		.loc 1 659 7 view .LVU335
 1355 0034 2105A0E1 		lsr	r0, r1, #10
 1356              	.LVL59:
 672:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 673:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Clear the interrupt flag */
 674:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    RME_A7A_PTWD_PTISR=0;
 675:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 39


 676:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Send interrupt to all other processors to notify them about this */
 677:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 679:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 680:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 681:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 682:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 683:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 684:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 685:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 686:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 687:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 688:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a coprocessor timer interrupt? (We use interrupt number 0 for these) */
 689:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==0)
 1357              		.loc 1 689 2 is_stmt 1 view .LVU336
 1358              		.loc 1 689 4 is_stmt 0 view .LVU337
 1359 0038 000053E3 		cmp	r3, #0
 1360 003c 0300001A 		bne	.L72
 690:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 691:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* This must have originated from interface 0 */
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(CPUID==0);
 1361              		.loc 1 692 3 is_stmt 1 view .LVU338
 1362              		.loc 1 692 3 view .LVU339
 1363 0040 000050E3 		cmp	r0, #0
 1364 0044 1B00001A 		bne	.L83
 1365              		.loc 1 692 3 discriminator 2 view .LVU340
 693:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 694:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 695:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 1366              		.loc 1 695 3 discriminator 2 view .LVU341
 1367              		.loc 1 695 20 is_stmt 0 discriminator 2 view .LVU342
 1368 0048 100182E5 		str	r0, [r2, #272]
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1369              		.loc 1 696 3 is_stmt 1 discriminator 2 view .LVU343
 1370 004c 1080BDE8 		pop	{r4, pc}
 1371              	.L72:
 697:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 698:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 699:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an other IPI? (All the rest of the SGIs are these) */
 700:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID<16)
 1372              		.loc 1 700 2 view .LVU344
 1373              		.loc 1 700 4 is_stmt 0 view .LVU345
 1374 0050 3F0E11E3 		tst	r1, #1008
 1375 0054 2000000A 		beq	.L84
 701:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 702:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_A7A_SGI_Handler(Reg,CPUID,Int_ID);
 703:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 704:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=(CPUID<<10U)|Int_ID;
 705:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 706:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 707:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 708:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an casual interrupt? */
 709:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(CPUID==0);
 1376              		.loc 1 709 2 is_stmt 1 view .LVU346
 1377              		.loc 1 709 2 view .LVU347
 1378 0058 000050E3 		cmp	r0, #0
 1379 005c 1080BD08 		popeq	{r4, pc}
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 40


 1380              		.loc 1 709 2 discriminator 1 view .LVU348
 1381 0060 003000E3 		movw	r3, #:lower16:.LC10
 1382              	.LVL60:
 1383              		.loc 1 709 2 is_stmt 0 discriminator 1 view .LVU349
 1384 0064 002000E3 		movw	r2, #:lower16:.LC11
 1385 0068 003040E3 		movt	r3, #:upper16:.LC10
 1386 006c 000000E3 		movw	r0, #:lower16:.LC12
 1387              	.LVL61:
 1388              		.loc 1 709 2 discriminator 1 view .LVU350
 1389 0070 002040E3 		movt	r2, #:upper16:.LC11
 1390 0074 C51200E3 		movw	r1, #709
 1391              	.LVL62:
 1392              		.loc 1 709 2 discriminator 1 view .LVU351
 1393 0078 000040E3 		movt	r0, #:upper16:.LC12
 1394 007c FEFFFFEB 		bl	RME_Log
 1395              	.LVL63:
 1396              	.L76:
 1397              		.loc 1 709 2 is_stmt 1 discriminator 3 view .LVU352
 1398              		.loc 1 709 2 discriminator 3 view .LVU353
 1399              		.loc 1 709 2 discriminator 3 view .LVU354
 1400              		.loc 1 709 2 discriminator 3 view .LVU355
 1401              		.loc 1 709 2 discriminator 3 view .LVU356
 1402              		.loc 1 709 2 discriminator 3 view .LVU357
 1403              		.loc 1 709 2 discriminator 3 view .LVU358
 1404              		.loc 1 709 2 discriminator 3 view .LVU359
 1405 0080 FEFFFFEA 		b	.L76
 1406              	.LVL64:
 1407              	.L81:
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1408              		.loc 1 664 2 discriminator 1 view .LVU360
 1409 0084 003000E3 		movw	r3, #:lower16:.LC10
 1410              	.LVL65:
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1411              		.loc 1 664 2 is_stmt 0 discriminator 1 view .LVU361
 1412 0088 002000E3 		movw	r2, #:lower16:.LC11
 1413 008c 003040E3 		movt	r3, #:upper16:.LC10
 1414 0090 000000E3 		movw	r0, #:lower16:.LC12
 1415 0094 002040E3 		movt	r2, #:upper16:.LC11
 1416 0098 A61FA0E3 		mov	r1, #664
 1417              	.LVL66:
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1418              		.loc 1 664 2 discriminator 1 view .LVU362
 1419 009c 000040E3 		movt	r0, #:upper16:.LC12
 1420 00a0 FEFFFFEB 		bl	RME_Log
 1421              	.LVL67:
 1422              	.L69:
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1423              		.loc 1 664 2 is_stmt 1 discriminator 1 view .LVU363
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1424              		.loc 1 664 2 discriminator 1 view .LVU364
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1425              		.loc 1 664 2 discriminator 1 view .LVU365
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1426              		.loc 1 664 2 discriminator 1 view .LVU366
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1427              		.loc 1 664 2 discriminator 1 view .LVU367
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 41


 1428              		.loc 1 664 2 discriminator 1 view .LVU368
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1429              		.loc 1 664 2 discriminator 1 view .LVU369
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1430              		.loc 1 664 2 discriminator 1 view .LVU370
 1431 00a4 FEFFFFEA 		b	.L69
 1432              	.LVL68:
 1433              	.L82:
 674:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 1434              		.loc 1 674 6 view .LVU371
 674:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 1435              		.loc 1 674 24 is_stmt 0 view .LVU372
 1436 00a8 0010A0E3 		mov	r1, #0
 1437              	.LVL69:
 674:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 1438              		.loc 1 674 24 view .LVU373
 1439 00ac 0C1682E5 		str	r1, [r2, #1548]
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1440              		.loc 1 678 3 is_stmt 1 view .LVU374
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1441              		.loc 1 678 20 is_stmt 0 view .LVU375
 1442 00b0 103182E5 		str	r3, [r2, #272]
 679:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 1443              		.loc 1 679 3 is_stmt 1 view .LVU376
 1444 00b4 1080BDE8 		pop	{r4, pc}
 1445              	.LVL70:
 1446              	.L83:
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1447              		.loc 1 692 3 discriminator 1 view .LVU377
 1448 00b8 003000E3 		movw	r3, #:lower16:.LC10
 1449              	.LVL71:
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1450              		.loc 1 692 3 is_stmt 0 discriminator 1 view .LVU378
 1451 00bc 002000E3 		movw	r2, #:lower16:.LC11
 1452 00c0 003040E3 		movt	r3, #:upper16:.LC10
 1453 00c4 000000E3 		movw	r0, #:lower16:.LC12
 1454              	.LVL72:
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1455              		.loc 1 692 3 discriminator 1 view .LVU379
 1456 00c8 002040E3 		movt	r2, #:upper16:.LC11
 1457 00cc AD1FA0E3 		mov	r1, #692
 1458              	.LVL73:
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1459              		.loc 1 692 3 discriminator 1 view .LVU380
 1460 00d0 000040E3 		movt	r0, #:upper16:.LC12
 1461 00d4 FEFFFFEB 		bl	RME_Log
 1462              	.LVL74:
 1463              	.L74:
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1464              		.loc 1 692 3 is_stmt 1 discriminator 2 view .LVU381
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1465              		.loc 1 692 3 discriminator 2 view .LVU382
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1466              		.loc 1 692 3 discriminator 2 view .LVU383
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1467              		.loc 1 692 3 discriminator 2 view .LVU384
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 42


 1468              		.loc 1 692 3 discriminator 2 view .LVU385
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1469              		.loc 1 692 3 discriminator 2 view .LVU386
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1470              		.loc 1 692 3 discriminator 2 view .LVU387
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1471              		.loc 1 692 3 discriminator 2 view .LVU388
 1472 00d8 FEFFFFEA 		b	.L74
 1473              	.LVL75:
 1474              	.L84:
 702:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 1475              		.loc 1 702 3 view .LVU389
 710:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 711:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 712:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_IRQ_Handler ***************************************/
 713:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 714:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:_RME_A7A_SGI_Handler *********************************************
 715:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for x64.
 716:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 717:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t CPUID - The ID of the sender CPU.
 718:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_ID - The ID of the SGI.
 719:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 720:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 721:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 722:../../Source/Platform/A7A/rme_platform_a7a.c **** void _RME_A7A_SGI_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t CPUID, rme_ptr_t Int_ID)
 723:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Not handling SGIs */
 725:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return;
 1476              		.loc 1 725 2 view .LVU390
 704:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1477              		.loc 1 704 3 view .LVU391
 704:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1478              		.loc 1 704 33 is_stmt 0 view .LVU392
 1479 00dc 003583E1 		orr	r3, r3, r0, lsl #10
 1480              	.LVL76:
 704:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1481              		.loc 1 704 20 view .LVU393
 1482 00e0 103182E5 		str	r3, [r2, #272]
 705:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 1483              		.loc 1 705 3 is_stmt 1 view .LVU394
 1484 00e4 1080BDE8 		pop	{r4, pc}
 1485              		.cfi_endproc
 1486              	.LFE31:
 1488              		.section	.text._RME_A7A_SGI_Handler,"ax",%progbits
 1489              		.align	2
 1490              		.global	_RME_A7A_SGI_Handler
 1491              		.syntax unified
 1492              		.arm
 1494              	_RME_A7A_SGI_Handler:
 1495              	.LVL77:
 1496              	.LFB32:
 723:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Not handling SGIs */
 1497              		.loc 1 723 1 view -0
 1498              		.cfi_startproc
 1499              		@ args = 0, pretend = 0, frame = 0
 1500              		@ frame_needed = 0, uses_anonymous_args = 0
 1501              		@ link register save eliminated.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 43


 1502              		.loc 1 725 2 view .LVU396
 726:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1503              		.loc 1 726 1 is_stmt 0 view .LVU397
 1504 0000 1EFF2FE1 		bx	lr
 1505              		.cfi_endproc
 1506              	.LFE32:
 1508              		.section	.rodata.__RME_A7A_Generic_Handler.str1.4,"aMS",%progbits,1
 1509              		.align	2
 1510              	.LC13:
 1511 0000 0D0A4765 		.ascii	"\015\012General int:\000"
 1511      6E657261 
 1511      6C20696E 
 1511      743A00
 1512              		.section	.text.__RME_A7A_Generic_Handler,"ax",%progbits
 1513              		.align	2
 1514              		.global	__RME_A7A_Generic_Handler
 1515              		.syntax unified
 1516              		.arm
 1518              	__RME_A7A_Generic_Handler:
 1519              	.LVL78:
 1520              	.LFB33:
 727:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:_RME_A7A_SGI_Handler ****************************************/
 728:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 729:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Generic_Handler ****************************************
 730:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for Cortex-A (ARMv7).
 731:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 732:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_Num - The interrupt number.
 733:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 734:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 735:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 736:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Generic_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t Int_Num)
 737:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1521              		.loc 1 737 1 is_stmt 1 view -0
 1522              		.cfi_startproc
 1523              		@ args = 0, pretend = 0, frame = 0
 1524              		@ frame_needed = 0, uses_anonymous_args = 0
 738:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 739:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nGeneral int:");
 1525              		.loc 1 739 5 view .LVU399
 1526 0000 000000E3 		movw	r0, #:lower16:.LC13
 1527              	.LVL79:
 737:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 1528              		.loc 1 737 1 is_stmt 0 view .LVU400
 1529 0004 10402DE9 		push	{r4, lr}
 1530              		.cfi_def_cfa_offset 8
 1531              		.cfi_offset 4, -8
 1532              		.cfi_offset 14, -4
 737:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 1533              		.loc 1 737 1 view .LVU401
 1534 0008 0140A0E1 		mov	r4, r1
 1535              		.loc 1 739 5 view .LVU402
 1536 000c 000040E3 		movt	r0, #:upper16:.LC13
 1537 0010 FEFFFFEB 		bl	RME_Str_Print
 1538              	.LVL80:
 740:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 1539              		.loc 1 740 5 is_stmt 1 view .LVU403
 1540 0014 0400A0E1 		mov	r0, r4
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 44


 741:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 742:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling anything */
 743:../../Source/Platform/A7A/rme_platform_a7a.c ****     switch(Int_Num)
 744:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 745:../../Source/Platform/A7A/rme_platform_a7a.c ****         default:break;
 746:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 747:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Remember to perform context switch after any kernel sends */
 748:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1541              		.loc 1 748 1 is_stmt 0 view .LVU404
 1542 0018 1040BDE8 		pop	{r4, lr}
 1543              		.cfi_restore 14
 1544              		.cfi_restore 4
 1545              		.cfi_def_cfa_offset 0
 1546              	.LVL81:
 740:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 1547              		.loc 1 740 5 view .LVU405
 1548 001c FEFFFFEA 		b	RME_Int_Print
 1549              	.LVL82:
 740:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 1550              		.loc 1 740 5 view .LVU406
 1551              		.cfi_endproc
 1552              	.LFE33:
 1554              		.section	.text.__RME_Pgt_Set,"ax",%progbits
 1555              		.align	2
 1556              		.global	__RME_Pgt_Set
 1557              		.syntax unified
 1558              		.arm
 1560              	__RME_Pgt_Set:
 1561              	.LVL83:
 1562              	.LFB34:
 749:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Generic_Handler ***********************************/
 750:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 751:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Set ***************************************************
 752:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the processor's page table.
 753:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Pgt - The virtual address of the page table.
 754:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 755:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 756:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 757:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Pgt_Set(rme_ptr_t Pgt)
 758:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1563              		.loc 1 758 1 is_stmt 1 view -0
 1564              		.cfi_startproc
 1565              		@ args = 0, pretend = 0, frame = 0
 1566              		@ frame_needed = 0, uses_anonymous_args = 0
 1567              		@ link register save eliminated.
 759:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 760:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1568              		.loc 1 760 1 view .LVU408
 1569 0000 1EFF2FE1 		bx	lr
 1570              		.cfi_endproc
 1571              	.LFE34:
 1573              		.section	.text.__RME_Pgt_Check,"ax",%progbits
 1574              		.align	2
 1575              		.global	__RME_Pgt_Check
 1576              		.syntax unified
 1577              		.arm
 1579              	__RME_Pgt_Check:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 45


 1580              	.LVL84:
 1581              	.LFB35:
 761:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Set **********************************************/
 762:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 763:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Check *************************************************
 764:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table parameters are feasible, according to the
 765:../../Source/Platform/A7A/rme_platform_a7a.c ****               parameters. This is only used in page table creation. The following
 766:../../Source/Platform/A7A/rme_platform_a7a.c ****               restrictions apply:
 767:../../Source/Platform/A7A/rme_platform_a7a.c **** 1. PAE is not supported by this port: if you have that much memory, use the Cortex-A
 768:../../Source/Platform/A7A/rme_platform_a7a.c ****    64-bit port instead. The translation scheme here is always:
 769:../../Source/Platform/A7A/rme_platform_a7a.c ****    4GB VA -> {Supersection, Section} -> {Large Page, Small Page}.
 770:../../Source/Platform/A7A/rme_platform_a7a.c ****    The supersection is described in ARMv7-AR ARM as optional, but is implemented on
 771:../../Source/Platform/A7A/rme_platform_a7a.c ****    all known ARMv7-A processors.
 772:../../Source/Platform/A7A/rme_platform_a7a.c ****    We only user TTBR0 here and we set value N to 0 as always. Using TTBR1 is nonsense
 773:../../Source/Platform/A7A/rme_platform_a7a.c ****    in our context, as it gives little benefit.
 774:../../Source/Platform/A7A/rme_platform_a7a.c **** 2. The ARM page tables have idiosyncrasy that allow two page size mappings to exist
 775:../../Source/Platform/A7A/rme_platform_a7a.c ****    in the same page table.
 776:../../Source/Platform/A7A/rme_platform_a7a.c **** 3. ARM page tables use repetition when it comes to supersections and large pages.
 777:../../Source/Platform/A7A/rme_platform_a7a.c ****    This breaks our numorder-sizeorder assumption, and for this reason, we do not
 778:../../Source/Platform/A7A/rme_platform_a7a.c ****    support these two page sizes explicitly. These two sizes are supported by kernel
 779:../../Source/Platform/A7A/rme_platform_a7a.c ****    functions instead, and the kernel function always maps/unmaps the pages as needed
 780:../../Source/Platform/A7A/rme_platform_a7a.c ****    without checking for any permissions; this can be viewed as a hack, and require
 781:../../Source/Platform/A7A/rme_platform_a7a.c ****    some caution when we are mapping pages in.
 782:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Start_Addr - The start mapping address.
 783:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Top - The top-level flag,
 784:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Size_Order - The size order of the page directory.
 785:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Num_Order - The number order of the page directory.
 786:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address of the page directory.
 787:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 788:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 789:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 790:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Check(rme_ptr_t Start_Addr, rme_ptr_t Is_Top,
 791:../../Source/Platform/A7A/rme_platform_a7a.c ****                             rme_ptr_t Size_Order, rme_ptr_t Num_Order, rme_ptr_t Vaddr)
 792:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1582              		.loc 1 792 1 view -0
 1583              		.cfi_startproc
 1584              		@ args = 4, pretend = 0, frame = 0
 1585              		@ frame_needed = 0, uses_anonymous_args = 0
 1586              		@ link register save eliminated.
 793:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Top-level - 1MB pages, 4096 entries, 16kB alignment */
 794:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Is_Top!=0)
 1587              		.loc 1 794 5 view .LVU410
 1588              		.loc 1 794 7 is_stmt 0 view .LVU411
 1589 0000 000051E3 		cmp	r1, #0
 1590 0004 0A00000A 		beq	.L90
 795:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 796:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_1M)
 1591              		.loc 1 796 9 is_stmt 1 view .LVU412
 797:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 798:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_4K)
 1592              		.loc 1 798 9 view .LVU413
 1593              		.loc 1 798 11 is_stmt 0 view .LVU414
 1594 0008 140052E3 		cmp	r2, #20
 1595 000c 0C005303 		cmpeq	r3, #12
 1596 0010 0100000A 		beq	.L94
 1597              	.L93:
 799:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 46


 1598              		.loc 1 799 20 view .LVU415
 1599 0014 0000E0E3 		mvn	r0, #0
 1600              	.LVL85:
 800:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 801:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 802:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 803:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Second-level - 1MB pages, 4096 entries, 16kB alignment */
 804:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 805:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 806:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_64K)
 807:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 808:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_1K)
 809:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 810:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FF)!=0)
 811:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 812:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 813:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 814:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 815:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1601              		.loc 1 815 1 view .LVU416
 1602 0018 1EFF2FE1 		bx	lr
 1603              	.LVL86:
 1604              	.L94:
 800:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 1605              		.loc 1 800 9 is_stmt 1 view .LVU417
 800:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 1606              		.loc 1 800 18 is_stmt 0 view .LVU418
 1607 001c 00309DE5 		ldr	r3, [sp]
 1608              	.LVL87:
 800:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 1609              		.loc 1 800 18 view .LVU419
 1610 0020 5300EDE7 		ubfx	r0, r3, #0, #14
 1611              	.LVL88:
 800:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 1612              		.loc 1 800 11 view .LVU420
 1613 0024 000050E2 		subs	r0, r0, #0
 1614 0028 0100A013 		movne	r0, #1
 1615 002c 000060E2 		rsb	r0, r0, #0
 1616 0030 1EFF2FE1 		bx	lr
 1617              	.LVL89:
 1618              	.L90:
 806:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1619              		.loc 1 806 9 is_stmt 1 view .LVU421
 808:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1620              		.loc 1 808 9 view .LVU422
 808:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1621              		.loc 1 808 11 is_stmt 0 view .LVU423
 1622 0034 100052E3 		cmp	r2, #16
 1623 0038 0A005303 		cmpeq	r3, #10
 1624 003c F4FFFF1A 		bne	.L93
 810:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1625              		.loc 1 810 9 is_stmt 1 view .LVU424
 810:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1626              		.loc 1 810 18 is_stmt 0 view .LVU425
 1627 0040 00309DE5 		ldr	r3, [sp]
 1628              	.LVL90:
 810:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 47


 1629              		.loc 1 810 18 view .LVU426
 1630 0044 5300E9E7 		ubfx	r0, r3, #0, #10
 1631              	.LVL91:
 810:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1632              		.loc 1 810 11 view .LVU427
 1633 0048 000050E2 		subs	r0, r0, #0
 1634 004c 0100A013 		movne	r0, #1
 1635 0050 000060E2 		rsb	r0, r0, #0
 1636 0054 1EFF2FE1 		bx	lr
 1637              		.cfi_endproc
 1638              	.LFE35:
 1640              		.section	.text.__RME_Pgt_Init,"ax",%progbits
 1641              		.align	2
 1642              		.global	__RME_Pgt_Init
 1643              		.syntax unified
 1644              		.arm
 1646              	__RME_Pgt_Init:
 1647              	.LVL92:
 1648              	.LFB36:
 816:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Check ********************************************/
 817:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 818:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Init **************************************************
 819:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the page table data structure, according to the capability.
 820:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
 821:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 822:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 823:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 824:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Init(struct RME_Cap_Pgt* Pgt_Op)
 825:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1649              		.loc 1 825 1 is_stmt 1 view -0
 1650              		.cfi_startproc
 1651              		@ args = 0, pretend = 0, frame = 0
 1652              		@ frame_needed = 0, uses_anonymous_args = 0
 1653              		@ link register save eliminated.
 826:../../Source/Platform/A7A/rme_platform_a7a.c **** #if 0
 827:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_cnt_t Count;
 828:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
 829:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 830:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the actual table */
 831:../../Source/Platform/A7A/rme_platform_a7a.c ****     //Ptr=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 832:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 833:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a first-level or a second-level? */
 834:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)
 835:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 836:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* First-level - clean up the first half and map in the second half as kernel entries */
 837:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<2048;Count++)
 838:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 839:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 840:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(;Count<4096;Count++)
 841:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 842:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 843:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 844:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 845:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Second-level - just clean it up to all zeros */
 846:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<256;Count++)
 847:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 848:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 48


 849:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 850:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PGREG_POS(Ptr).Parent_Cnt=0;
 851:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PGREG_POS(Ptr).ASID_Child_Cnt=0;
 852:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 853:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 854:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1654              		.loc 1 854 1 view .LVU429
 1655              	.LVL93:
 1656              		.loc 1 854 1 is_stmt 0 view .LVU430
 1657 0000 1EFF2FE1 		bx	lr
 1658              		.cfi_endproc
 1659              	.LFE36:
 1661              		.section	.text.__RME_Pgt_Del_Check,"ax",%progbits
 1662              		.align	2
 1663              		.global	__RME_Pgt_Del_Check
 1664              		.syntax unified
 1665              		.arm
 1667              	__RME_Pgt_Del_Check:
 1668              	.LFB57:
 1669              		.cfi_startproc
 1670              		@ args = 0, pretend = 0, frame = 0
 1671              		@ frame_needed = 0, uses_anonymous_args = 0
 1672              		@ link register save eliminated.
 1673 0000 0000A0E3 		mov	r0, #0
 1674 0004 1EFF2FE1 		bx	lr
 1675              		.cfi_endproc
 1676              	.LFE57:
 1678              		.section	.text.__RME_Pgt_Page_Map,"ax",%progbits
 1679              		.align	2
 1680              		.global	__RME_Pgt_Page_Map
 1681              		.syntax unified
 1682              		.arm
 1684              	__RME_Pgt_Page_Map:
 1685              	.LVL94:
 1686              	.LFB38:
 855:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Init *********************************************/
 856:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 857:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Del_Check *********************************************
 858:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table can be deleted.
 859:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt Pgt_Op* - The capability to the page table to operate on.
 860:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 861:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If can be deleted, 0; else RME_ERR_HAL_FAIL.
 862:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 863:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Del_Check(struct RME_Cap_Pgt* Pgt_Op)
 864:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 865:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 866:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 867:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 868:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 869:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 870:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* See if this is a top-level. If yes, we only check child count */
 871:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)
 872:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 873:../../Source/Platform/A7A/rme_platform_a7a.c ****     	if(((RME_A7A_PGREG_POS(Table).ASID_Child_Cnt)&0xFFFF)==0)
 874:../../Source/Platform/A7A/rme_platform_a7a.c ****     		return 0;
 875:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 876:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 49


 877:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 878:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Must be the second-level. We only check parent count because it can't have child anymore */
 879:../../Source/Platform/A7A/rme_platform_a7a.c ****     	if(RME_A7A_PGREG_POS(Table).Parent_Cnt==0)
 880:../../Source/Platform/A7A/rme_platform_a7a.c ****     	        return 0;
 881:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 882:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 883:../../Source/Platform/A7A/rme_platform_a7a.c ****     return RME_ERR_HAL_FAIL;
 884:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
 885:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 886:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Del_Check ****************************************/
 887:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 888:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Map **********************************************
 889:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page into the page table. This architecture requires that the
 890:../../Source/Platform/A7A/rme_platform_a7a.c ****               mapping is always at least readable. The Cortex-A's super pages are
 891:../../Source/Platform/A7A/rme_platform_a7a.c ****               not supported by this. Also, RME dfoesn't use the domain model; all
 892:../../Source/Platform/A7A/rme_platform_a7a.c ****               page tables' domain is always client, which means that the permission
 893:../../Source/Platform/A7A/rme_platform_a7a.c ****               flags will always be checked.
 894:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The cap ability to the page table to operate on.
 895:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Paddr - The physical address to map to. If we are unmapping,
 896:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 this have no effect.
 897:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
 898:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard page attributes. Need to translate
 899:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 them into architecture specific page table's settings.
 900:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 901:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 902:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 903:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Map(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Paddr, rme_ptr_t Pos, rme_ptr_t 
 904:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1687              		.loc 1 904 1 is_stmt 1 view -0
 1688              		.cfi_startproc
 1689              		@ args = 0, pretend = 0, frame = 0
 1690              		@ frame_needed = 0, uses_anonymous_args = 0
 1691              		@ link register save eliminated.
 905:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 906:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 907:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
 908:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 909:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
 910:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 911:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 912:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 913:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
 914:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
 915:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 916:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 917:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
 918:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 919:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 920:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate flags */
 921:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)==RME_PGT_SIZE_4K)
 922:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_1M_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_1M_RME2NAT(Flags);
 923:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 924:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_4K_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_4K_RME2NAT(Flags);
 925:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 926:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in */
 927:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),0,A7A_Flags)==0)
 928:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 50


 929:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 930:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 931:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
 932:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1692              		.loc 1 932 1 view .LVU432
 1693              	.LVL95:
 1694              		.loc 1 932 1 is_stmt 0 view .LVU433
 1695 0000 1EFF2FE1 		bx	lr
 1696              		.cfi_endproc
 1697              	.LFE38:
 1699              		.section	.text.__RME_Pgt_Page_Unmap,"ax",%progbits
 1700              		.align	2
 1701              		.global	__RME_Pgt_Page_Unmap
 1702              		.syntax unified
 1703              		.arm
 1705              	__RME_Pgt_Page_Unmap:
 1706              	.LVL96:
 1707              	.LFB39:
 933:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Map *****************************************/
 934:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 935:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Unmap ********************************************
 936:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page from the page table.
 937:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
 938:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
 939:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 940:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 941:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 942:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Unmap(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos)
 943:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1708              		.loc 1 943 1 is_stmt 1 view -0
 1709              		.cfi_startproc
 1710              		@ args = 0, pretend = 0, frame = 0
 1711              		@ frame_needed = 0, uses_anonymous_args = 0
 1712              		@ link register save eliminated.
 944:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 945:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 946:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
 947:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 948:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to unmap the kernel space on the top level? */
 949:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
 950:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 951:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 952:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
 953:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 954:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 955:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that there is something */
 956:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 957:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Temp==0)
 958:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 959:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 960:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a page directory? We cannot unmap page directories like this */
 961:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)!=RME_PGT_SIZE_4K)&&((Temp&RME_A7A_MMU_1M_PGDIR_PRES
 962:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 963:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 964:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to unmap it. Use CAS just in case */
 965:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),Temp,0)==0)
 966:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 51


 967:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 968:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 969:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
 970:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1713              		.loc 1 970 1 view .LVU435
 1714              	.LVL97:
 1715              		.loc 1 970 1 is_stmt 0 view .LVU436
 1716 0000 1EFF2FE1 		bx	lr
 1717              		.cfi_endproc
 1718              	.LFE39:
 1720              		.section	.text.__RME_Pgt_Pgdir_Map,"ax",%progbits
 1721              		.align	2
 1722              		.global	__RME_Pgt_Pgdir_Map
 1723              		.syntax unified
 1724              		.arm
 1726              	__RME_Pgt_Pgdir_Map:
 1727              	.LVL98:
 1728              	.LFB40:
 971:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Unmap ***************************************/
 972:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 973:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Map *********************************************
 974:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page directory into the page table. It is surprising that
 975:../../Source/Platform/A7A/rme_platform_a7a.c ****               Cortex-A (ARMv7) does not support any kind of page directory flags.
 976:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Parent - The parent page table.
 977:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Cap_Pgt* Pgt_Child - The child page table.
 978:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the destination page table.
 979:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard flags for the child page table.
 980:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 981:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 982:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 983:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Pgdir_Map(struct RME_Cap_Pgt* Pgt_Parent, rme_ptr_t Pos,
 984:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 struct RME_Cap_Pgt* Pgt_Child, rme_ptr_t Flags)
 985:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1729              		.loc 1 985 1 is_stmt 1 view -0
 1730              		.cfi_startproc
 1731              		@ args = 0, pretend = 0, frame = 0
 1732              		@ frame_needed = 0, uses_anonymous_args = 0
 1733              		@ link register save eliminated.
 986:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 987:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Parent_Table;
 988:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Child_Table;
 989:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
 990:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 991:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
 992:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 993:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 994:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 995:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
 996:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Parent->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
 997:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 998:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 999:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1000:../../Source/Platform/A7A/rme_platform_a7a.c ****     Parent_Table=RME_CAP_GETOBJ(Pgt_Parent,rme_ptr_t*);
1001:../../Source/Platform/A7A/rme_platform_a7a.c ****     Child_Table=RME_CAP_GETOBJ(Pgt_Child,rme_ptr_t*);
1002:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1003:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate the content */
1004:../../Source/Platform/A7A/rme_platform_a7a.c ****     A7A_Flags=RME_A7A_MMU_1M_PGT_ADDR(RME_A7A_VA2PA(Child_Table))|RME_A7A_MMU_1M_PGDIR_PRESENT;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 52


1005:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1006:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in - may need to increase some count */
1007:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Parent_Table[Pos]),0,A7A_Flags)==0)
1008:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1009:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1010:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Map complete, increase reference count for both page tables */
1011:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_FETCH_ADD((rme_ptr_t*)&(RME_A7A_PGREG_POS(Child_Table).Parent_Cnt),1);
1012:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_FETCH_ADD((rme_ptr_t*)&(RME_A7A_PGREG_POS(Parent_Table).ASID_Child_Cnt),1);
1013:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1014:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1015:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1016:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1734              		.loc 1 1016 1 view .LVU438
 1735              	.LVL99:
 1736              		.loc 1 1016 1 is_stmt 0 view .LVU439
 1737 0000 1EFF2FE1 		bx	lr
 1738              		.cfi_endproc
 1739              	.LFE40:
 1741              		.section	.text.__RME_Pgt_Pgdir_Unmap,"ax",%progbits
 1742              		.align	2
 1743              		.global	__RME_Pgt_Pgdir_Unmap
 1744              		.syntax unified
 1745              		.arm
 1747              	__RME_Pgt_Pgdir_Unmap:
 1748              	.LVL100:
 1749              	.LFB41:
1017:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Map ****************************************/
1018:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1019:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Unmap *******************************************
1020:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page directory from the page table.
1021:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to operate on.
1022:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1023:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1024:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1025:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1026:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Pgt_Pgdir_Unmap(struct RME_Cap_Pgt* Pgt_Parent,rme_ptr_t Pos,
1027:../../Source/Platform/A7A/rme_platform_a7a.c ****                                                struct RME_Cap_Pgt* Pgt_Child)
1028:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1750              		.loc 1 1028 1 is_stmt 1 view -0
 1751              		.cfi_startproc
 1752              		@ args = 0, pretend = 0, frame = 0
 1753              		@ frame_needed = 0, uses_anonymous_args = 0
 1754              		@ link register save eliminated.
1029:../../Source/Platform/A7A/rme_platform_a7a.c ****    return 0;
 1755              		.loc 1 1029 4 view .LVU441
1030:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1756              		.loc 1 1030 1 is_stmt 0 view .LVU442
 1757 0000 0000A0E3 		mov	r0, #0
 1758              	.LVL101:
 1759              		.loc 1 1030 1 view .LVU443
 1760 0004 1EFF2FE1 		bx	lr
 1761              		.cfi_endproc
 1762              	.LFE41:
 1764              		.section	.text.__RME_Pgt_Lookup,"ax",%progbits
 1765              		.align	2
 1766              		.global	__RME_Pgt_Lookup
 1767              		.syntax unified
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 53


 1768              		.arm
 1770              	__RME_Pgt_Lookup:
 1771              	.LVL102:
 1772              	.LFB42:
1031:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Unmap **************************************/
1032:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1033:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Lookup **************************************************
1034:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Lookup a page entry in a page directory. This function cannot deal
1035:../../Source/Platform/A7A/rme_platform_a7a.c ****               with large pages and super sections - it is the user's responsibility
1036:../../Source/Platform/A7A/rme_platform_a7a.c ****               to avoid this.
1037:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page directory to lookup.
1038:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position to look up.
1039:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Paddr - The physical address of the page.
1040:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1041:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1042:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1043:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Lookup(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos, rme_ptr_t* Paddr, rme_ptr_t* 
1044:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1773              		.loc 1 1044 1 is_stmt 1 view -0
 1774              		.cfi_startproc
 1775              		@ args = 0, pretend = 0, frame = 0
 1776              		@ frame_needed = 0, uses_anonymous_args = 0
 1777              		@ link register save eliminated.
1045:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
1046:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1047:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1048:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1049:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if the position is within the range of this page table */
1050:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pos>>RME_PGT_NUMORD(Pgt_Op->Size_Num_Order))!=0)
1051:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1052:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1053:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1054:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
1055:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the position requested - atomic read */
1056:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
1057:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1058:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start lookup - is this a terminal page, or? */
1059:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)==RME_PGT_SIZE_4K)
1060:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1061:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)==0)
1062:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
1063:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1064:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a small page. Return the physical address and flags */
1065:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
1066:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
1067:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
1068:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
1069:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1070:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1071:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1072:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)==0)
1073:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
1074:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1075:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a section. Return the physical address and flags */
1076:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
1077:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
1078:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 54


1079:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
1080:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1081:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1082:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1083:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1084:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1778              		.loc 1 1084 1 view .LVU445
 1779              	.LVL103:
 1780              		.loc 1 1084 1 is_stmt 0 view .LVU446
 1781 0000 1EFF2FE1 		bx	lr
 1782              		.cfi_endproc
 1783              	.LFE42:
 1785              		.section	.text.__RME_Pgt_Walk,"ax",%progbits
 1786              		.align	2
 1787              		.global	__RME_Pgt_Walk
 1788              		.syntax unified
 1789              		.arm
 1791              	__RME_Pgt_Walk:
 1792              	.LVL104:
 1793              	.LFB43:
1085:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Lookup *******************************************/
1086:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1087:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Walk **************************************************
1088:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Walking function for the page table. This function just does page
1089:../../Source/Platform/A7A/rme_platform_a7a.c ****               table lookups. The page table that is being walked must be the top-
1090:../../Source/Platform/A7A/rme_platform_a7a.c ****               level page table. The output values are optional; only pass in pointers
1091:../../Source/Platform/A7A/rme_platform_a7a.c ****               when you need that value.
1092:../../Source/Platform/A7A/rme_platform_a7a.c ****               Walking kernel page tables is prohibited.
1093:../../Source/Platform/A7A/rme_platform_a7a.c ****               This function also does not support large pages and super sections.
1094:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to walk.
1095:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address to look up.
1096:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Pgt - The pointer to the page table level.
1097:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Map_Vaddr - The virtual address that starts mapping.
1098:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Paddr - The physical address of the page.
1099:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Size_Order - The size order of the page.
1100:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Num_Order - The entry order of the page.
1101:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1102:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1103:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1104:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Walk(struct RME_Cap_Pgt* Pgt_Op, 
1105:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t Vaddr, 
1106:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t* Pgt,
1107:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Map_Vaddr, 
1108:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Paddr, 
1109:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Size_Order, 
1110:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Num_Order, 
1111:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Flags)
1112:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1794              		.loc 1 1112 1 is_stmt 1 view -0
 1795              		.cfi_startproc
 1796              		@ args = 16, pretend = 0, frame = 0
 1797              		@ frame_needed = 0, uses_anonymous_args = 0
 1798              		@ link register save eliminated.
1113:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
1114:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1115:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Pos;
1116:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 55


1117:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1118:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if this is the top-level page table */
1119:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr)&RME_PGT_TOP)==0)
1120:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1121:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1122:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we attempting a kernel or non-canonical lookup? If yes, stop immediately */
1123:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Vaddr>=0x7FFFFFFFU)
1124:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1125:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1126:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table and start lookup - We know that there are only 2 levels */
1127:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op, rme_ptr_t*);
1128:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1129:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Calculate where is the entry - always 0 to 4096 */
1130:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Pos=(Vaddr>>RME_PGT_SIZE_1M)&0xFFFU;
1131:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Atomic read */
1132:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Temp=Table[Pos];
1133:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1134:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Find the position of the entry - Is there a page, a directory, or nothing? */
1135:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)!=0)
1136:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1137:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* There is a 1M page */
1138:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Pgt!=0)
1139:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Pgt=(rme_ptr_t)Table;
1140:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Map_Vaddr!=0)
1141:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_1M);
1142:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Paddr!=0)
1143:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
1144:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Size_Order!=0)
1145:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Size_Order=RME_PGT_SIZE_1M;
1146:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Num_Order!=0)
1147:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Num_Order=RME_PGT_NUM_4K;
1148:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Flags!=0)
1149:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
1150:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1151:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1152:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else if((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0)
1153:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Table=(rme_ptr_t*)RME_A7A_PA2VA(RME_A7A_MMU_1M_PGT_ADDR(Temp));
1155:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Calculate where is the entry - always 0 to 256 */
1156:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Pos=(Vaddr>>RME_PGT_SIZE_4K)&0xFFU;
1157:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Atomic read */
1158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Temp=Table[Pos];
1159:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1160:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)!=0)
1161:../../Source/Platform/A7A/rme_platform_a7a.c **** 		{
1162:../../Source/Platform/A7A/rme_platform_a7a.c **** 			/* There is a 4k page */
1163:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Pgt!=0)
1164:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Pgt=(rme_ptr_t)Table;
1165:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Map_Vaddr!=0)
1166:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_4K);
1167:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Paddr!=0)
1168:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
1169:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Size_Order!=0)
1170:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Size_Order=RME_PGT_SIZE_4K;
1171:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Num_Order!=0)
1172:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Num_Order=RME_PGT_NUM_256;
1173:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Flags!=0)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 56


1174:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
1175:../../Source/Platform/A7A/rme_platform_a7a.c **** 		}
1176:../../Source/Platform/A7A/rme_platform_a7a.c **** 		else
1177:../../Source/Platform/A7A/rme_platform_a7a.c **** 			return RME_ERR_HAL_FAIL;
1178:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1179:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else
1180:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return RME_ERR_HAL_FAIL;
1181:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1182:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1183:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1184:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1799              		.loc 1 1184 1 view .LVU448
 1800              	.LVL105:
 1801              		.loc 1 1184 1 is_stmt 0 view .LVU449
 1802 0000 1EFF2FE1 		bx	lr
 1803              		.cfi_endproc
 1804              	.LFE43:
 1806              		.global	RME_A7A_CPU_Cnt
 1807              		.global	RME_A7A_Mem_Info
 1808              		.global	RME_A7A_Kot
 1809              		.global	RME_A7A_Local
 1810              		.global	RME_A7A_Timestamp
 1811              		.section	.bss.RME_A7A_CPU_Cnt,"aw",%nobits
 1812              		.align	2
 1815              	RME_A7A_CPU_Cnt:
 1816 0000 00000000 		.space	4
 1817              		.section	.bss.RME_A7A_Kot,"aw",%nobits
 1818              		.align	3
 1821              	RME_A7A_Kot:
 1822 0000 00000000 		.space	8388608
 1822      00000000 
 1822      00000000 
 1822      00000000 
 1822      00000000 
 1823              		.section	.bss.RME_A7A_Local,"aw",%nobits
 1824              		.align	2
 1825              		.set	.LANCHOR0,. + 0
 1828              	RME_A7A_Local:
 1829 0000 00000000 		.space	276
 1829      00000000 
 1829      00000000 
 1829      00000000 
 1829      00000000 
 1830              		.section	.bss.RME_A7A_Timestamp,"aw",%nobits
 1831              		.align	2
 1834              	RME_A7A_Timestamp:
 1835 0000 00000000 		.space	4
 1836              		.section	.rodata.RME_A7A_Mem_Info,"a"
 1837              		.align	3
 1840              	RME_A7A_Mem_Info:
 1841 0000 21000000 		.word	33
 1842 0004 00000001 		.word	16777216
 1843 0008 00000001 		.word	16777216
 1844 000c F0030000 		.word	1008
 1845 0010 0D080300 		.word	198669
 1846 0014 0000F0FF 		.word	-1048576
 1847 0018 00000000 		.word	0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 57


 1848 001c 01000000 		.word	1
 1849 0020 0D080300 		.word	198669
 1850 0024 00000040 		.word	1073741824
 1851 0028 00000040 		.word	1073741824
 1852 002c 00020000 		.word	512
 1853 0030 0D080300 		.word	198669
 1854 0034 000000E0 		.word	-536870912
 1855 0038 00000060 		.word	1610612736
 1856 003c 00020000 		.word	512
 1857 0040 0D080300 		.word	198669
 1858 0044 00000000 		.word	0
 1859 0048 00000080 		.word	-2147483648
 1860 004c 00040000 		.word	1024
 1861 0050 0D000300 		.word	196621
 1862 0054 00000000 		.word	0
 1863 0058 000000C0 		.word	-1073741824
 1864 005c 01000000 		.word	1
 1865 0060 0D000300 		.word	196621
 1866 0064 00001040 		.word	1074790400
 1867 0068 000010C0 		.word	-1072693248
 1868 006c FF010000 		.word	511
 1869 0070 01000300 		.word	196609
 1870 0074 000000E0 		.word	-536870912
 1871 0078 000000E0 		.word	-536870912
 1872 007c 00020000 		.word	512
 1873 0080 01000300 		.word	196609
 1874              		.text
 1875              	.Letext0:
 1876              		.file 2 "../../Include/Platform/A7A/rme_platform_a7a.h"
 1877              		.file 3 "../../Include/Kernel/rme_kernel.h"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 58


DEFINED SYMBOLS
                            *ABS*:00000000 rme_platform_a7a.c
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:22     .text.startup.main:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:27     .text.startup.main:00000000 main
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:206    .text.__RME_Putchar:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:211    .text.__RME_Putchar:00000000 __RME_Putchar
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:242    .text.__RME_A7A_Int_Local_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:247    .text.__RME_A7A_Int_Local_Init:00000000 __RME_A7A_Int_Local_Init
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:277    .text.__RME_A7A_Feature_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:282    .text.__RME_A7A_Feature_Get:00000000 __RME_A7A_Feature_Get
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:293    .text.__RME_A7A_Mem_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:298    .text.__RME_A7A_Mem_Init:00000000 __RME_A7A_Mem_Init
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:312    .text.__RME_A7A_SMP_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:317    .text.__RME_A7A_SMP_Init:00000000 __RME_A7A_SMP_Init
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:328    .text.__RME_A7A_SMP_Tick:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:333    .text.__RME_A7A_SMP_Tick:00000000 __RME_A7A_SMP_Tick
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:344    .rodata.__RME_Lowlvl_Init.str1.4:00000000 $d
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:345    .rodata.__RME_Lowlvl_Init.str1.4:00000000 .LC0
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:348    .rodata.__RME_Lowlvl_Init.str1.4:00000018 .LC1
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:351    .rodata.__RME_Lowlvl_Init.str1.4:00000030 .LC2
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:354    .rodata.__RME_Lowlvl_Init.str1.4:00000048 .LC3
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:357    .rodata.__RME_Lowlvl_Init.str1.4:00000064 .LC4
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:360    .rodata.__RME_Lowlvl_Init.str1.4:0000007c .LC5
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:363    .rodata.__RME_Lowlvl_Init.str1.4:0000009c .LC6
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:366    .rodata.__RME_Lowlvl_Init.str1.4:000000b4 .LC7
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:369    .rodata.__RME_Lowlvl_Init.str1.4:000000d8 .LC8
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:372    .rodata.__RME_Lowlvl_Init.str1.4:000000ec .LC9
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:375    .text.__RME_Lowlvl_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:380    .text.__RME_Lowlvl_Init:00000000 __RME_Lowlvl_Init
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1825   .bss.RME_A7A_Local:00000000 .LANCHOR0
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:693    .text.__RME_Pgt_Kom_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:698    .text.__RME_Pgt_Kom_Init:00000000 __RME_Pgt_Kom_Init
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:713    .text.__RME_SMP_Low_Level_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:718    .text.__RME_SMP_Low_Level_Init:00000000 __RME_SMP_Low_Level_Init
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:730    .text.__RME_Boot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:735    .text.__RME_Boot:00000000 __RME_Boot
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:802    .text.__RME_Reboot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:807    .text.__RME_Reboot:00000000 __RME_Reboot
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:820    .text.__RME_Shutdown:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:825    .text.__RME_Shutdown:00000000 __RME_Shutdown
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:836    .text.__RME_Svc_Param_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:841    .text.__RME_Svc_Param_Get:00000000 __RME_Svc_Param_Get
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:882    .text.__RME_Svc_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:887    .text.__RME_Svc_Retval_Set:00000000 __RME_Svc_Retval_Set
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:904    .text.__RME_Thd_Reg_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:909    .text.__RME_Thd_Reg_Init:00000000 __RME_Thd_Reg_Init
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:935    .text.__RME_Thd_Reg_Copy:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:940    .text.__RME_Thd_Reg_Copy:00000000 __RME_Thd_Reg_Copy
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1034   .text.__RME_Thd_Cop_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1039   .text.__RME_Thd_Cop_Init:00000000 __RME_Thd_Cop_Init
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1053   .text.__RME_Thd_Cop_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1058   .text.__RME_Thd_Cop_Save:00000000 __RME_Thd_Cop_Save
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1069   .text.__RME_Thd_Cop_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1074   .text.__RME_Thd_Cop_Restore:00000000 __RME_Thd_Cop_Restore
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1085   .text.__RME_Inv_Reg_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1090   .text.__RME_Inv_Reg_Save:00000000 __RME_Inv_Reg_Save
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1114   .text.__RME_Inv_Reg_Restore:00000000 $a
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 59


C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1119   .text.__RME_Inv_Reg_Restore:00000000 __RME_Inv_Reg_Restore
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1143   .text.__RME_Inv_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1148   .text.__RME_Inv_Retval_Set:00000000 __RME_Inv_Retval_Set
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1162   .text.__RME_Set_Inv_Retval:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1167   .text.__RME_Set_Inv_Retval:00000000 __RME_Set_Inv_Retval
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1184   .text.__RME_Thd_Cop_Swap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1189   .text.__RME_Thd_Cop_Swap:00000000 __RME_Thd_Cop_Swap
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1203   .text.__RME_Kfn_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1208   .text.__RME_Kfn_Handler:00000000 __RME_Kfn_Handler
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1226   .text.__RME_A7A_Undefined_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1231   .text.__RME_A7A_Undefined_Handler:00000000 __RME_A7A_Undefined_Handler
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1249   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1254   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 __RME_A7A_Prefetch_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1272   .text.__RME_A7A_Data_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1277   .text.__RME_A7A_Data_Abort_Handler:00000000 __RME_A7A_Data_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1295   .rodata.__RME_A7A_IRQ_Handler.str1.4:00000000 $d
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1296   .rodata.__RME_A7A_IRQ_Handler.str1.4:00000000 .LC10
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1299   .rodata.__RME_A7A_IRQ_Handler.str1.4:0000000c .LC11
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1302   .rodata.__RME_A7A_IRQ_Handler.str1.4:00000018 .LC12
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1305   .text.__RME_A7A_IRQ_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1310   .text.__RME_A7A_IRQ_Handler:00000000 __RME_A7A_IRQ_Handler
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1489   .text._RME_A7A_SGI_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1494   .text._RME_A7A_SGI_Handler:00000000 _RME_A7A_SGI_Handler
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1509   .rodata.__RME_A7A_Generic_Handler.str1.4:00000000 $d
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1510   .rodata.__RME_A7A_Generic_Handler.str1.4:00000000 .LC13
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1513   .text.__RME_A7A_Generic_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1518   .text.__RME_A7A_Generic_Handler:00000000 __RME_A7A_Generic_Handler
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1555   .text.__RME_Pgt_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1560   .text.__RME_Pgt_Set:00000000 __RME_Pgt_Set
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1574   .text.__RME_Pgt_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1579   .text.__RME_Pgt_Check:00000000 __RME_Pgt_Check
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1641   .text.__RME_Pgt_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1646   .text.__RME_Pgt_Init:00000000 __RME_Pgt_Init
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1662   .text.__RME_Pgt_Del_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1667   .text.__RME_Pgt_Del_Check:00000000 __RME_Pgt_Del_Check
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1679   .text.__RME_Pgt_Page_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1684   .text.__RME_Pgt_Page_Map:00000000 __RME_Pgt_Page_Map
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1700   .text.__RME_Pgt_Page_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1705   .text.__RME_Pgt_Page_Unmap:00000000 __RME_Pgt_Page_Unmap
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1721   .text.__RME_Pgt_Pgdir_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1726   .text.__RME_Pgt_Pgdir_Map:00000000 __RME_Pgt_Pgdir_Map
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1742   .text.__RME_Pgt_Pgdir_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1747   .text.__RME_Pgt_Pgdir_Unmap:00000000 __RME_Pgt_Pgdir_Unmap
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1765   .text.__RME_Pgt_Lookup:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1770   .text.__RME_Pgt_Lookup:00000000 __RME_Pgt_Lookup
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1786   .text.__RME_Pgt_Walk:00000000 $a
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1791   .text.__RME_Pgt_Walk:00000000 __RME_Pgt_Walk
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1815   .bss.RME_A7A_CPU_Cnt:00000000 RME_A7A_CPU_Cnt
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1840   .rodata.RME_A7A_Mem_Info:00000000 RME_A7A_Mem_Info
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1821   .bss.RME_A7A_Kot:00000000 RME_A7A_Kot
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1828   .bss.RME_A7A_Local:00000000 RME_A7A_Local
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1834   .bss.RME_A7A_Timestamp:00000000 RME_A7A_Timestamp
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1812   .bss.RME_A7A_CPU_Cnt:00000000 $d
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1818   .bss.RME_A7A_Kot:00000000 $d
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1824   .bss.RME_A7A_Local:00000000 $d
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1831   .bss.RME_A7A_Timestamp:00000000 $d
C:\Users\even\AppData\Local\Temp\ccR5UFTa.s:1837   .rodata.RME_A7A_Mem_Info:00000000 $d
ARM GAS  C:\Users\even\AppData\Local\Temp\ccR5UFTa.s 			page 60


                           .group:00000000 wm4.0.fe3c9ee3fdfbed0fcc0e8dc47e87fbb2
                           .group:00000000 wm4.rme_platform_a7a.h.12.4ea7c3e7cd5be5689682b56f61920b43
                           .group:00000000 wm4.rme_platform_xc7z020.h.15.b641e16cd0eea43c871ede6ca7cc50b1
                           .group:00000000 wm4.rme_platform_a7a.h.136.3fbf02c166445c335d4427cc87227d3a
                           .group:00000000 wm4.rme_kernel.h.27.716340edb41bad57d522729bf2b8a38a
                           .group:00000000 wm4.rme.h.11.9832b5e30070a0fa5589a615f357d92d
                           .group:00000000 wm4.rme_kernel.h.185.3974182bb1c1d44bb740025d2e899ec7
                           .group:00000000 wm4.rme_platform_a7a.h.390.918e282e9d9d990fe491c99e3e90944b
                           .group:00000000 wm4.rme_kernel.h.679.5cba0ca852965e732f79ab9e9cae51eb
                           .group:00000000 wm4.rme_platform_a7a.h.507.416ede40988b8960598c6a825b1e6d1d
                           .group:00000000 wm4.rme_kernel.h.931.ec71bd25af7f487c8cb7f50ed1922251

UNDEFINED SYMBOLS
_RME_CPU_Local_Init
RME_Str_Print
RME_Int_Print
__RME_A7A_Vector_Table
__RME_A7A_VBAR_Set
__RME_Int_Enable
RME_Log
