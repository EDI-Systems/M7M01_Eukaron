ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 1


   1              		.cpu cortex-a9
   2              		.arch armv7-a
   3              		.fpu neon-fp16
   4              		.arch_extension mp
   5              		.arch_extension sec
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"rme_platform_a7a.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "../../Source/Platform/A7A/rme_platform_a7a.c"
  20              		.section	.rodata.RME_A7A_Pgflg_1M_RME2NAT,"a"
  21              		.align	2
  24              	RME_A7A_Pgflg_1M_RME2NAT:
  25 0000 128C0300 		.word	232466
  26 0004 128C0300 		.word	232466
  27 0008 120C0300 		.word	199698
  28 000c 120C0300 		.word	199698
  29 0010 028C0300 		.word	232450
  30 0014 028C0300 		.word	232450
  31 0018 020C0300 		.word	199682
  32 001c 020C0300 		.word	199682
  33 0020 1A8C0300 		.word	232474
  34 0024 1A8C0300 		.word	232474
  35 0028 1A0C0300 		.word	199706
  36 002c 1A0C0300 		.word	199706
  37 0030 0A8C0300 		.word	232458
  38 0034 0A8C0300 		.word	232458
  39 0038 0A0C0300 		.word	199690
  40 003c 0A0C0300 		.word	199690
  41 0040 168C0300 		.word	232470
  42 0044 168C0300 		.word	232470
  43 0048 160C0300 		.word	199702
  44 004c 160C0300 		.word	199702
  45 0050 068C0300 		.word	232454
  46 0054 068C0300 		.word	232454
  47 0058 060C0300 		.word	199686
  48 005c 060C0300 		.word	199686
  49 0060 1E8C0300 		.word	232478
  50 0064 1E8C0300 		.word	232478
  51 0068 1E0C0300 		.word	199710
  52 006c 1E0C0300 		.word	199710
  53 0070 0E8C0300 		.word	232462
  54 0074 0E8C0300 		.word	232462
  55 0078 0E0C0300 		.word	199694
  56 007c 0E0C0300 		.word	199694
  57              		.section	.rodata.RME_A7A_Pgflg_4K_RME2NAT,"a"
  58              		.align	2
  61              	RME_A7A_Pgflg_4K_RME2NAT:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 2


  62 0000 330E0000 		.word	3635
  63 0004 330E0000 		.word	3635
  64 0008 330C0000 		.word	3123
  65 000c 330C0000 		.word	3123
  66 0010 320E0000 		.word	3634
  67 0014 320E0000 		.word	3634
  68 0018 320C0000 		.word	3122
  69 001c 320C0000 		.word	3122
  70 0020 3B0E0000 		.word	3643
  71 0024 3B0E0000 		.word	3643
  72 0028 3B0C0000 		.word	3131
  73 002c 3B0C0000 		.word	3131
  74 0030 3A0E0000 		.word	3642
  75 0034 3A0E0000 		.word	3642
  76 0038 3A0C0000 		.word	3130
  77 003c 3A0C0000 		.word	3130
  78 0040 370E0000 		.word	3639
  79 0044 370E0000 		.word	3639
  80 0048 370C0000 		.word	3127
  81 004c 370C0000 		.word	3127
  82 0050 360E0000 		.word	3638
  83 0054 360E0000 		.word	3638
  84 0058 360C0000 		.word	3126
  85 005c 360C0000 		.word	3126
  86 0060 3F0E0000 		.word	3647
  87 0064 3F0E0000 		.word	3647
  88 0068 3F0C0000 		.word	3135
  89 006c 3F0C0000 		.word	3135
  90 0070 3E0E0000 		.word	3646
  91 0074 3E0E0000 		.word	3646
  92 0078 3E0C0000 		.word	3134
  93 007c 3E0C0000 		.word	3134
  94              		.section	.rodata.RME_A7A_Pgflg_1M_NAT2RME,"a"
  95              		.align	2
  98              	RME_A7A_Pgflg_1M_NAT2RME:
  99 0000 07000000 		.word	7
 100 0004 17000000 		.word	23
 101 0008 0F000000 		.word	15
 102 000c 1F000000 		.word	31
 103 0010 03000000 		.word	3
 104 0014 13000000 		.word	19
 105 0018 0B000000 		.word	11
 106 001c 1B000000 		.word	27
 107 0020 05000000 		.word	5
 108 0024 15000000 		.word	21
 109 0028 0D000000 		.word	13
 110 002c 1D000000 		.word	29
 111 0030 01000000 		.word	1
 112 0034 11000000 		.word	17
 113 0038 09000000 		.word	9
 114 003c 19000000 		.word	25
 115              		.section	.rodata.RME_A7A_Pgflg_4K_NAT2RME,"a"
 116              		.align	2
 119              	RME_A7A_Pgflg_4K_NAT2RME:
 120 0000 07000000 		.word	7
 121 0004 03000000 		.word	3
 122 0008 17000000 		.word	23
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 3


 123 000c 13000000 		.word	19
 124 0010 0F000000 		.word	15
 125 0014 0B000000 		.word	11
 126 0018 1F000000 		.word	31
 127 001c 1B000000 		.word	27
 128 0020 05000000 		.word	5
 129 0024 01000000 		.word	1
 130 0028 15000000 		.word	21
 131 002c 11000000 		.word	17
 132 0030 0D000000 		.word	13
 133 0034 09000000 		.word	9
 134 0038 1D000000 		.word	29
 135 003c 19000000 		.word	25
 136              		.global	RME_A7A_Timestamp
 137              		.section	.bss.RME_A7A_Timestamp,"aw",%nobits
 138              		.align	2
 141              	RME_A7A_Timestamp:
 142 0000 00000000 		.space	4
 143              		.global	RME_A7A_Local
 144              		.section	.bss.RME_A7A_Local,"aw",%nobits
 145              		.align	2
 148              	RME_A7A_Local:
 149 0000 00000000 		.space	276
 149      00000000 
 149      00000000 
 149      00000000 
 149      00000000 
 150              		.global	RME_A7A_Kot
 151              		.section	.bss.RME_A7A_Kot,"aw",%nobits
 152              		.align	2
 155              	RME_A7A_Kot:
 156 0000 00000000 		.space	131072
 156      00000000 
 156      00000000 
 156      00000000 
 156      00000000 
 157              		.global	RME_A7A_Mem_Info
 158              		.section	.rodata.RME_A7A_Mem_Info,"a"
 159              		.align	2
 162              	RME_A7A_Mem_Info:
 163 0000 19000000 		.word	25
 164 0004 00000000 		.word	0
 165 0008 00000000 		.word	0
 166 000c 00040000 		.word	1024
 167 0010 0E0C0300 		.word	199694
 168 0014 00000040 		.word	1073741824
 169 0018 00000040 		.word	1073741824
 170 001c 00020000 		.word	512
 171 0020 020C0300 		.word	199682
 172 0024 000000E0 		.word	-536870912
 173 0028 00000060 		.word	1610612736
 174 002c 00020000 		.word	512
 175 0030 020C0300 		.word	199682
 176 0034 00000000 		.word	0
 177 0038 00000080 		.word	-2147483648
 178 003c 00040000 		.word	1024
 179 0040 0E040300 		.word	197646
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 4


 180 0044 00000040 		.word	1073741824
 181 0048 000000C0 		.word	-1073741824
 182 004c 00020000 		.word	512
 183 0050 02040300 		.word	197634
 184 0054 000000E0 		.word	-536870912
 185 0058 000000E0 		.word	-536870912
 186 005c 00020000 		.word	512
 187 0060 02040300 		.word	197634
 188              		.global	RME_A7A_CPU_Cnt
 189              		.section	.bss.RME_A7A_CPU_Cnt,"aw",%nobits
 190              		.align	2
 193              	RME_A7A_CPU_Cnt:
 194 0000 00000000 		.space	4
 195              		.section	.text.main,"ax",%progbits
 196              		.align	2
 197              		.global	main
 198              		.syntax unified
 199              		.arm
 201              	main:
 202              	.LFB0:
   1:../../Source/Platform/A7A/rme_platform_a7a.c **** /******************************************************************************
   2:../../Source/Platform/A7A/rme_platform_a7a.c **** Filename    : platform_a7a.c
   3:../../Source/Platform/A7A/rme_platform_a7a.c **** Author      : pry
   4:../../Source/Platform/A7A/rme_platform_a7a.c **** Date        : 01/04/2017
   5:../../Source/Platform/A7A/rme_platform_a7a.c **** Licence     : LGPL v3+; see COPYING for details.
   6:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The hardware abstraction layer for ARMv7-A machines.
   7:../../Source/Platform/A7A/rme_platform_a7a.c ****               1. Interrupt controller
   8:../../Source/Platform/A7A/rme_platform_a7a.c ****               2. Timer
   9:../../Source/Platform/A7A/rme_platform_a7a.c ****               3. Pgt setup
  10:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  11:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  12:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Include *******************************************************************/
  13:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_DEF__
  14:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  15:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  16:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_DEF__
  17:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  18:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_STRUCT__
  19:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  20:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  21:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_STRUCT__
  22:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  23:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Private include */
  24:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  25:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  26:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_PUBLIC__
  27:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  28:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_PUBLIC__
  29:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Include ***************************************************************/
  30:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  31:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:main **************************************************************
  32:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The entrance of the operating system.
  33:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  34:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  35:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : int - This function never returns.
  36:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  37:../../Source/Platform/A7A/rme_platform_a7a.c **** int main(void)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 5


  38:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 203              		.loc 1 38 1
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 0
 206              		@ frame_needed = 1, uses_anonymous_args = 0
 207 0000 00482DE9 		push	{fp, lr}
 208              		.cfi_def_cfa_offset 8
 209              		.cfi_offset 11, -8
 210              		.cfi_offset 14, -4
 211 0004 04B08DE2 		add	fp, sp, #4
 212              		.cfi_def_cfa 11, 4
  39:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_H(__RME_A7A_ID_ISAR0_Get());
  40:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_I(10);
  41:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_S("hello world\n");
  42:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  43:../../Source/Platform/A7A/rme_platform_a7a.c ****    RME_Kmain();
 213              		.loc 1 43 4
 214 0008 FEFFFFEB 		bl	RME_Kmain
  44:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  45:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  46:../../Source/Platform/A7A/rme_platform_a7a.c ****     //test
  47:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The main function of the kernel - we will start our kernel boot here */
  48:../../Source/Platform/A7A/rme_platform_a7a.c ****     //_RME_Kmain(RME_KOM_STACK_ADDR);
  49:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  50:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 215              		.loc 1 50 12
 216 000c 0030A0E3 		mov	r3, #0
  51:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 217              		.loc 1 51 1
 218 0010 0300A0E1 		mov	r0, r3
 219 0014 0088BDE8 		pop	{fp, pc}
 220              		.cfi_endproc
 221              	.LFE0:
 223              		.section	.text.RME_Out32,"ax",%progbits
 224              		.align	2
 225              		.global	RME_Out32
 226              		.syntax unified
 227              		.arm
 229              	RME_Out32:
 230              	.LFB1:
  52:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
  53:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  54:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Performs an output operation for a 32-bit memory location by writing the
  55:../../Source/Platform/A7A/rme_platform_a7a.c ****  specified Value to the the specified address. */
  56:../../Source/Platform/A7A/rme_platform_a7a.c **** void RME_Out32(rme_ptr_t Addr, rme_ptr_t Value)
  57:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 231              		.loc 1 57 1
 232              		.cfi_startproc
 233              		@ args = 0, pretend = 0, frame = 16
 234              		@ frame_needed = 1, uses_anonymous_args = 0
 235              		@ link register save eliminated.
 236 0000 04B02DE5 		str	fp, [sp, #-4]!
 237              		.cfi_def_cfa_offset 4
 238              		.cfi_offset 11, -4
 239 0004 00B08DE2 		add	fp, sp, #0
 240              		.cfi_def_cfa_register 11
 241 0008 14D04DE2 		sub	sp, sp, #20
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 6


 242 000c 10000BE5 		str	r0, [fp, #-16]
 243 0010 14100BE5 		str	r1, [fp, #-20]
  58:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t *LocalAddr = (rme_ptr_t *)Addr;
 244              		.loc 1 58 13
 245 0014 10301BE5 		ldr	r3, [fp, #-16]
 246 0018 08300BE5 		str	r3, [fp, #-8]
  59:../../Source/Platform/A7A/rme_platform_a7a.c **** 	*LocalAddr = Value;
 247              		.loc 1 59 13
 248 001c 08301BE5 		ldr	r3, [fp, #-8]
 249 0020 14201BE5 		ldr	r2, [fp, #-20]
 250 0024 002083E5 		str	r2, [r3]
  60:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 251              		.loc 1 60 1
 252 0028 00F020E3 		nop
 253 002c 00D08BE2 		add	sp, fp, #0
 254              		.cfi_def_cfa_register 13
 255              		@ sp needed
 256 0030 04B09DE4 		ldr	fp, [sp], #4
 257              		.cfi_restore 11
 258              		.cfi_def_cfa_offset 0
 259 0034 1EFF2FE1 		bx	lr
 260              		.cfi_endproc
 261              	.LFE1:
 263              		.section	.text.__RME_Putchar,"ax",%progbits
 264              		.align	2
 265              		.global	__RME_Putchar
 266              		.syntax unified
 267              		.arm
 269              	__RME_Putchar:
 270              	.LFB2:
  61:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  62:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Putchar *****************************************************
  63:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Output a character to console. In Cortex-M, under most circumstances, 
  64:../../Source/Platform/A7A/rme_platform_a7a.c ****               we should use the ITM for such outputs.
  65:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : char Char - The character to print.
  66:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  67:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
  68:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  69:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Putchar(char Char)
  70:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 271              		.loc 1 70 1
 272              		.cfi_startproc
 273              		@ args = 0, pretend = 0, frame = 8
 274              		@ frame_needed = 1, uses_anonymous_args = 0
 275              		@ link register save eliminated.
 276 0000 04B02DE5 		str	fp, [sp, #-4]!
 277              		.cfi_def_cfa_offset 4
 278              		.cfi_offset 11, -4
 279 0004 00B08DE2 		add	fp, sp, #0
 280              		.cfi_def_cfa_register 11
 281 0008 0CD04DE2 		sub	sp, sp, #12
 282 000c 0030A0E1 		mov	r3, r0
 283 0010 05304BE5 		strb	r3, [fp, #-5]
 284              	.L5:
  71:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PUTCHAR(Char);
 285              		.loc 1 71 5 discriminator 1
 286 0014 2C3001E3 		movw	r3, #4140
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 7


 287 0018 00304EE3 		movt	r3, 57344
 288 001c 003093E5 		ldr	r3, [r3]
 289 0020 083003E2 		and	r3, r3, #8
 290 0024 000053E3 		cmp	r3, #0
 291 0028 F9FFFF0A 		beq	.L5
 292              		.loc 1 71 5 is_stmt 0 discriminator 2
 293 002c 303001E3 		movw	r3, #4144
 294 0030 00304EE3 		movt	r3, 57344
 295 0034 D5205BE1 		ldrsb	r2, [fp, #-5]
 296 0038 002083E5 		str	r2, [r3]
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 297              		.loc 1 72 12 is_stmt 1
 298 003c 0030A0E3 		mov	r3, #0
  73:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 299              		.loc 1 73 1
 300 0040 0300A0E1 		mov	r0, r3
 301 0044 00D08BE2 		add	sp, fp, #0
 302              		.cfi_def_cfa_register 13
 303              		@ sp needed
 304 0048 04B09DE4 		ldr	fp, [sp], #4
 305              		.cfi_restore 11
 306              		.cfi_def_cfa_offset 0
 307 004c 1EFF2FE1 		bx	lr
 308              		.cfi_endproc
 309              	.LFE2:
 311              		.section	.rodata
 312              		.align	2
 313              	.LC0:
 314 0000 0D0A4137 		.ascii	"\015\012A7A-GIC: ProductID: \000"
 314      412D4749 
 314      433A2050 
 314      726F6475 
 314      63744944 
 315 0017 00       		.align	2
 316              	.LC1:
 317 0018 0D0A4137 		.ascii	"\015\012A7A-GIC: Variant: \000"
 317      412D4749 
 317      433A2056 
 317      61726961 
 317      6E743A20 
 318 002d 000000   		.align	2
 319              	.LC2:
 320 0030 0D0A4137 		.ascii	"\015\012A7A-GIC: Revision: \000"
 320      412D4749 
 320      433A2052 
 320      65766973 
 320      696F6E3A 
 321 0046 0000     		.align	2
 322              	.LC3:
 323 0048 0D0A4137 		.ascii	"\015\012A7A-GIC: Implementer: 0x\000"
 323      412D4749 
 323      433A2049 
 323      6D706C65 
 323      6D656E74 
 324 0063 00       		.align	2
 325              	.LC4:
 326 0064 0D0A4137 		.ascii	"\015\012A7A-GIC: SPI number: \000"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 8


 326      412D4749 
 326      433A2053 
 326      5049206E 
 326      756D6265 
 327              		.align	2
 328              	.LC5:
 329 007c 0D0A4137 		.ascii	"\015\012A7A-GIC: Security extension: \000"
 329      412D4749 
 329      433A2053 
 329      65637572 
 329      69747920 
 330              		.align	2
 331              	.LC6:
 332 009c 0D0A4137 		.ascii	"\015\012A7A-GIC: CPU number: \000"
 332      412D4749 
 332      433A2043 
 332      5055206E 
 332      756D6265 
 333              		.align	2
 334              	.LC7:
 335 00b4 0D0A4137 		.ascii	"\015\012A7A-GIC: Interrupt line number: \000"
 335      412D4749 
 335      433A2049 
 335      6E746572 
 335      72757074 
 336              		.section	.text.__RME_A7A_Int_Init,"ax",%progbits
 337              		.align	2
 338              		.syntax unified
 339              		.arm
 341              	__RME_A7A_Int_Init:
 342              	.LFB3:
  74:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Putchar ************************************************/
  75:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  76:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_CPU_Local_Get ******************************************
  77:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the CPU-local data structures. This is to identify where we are
  78:../../Source/Platform/A7A/rme_platform_a7a.c ****               executing.
  79:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  80:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  81:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : struct RME_CPU_Local* - The CPU-local data structures.
  82:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  83:../../Source/Platform/A7A/rme_platform_a7a.c **** /*struct RME_CPU_Local* __RME_A7A_CPU_Local_Get(void)
  84:../../Source/Platform/A7A/rme_platform_a7a.c **** {
  85:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return &RME_A7A_Local[__RME_A7A_MPIDR_Get()&0x03];
  86:../../Source/Platform/A7A/rme_platform_a7a.c **** }*/
  87:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_CPU_Local_Get *************************************/
  88:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  89:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Init ***********************************************
  90:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
  91:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
  92:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
  93:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  94:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  95:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
  96:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  97:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Init(void)
  98:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 343              		.loc 1 98 1
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 9


 344              		.cfi_startproc
 345              		@ args = 0, pretend = 0, frame = 8
 346              		@ frame_needed = 1, uses_anonymous_args = 0
 347 0000 00482DE9 		push	{fp, lr}
 348              		.cfi_def_cfa_offset 8
 349              		.cfi_offset 11, -8
 350              		.cfi_offset 14, -4
 351 0004 04B08DE2 		add	fp, sp, #4
 352              		.cfi_def_cfa 11, 4
 353 0008 08D04DE2 		sub	sp, sp, #8
  99:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
 100:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Lines;
 101:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 102:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Who implemented the GIC, what variant, how many interrupts? */
 103:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_IIDR;
 354              		.loc 1 103 10
 355 000c 083001E3 		movw	r3, #4104
 356 0010 F0384FE3 		movt	r3, 63728
 357              		.loc 1 103 9
 358 0014 003093E5 		ldr	r3, [r3]
 359 0018 08300BE5 		str	r3, [fp, #-8]
 104:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 360              		.loc 1 104 5
 361 001c 000000E3 		movw	r0, #:lower16:.LC0
 362 0020 000040E3 		movt	r0, #:upper16:.LC0
 363 0024 FEFFFFEB 		bl	RME_Str_Print
 105:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>24);
 364              		.loc 1 105 5
 365 0028 08301BE5 		ldr	r3, [fp, #-8]
 366 002c 233CA0E1 		lsr	r3, r3, #24
 367 0030 0300A0E1 		mov	r0, r3
 368 0034 FEFFFFEB 		bl	RME_Int_Print
 106:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Variant: ");
 369              		.loc 1 106 5
 370 0038 000000E3 		movw	r0, #:lower16:.LC1
 371 003c 000040E3 		movt	r0, #:upper16:.LC1
 372 0040 FEFFFFEB 		bl	RME_Str_Print
 107:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>20)&0xF);
 373              		.loc 1 107 5
 374 0044 08301BE5 		ldr	r3, [fp, #-8]
 375 0048 233AA0E1 		lsr	r3, r3, #20
 376 004c 0F3003E2 		and	r3, r3, #15
 377 0050 0300A0E1 		mov	r0, r3
 378 0054 FEFFFFEB 		bl	RME_Int_Print
 108:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Revision: ");
 379              		.loc 1 108 5
 380 0058 000000E3 		movw	r0, #:lower16:.LC2
 381 005c 000040E3 		movt	r0, #:upper16:.LC2
 382 0060 FEFFFFEB 		bl	RME_Str_Print
 109:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>12)&0xF);
 383              		.loc 1 109 5
 384 0064 08301BE5 		ldr	r3, [fp, #-8]
 385 0068 2336A0E1 		lsr	r3, r3, #12
 386 006c 0F3003E2 		and	r3, r3, #15
 387 0070 0300A0E1 		mov	r0, r3
 388 0074 FEFFFFEB 		bl	RME_Int_Print
 110:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Implementer: 0x");
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 10


 389              		.loc 1 110 5
 390 0078 000000E3 		movw	r0, #:lower16:.LC3
 391 007c 000040E3 		movt	r0, #:upper16:.LC3
 392 0080 FEFFFFEB 		bl	RME_Str_Print
 111:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Temp&0xFFF);
 393              		.loc 1 111 5
 394 0084 08301BE5 		ldr	r3, [fp, #-8]
 395 0088 5330EBE7 		ubfx	r3, r3, #0, #12
 396 008c 0300A0E1 		mov	r0, r3
 397 0090 FEFFFFEB 		bl	RME_Hex_Print
 112:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 113:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* How many locked SPIs, security extension enabled or not, number of
 114:../../Source/Platform/A7A/rme_platform_a7a.c ****      * actual CPUs and interrupt lines */
 115:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_TYPER;
 398              		.loc 1 115 10
 399 0094 043001E3 		movw	r3, #4100
 400 0098 F0384FE3 		movt	r3, 63728
 401              		.loc 1 115 9
 402 009c 003093E5 		ldr	r3, [r3]
 403 00a0 08300BE5 		str	r3, [fp, #-8]
 116:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
 404              		.loc 1 116 5
 405 00a4 000000E3 		movw	r0, #:lower16:.LC4
 406 00a8 000040E3 		movt	r0, #:upper16:.LC4
 407 00ac FEFFFFEB 		bl	RME_Str_Print
 117:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 408              		.loc 1 117 5
 409 00b0 08301BE5 		ldr	r3, [fp, #-8]
 410 00b4 2338A0E1 		lsr	r3, r3, #16
 411 00b8 0300A0E1 		mov	r0, r3
 412 00bc FEFFFFEB 		bl	RME_Int_Print
 118:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Security extension: ");
 413              		.loc 1 118 5
 414 00c0 000000E3 		movw	r0, #:lower16:.LC5
 415 00c4 000040E3 		movt	r0, #:upper16:.LC5
 416 00c8 FEFFFFEB 		bl	RME_Str_Print
 119:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>10)&0x1);
 417              		.loc 1 119 5
 418 00cc 08301BE5 		ldr	r3, [fp, #-8]
 419 00d0 2335A0E1 		lsr	r3, r3, #10
 420 00d4 013003E2 		and	r3, r3, #1
 421 00d8 0300A0E1 		mov	r0, r3
 422 00dc FEFFFFEB 		bl	RME_Int_Print
 120:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: CPU number: ");
 423              		.loc 1 120 5
 424 00e0 000000E3 		movw	r0, #:lower16:.LC6
 425 00e4 000040E3 		movt	r0, #:upper16:.LC6
 426 00e8 FEFFFFEB 		bl	RME_Str_Print
 121:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(((Temp>>5)&0x7)+1);
 427              		.loc 1 121 5
 428 00ec 08301BE5 		ldr	r3, [fp, #-8]
 429 00f0 A332A0E1 		lsr	r3, r3, #5
 430 00f4 073003E2 		and	r3, r3, #7
 431 00f8 013083E2 		add	r3, r3, #1
 432 00fc 0300A0E1 		mov	r0, r3
 433 0100 FEFFFFEB 		bl	RME_Int_Print
 122:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 11


 434              		.loc 1 122 5
 435 0104 000000E3 		movw	r0, #:lower16:.LC7
 436 0108 000040E3 		movt	r0, #:upper16:.LC7
 437 010c FEFFFFEB 		bl	RME_Str_Print
 123:../../Source/Platform/A7A/rme_platform_a7a.c ****     Lines=((Temp&0x1F)+1)*32;
 438              		.loc 1 123 17
 439 0110 08301BE5 		ldr	r3, [fp, #-8]
 440 0114 1F3003E2 		and	r3, r3, #31
 441              		.loc 1 123 23
 442 0118 013083E2 		add	r3, r3, #1
 443              		.loc 1 123 10
 444 011c 8332A0E1 		lsl	r3, r3, #5
 445 0120 0C300BE5 		str	r3, [fp, #-12]
 124:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 446              		.loc 1 124 5
 447 0124 0C301BE5 		ldr	r3, [fp, #-12]
 448 0128 0300A0E1 		mov	r0, r3
 449 012c FEFFFFEB 		bl	RME_Int_Print
 125:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 126:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 127:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 128:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 0, and disable all */
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/32;Temp++)
 450              		.loc 1 129 10
 451 0130 0030A0E3 		mov	r3, #0
 452 0134 08300BE5 		str	r3, [fp, #-8]
 453              		.loc 1 129 2
 454 0138 1A0000EA 		b	.L8
 455              	.L9:
 130:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 131:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 456              		.loc 1 131 3
 457 013c 08201BE5 		ldr	r2, [fp, #-8]
 458 0140 4A3EA0E3 		mov	r3, #1184
 459 0144 3C3E43E3 		movt	r3, 15932
 460 0148 033082E0 		add	r3, r2, r3
 461 014c 0331A0E1 		lsl	r3, r3, #2
 462 0150 0320A0E1 		mov	r2, r3
 463              		.loc 1 131 29
 464 0154 0030E0E3 		mvn	r3, #0
 465 0158 003082E5 		str	r3, [r2]
 132:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 466              		.loc 1 132 3
 467 015c 08201BE5 		ldr	r2, [fp, #-8]
 468 0160 423EA0E3 		mov	r3, #1056
 469 0164 3C3E43E3 		movt	r3, 15932
 470 0168 033082E0 		add	r3, r2, r3
 471 016c 0331A0E1 		lsl	r3, r3, #2
 472 0170 0320A0E1 		mov	r2, r3
 473              		.loc 1 132 29
 474 0174 0030A0E3 		mov	r3, #0
 475 0178 003082E5 		str	r3, [r2]
 133:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 476              		.loc 1 133 3
 477 017c 08201BE5 		ldr	r2, [fp, #-8]
 478 0180 463EA0E3 		mov	r3, #1120
 479 0184 3C3E43E3 		movt	r3, 15932
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 12


 480 0188 033082E0 		add	r3, r2, r3
 481 018c 0331A0E1 		lsl	r3, r3, #2
 482 0190 0320A0E1 		mov	r2, r3
 483              		.loc 1 133 31
 484 0194 0030E0E3 		mvn	r3, #0
 485 0198 003082E5 		str	r3, [r2]
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 486              		.loc 1 129 31 discriminator 3
 487 019c 08301BE5 		ldr	r3, [fp, #-8]
 488 01a0 013083E2 		add	r3, r3, #1
 489 01a4 08300BE5 		str	r3, [fp, #-8]
 490              	.L8:
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 491              		.loc 1 129 23 discriminator 1
 492 01a8 0C301BE5 		ldr	r3, [fp, #-12]
 493 01ac A332A0E1 		lsr	r3, r3, #5
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 494              		.loc 1 129 17 discriminator 1
 495 01b0 08201BE5 		ldr	r2, [fp, #-8]
 496 01b4 030052E1 		cmp	r2, r3
 497 01b8 DFFFFF3A 		bcc	.L9
 134:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 135:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 136:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Set the priority of all such interrupts to the lowest level */
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/4;Temp++)
 498              		.loc 1 137 10
 499 01bc 0030A0E3 		mov	r3, #0
 500 01c0 08300BE5 		str	r3, [fp, #-8]
 501              		.loc 1 137 2
 502 01c4 0B0000EA 		b	.L10
 503              	.L11:
 138:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 504              		.loc 1 138 3
 505 01c8 08201BE5 		ldr	r2, [fp, #-8]
 506 01cc 053CA0E3 		mov	r3, #1280
 507 01d0 3C3E43E3 		movt	r3, 15932
 508 01d4 033082E0 		add	r3, r2, r3
 509 01d8 0331A0E1 		lsl	r3, r3, #2
 510 01dc 0320A0E1 		mov	r2, r3
 511              		.loc 1 138 32
 512 01e0 A0300AE3 		movw	r3, #41120
 513 01e4 A0304AE3 		movt	r3, 41120
 514 01e8 003082E5 		str	r3, [r2]
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 515              		.loc 1 137 30 discriminator 3
 516 01ec 08301BE5 		ldr	r3, [fp, #-8]
 517 01f0 013083E2 		add	r3, r3, #1
 518 01f4 08300BE5 		str	r3, [fp, #-8]
 519              	.L10:
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 520              		.loc 1 137 23 discriminator 1
 521 01f8 0C301BE5 		ldr	r3, [fp, #-12]
 522 01fc 2331A0E1 		lsr	r3, r3, #2
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 523              		.loc 1 137 17 discriminator 1
 524 0200 08201BE5 		ldr	r2, [fp, #-8]
 525 0204 030052E1 		cmp	r2, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 13


 526 0208 EEFFFF3A 		bcc	.L11
 139:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 140:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts target CPU0 */
 141:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=8;Temp<Lines/4;Temp++)
 527              		.loc 1 141 10
 528 020c 0830A0E3 		mov	r3, #8
 529 0210 08300BE5 		str	r3, [fp, #-8]
 530              		.loc 1 141 2
 531 0214 0B0000EA 		b	.L12
 532              	.L13:
 142:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 533              		.loc 1 142 3
 534 0218 08201BE5 		ldr	r2, [fp, #-8]
 535 021c 063CA0E3 		mov	r3, #1536
 536 0220 3C3E43E3 		movt	r3, 15932
 537 0224 033082E0 		add	r3, r2, r3
 538 0228 0331A0E1 		lsl	r3, r3, #2
 539 022c 0320A0E1 		mov	r2, r3
 540              		.loc 1 142 31
 541 0230 013100E3 		movw	r3, #257
 542 0234 013140E3 		movt	r3, 257
 543 0238 003082E5 		str	r3, [r2]
 141:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 544              		.loc 1 141 30 discriminator 3
 545 023c 08301BE5 		ldr	r3, [fp, #-8]
 546 0240 013083E2 		add	r3, r3, #1
 547 0244 08300BE5 		str	r3, [fp, #-8]
 548              	.L12:
 141:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 549              		.loc 1 141 23 discriminator 1
 550 0248 0C301BE5 		ldr	r3, [fp, #-12]
 551 024c 2331A0E1 		lsr	r3, r3, #2
 141:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 552              		.loc 1 141 17 discriminator 1
 553 0250 08201BE5 		ldr	r2, [fp, #-8]
 554 0254 030052E1 		cmp	r2, r3
 555 0258 EEFFFF3A 		bcc	.L13
 143:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 144:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts are edge triggered, and use 1-N model */
 145:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/16;Temp++)
 556              		.loc 1 145 10
 557 025c 0030A0E3 		mov	r3, #0
 558 0260 08300BE5 		str	r3, [fp, #-8]
 559              		.loc 1 145 2
 560 0264 0B0000EA 		b	.L14
 561              	.L15:
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 562              		.loc 1 146 3
 563 0268 08201BE5 		ldr	r2, [fp, #-8]
 564 026c 073CA0E3 		mov	r3, #1792
 565 0270 3C3E43E3 		movt	r3, 15932
 566 0274 033082E0 		add	r3, r2, r3
 567 0278 0331A0E1 		lsl	r3, r3, #2
 568 027c 0320A0E1 		mov	r2, r3
 569              		.loc 1 146 27
 570 0280 553505E3 		movw	r3, #21845
 571 0284 553545E3 		movt	r3, 21845
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 14


 572 0288 003082E5 		str	r3, [r2]
 145:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 573              		.loc 1 145 31 discriminator 3
 574 028c 08301BE5 		ldr	r3, [fp, #-8]
 575 0290 013083E2 		add	r3, r3, #1
 576 0294 08300BE5 		str	r3, [fp, #-8]
 577              	.L14:
 145:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 578              		.loc 1 145 23 discriminator 1
 579 0298 0C301BE5 		ldr	r3, [fp, #-12]
 580 029c 2332A0E1 		lsr	r3, r3, #4
 145:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 581              		.loc 1 145 17 discriminator 1
 582 02a0 08201BE5 		ldr	r2, [fp, #-8]
 583 02a4 030052E1 		cmp	r2, r3
 584 02a8 EEFFFF3A 		bcc	.L15
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 148:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable the interrupt controller */
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 585              		.loc 1 149 2
 586 02ac 013AA0E3 		mov	r3, #4096
 587 02b0 F0384FE3 		movt	r3, 63728
 588              		.loc 1 149 19
 589 02b4 0320A0E3 		mov	r2, #3
 590 02b8 002083E5 		str	r2, [r3]
 150:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 151:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 1, unless otherwise noted, and disable all */
 152:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/32;Temp++)
 153:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 154:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 155:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_IGROUPR(Temp)=0xFFFFFFFFU;
 156:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 157:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 159:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the priority of all such interrupts to the lowest level*/
 160:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/4;Temp++)
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xE0E0E0E0U;
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 163:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts target CPU0 */
 164:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=8;Temp<Lines/4;Temp++)
 165:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 166:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 167:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts are edge triggered, and use 1-N model */
 168:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/16;Temp++)
 169:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICFGR(Temp)=0xFFFFFFFFU;
 170:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 171:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the interrupt controller */
 172:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 173:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 174:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 591              		.loc 1 174 1
 592 02bc 00F020E3 		nop
 593 02c0 04D04BE2 		sub	sp, fp, #4
 594              		.cfi_def_cfa 13, 8
 595              		@ sp needed
 596 02c4 0088BDE8 		pop	{fp, pc}
 597              		.cfi_endproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 15


 598              	.LFE3:
 600              		.section	.text.RME_L2CacheSync,"ax",%progbits
 601              		.align	2
 602              		.syntax unified
 603              		.arm
 605              	RME_L2CacheSync:
 606              	.LFB4:
 175:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Init ******************************************/
 176:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 177:../../Source/Platform/A7A/rme_platform_a7a.c **** static void RME_L2CacheSync(void)
 178:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 607              		.loc 1 178 1
 608              		.cfi_startproc
 609              		@ args = 0, pretend = 0, frame = 0
 610              		@ frame_needed = 1, uses_anonymous_args = 0
 611 0000 00482DE9 		push	{fp, lr}
 612              		.cfi_def_cfa_offset 8
 613              		.cfi_offset 11, -8
 614              		.cfi_offset 14, -4
 615 0004 04B08DE2 		add	fp, sp, #4
 616              		.cfi_def_cfa 11, 4
 179:../../Source/Platform/A7A/rme_platform_a7a.c **** #ifdef CONFIG_PL310_ERRATA_753970
 180:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_Out32(RME_L2CC_BASEADDR + RME_L2CC_DUMMY_CACHE_SYNC_OFFSET, 0x0U);
 617              		.loc 1 180 2
 618 0008 0010A0E3 		mov	r1, #0
 619 000c 9D0DA0E3 		mov	r0, #10048
 620 0010 F0084FE3 		movt	r0, 63728
 621 0014 FEFFFFEB 		bl	RME_Out32
 181:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 182:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_Out32(RME_L2CC_BASEADDR + RME_L2CC_CACHE_SYNC_OFFSET, 0x0U);
 183:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 184:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 622              		.loc 1 184 1
 623 0018 00F020E3 		nop
 624 001c 0088BDE8 		pop	{fp, pc}
 625              		.cfi_endproc
 626              	.LFE4:
 628              		.section	.text.__RME_L2CacheInvalidate,"ax",%progbits
 629              		.align	2
 630              		.global	__RME_L2CacheInvalidate
 631              		.syntax unified
 632              		.arm
 634              	__RME_L2CacheInvalidate:
 635              	.LFB5:
 185:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 186:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function: __RME_L2CacheInvalidate *****************************************
 187:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Invalidate the L2 cache. If the byte specified by the address (adr)
 188:../../Source/Platform/A7A/rme_platform_a7a.c **** 			  is cached by the Data cache, the cacheline containing that byte is
 189:../../Source/Platform/A7A/rme_platform_a7a.c **** 			  invalidated.	If the cacheline is modified (dirty), the modified contents
 190:../../Source/Platform/A7A/rme_platform_a7a.c **** 			  are lost and are NOT written to system memory before the line is
 191:../../Source/Platform/A7A/rme_platform_a7a.c **** 			  invalidated.The bottom 4 bits are set to 0, forced by architecture.
 192:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 193:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 194:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 195:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 196:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_L2CacheInvalidate(void)
 197:../../Source/Platform/A7A/rme_platform_a7a.c **** {
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 16


 636              		.loc 1 197 1
 637              		.cfi_startproc
 638              		@ args = 0, pretend = 0, frame = 8
 639              		@ frame_needed = 1, uses_anonymous_args = 0
 640 0000 00482DE9 		push	{fp, lr}
 641              		.cfi_def_cfa_offset 8
 642              		.cfi_offset 11, -8
 643              		.cfi_offset 14, -4
 644 0004 04B08DE2 		add	fp, sp, #4
 645              		.cfi_def_cfa 11, 4
 646 0008 08D04DE2 		sub	sp, sp, #8
 198:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t ResultDCache;
 199:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Invalidate the caches */
 200:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_Out32(RME_L2CC_BASEADDR + RME_L2CC_CACHE_INVLD_WAY_OFFSET,
 647              		.loc 1 200 2
 648 000c FF1F0FE3 		movw	r1, #65535
 649 0010 7C0702E3 		movw	r0, #10108
 650 0014 F0084FE3 		movt	r0, 63728
 651 0018 FEFFFFEB 		bl	RME_Out32
 201:../../Source/Platform/A7A/rme_platform_a7a.c **** 		  0x0000FFFFU);
 202:../../Source/Platform/A7A/rme_platform_a7a.c **** 	ResultDCache = RME_A7A_REG(RME_L2CC_BASEADDR + RME_L2CC_CACHE_INVLD_WAY_OFFSET)
 652              		.loc 1 202 17
 653 001c 7C3702E3 		movw	r3, #10108
 654 0020 F0384FE3 		movt	r3, 63728
 655 0024 003093E5 		ldr	r3, [r3]
 656              		.loc 1 202 15
 657 0028 7330FFE6 		uxth	r3, r3
 658 002c 08300BE5 		str	r3, [fp, #-8]
 203:../../Source/Platform/A7A/rme_platform_a7a.c **** 							& 0x0000FFFFU;
 204:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(ResultDCache != (rme_ptr_t)0U) {
 659              		.loc 1 204 7
 660 0030 040000EA 		b	.L18
 661              	.L19:
 205:../../Source/Platform/A7A/rme_platform_a7a.c **** 		ResultDCache = RME_A7A_REG(RME_L2CC_BASEADDR + RME_L2CC_CACHE_INVLD_WAY_OFFSET)
 662              		.loc 1 205 18
 663 0034 7C3702E3 		movw	r3, #10108
 664 0038 F0384FE3 		movt	r3, 63728
 665 003c 003093E5 		ldr	r3, [r3]
 666              		.loc 1 205 16
 667 0040 7330FFE6 		uxth	r3, r3
 668 0044 08300BE5 		str	r3, [fp, #-8]
 669              	.L18:
 204:../../Source/Platform/A7A/rme_platform_a7a.c **** 		ResultDCache = RME_A7A_REG(RME_L2CC_BASEADDR + RME_L2CC_CACHE_INVLD_WAY_OFFSET)
 670              		.loc 1 204 21
 671 0048 08301BE5 		ldr	r3, [fp, #-8]
 672 004c 000053E3 		cmp	r3, #0
 673 0050 F7FFFF1A 		bne	.L19
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** 							& 0x0000FFFFU;
 207:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 208:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 209:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Wait for the invalidate to complete */
 210:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_L2CacheSync();
 674              		.loc 1 210 2
 675 0054 FEFFFFEB 		bl	RME_L2CacheSync
 211:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 212:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* synchronize the processor */
 213:../../Source/Platform/A7A/rme_platform_a7a.c **** 	dsb();
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 17


 676              		.loc 1 213 2
 677              		.syntax divided
 678              	@ 213 "../../Source/Platform/A7A/rme_platform_a7a.c" 1
 679 0058 4FF07FF5 		dsb
 680              	@ 0 "" 2
 214:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 681              		.loc 1 214 1
 682              		.arm
 683              		.syntax unified
 684 005c 00F020E3 		nop
 685 0060 04D04BE2 		sub	sp, fp, #4
 686              		.cfi_def_cfa 13, 8
 687              		@ sp needed
 688 0064 0088BDE8 		pop	{fp, pc}
 689              		.cfi_endproc
 690              	.LFE5:
 692              		.section	.text.__RME_L2CacheEnable,"ax",%progbits
 693              		.align	2
 694              		.global	__RME_L2CacheEnable
 695              		.syntax unified
 696              		.arm
 698              	__RME_L2CacheEnable:
 699              	.LFB6:
 215:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 216:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_L2CacheInvalidate ******************************************/
 217:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function: __RME_L2CacheEnable *****************************************
 218:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the local CPU interface of the processor.
 219:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 220:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 221:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 222:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 223:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_L2CacheEnable(void)
 224:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 700              		.loc 1 224 1
 701              		.cfi_startproc
 702              		@ args = 0, pretend = 0, frame = 8
 703              		@ frame_needed = 1, uses_anonymous_args = 0
 704 0000 00482DE9 		push	{fp, lr}
 705              		.cfi_def_cfa_offset 8
 706              		.cfi_offset 11, -8
 707              		.cfi_offset 14, -4
 708 0004 04B08DE2 		add	fp, sp, #4
 709              		.cfi_def_cfa 11, 4
 710 0008 08D04DE2 		sub	sp, sp, #8
 225:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t L2CCReg;
 226:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 227:../../Source/Platform/A7A/rme_platform_a7a.c **** 	L2CCReg=RME_A7A_REG(RME_L2CC_BASEADDR + RME_L2CC_CNTRL_OFFSET);
 711              		.loc 1 227 10
 712 000c 213CA0E3 		mov	r3, #8448
 713 0010 F0384FE3 		movt	r3, 63728
 714              		.loc 1 227 9
 715 0014 003093E5 		ldr	r3, [r3]
 716 0018 08300BE5 		str	r3, [fp, #-8]
 228:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* check the L2CC, only enable if L2CC is currently disabled */
 229:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if ((L2CCReg & 0x01U) == 0U)
 717              		.loc 1 229 16
 718 001c 08301BE5 		ldr	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 18


 719 0020 013003E2 		and	r3, r3, #1
 720              		.loc 1 229 6
 721 0024 000053E3 		cmp	r3, #0
 722 0028 2A00001A 		bne	.L22
 230:../../Source/Platform/A7A/rme_platform_a7a.c **** 		{
 231:../../Source/Platform/A7A/rme_platform_a7a.c **** 			L2CCReg = RME_A7A_REG(RME_L2CC_BASEADDR +
 723              		.loc 1 231 14
 724 002c 043102E3 		movw	r3, #8452
 725 0030 F0384FE3 		movt	r3, 63728
 726              		.loc 1 231 12
 727 0034 003093E5 		ldr	r3, [r3]
 728 0038 08300BE5 		str	r3, [fp, #-8]
 232:../../Source/Platform/A7A/rme_platform_a7a.c **** 					   RME_L2CC_AUX_CNTRL_OFFSET);
 233:../../Source/Platform/A7A/rme_platform_a7a.c **** 			L2CCReg &= RME_L2CC_AUX_REG_ZERO_MASK;
 729              		.loc 1 233 12
 730 003c 08301BE5 		ldr	r3, [fp, #-8]
 731 0040 0E38C3E3 		bic	r3, r3, #917504
 732 0044 08300BE5 		str	r3, [fp, #-8]
 234:../../Source/Platform/A7A/rme_platform_a7a.c **** 			L2CCReg |= RME_L2CC_AUX_REG_DEFAULT_MASK;
 733              		.loc 1 234 12
 734 0048 08301BE5 		ldr	r3, [fp, #-8]
 735 004c 723483E3 		orr	r3, r3, #1912602624
 736 0050 363883E3 		orr	r3, r3, #3538944
 737 0054 08300BE5 		str	r3, [fp, #-8]
 235:../../Source/Platform/A7A/rme_platform_a7a.c **** 			RME_Out32(RME_L2CC_BASEADDR + RME_L2CC_AUX_CNTRL_OFFSET,
 738              		.loc 1 235 4
 739 0058 08101BE5 		ldr	r1, [fp, #-8]
 740 005c 040102E3 		movw	r0, #8452
 741 0060 F0084FE3 		movt	r0, 63728
 742 0064 FEFFFFEB 		bl	RME_Out32
 236:../../Source/Platform/A7A/rme_platform_a7a.c **** 				  L2CCReg);
 237:../../Source/Platform/A7A/rme_platform_a7a.c **** 			RME_Out32(RME_L2CC_BASEADDR + RME_L2CC_TAG_RAM_CNTRL_OFFSET,
 743              		.loc 1 237 4
 744 0068 111100E3 		movw	r1, #273
 745 006c 080102E3 		movw	r0, #8456
 746 0070 F0084FE3 		movt	r0, 63728
 747 0074 FEFFFFEB 		bl	RME_Out32
 238:../../Source/Platform/A7A/rme_platform_a7a.c **** 				  RME_L2CC_TAG_RAM_DEFAULT_MASK);
 239:../../Source/Platform/A7A/rme_platform_a7a.c **** 			RME_Out32(RME_L2CC_BASEADDR + RME_L2CC_DATA_RAM_CNTRL_OFFSET,
 748              		.loc 1 239 4
 749 0078 211100E3 		movw	r1, #289
 750 007c 0C0102E3 		movw	r0, #8460
 751 0080 F0084FE3 		movt	r0, 63728
 752 0084 FEFFFFEB 		bl	RME_Out32
 240:../../Source/Platform/A7A/rme_platform_a7a.c **** 				  RME_L2CC_DATA_RAM_DEFAULT_MASK);
 241:../../Source/Platform/A7A/rme_platform_a7a.c **** 			/* Clear the pending interrupts */
 242:../../Source/Platform/A7A/rme_platform_a7a.c **** 			L2CCReg = RME_A7A_REG(RME_L2CC_BASEADDR +
 753              		.loc 1 242 14
 754 0088 1C3202E3 		movw	r3, #8732
 755 008c F0384FE3 		movt	r3, 63728
 756              		.loc 1 242 12
 757 0090 003093E5 		ldr	r3, [r3]
 758 0094 08300BE5 		str	r3, [fp, #-8]
 243:../../Source/Platform/A7A/rme_platform_a7a.c **** 					   RME_L2CC_ISR_OFFSET);
 244:../../Source/Platform/A7A/rme_platform_a7a.c **** 			RME_Out32(RME_L2CC_BASEADDR + RME_L2CC_IAR_OFFSET, L2CCReg);
 759              		.loc 1 244 4
 760 0098 08101BE5 		ldr	r1, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 19


 761 009c 200202E3 		movw	r0, #8736
 762 00a0 F0084FE3 		movt	r0, 63728
 763 00a4 FEFFFFEB 		bl	RME_Out32
 245:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 246:../../Source/Platform/A7A/rme_platform_a7a.c **** 			__RME_L2CacheInvalidate();
 764              		.loc 1 246 4
 765 00a8 FEFFFFEB 		bl	__RME_L2CacheInvalidate
 247:../../Source/Platform/A7A/rme_platform_a7a.c **** 			/* Enable the L2CC */
 248:../../Source/Platform/A7A/rme_platform_a7a.c **** 			L2CCReg = RME_A7A_REG(RME_L2CC_BASEADDR +
 766              		.loc 1 248 14
 767 00ac 213CA0E3 		mov	r3, #8448
 768 00b0 F0384FE3 		movt	r3, 63728
 769              		.loc 1 248 12
 770 00b4 003093E5 		ldr	r3, [r3]
 771 00b8 08300BE5 		str	r3, [fp, #-8]
 249:../../Source/Platform/A7A/rme_platform_a7a.c **** 					   RME_L2CC_CNTRL_OFFSET);
 250:../../Source/Platform/A7A/rme_platform_a7a.c **** 			RME_Out32(RME_L2CC_BASEADDR + RME_L2CC_CNTRL_OFFSET,
 772              		.loc 1 250 4
 773 00bc 08301BE5 		ldr	r3, [fp, #-8]
 774 00c0 013083E3 		orr	r3, r3, #1
 775 00c4 0310A0E1 		mov	r1, r3
 776 00c8 210CA0E3 		mov	r0, #8448
 777 00cc F0084FE3 		movt	r0, 63728
 778 00d0 FEFFFFEB 		bl	RME_Out32
 251:../../Source/Platform/A7A/rme_platform_a7a.c **** 				  (L2CCReg | (0x01U)));
 252:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 253:../../Source/Platform/A7A/rme_platform_a7a.c **** 	        RME_L2CacheSync();
 779              		.loc 1 253 10
 780 00d4 FEFFFFEB 		bl	RME_L2CacheSync
 781              	.L22:
 254:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 255:../../Source/Platform/A7A/rme_platform_a7a.c **** 		}
 256:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 782              		.loc 1 256 1
 783 00d8 00F020E3 		nop
 784 00dc 04D04BE2 		sub	sp, fp, #4
 785              		.cfi_def_cfa 13, 8
 786              		@ sp needed
 787 00e0 0088BDE8 		pop	{fp, pc}
 788              		.cfi_endproc
 789              	.LFE6:
 791              		.section	.text.__RME_A7A_Int_Local_Init,"ax",%progbits
 792              		.align	2
 793              		.global	__RME_A7A_Int_Local_Init
 794              		.syntax unified
 795              		.arm
 797              	__RME_A7A_Int_Local_Init:
 798              	.LFB7:
 257:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_L2CacheEnable ******************************************/
 258:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 259:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Local_Init *****************************************
 260:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the local CPU interface of the processor.
 261:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 262:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 263:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 264:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 265:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Local_Init(void)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 20


 266:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 799              		.loc 1 266 1
 800              		.cfi_startproc
 801              		@ args = 0, pretend = 0, frame = 0
 802              		@ frame_needed = 1, uses_anonymous_args = 0
 803              		@ link register save eliminated.
 804 0000 04B02DE5 		str	fp, [sp, #-4]!
 805              		.cfi_def_cfa_offset 4
 806              		.cfi_offset 11, -4
 807 0004 00B08DE2 		add	fp, sp, #0
 808              		.cfi_def_cfa_register 11
 267:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Priority grouping */
 268:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_BPR=RME_A7A_GIC_GROUPING;
 809              		.loc 1 268 2
 810 0008 413FA0E3 		mov	r3, #260
 811 000c F0384FE3 		movt	r3, 63728
 812              		.loc 1 268 18
 813 0010 0020A0E3 		mov	r2, #0
 814 0014 002083E5 		str	r2, [r3]
 269:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 270:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 271:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable all interrupts to this interface - FIQ is bypassed, and all
 272:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * interrupts go through the IRQ. The FIQ feature is only available on
 273:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * the standalone FIQ interrupt line */
 274:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_ENABLEGRP0;
 815              		.loc 1 274 2
 816 0018 013CA0E3 		mov	r3, #256
 817 001c F0384FE3 		movt	r3, 63728
 818              		.loc 1 274 19
 819 0020 0120A0E3 		mov	r2, #1
 820 0024 002083E5 		str	r2, [r3]
 275:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 276:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_CBPR|RME_A7A_GICC_FIQEN|
 277:../../Source/Platform/A7A/rme_platform_a7a.c **** 			           RME_A7A_GICC_ENABLEGRP1|RME_A7A_GICC_ENABLEGRP0;
 278:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 279:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 280:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* No interrupts are masked - This must be set at last because enabling
 281:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * will trash the contents of this register if previously set. To maintain
 282:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * compatibility across all possible implementations, no priority level
 283:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * lower than 0xF0 will be considered valid */
 284:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_PMR=0xF0U;
 821              		.loc 1 284 2
 822 0028 413FA0E3 		mov	r3, #260
 823 002c F0384FE3 		movt	r3, 63728
 824              		.loc 1 284 18
 825 0030 F020A0E3 		mov	r2, #240
 826 0034 002083E5 		str	r2, [r3]
 285:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 827              		.loc 1 285 1
 828 0038 00F020E3 		nop
 829 003c 00D08BE2 		add	sp, fp, #0
 830              		.cfi_def_cfa_register 13
 831              		@ sp needed
 832 0040 04B09DE4 		ldr	fp, [sp], #4
 833              		.cfi_restore 11
 834              		.cfi_def_cfa_offset 0
 835 0044 1EFF2FE1 		bx	lr
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 21


 836              		.cfi_endproc
 837              	.LFE7:
 839              		.section	.rodata
 840 00d7 00       		.align	2
 841              	.LC8:
 842 00d8 0D0A7469 		.ascii	"\015\012timer init begin\000"
 842      6D657220 
 842      696E6974 
 842      20626567 
 842      696E00
 843 00eb 00       		.align	2
 844              	.LC9:
 845 00ec 0D0A7469 		.ascii	"\015\012timer init finish\000"
 845      6D657220 
 845      696E6974 
 845      2066696E 
 845      69736800 
 846              		.section	.text.__RME_A7A_Timer_Init,"ax",%progbits
 847              		.align	2
 848              		.syntax unified
 849              		.arm
 851              	__RME_A7A_Timer_Init:
 852              	.LFB8:
 286:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Local_Init ************************************/
 287:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 288:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Timer_Init *********************************************
 289:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 290:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 291:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 292:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 293:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 294:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 295:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 296:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Timer_Init(void)
 297:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 853              		.loc 1 297 1
 854              		.cfi_startproc
 855              		@ args = 0, pretend = 0, frame = 0
 856              		@ frame_needed = 1, uses_anonymous_args = 0
 857 0000 00482DE9 		push	{fp, lr}
 858              		.cfi_def_cfa_offset 8
 859              		.cfi_offset 11, -8
 860              		.cfi_offset 14, -4
 861 0004 04B08DE2 		add	fp, sp, #4
 862              		.cfi_def_cfa 11, 4
 298:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S("\r\ntimer init begin");
 863              		.loc 1 298 2
 864 0008 000000E3 		movw	r0, #:lower16:.LC8
 865 000c 000040E3 		movt	r0, #:upper16:.LC8
 866 0010 FEFFFFEB 		bl	RME_Str_Print
 299:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 300:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 301:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Writing this will also write the counter register as well */
 302:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTLR=RME_A7A_SYSTICK_VAL;
 867              		.loc 1 302 5
 868 0014 063CA0E3 		mov	r3, #1536
 869 0018 F0384FE3 		movt	r3, 63728
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 22


 870              		.loc 1 302 22
 871 001c 782408E3 		movw	r2, #33912
 872 0020 3A2040E3 		movt	r2, 58
 873 0024 002083E5 		str	r2, [r3]
 303:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 304:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTISR=0;
 874              		.loc 1 304 5
 875 0028 0C3600E3 		movw	r3, #1548
 876 002c F0384FE3 		movt	r3, 63728
 877              		.loc 1 304 23
 878 0030 0020A0E3 		mov	r2, #0
 879 0034 002083E5 		str	r2, [r3]
 305:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer
 306:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTCTLR=RME_A7A_PTWD_PTCTLR_PRESC(0)|
 307:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 308:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_AUTOREL|
 309:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_TIMEN; */
 310:../../Source/Platform/A7A/rme_platform_a7a.c **** //RME_A7A_PTWD_PTLR
 311:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the timer interrupt in the GIC */
 312:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_ISENABLER(0)|=1<<29;
 880              		.loc 1 312 5
 881 0038 113CA0E3 		mov	r3, #4352
 882 003c F0384FE3 		movt	r3, 63728
 883 0040 002093E5 		ldr	r2, [r3]
 884 0044 113CA0E3 		mov	r3, #4352
 885 0048 F0384FE3 		movt	r3, 63728
 886              		.loc 1 312 30
 887 004c 022282E3 		orr	r2, r2, #536870912
 888 0050 002083E5 		str	r2, [r3]
 313:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 314:../../Source/Platform/A7A/rme_platform_a7a.c **** 	#error Cortex-A7/8/15/17 is not supported at the moment.
 315:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cortex-A7/15/17 use the new generic timer, and Cortex-A8 does not
 316:../../Source/Platform/A7A/rme_platform_a7a.c **** 	have a processor timer due to very early release dates.
 317:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 318:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 319:../../Source/Platform/A7A/rme_platform_a7a.c **** 	// init global timer here
 320:../../Source/Platform/A7A/rme_platform_a7a.c **** 	// global timer free-running
 321:../../Source/Platform/A7A/rme_platform_a7a.c **** 	// 0-0xFFFFFFFF
 322:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GTWD_GTCR0=RME_A7A_SYSTICK_VAL;
 889              		.loc 1 322 2
 890 0054 023CA0E3 		mov	r3, #512
 891 0058 F0384FE3 		movt	r3, 63728
 892              		.loc 1 322 20
 893 005c 782408E3 		movw	r2, #33912
 894 0060 3A2040E3 		movt	r2, 58
 895 0064 002083E5 		str	r2, [r3]
 323:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GTWD_GTCTLR=RME_A7A_GTWD_GTCTLR_TIMEN;
 896              		.loc 1 323 5
 897 0068 823FA0E3 		mov	r3, #520
 898 006c F0384FE3 		movt	r3, 63728
 899              		.loc 1 323 24
 900 0070 0120A0E3 		mov	r2, #1
 901 0074 002083E5 		str	r2, [r3]
 324:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\ntimer init finish");
 902              		.loc 1 324 5
 903 0078 000000E3 		movw	r0, #:lower16:.LC9
 904 007c 000040E3 		movt	r0, #:upper16:.LC9
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 23


 905 0080 FEFFFFEB 		bl	RME_Str_Print
 325:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 326:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 906              		.loc 1 326 1
 907 0084 00F020E3 		nop
 908 0088 0088BDE8 		pop	{fp, pc}
 909              		.cfi_endproc
 910              	.LFE8:
 912              		.section	.text.__RME_A7A_Feature_Get,"ax",%progbits
 913              		.align	2
 914              		.global	__RME_A7A_Feature_Get
 915              		.syntax unified
 916              		.arm
 918              	__RME_A7A_Feature_Get:
 919              	.LFB9:
 327:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Timer_Init ****************************************/
 328:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 329:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Feature_Get ********************************************
 330:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Use the CPUID instruction extensively to get all the processor
 331:../../Source/Platform/A7A/rme_platform_a7a.c ****               information. We assume that all processors installed have the same
 332:../../Source/Platform/A7A/rme_platform_a7a.c ****               features.
 333:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 334:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 335:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 336:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 337:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Feature_Get(void)
 338:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 920              		.loc 1 338 1
 921              		.cfi_startproc
 922              		@ args = 0, pretend = 0, frame = 0
 923              		@ frame_needed = 1, uses_anonymous_args = 0
 924              		@ link register save eliminated.
 925 0000 04B02DE5 		str	fp, [sp, #-4]!
 926              		.cfi_def_cfa_offset 4
 927              		.cfi_offset 11, -4
 928 0004 00B08DE2 		add	fp, sp, #0
 929              		.cfi_def_cfa_register 11
 339:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 340:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* TODO: Check these flags. If not satisfied, we hang immediately. */
 341:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 930              		.loc 1 341 1
 931 0008 00F020E3 		nop
 932 000c 00D08BE2 		add	sp, fp, #0
 933              		.cfi_def_cfa_register 13
 934              		@ sp needed
 935 0010 04B09DE4 		ldr	fp, [sp], #4
 936              		.cfi_restore 11
 937              		.cfi_def_cfa_offset 0
 938 0014 1EFF2FE1 		bx	lr
 939              		.cfi_endproc
 940              	.LFE9:
 942              		.section	.text.__RME_A7A_Mem_Init,"ax",%progbits
 943              		.align	2
 944              		.global	__RME_A7A_Mem_Init
 945              		.syntax unified
 946              		.arm
 948              	__RME_A7A_Mem_Init:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 24


 949              	.LFB10:
 342:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Feature_Get ***************************************/
 343:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 344:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Mem_Init ***********************************************
 345:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the memory map, and get the size of kernel object
 346:../../Source/Platform/A7A/rme_platform_a7a.c ****               allocation registration table(Kot) and page table reference
 347:../../Source/Platform/A7A/rme_platform_a7a.c ****               count registration table(Pgreg).
 348:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t MMap_Addr - The GRUB multiboot memory map data address.
 349:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t MMap_Length - The GRUB multiboot memory map data length.
 350:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 351:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 352:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 353:../../Source/Platform/A7A/rme_platform_a7a.c **** const rme_ptr_t RME_A7A_Mem_Info[RME_A7A_MEM_ENTRIES]={RME_A7A_MEM_CONTENTS};
 354:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Mem_Init(rme_ptr_t MMap_Addr, rme_ptr_t MMap_Length)
 355:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 950              		.loc 1 355 1
 951              		.cfi_startproc
 952              		@ args = 0, pretend = 0, frame = 8
 953              		@ frame_needed = 1, uses_anonymous_args = 0
 954              		@ link register save eliminated.
 955 0000 04B02DE5 		str	fp, [sp, #-4]!
 956              		.cfi_def_cfa_offset 4
 957              		.cfi_offset 11, -4
 958 0004 00B08DE2 		add	fp, sp, #0
 959              		.cfi_def_cfa_register 11
 960 0008 0CD04DE2 		sub	sp, sp, #12
 961 000c 08000BE5 		str	r0, [fp, #-8]
 962 0010 0C100BE5 		str	r1, [fp, #-12]
 356:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 357:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 963              		.loc 1 357 1
 964 0014 00F020E3 		nop
 965 0018 00D08BE2 		add	sp, fp, #0
 966              		.cfi_def_cfa_register 13
 967              		@ sp needed
 968 001c 04B09DE4 		ldr	fp, [sp], #4
 969              		.cfi_restore 11
 970              		.cfi_def_cfa_offset 0
 971 0020 1EFF2FE1 		bx	lr
 972              		.cfi_endproc
 973              	.LFE10:
 975              		.section	.text.__RME_A7A_SMP_Init,"ax",%progbits
 976              		.align	2
 977              		.global	__RME_A7A_SMP_Init
 978              		.syntax unified
 979              		.arm
 981              	__RME_A7A_SMP_Init:
 982              	.LFB11:
 358:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Mem_Init ******************************************/
 359:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 360:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Init ***********************************************
 361:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Start all other processors, one by one.
 362:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 363:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 364:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 365:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 366:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Init(void)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 25


 367:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 983              		.loc 1 367 1
 984              		.cfi_startproc
 985              		@ args = 0, pretend = 0, frame = 0
 986              		@ frame_needed = 1, uses_anonymous_args = 0
 987              		@ link register save eliminated.
 988 0000 04B02DE5 		str	fp, [sp, #-4]!
 989              		.cfi_def_cfa_offset 4
 990              		.cfi_offset 11, -4
 991 0004 00B08DE2 		add	fp, sp, #0
 992              		.cfi_def_cfa_register 11
 368:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 369:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 993              		.loc 1 369 1
 994 0008 00F020E3 		nop
 995 000c 00D08BE2 		add	sp, fp, #0
 996              		.cfi_def_cfa_register 13
 997              		@ sp needed
 998 0010 04B09DE4 		ldr	fp, [sp], #4
 999              		.cfi_restore 11
 1000              		.cfi_def_cfa_offset 0
 1001 0014 1EFF2FE1 		bx	lr
 1002              		.cfi_endproc
 1003              	.LFE11:
 1005              		.section	.text.__RME_A7A_SMP_Tick,"ax",%progbits
 1006              		.align	2
 1007              		.global	__RME_A7A_SMP_Tick
 1008              		.syntax unified
 1009              		.arm
 1011              	__RME_A7A_SMP_Tick:
 1012              	.LFB12:
 370:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Init ******************************************/
 371:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 372:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Tick ***********************************************
 373:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Send IPI to all other cores,to run their handler on the time.
 374:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 375:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 376:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 377:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 378:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Tick(void)
 379:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1013              		.loc 1 379 1
 1014              		.cfi_startproc
 1015              		@ args = 0, pretend = 0, frame = 0
 1016              		@ frame_needed = 1, uses_anonymous_args = 0
 1017              		@ link register save eliminated.
 1018 0000 04B02DE5 		str	fp, [sp, #-4]!
 1019              		.cfi_def_cfa_offset 4
 1020              		.cfi_offset 11, -4
 1021 0004 00B08DE2 		add	fp, sp, #0
 1022              		.cfi_def_cfa_register 11
 380:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 381:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1023              		.loc 1 381 1
 1024 0008 00F020E3 		nop
 1025 000c 00D08BE2 		add	sp, fp, #0
 1026              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 26


 1027              		@ sp needed
 1028 0010 04B09DE4 		ldr	fp, [sp], #4
 1029              		.cfi_restore 11
 1030              		.cfi_def_cfa_offset 0
 1031 0014 1EFF2FE1 		bx	lr
 1032              		.cfi_endproc
 1033              	.LFE12:
 1035              		.section	.rodata
 1036              		.align	2
 1037              	.LC10:
 1038 0100 0D0A4137 		.ascii	"\015\012A7A-Vector: 0x\000"
 1038      412D5665 
 1038      63746F72 
 1038      3A203078 
 1038      00
 1039 0111 000000   		.align	2
 1040              	.LC11:
 1041 0114 0D0A4137 		.ascii	"\015\012A7A-Non-Secure: \000"
 1041      412D4E6F 
 1041      6E2D5365 
 1041      63757265 
 1041      3A2000
 1042              		.section	.text.__RME_Lowlvl_Init,"ax",%progbits
 1043              		.align	2
 1044              		.global	__RME_Lowlvl_Init
 1045              		.syntax unified
 1046              		.arm
 1048              	__RME_Lowlvl_Init:
 1049              	.LFB13:
 382:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Tick *******************************************/
 383:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 384:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Lowlvl_Init **********************************************
 385:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the low-level hardware. This assumes that we are already
 386:../../Source/Platform/A7A/rme_platform_a7a.c ****               in Supervisor (SVC) mode.
 387:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 388:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 389:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 390:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 391:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Lowlvl_Init(void)
 392:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1050              		.loc 1 392 1
 1051              		.cfi_startproc
 1052              		@ args = 0, pretend = 0, frame = 0
 1053              		@ frame_needed = 1, uses_anonymous_args = 0
 1054 0000 00482DE9 		push	{fp, lr}
 1055              		.cfi_def_cfa_offset 8
 1056              		.cfi_offset 11, -8
 1057              		.cfi_offset 14, -4
 1058 0004 04B08DE2 		add	fp, sp, #4
 1059              		.cfi_def_cfa 11, 4
 393:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 394:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_LOW_LEVEL_INIT();
 395:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 396:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local data structure */
 397:../../Source/Platform/A7A/rme_platform_a7a.c ****     _RME_CPU_Local_Init(&RME_A7A_Local,0);
 1060              		.loc 1 397 5
 1061 0008 0010A0E3 		mov	r1, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 27


 1062 000c 000000E3 		movw	r0, #:lower16:RME_A7A_Local
 1063 0010 000040E3 		movt	r0, #:upper16:RME_A7A_Local
 1064 0014 FEFFFFEB 		bl	_RME_CPU_Local_Init
 398:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 399:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the interrupt controller */
 400:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_Int_Init();
 1065              		.loc 1 400 5
 1066 0018 FEFFFFEB 		bl	__RME_A7A_Int_Init
 401:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 402:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize CPU-local interrupt resources */
 403:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Int_Local_Init();
 1067              		.loc 1 403 2
 1068 001c FEFFFFEB 		bl	__RME_A7A_Int_Local_Init
 404:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 405:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the vector table */
 406:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Vector: 0x");
 1069              		.loc 1 406 5
 1070 0020 000000E3 		movw	r0, #:lower16:.LC10
 1071 0024 000040E3 		movt	r0, #:upper16:.LC10
 1072 0028 FEFFFFEB 		bl	RME_Str_Print
 407:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H((rme_ptr_t)&__RME_A7A_Vector_Table);
 1073              		.loc 1 407 5
 1074 002c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 1075 0030 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 1076 0034 0300A0E1 		mov	r0, r3
 1077 0038 FEFFFFEB 		bl	RME_Hex_Print
 408:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_VBAR_Set((rme_ptr_t)&__RME_A7A_Vector_Table);
 1078              		.loc 1 408 5
 1079 003c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 1080 0040 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 1081 0044 0300A0E1 		mov	r0, r3
 1082 0048 FEFFFFEB 		bl	__RME_A7A_VBAR_Set
 409:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 410:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Non-Secure: ");
 1083              		.loc 1 410 5
 1084 004c 000000E3 		movw	r0, #:lower16:.LC11
 1085 0050 000040E3 		movt	r0, #:upper16:.LC11
 1086 0054 FEFFFFEB 		bl	RME_Str_Print
 411:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(__RME_A7A_SCR_Get());
 1087              		.loc 1 411 5
 1088 0058 FEFFFFEB 		bl	__RME_A7A_SCR_Get
 1089 005c 0030A0E1 		mov	r3, r0
 1090              		.loc 1 411 5 is_stmt 0 discriminator 1
 1091 0060 0300A0E1 		mov	r0, r3
 1092 0064 FEFFFFEB 		bl	RME_Hex_Print
 412:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1093              		.loc 1 412 1 is_stmt 1
 1094 0068 00F020E3 		nop
 1095 006c 0088BDE8 		pop	{fp, pc}
 1096              		.cfi_endproc
 1097              	.LFE13:
 1099              		.section	.text.__RME_Pgt_Kom_Init,"ax",%progbits
 1100              		.align	2
 1101              		.global	__RME_Pgt_Kom_Init
 1102              		.syntax unified
 1103              		.arm
 1105              	__RME_Pgt_Kom_Init:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 28


 1106              	.LFB14:
 413:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Lowlvl_Init *****************************************/
 414:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 415:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Kom_Init *********************************************
 416:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the kernel mapping tables, so it can be added to all the
 417:../../Source/Platform/A7A/rme_platform_a7a.c ****               top-level page tables. Currently this have no consideration for >1TB
 418:../../Source/Platform/A7A/rme_platform_a7a.c ****               RAM, and is not NUMA-aware.
 419:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 420:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 421:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 422:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 423:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Kom_Init(void)
 424:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1107              		.loc 1 424 1
 1108              		.cfi_startproc
 1109              		@ args = 0, pretend = 0, frame = 0
 1110              		@ frame_needed = 1, uses_anonymous_args = 0
 1111              		@ link register save eliminated.
 1112 0000 04B02DE5 		str	fp, [sp, #-4]!
 1113              		.cfi_def_cfa_offset 4
 1114              		.cfi_offset 11, -4
 1115 0004 00B08DE2 		add	fp, sp, #0
 1116              		.cfi_def_cfa_register 11
 425:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Use initial page table here instead for kernel, which is sufficient */
 426:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 427:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 1117              		.loc 1 427 12
 1118 0008 0030A0E3 		mov	r3, #0
 428:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1119              		.loc 1 428 1
 1120 000c 0300A0E1 		mov	r0, r3
 1121 0010 00D08BE2 		add	sp, fp, #0
 1122              		.cfi_def_cfa_register 13
 1123              		@ sp needed
 1124 0014 04B09DE4 		ldr	fp, [sp], #4
 1125              		.cfi_restore 11
 1126              		.cfi_def_cfa_offset 0
 1127 0018 1EFF2FE1 		bx	lr
 1128              		.cfi_endproc
 1129              	.LFE14:
 1131              		.section	.text.__RME_SMP_Low_Level_Init,"ax",%progbits
 1132              		.align	2
 1133              		.global	__RME_SMP_Low_Level_Init
 1134              		.syntax unified
 1135              		.arm
 1137              	__RME_SMP_Low_Level_Init:
 1138              	.LFB15:
 429:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Kom_Init ****************************************/
 430:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 431:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_SMP_Low_Level_Init ******************************************
 432:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Low-level initialization for all other cores.
 433:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 434:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 435:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 436:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 437:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_SMP_Low_Level_Init(void)
 438:../../Source/Platform/A7A/rme_platform_a7a.c **** {
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 29


 1139              		.loc 1 438 1
 1140              		.cfi_startproc
 1141              		@ args = 0, pretend = 0, frame = 0
 1142              		@ frame_needed = 1, uses_anonymous_args = 0
 1143              		@ link register save eliminated.
 1144 0000 04B02DE5 		str	fp, [sp, #-4]!
 1145              		.cfi_def_cfa_offset 4
 1146              		.cfi_offset 11, -4
 1147 0004 00B08DE2 		add	fp, sp, #0
 1148              		.cfi_def_cfa_register 11
 439:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 440:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_SMP_LOW_LEVEL_INIT();
 441:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local variables */
 442:../../Source/Platform/A7A/rme_platform_a7a.c ****    // _RME_CPU_Local_Init(&RME_A7A_Local[RME_A7A_CPU_Cnt],RME_A7A_CPU_Cnt);
 443:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 1149              		.loc 1 443 12
 1150 0008 0030A0E3 		mov	r3, #0
 444:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1151              		.loc 1 444 1
 1152 000c 0300A0E1 		mov	r0, r3
 1153 0010 00D08BE2 		add	sp, fp, #0
 1154              		.cfi_def_cfa_register 13
 1155              		@ sp needed
 1156 0014 04B09DE4 		ldr	fp, [sp], #4
 1157              		.cfi_restore 11
 1158              		.cfi_def_cfa_offset 0
 1159 0018 1EFF2FE1 		bx	lr
 1160              		.cfi_endproc
 1161              	.LFE15:
 1163              		.section	.rodata
 1164 0127 00       		.align	2
 1165              	.LC12:
 1166 0128 0D0A4372 		.ascii	"\015\012Creating boot-time capability table @ \000"
 1166      65617469 
 1166      6E672062 
 1166      6F6F742D 
 1166      74696D65 
 1167 0151 000000   		.align	2
 1168              	.LC13:
 1169 0154 32323A32 		.ascii	"22:29:48\000"
 1169      393A3438 
 1169      00
 1170 015d 000000   		.align	2
 1171              	.LC14:
 1172 0160 41707220 		.ascii	"Apr  5 2025\000"
 1172      20352032 
 1172      30323500 
 1173              		.align	2
 1174              	.LC15:
 1175 016c 2E2E2F2E 		.ascii	"../../Source/Platform/A7A/rme_platform_a7a.c\000"
 1175      2E2F536F 
 1175      75726365 
 1175      2F506C61 
 1175      74666F72 
 1176 0199 000000   		.align	2
 1177              	.LC16:
 1178 019c 0D0A4372 		.ascii	"\015\012Creating boot-time page table @ \000"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 30


 1178      65617469 
 1178      6E672062 
 1178      6F6F742D 
 1178      74696D65 
 1179 01bf 00       		.align	2
 1180              	.LC17:
 1181 01c0 0D0A4669 		.ascii	"\015\012First section's first entry \000"
 1181      72737420 
 1181      73656374 
 1181      696F6E27 
 1181      73206669 
 1182 01df 00       		.align	2
 1183              	.LC18:
 1184 01e0 20402000 		.ascii	" @ \000"
 1185              		.align	2
 1186              	.LC19:
 1187 01e4 0D0A4669 		.ascii	"\015\012First section's 0x080th entry \000"
 1187      72737420 
 1187      73656374 
 1187      696F6E27 
 1187      73203078 
 1188 0205 000000   		.align	2
 1189              	.LC20:
 1190 0208 0D0A5365 		.ascii	"\015\012Second section's first entry \000"
 1190      636F6E64 
 1190      20736563 
 1190      74696F6E 
 1190      27732066 
 1191              		.align	2
 1192              	.LC21:
 1193 0228 0D0A5468 		.ascii	"\015\012Third section's first entry \000"
 1193      69726420 
 1193      73656374 
 1193      696F6E27 
 1193      73206669 
 1194 0247 00       		.align	2
 1195              	.LC22:
 1196 0248 0D0A4B65 		.ascii	"\015\012Kernel pgtbl's 80th entry \000"
 1196      726E656C 
 1196      20706774 
 1196      626C2773 
 1196      20383074 
 1197 0265 000000   		.align	2
 1198              	.LC23:
 1199 0268 0D0A7374 		.ascii	"\015\012start prc creation.\000"
 1199      61727420 
 1199      70726320 
 1199      63726561 
 1199      74696F6E 
 1200 027e 0000     		.align	2
 1201              	.LC24:
 1202 0280 0D0A4372 		.ascii	"\015\012Creating boot-time thread @ \000"
 1202      65617469 
 1202      6E672062 
 1202      6F6F742D 
 1202      74696D65 
 1203 029f 00       		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 31


 1204              	.LC25:
 1205 02a0 0D0A4669 		.ascii	"\015\012Finish creating boot-time thread @ \000"
 1205      6E697368 
 1205      20637265 
 1205      6174696E 
 1205      6720626F 
 1206 02c6 0000     		.align	2
 1207              	.LC26:
 1208 02c8 0D0A4372 		.ascii	"\015\012Creating boot-time kernel function\000"
 1208      65617469 
 1208      6E672062 
 1208      6F6F742D 
 1208      74696D65 
 1209 02ed 000000   		.align	2
 1210              	.LC27:
 1211 02f0 0D0A4372 		.ascii	"\015\012Creating boot-time kernel memory\000"
 1211      65617469 
 1211      6E672062 
 1211      6F6F742D 
 1211      74696D65 
 1212 0313 00       		.align	2
 1213              	.LC28:
 1214 0314 0D0A4372 		.ascii	"\015\012Create the initial kernel endpoint for time"
 1214      65617465 
 1214      20746865 
 1214      20696E69 
 1214      7469616C 
 1215 0341 72207469 		.ascii	"r ticks and interrupts\000"
 1215      636B7320 
 1215      616E6420 
 1215      696E7465 
 1215      72727570 
 1216              		.align	2
 1217              	.LC29:
 1218 0358 0D0A656E 		.ascii	"\015\012enable interrupts\015\012\000"
 1218      61626C65 
 1218      20696E74 
 1218      65727275 
 1218      7074730D 
 1219              		.section	.text.__RME_Boot,"ax",%progbits
 1220              		.align	2
 1221              		.global	__RME_Boot
 1222              		.syntax unified
 1223              		.arm
 1225              	__RME_Boot:
 1226              	.LFB16:
 445:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_SMP_Low_Level_Init *************************************/
 446:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 447:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Boot ********************************************************
 448:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Boot the first process in the system.
 449:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 450:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 451:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 452:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 453:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Boot(void)
 454:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1227              		.loc 1 454 1
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 32


 1228              		.cfi_startproc
 1229              		@ args = 0, pretend = 0, frame = 8
 1230              		@ frame_needed = 1, uses_anonymous_args = 0
 1231 0000 00482DE9 		push	{fp, lr}
 1232              		.cfi_def_cfa_offset 8
 1233              		.cfi_offset 11, -8
 1234              		.cfi_offset 14, -4
 1235 0004 04B08DE2 		add	fp, sp, #4
 1236              		.cfi_def_cfa 11, 4
 1237 0008 18D04DE2 		sub	sp, sp, #24
 455:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Count;
 456:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Cur_Addr;
 457:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 458:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr=RME_KOM_VA_BASE;
 1238              		.loc 1 458 13
 1239 000c 8134A0E3 		mov	r3, #-2130706432
 1240 0010 0C300BE5 		str	r3, [fp, #-12]
 459:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 460:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the capability table for the init process */
 461:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time capability table @ ");
 1241              		.loc 1 461 5
 1242 0014 000000E3 		movw	r0, #:lower16:.LC12
 1243 0018 000040E3 		movt	r0, #:upper16:.LC12
 1244 001c FEFFFFEB 		bl	RME_Str_Print
 462:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1245              		.loc 1 462 5
 1246 0020 0C001BE5 		ldr	r0, [fp, #-12]
 1247 0024 FEFFFFEB 		bl	RME_Hex_Print
 463:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Cpt_Boot_Init(RME_BOOT_INIT_CPT,
 1248              		.loc 1 463 5
 1249 0028 8020A0E3 		mov	r2, #128
 1250 002c 0C101BE5 		ldr	r1, [fp, #-12]
 1251 0030 0000A0E3 		mov	r0, #0
 1252 0034 FEFFFFEB 		bl	_RME_Cpt_Boot_Init
 1253 0038 0030A0E1 		mov	r3, r0
 1254              		.loc 1 463 5 is_stmt 0 discriminator 1
 1255 003c 000053E3 		cmp	r3, #0
 1256 0040 0800000A 		beq	.L35
 1257 0044 003000E3 		movw	r3, #:lower16:.LC13
 1258 0048 003040E3 		movt	r3, #:upper16:.LC13
 1259 004c 002000E3 		movw	r2, #:lower16:.LC14
 1260 0050 002040E3 		movt	r2, #:upper16:.LC14
 1261 0054 CF1100E3 		movw	r1, #463
 1262 0058 000000E3 		movw	r0, #:lower16:.LC15
 1263 005c 000040E3 		movt	r0, #:upper16:.LC15
 1264 0060 FEFFFFEB 		bl	RME_Log
 1265              	.L36:
 1266              		.loc 1 463 5
 1267 0064 FEFFFFEA 		b	.L36
 1268              	.L35:
 464:../../Source/Platform/A7A/rme_platform_a7a.c ****                                   Cur_Addr,
 465:../../Source/Platform/A7A/rme_platform_a7a.c ****                                   RME_A7A_INIT_CPT_SIZE)==0);
 466:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_CPT_SIZE(RME_A7A_INIT_CPT_SIZE));
 1269              		.loc 1 466 13 is_stmt 1
 1270 0068 0C301BE5 		ldr	r3, [fp, #-12]
 1271 006c 013A83E2 		add	r3, r3, #4096
 1272 0070 0C300BE5 		str	r3, [fp, #-12]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 33


 467:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 468:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The top-level page table - covers 1M address range - align to 16kB */
 469:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr=RME_ROUND_UP(Cur_Addr,16U);
 1273              		.loc 1 469 14
 1274 0074 0C301BE5 		ldr	r3, [fp, #-12]
 1275 0078 FF3C83E2 		add	r3, r3, #65280
 1276 007c FF3083E2 		add	r3, r3, #255
 1277              		.loc 1 469 13
 1278 0080 2338A0E1 		lsr	r3, r3, #16
 1279 0084 0338A0E1 		lsl	r3, r3, #16
 1280 0088 0C300BE5 		str	r3, [fp, #-12]
 470:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time page table @ ");
 1281              		.loc 1 470 5
 1282 008c 000000E3 		movw	r0, #:lower16:.LC16
 1283 0090 000040E3 		movt	r0, #:upper16:.LC16
 1284 0094 FEFFFFEB 		bl	RME_Str_Print
 471:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1285              		.loc 1 471 5
 1286 0098 0C001BE5 		ldr	r0, [fp, #-12]
 1287 009c FEFFFFEB 		bl	RME_Hex_Print
 472:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Pgt_Boot_Crt(RME_A7A_CPT,
 1288              		.loc 1 472 5
 1289 00a0 0C30A0E3 		mov	r3, #12
 1290 00a4 0C308DE5 		str	r3, [sp, #12]
 1291 00a8 1430A0E3 		mov	r3, #20
 1292 00ac 08308DE5 		str	r3, [sp, #8]
 1293 00b0 0130A0E3 		mov	r3, #1
 1294 00b4 04308DE5 		str	r3, [sp, #4]
 1295 00b8 0030A0E3 		mov	r3, #0
 1296 00bc 00308DE5 		str	r3, [sp]
 1297 00c0 0C301BE5 		ldr	r3, [fp, #-12]
 1298 00c4 0120A0E3 		mov	r2, #1
 1299 00c8 0010A0E3 		mov	r1, #0
 1300 00cc 8104A0E3 		mov	r0, #-2130706432
 1301 00d0 FEFFFFEB 		bl	_RME_Pgt_Boot_Crt
 1302 00d4 0030A0E1 		mov	r3, r0
 1303              		.loc 1 472 5 is_stmt 0 discriminator 1
 1304 00d8 000053E3 		cmp	r3, #0
 1305 00dc 0800000A 		beq	.L37
 1306 00e0 003000E3 		movw	r3, #:lower16:.LC13
 1307 00e4 003040E3 		movt	r3, #:upper16:.LC13
 1308 00e8 002000E3 		movw	r2, #:lower16:.LC14
 1309 00ec 002040E3 		movt	r2, #:upper16:.LC14
 1310 00f0 761FA0E3 		mov	r1, #472
 1311 00f4 000000E3 		movw	r0, #:lower16:.LC15
 1312 00f8 000040E3 		movt	r0, #:upper16:.LC15
 1313 00fc FEFFFFEB 		bl	RME_Log
 1314              	.L38:
 1315              		.loc 1 472 5
 1316 0100 FEFFFFEA 		b	.L38
 1317              	.L37:
 473:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 474:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PGT,
 475:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  Cur_Addr,
 476:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  0x00000000U,
 477:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_TOP,
 478:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_SIZE_1M,
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 34


 479:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_NUM_4K)==0);
 480:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 481:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Normal memory, 1GiB 0x00000000 -> 0x00000000 */
 482:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x400U;Count++)
 1318              		.loc 1 482 14 is_stmt 1
 1319 0104 0030A0E3 		mov	r3, #0
 1320 0108 08300BE5 		str	r3, [fp, #-8]
 1321              		.loc 1 482 5
 1322 010c 160000EA 		b	.L39
 1323              	.L42:
 483:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 484:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1324              		.loc 1 484 3
 1325 0110 08301BE5 		ldr	r3, [fp, #-8]
 1326 0114 032AA0E1 		lsl	r2, r3, #20
 1327 0118 1F30A0E3 		mov	r3, #31
 1328 011c 00308DE5 		str	r3, [sp]
 1329 0120 08301BE5 		ldr	r3, [fp, #-8]
 1330 0124 0110A0E3 		mov	r1, #1
 1331 0128 8104A0E3 		mov	r0, #-2130706432
 1332 012c FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1333 0130 0030A0E1 		mov	r3, r0
 1334              		.loc 1 484 3 is_stmt 0 discriminator 1
 1335 0134 000053E3 		cmp	r3, #0
 1336 0138 0800000A 		beq	.L40
 1337 013c 003000E3 		movw	r3, #:lower16:.LC13
 1338 0140 003040E3 		movt	r3, #:upper16:.LC13
 1339 0144 002000E3 		movw	r2, #:lower16:.LC14
 1340 0148 002040E3 		movt	r2, #:upper16:.LC14
 1341 014c 791FA0E3 		mov	r1, #484
 1342 0150 000000E3 		movw	r0, #:lower16:.LC15
 1343 0154 000040E3 		movt	r0, #:upper16:.LC15
 1344 0158 FEFFFFEB 		bl	RME_Log
 1345              	.L41:
 1346              		.loc 1 484 3
 1347 015c FEFFFFEA 		b	.L41
 1348              	.L40:
 482:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1349              		.loc 1 482 36 is_stmt 1 discriminator 2
 1350 0160 08301BE5 		ldr	r3, [fp, #-8]
 1351 0164 013083E2 		add	r3, r3, #1
 1352 0168 08300BE5 		str	r3, [fp, #-8]
 1353              	.L39:
 482:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1354              		.loc 1 482 23 discriminator 1
 1355 016c 08301BE5 		ldr	r3, [fp, #-8]
 1356 0170 010B53E3 		cmp	r3, #1024
 1357 0174 E5FFFF3A 		bcc	.L42
 485:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 486:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 Count*RME_POW2(RME_PGT_SIZE_1M),
 487:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 Count,
 488:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      RME_PGT_ALL_DYN)==0);
 489:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 490:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Device memory 1, 512MiB 0x40000000 -> 0x40000000 */
 491:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 1358              		.loc 1 491 14
 1359 0178 0030A0E3 		mov	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 35


 1360 017c 08300BE5 		str	r3, [fp, #-8]
 1361              		.loc 1 491 5
 1362 0180 180000EA 		b	.L43
 1363              	.L46:
 492:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 493:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1364              		.loc 1 493 3
 1365 0184 08301BE5 		ldr	r3, [fp, #-8]
 1366 0188 013B83E2 		add	r3, r3, #1024
 1367 018c 032AA0E1 		lsl	r2, r3, #20
 1368 0190 08301BE5 		ldr	r3, [fp, #-8]
 1369 0194 013B83E2 		add	r3, r3, #1024
 1370 0198 0310A0E3 		mov	r1, #3
 1371 019c 00108DE5 		str	r1, [sp]
 1372 01a0 0110A0E3 		mov	r1, #1
 1373 01a4 8104A0E3 		mov	r0, #-2130706432
 1374 01a8 FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1375 01ac 0030A0E1 		mov	r3, r0
 1376              		.loc 1 493 3 is_stmt 0 discriminator 1
 1377 01b0 000053E3 		cmp	r3, #0
 1378 01b4 0800000A 		beq	.L44
 1379 01b8 003000E3 		movw	r3, #:lower16:.LC13
 1380 01bc 003040E3 		movt	r3, #:upper16:.LC13
 1381 01c0 002000E3 		movw	r2, #:lower16:.LC14
 1382 01c4 002040E3 		movt	r2, #:upper16:.LC14
 1383 01c8 ED1100E3 		movw	r1, #493
 1384 01cc 000000E3 		movw	r0, #:lower16:.LC15
 1385 01d0 000040E3 		movt	r0, #:upper16:.LC15
 1386 01d4 FEFFFFEB 		bl	RME_Log
 1387              	.L45:
 1388              		.loc 1 493 3
 1389 01d8 FEFFFFEA 		b	.L45
 1390              	.L44:
 491:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1391              		.loc 1 491 36 is_stmt 1 discriminator 2
 1392 01dc 08301BE5 		ldr	r3, [fp, #-8]
 1393 01e0 013083E2 		add	r3, r3, #1
 1394 01e4 08300BE5 		str	r3, [fp, #-8]
 1395              	.L43:
 491:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1396              		.loc 1 491 23 discriminator 1
 1397 01e8 08301BE5 		ldr	r3, [fp, #-8]
 1398 01ec 020C53E3 		cmp	r3, #512
 1399 01f0 E3FFFF3A 		bcc	.L46
 494:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 495:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x400U)*RME_POW2(RME_PGT_SIZE_1M),
 496:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x400U),
 497:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE)==0);
 498:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 499:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 500:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Device memory 2, 512MiB 0x60000000 -> 0xE0000000 */
 501:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 1400              		.loc 1 501 14
 1401 01f4 0030A0E3 		mov	r3, #0
 1402 01f8 08300BE5 		str	r3, [fp, #-8]
 1403              		.loc 1 501 5
 1404 01fc 180000EA 		b	.L47
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 36


 1405              	.L50:
 502:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 503:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1406              		.loc 1 503 3
 1407 0200 08301BE5 		ldr	r3, [fp, #-8]
 1408 0204 0E3C83E2 		add	r3, r3, #3584
 1409 0208 032AA0E1 		lsl	r2, r3, #20
 1410 020c 08301BE5 		ldr	r3, [fp, #-8]
 1411 0210 063C83E2 		add	r3, r3, #1536
 1412 0214 0310A0E3 		mov	r1, #3
 1413 0218 00108DE5 		str	r1, [sp]
 1414 021c 0110A0E3 		mov	r1, #1
 1415 0220 8104A0E3 		mov	r0, #-2130706432
 1416 0224 FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1417 0228 0030A0E1 		mov	r3, r0
 1418              		.loc 1 503 3 is_stmt 0 discriminator 1
 1419 022c 000053E3 		cmp	r3, #0
 1420 0230 0800000A 		beq	.L48
 1421 0234 003000E3 		movw	r3, #:lower16:.LC13
 1422 0238 003040E3 		movt	r3, #:upper16:.LC13
 1423 023c 002000E3 		movw	r2, #:lower16:.LC14
 1424 0240 002040E3 		movt	r2, #:upper16:.LC14
 1425 0244 F71100E3 		movw	r1, #503
 1426 0248 000000E3 		movw	r0, #:lower16:.LC15
 1427 024c 000040E3 		movt	r0, #:upper16:.LC15
 1428 0250 FEFFFFEB 		bl	RME_Log
 1429              	.L49:
 1430              		.loc 1 503 3
 1431 0254 FEFFFFEA 		b	.L49
 1432              	.L48:
 501:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1433              		.loc 1 501 36 is_stmt 1 discriminator 2
 1434 0258 08301BE5 		ldr	r3, [fp, #-8]
 1435 025c 013083E2 		add	r3, r3, #1
 1436 0260 08300BE5 		str	r3, [fp, #-8]
 1437              	.L47:
 501:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1438              		.loc 1 501 23 discriminator 1
 1439 0264 08301BE5 		ldr	r3, [fp, #-8]
 1440 0268 020C53E3 		cmp	r3, #512
 1441 026c E3FFFF3A 		bcc	.L50
 504:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 505:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0xE00U)*RME_POW2(RME_PGT_SIZE_1M),
 506:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x600U),
 507:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE)==0);
 508:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 509:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 510:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nFirst section's first entry ");
 1442              		.loc 1 510 5
 1443 0270 000000E3 		movw	r0, #:lower16:.LC17
 1444 0274 000040E3 		movt	r0, #:upper16:.LC17
 1445 0278 FEFFFFEB 		bl	RME_Str_Print
 511:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(Cur_Addr));
 1446              		.loc 1 511 5
 1447 027c 0C301BE5 		ldr	r3, [fp, #-12]
 1448 0280 003093E5 		ldr	r3, [r3]
 1449 0284 0300A0E1 		mov	r0, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 37


 1450 0288 FEFFFFEB 		bl	RME_Hex_Print
 512:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1451              		.loc 1 512 5
 1452 028c 000000E3 		movw	r0, #:lower16:.LC18
 1453 0290 000040E3 		movt	r0, #:upper16:.LC18
 1454 0294 FEFFFFEB 		bl	RME_Str_Print
 513:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1455              		.loc 1 513 5
 1456 0298 0C001BE5 		ldr	r0, [fp, #-12]
 1457 029c FEFFFFEB 		bl	RME_Hex_Print
 514:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 515:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nFirst section's 0x080th entry ");
 1458              		.loc 1 515 5
 1459 02a0 000000E3 		movw	r0, #:lower16:.LC19
 1460 02a4 000040E3 		movt	r0, #:upper16:.LC19
 1461 02a8 FEFFFFEB 		bl	RME_Str_Print
 516:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(Cur_Addr+0x080*RME_WORD_BYTE));
 1462              		.loc 1 516 5
 1463 02ac 0C301BE5 		ldr	r3, [fp, #-12]
 1464 02b0 023C83E2 		add	r3, r3, #512
 1465 02b4 003093E5 		ldr	r3, [r3]
 1466 02b8 0300A0E1 		mov	r0, r3
 1467 02bc FEFFFFEB 		bl	RME_Hex_Print
 517:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1468              		.loc 1 517 5
 1469 02c0 000000E3 		movw	r0, #:lower16:.LC18
 1470 02c4 000040E3 		movt	r0, #:upper16:.LC18
 1471 02c8 FEFFFFEB 		bl	RME_Str_Print
 518:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr+0x080*RME_WORD_BYTE);
 1472              		.loc 1 518 5
 1473 02cc 0C301BE5 		ldr	r3, [fp, #-12]
 1474 02d0 023C83E2 		add	r3, r3, #512
 1475 02d4 0300A0E1 		mov	r0, r3
 1476 02d8 FEFFFFEB 		bl	RME_Hex_Print
 519:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 520:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nSecond section's first entry ");
 1477              		.loc 1 520 5
 1478 02dc 000000E3 		movw	r0, #:lower16:.LC20
 1479 02e0 000040E3 		movt	r0, #:upper16:.LC20
 1480 02e4 FEFFFFEB 		bl	RME_Str_Print
 521:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(Cur_Addr+0x400*RME_WORD_BYTE));
 1481              		.loc 1 521 5
 1482 02e8 0C301BE5 		ldr	r3, [fp, #-12]
 1483 02ec 013A83E2 		add	r3, r3, #4096
 1484 02f0 003093E5 		ldr	r3, [r3]
 1485 02f4 0300A0E1 		mov	r0, r3
 1486 02f8 FEFFFFEB 		bl	RME_Hex_Print
 522:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1487              		.loc 1 522 5
 1488 02fc 000000E3 		movw	r0, #:lower16:.LC18
 1489 0300 000040E3 		movt	r0, #:upper16:.LC18
 1490 0304 FEFFFFEB 		bl	RME_Str_Print
 523:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr+0x400*RME_WORD_BYTE);
 1491              		.loc 1 523 5
 1492 0308 0C301BE5 		ldr	r3, [fp, #-12]
 1493 030c 013A83E2 		add	r3, r3, #4096
 1494 0310 0300A0E1 		mov	r0, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 38


 1495 0314 FEFFFFEB 		bl	RME_Hex_Print
 524:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 525:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nThird section's first entry ");
 1496              		.loc 1 525 5
 1497 0318 000000E3 		movw	r0, #:lower16:.LC21
 1498 031c 000040E3 		movt	r0, #:upper16:.LC21
 1499 0320 FEFFFFEB 		bl	RME_Str_Print
 526:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(Cur_Addr+0x600*RME_WORD_BYTE));
 1500              		.loc 1 526 5
 1501 0324 0C301BE5 		ldr	r3, [fp, #-12]
 1502 0328 063B83E2 		add	r3, r3, #6144
 1503 032c 003093E5 		ldr	r3, [r3]
 1504 0330 0300A0E1 		mov	r0, r3
 1505 0334 FEFFFFEB 		bl	RME_Hex_Print
 527:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1506              		.loc 1 527 5
 1507 0338 000000E3 		movw	r0, #:lower16:.LC18
 1508 033c 000040E3 		movt	r0, #:upper16:.LC18
 1509 0340 FEFFFFEB 		bl	RME_Str_Print
 528:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr+0x600*RME_WORD_BYTE);
 1510              		.loc 1 528 5
 1511 0344 0C301BE5 		ldr	r3, [fp, #-12]
 1512 0348 063B83E2 		add	r3, r3, #6144
 1513 034c 0300A0E1 		mov	r0, r3
 1514 0350 FEFFFFEB 		bl	RME_Hex_Print
 529:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 530:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nKernel pgtbl's 80th entry ");
 1515              		.loc 1 530 5
 1516 0354 000000E3 		movw	r0, #:lower16:.LC22
 1517 0358 000040E3 		movt	r0, #:upper16:.LC22
 1518 035c FEFFFFEB 		bl	RME_Str_Print
 531:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(((rme_ptr_t)(&__RME_A7A_Kern_Pgt))+0x080*RME_WORD_BYTE));
 1519              		.loc 1 531 5
 1520 0360 003000E3 		movw	r3, #:lower16:__RME_A7A_Kern_Pgt
 1521 0364 003040E3 		movt	r3, #:upper16:__RME_A7A_Kern_Pgt
 1522 0368 023C83E2 		add	r3, r3, #512
 1523 036c 003093E5 		ldr	r3, [r3]
 1524 0370 0300A0E1 		mov	r0, r3
 1525 0374 FEFFFFEB 		bl	RME_Hex_Print
 532:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1526              		.loc 1 532 5
 1527 0378 000000E3 		movw	r0, #:lower16:.LC18
 1528 037c 000040E3 		movt	r0, #:upper16:.LC18
 1529 0380 FEFFFFEB 		bl	RME_Str_Print
 533:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(((rme_ptr_t)(&__RME_A7A_Kern_Pgt))+0x080*RME_WORD_BYTE);
 1530              		.loc 1 533 5
 1531 0384 003000E3 		movw	r3, #:lower16:__RME_A7A_Kern_Pgt
 1532 0388 003040E3 		movt	r3, #:upper16:__RME_A7A_Kern_Pgt
 1533 038c 023C83E2 		add	r3, r3, #512
 1534 0390 0300A0E1 		mov	r0, r3
 1535 0394 FEFFFFEB 		bl	RME_Hex_Print
 534:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 535:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_PGT_SIZE_TOP(RME_PGT_NUM_4K));
 1536              		.loc 1 535 13
 1537 0398 0C301BE5 		ldr	r3, [fp, #-12]
 1538 039c 013983E2 		add	r3, r3, #16384
 1539 03a0 0C300BE5 		str	r3, [fp, #-12]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 39


 536:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 537:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Activate the first process - This process cannot be deleted */
 538:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart prc creation.");
 1540              		.loc 1 538 5
 1541 03a4 000000E3 		movw	r0, #:lower16:.LC23
 1542 03a8 000040E3 		movt	r0, #:upper16:.LC23
 1543 03ac FEFFFFEB 		bl	RME_Str_Print
 539:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Prc_Boot_Crt(RME_A7A_CPT,
 1544              		.loc 1 539 5
 1545 03b0 0130A0E3 		mov	r3, #1
 1546 03b4 00308DE5 		str	r3, [sp]
 1547 03b8 0030A0E3 		mov	r3, #0
 1548 03bc 0220A0E3 		mov	r2, #2
 1549 03c0 0010A0E3 		mov	r1, #0
 1550 03c4 8104A0E3 		mov	r0, #-2130706432
 1551 03c8 FEFFFFEB 		bl	_RME_Prc_Boot_Crt
 1552 03cc 0030A0E1 		mov	r3, r0
 1553              		.loc 1 539 5 is_stmt 0 discriminator 1
 1554 03d0 000053E3 		cmp	r3, #0
 1555 03d4 0800000A 		beq	.L51
 1556 03d8 003000E3 		movw	r3, #:lower16:.LC13
 1557 03dc 003040E3 		movt	r3, #:upper16:.LC13
 1558 03e0 002000E3 		movw	r2, #:lower16:.LC14
 1559 03e4 002040E3 		movt	r2, #:upper16:.LC14
 1560 03e8 1B1200E3 		movw	r1, #539
 1561 03ec 000000E3 		movw	r0, #:lower16:.LC15
 1562 03f0 000040E3 		movt	r0, #:upper16:.LC15
 1563 03f4 FEFFFFEB 		bl	RME_Log
 1564              	.L52:
 1565              		.loc 1 539 5
 1566 03f8 FEFFFFEA 		b	.L52
 1567              	.L51:
 540:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 541:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PRC,
 542:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 543:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PGT)==0U);
 544:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 545:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Activate the first thread, and set its priority */
 546:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time thread @ ");
 1568              		.loc 1 546 5 is_stmt 1
 1569 03fc 000000E3 		movw	r0, #:lower16:.LC24
 1570 0400 000040E3 		movt	r0, #:upper16:.LC24
 1571 0404 FEFFFFEB 		bl	RME_Str_Print
 547:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1572              		.loc 1 547 5
 1573 0408 0C001BE5 		ldr	r0, [fp, #-12]
 1574 040c FEFFFFEB 		bl	RME_Hex_Print
 548:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Thd_Boot_Crt(RME_A7A_CPT,
 1575              		.loc 1 548 5
 1576 0410 003000E3 		movw	r3, #:lower16:RME_A7A_Local
 1577 0414 003040E3 		movt	r3, #:upper16:RME_A7A_Local
 1578 0418 08308DE5 		str	r3, [sp, #8]
 1579 041c 0030A0E3 		mov	r3, #0
 1580 0420 04308DE5 		str	r3, [sp, #4]
 1581 0424 0C301BE5 		ldr	r3, [fp, #-12]
 1582 0428 00308DE5 		str	r3, [sp]
 1583 042c 0230A0E3 		mov	r3, #2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 40


 1584 0430 0320A0E3 		mov	r2, #3
 1585 0434 0010A0E3 		mov	r1, #0
 1586 0438 8104A0E3 		mov	r0, #-2130706432
 1587 043c FEFFFFEB 		bl	_RME_Thd_Boot_Crt
 1588 0440 0030A0E1 		mov	r3, r0
 1589              		.loc 1 548 5 is_stmt 0 discriminator 1
 1590 0444 000053E3 		cmp	r3, #0
 1591 0448 0800000A 		beq	.L53
 1592 044c 003000E3 		movw	r3, #:lower16:.LC13
 1593 0450 003040E3 		movt	r3, #:upper16:.LC13
 1594 0454 002000E3 		movw	r2, #:lower16:.LC14
 1595 0458 002040E3 		movt	r2, #:upper16:.LC14
 1596 045c 891FA0E3 		mov	r1, #548
 1597 0460 000000E3 		movw	r0, #:lower16:.LC15
 1598 0464 000040E3 		movt	r0, #:upper16:.LC15
 1599 0468 FEFFFFEB 		bl	RME_Log
 1600              	.L54:
 1601              		.loc 1 548 5
 1602 046c FEFFFFEA 		b	.L54
 1603              	.L53:
 549:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 550:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_THD,
 551:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PRC,
 552:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  Cur_Addr,
 553:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  0U,
 554:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  &RME_A7A_Local)==0);
 555:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_THD_SIZE(0U));
 1604              		.loc 1 555 13 is_stmt 1
 1605 0470 0C301BE5 		ldr	r3, [fp, #-12]
 1606 0474 A03083E2 		add	r3, r3, #160
 1607 0478 0C300BE5 		str	r3, [fp, #-12]
 556:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nFinish creating boot-time thread @ ");
 1608              		.loc 1 556 5
 1609 047c 000000E3 		movw	r0, #:lower16:.LC25
 1610 0480 000040E3 		movt	r0, #:upper16:.LC25
 1611 0484 FEFFFFEB 		bl	RME_Str_Print
 557:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1612              		.loc 1 557 5
 1613 0488 0C001BE5 		ldr	r0, [fp, #-12]
 1614 048c FEFFFFEB 		bl	RME_Hex_Print
 558:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the initial kernel function capability, and kernel memory capability */
 559:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time kernel function");
 1615              		.loc 1 559 5
 1616 0490 000000E3 		movw	r0, #:lower16:.LC26
 1617 0494 000040E3 		movt	r0, #:upper16:.LC26
 1618 0498 FEFFFFEB 		bl	RME_Str_Print
 560:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Kfn_Boot_Crt(RME_A7A_CPT,
 1619              		.loc 1 560 5
 1620 049c 0420A0E3 		mov	r2, #4
 1621 04a0 0010A0E3 		mov	r1, #0
 1622 04a4 8104A0E3 		mov	r0, #-2130706432
 1623 04a8 FEFFFFEB 		bl	_RME_Kfn_Boot_Crt
 1624 04ac 0030A0E1 		mov	r3, r0
 1625              		.loc 1 560 5 is_stmt 0 discriminator 1
 1626 04b0 000053E3 		cmp	r3, #0
 1627 04b4 0800000A 		beq	.L55
 1628 04b8 003000E3 		movw	r3, #:lower16:.LC13
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 41


 1629 04bc 003040E3 		movt	r3, #:upper16:.LC13
 1630 04c0 002000E3 		movw	r2, #:lower16:.LC14
 1631 04c4 002040E3 		movt	r2, #:upper16:.LC14
 1632 04c8 231EA0E3 		mov	r1, #560
 1633 04cc 000000E3 		movw	r0, #:lower16:.LC15
 1634 04d0 000040E3 		movt	r0, #:upper16:.LC15
 1635 04d4 FEFFFFEB 		bl	RME_Log
 1636              	.L56:
 1637              		.loc 1 560 5
 1638 04d8 FEFFFFEA 		b	.L56
 1639              	.L55:
 561:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 562:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_KFN)==0);
 563:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time kernel memory");
 1640              		.loc 1 563 5 is_stmt 1
 1641 04dc 000000E3 		movw	r0, #:lower16:.LC27
 1642 04e0 000040E3 		movt	r0, #:upper16:.LC27
 1643 04e4 FEFFFFEB 		bl	RME_Str_Print
 564:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Kom_Boot_Crt(RME_A7A_CPT, 
 1644              		.loc 1 564 5
 1645 04e8 0F30A0E3 		mov	r3, #15
 1646 04ec 04308DE5 		str	r3, [sp, #4]
 1647 04f0 7E34E0E3 		mvn	r3, #2113929216
 1648 04f4 00308DE5 		str	r3, [sp]
 1649 04f8 8134A0E3 		mov	r3, #-2130706432
 1650 04fc 0520A0E3 		mov	r2, #5
 1651 0500 0010A0E3 		mov	r1, #0
 1652 0504 8104A0E3 		mov	r0, #-2130706432
 1653 0508 FEFFFFEB 		bl	_RME_Kom_Boot_Crt
 1654 050c 0030A0E1 		mov	r3, r0
 1655              		.loc 1 564 5 is_stmt 0 discriminator 1
 1656 0510 000053E3 		cmp	r3, #0
 1657 0514 0800000A 		beq	.L57
 1658 0518 003000E3 		movw	r3, #:lower16:.LC13
 1659 051c 003040E3 		movt	r3, #:upper16:.LC13
 1660 0520 002000E3 		movw	r2, #:lower16:.LC14
 1661 0524 002040E3 		movt	r2, #:upper16:.LC14
 1662 0528 8D1FA0E3 		mov	r1, #564
 1663 052c 000000E3 		movw	r0, #:lower16:.LC15
 1664 0530 000040E3 		movt	r0, #:upper16:.LC15
 1665 0534 FEFFFFEB 		bl	RME_Log
 1666              	.L58:
 1667              		.loc 1 564 5
 1668 0538 FEFFFFEA 		b	.L58
 1669              	.L57:
 565:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT, 
 566:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_KOM,
 567:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_VA_BASE,
 568:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_VA_BASE+RME_KOM_VA_SIZE-1U,
 569:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_FLAG_ALL)==0U);
 570:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 571:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the initial kernel endpoint for timer ticks and interrupts */
 572:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_Local.Sig_Tim=(struct RME_Cap_Sig*)&(RME_A7A_CPT[RME_BOOT_INIT_VCT]);
 1670              		.loc 1 572 26 is_stmt 1
 1671 053c 002000E3 		movw	r2, #:lower16:RME_A7A_Local
 1672 0540 002040E3 		movt	r2, #:upper16:RME_A7A_Local
 1673 0544 C030A0E3 		mov	r3, #192
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 42


 1674 0548 003148E3 		movt	r3, 33024
 1675 054c 083082E5 		str	r3, [r2, #8]
 573:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_Local.Sig_Vct=(struct RME_Cap_Sig*)&(RME_A7A_CPT[RME_BOOT_INIT_VCT]);
 1676              		.loc 1 573 26
 1677 0550 002000E3 		movw	r2, #:lower16:RME_A7A_Local
 1678 0554 002040E3 		movt	r2, #:upper16:RME_A7A_Local
 1679 0558 C030A0E3 		mov	r3, #192
 1680 055c 003148E3 		movt	r3, 33024
 1681 0560 0C3082E5 		str	r3, [r2, #12]
 574:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreate the initial kernel endpoint for timer ticks and interrupts");
 1682              		.loc 1 574 5
 1683 0564 000000E3 		movw	r0, #:lower16:.LC28
 1684 0568 000040E3 		movt	r0, #:upper16:.LC28
 1685 056c FEFFFFEB 		bl	RME_Str_Print
 575:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Sig_Boot_Crt(RME_A7A_CPT,
 1686              		.loc 1 575 5
 1687 0570 0620A0E3 		mov	r2, #6
 1688 0574 0010A0E3 		mov	r1, #0
 1689 0578 8104A0E3 		mov	r0, #-2130706432
 1690 057c FEFFFFEB 		bl	_RME_Sig_Boot_Crt
 1691 0580 0030A0E1 		mov	r3, r0
 1692              		.loc 1 575 5 is_stmt 0 discriminator 1
 1693 0584 000053E3 		cmp	r3, #0
 1694 0588 0800000A 		beq	.L59
 1695 058c 003000E3 		movw	r3, #:lower16:.LC13
 1696 0590 003040E3 		movt	r3, #:upper16:.LC13
 1697 0594 002000E3 		movw	r2, #:lower16:.LC14
 1698 0598 002040E3 		movt	r2, #:upper16:.LC14
 1699 059c 3F1200E3 		movw	r1, #575
 1700 05a0 000000E3 		movw	r0, #:lower16:.LC15
 1701 05a4 000040E3 		movt	r0, #:upper16:.LC15
 1702 05a8 FEFFFFEB 		bl	RME_Log
 1703              	.L60:
 1704              		.loc 1 575 5
 1705 05ac FEFFFFEA 		b	.L60
 1706              	.L59:
 576:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 577:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_VCT)==0);
 578:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 579:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set page table as current */
 580:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Pgt_Set(RME_A7A_Local.Thd_Cur->Sched.Prc->Pgt);
 1707              		.loc 1 580 32 is_stmt 1
 1708 05b0 003000E3 		movw	r3, #:lower16:RME_A7A_Local
 1709 05b4 003040E3 		movt	r3, #:upper16:RME_A7A_Local
 1710 05b8 043093E5 		ldr	r3, [r3, #4]
 1711              		.loc 1 580 47
 1712 05bc 2C3093E5 		ldr	r3, [r3, #44]
 1713              		.loc 1 580 5
 1714 05c0 183093E5 		ldr	r3, [r3, #24]
 1715 05c4 0300A0E1 		mov	r0, r3
 1716 05c8 FEFFFFEB 		bl	__RME_Pgt_Set
 581:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 582:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize timer and enable interrupts */
 583:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nenable interrupts\r\n");
 1717              		.loc 1 583 5
 1718 05cc 000000E3 		movw	r0, #:lower16:.LC29
 1719 05d0 000040E3 		movt	r0, #:upper16:.LC29
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 43


 1720 05d4 FEFFFFEB 		bl	RME_Str_Print
 584:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Timer_Init();
 1721              		.loc 1 584 2
 1722 05d8 FEFFFFEB 		bl	__RME_A7A_Timer_Init
 585:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Int_Enable();
 1723              		.loc 1 585 5
 1724 05dc FEFFFFEB 		bl	__RME_Int_Enable
 586:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 587:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* enable l2 cache */
 588:../../Source/Platform/A7A/rme_platform_a7a.c ****     //__RME_L2CacheEnable();
 589:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 590:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Boot into the init thread */
 591:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_User_Enter(RME_A7A_INIT_ENTRY,RME_A7A_INIT_STACK,0U);
 1725              		.loc 1 591 5
 1726 05e0 0020A0E3 		mov	r2, #0
 1727 05e4 FF1CA0E3 		mov	r1, #65280
 1728 05e8 1F1840E3 		movt	r1, 2079
 1729 05ec 0109A0E3 		mov	r0, #16384
 1730 05f0 000840E3 		movt	r0, 2048
 1731 05f4 FEFFFFEB 		bl	__RME_User_Enter
 1732              	.L61:
 592:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 593:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Should never reach here */
 594:../../Source/Platform/A7A/rme_platform_a7a.c ****     while(1);
 1733              		.loc 1 594 10
 1734 05f8 FEFFFFEA 		b	.L61
 1735              		.cfi_endproc
 1736              	.LFE16:
 1738              		.section	.text.__RME_Reboot,"ax",%progbits
 1739              		.align	2
 1740              		.global	__RME_Reboot
 1741              		.syntax unified
 1742              		.arm
 1744              	__RME_Reboot:
 1745              	.LFB17:
 595:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 596:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Boot ***************************************************/
 597:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 598:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Reboot ******************************************************
 599:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Reboot the machine, abandon all operating system states.
 600:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 601:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 602:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 603:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 604:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Reboot(void)
 605:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1746              		.loc 1 605 1
 1747              		.cfi_startproc
 1748              		@ args = 0, pretend = 0, frame = 0
 1749              		@ frame_needed = 1, uses_anonymous_args = 0
 1750              		@ link register save eliminated.
 1751 0000 04B02DE5 		str	fp, [sp, #-4]!
 1752              		.cfi_def_cfa_offset 4
 1753              		.cfi_offset 11, -4
 1754 0004 00B08DE2 		add	fp, sp, #0
 1755              		.cfi_def_cfa_register 11
 606:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 44


 607:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1756              		.loc 1 607 1
 1757 0008 00F020E3 		nop
 1758 000c 00D08BE2 		add	sp, fp, #0
 1759              		.cfi_def_cfa_register 13
 1760              		@ sp needed
 1761 0010 04B09DE4 		ldr	fp, [sp], #4
 1762              		.cfi_restore 11
 1763              		.cfi_def_cfa_offset 0
 1764 0014 1EFF2FE1 		bx	lr
 1765              		.cfi_endproc
 1766              	.LFE17:
 1768              		.section	.text.__RME_Shutdown,"ax",%progbits
 1769              		.align	2
 1770              		.global	__RME_Shutdown
 1771              		.syntax unified
 1772              		.arm
 1774              	__RME_Shutdown:
 1775              	.LFB18:
 608:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Reboot *************************************************/
 609:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 610:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Shutdown ****************************************************
 611:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Shutdown the machine, abandon all operating system states.
 612:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 613:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 614:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 615:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 616:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Shutdown(void)
 617:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1776              		.loc 1 617 1
 1777              		.cfi_startproc
 1778              		@ args = 0, pretend = 0, frame = 0
 1779              		@ frame_needed = 1, uses_anonymous_args = 0
 1780              		@ link register save eliminated.
 1781 0000 04B02DE5 		str	fp, [sp, #-4]!
 1782              		.cfi_def_cfa_offset 4
 1783              		.cfi_offset 11, -4
 1784 0004 00B08DE2 		add	fp, sp, #0
 1785              		.cfi_def_cfa_register 11
 618:../../Source/Platform/A7A/rme_platform_a7a.c ****    // RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 619:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1786              		.loc 1 619 1
 1787 0008 00F020E3 		nop
 1788 000c 00D08BE2 		add	sp, fp, #0
 1789              		.cfi_def_cfa_register 13
 1790              		@ sp needed
 1791 0010 04B09DE4 		ldr	fp, [sp], #4
 1792              		.cfi_restore 11
 1793              		.cfi_def_cfa_offset 0
 1794 0014 1EFF2FE1 		bx	lr
 1795              		.cfi_endproc
 1796              	.LFE18:
 1798              		.section	.text.__RME_Svc_Param_Get,"ax",%progbits
 1799              		.align	2
 1800              		.global	__RME_Svc_Param_Get
 1801              		.syntax unified
 1802              		.arm
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 45


 1804              	__RME_Svc_Param_Get:
 1805              	.LFB19:
 620:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Shutdown ***********************************************/
 621:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 622:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Get_Syscall_Param *******************************************
 623:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the system call parameters from the stack frame.
 624:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 625:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Svc - The system service number.
 626:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Capid - The capability ID number.
 627:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Param - The parameters.
 628:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 629:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 630:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Param_Get(struct RME_Reg_Struct* Reg,rme_ptr_t* Svc,rme_ptr_t* Capid,rme_ptr_t* Para
 631:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1806              		.loc 1 631 1
 1807              		.cfi_startproc
 1808              		@ args = 0, pretend = 0, frame = 16
 1809              		@ frame_needed = 1, uses_anonymous_args = 0
 1810              		@ link register save eliminated.
 1811 0000 04B02DE5 		str	fp, [sp, #-4]!
 1812              		.cfi_def_cfa_offset 4
 1813              		.cfi_offset 11, -4
 1814 0004 00B08DE2 		add	fp, sp, #0
 1815              		.cfi_def_cfa_register 11
 1816 0008 14D04DE2 		sub	sp, sp, #20
 1817 000c 08000BE5 		str	r0, [fp, #-8]
 1818 0010 0C100BE5 		str	r1, [fp, #-12]
 1819 0014 10200BE5 		str	r2, [fp, #-16]
 1820 0018 14300BE5 		str	r3, [fp, #-20]
 632:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Svc=(Reg->R0)>>16;
 1821              		.loc 1 632 14
 1822 001c 08301BE5 		ldr	r3, [fp, #-8]
 1823 0020 043093E5 		ldr	r3, [r3, #4]
 1824              		.loc 1 632 19
 1825 0024 2328A0E1 		lsr	r2, r3, #16
 1826              		.loc 1 632 9
 1827 0028 0C301BE5 		ldr	r3, [fp, #-12]
 1828 002c 002083E5 		str	r2, [r3]
 633:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Capid=(Reg->R0)&0xFFFF;
 1829              		.loc 1 633 16
 1830 0030 08301BE5 		ldr	r3, [fp, #-8]
 1831 0034 043093E5 		ldr	r3, [r3, #4]
 1832              		.loc 1 633 21
 1833 0038 7320FFE6 		uxth	r2, r3
 1834              		.loc 1 633 11
 1835 003c 10301BE5 		ldr	r3, [fp, #-16]
 1836 0040 002083E5 		str	r2, [r3]
 634:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[0]=Reg->R1;
 1837              		.loc 1 634 17
 1838 0044 08301BE5 		ldr	r3, [fp, #-8]
 1839 0048 082093E5 		ldr	r2, [r3, #8]
 1840              		.loc 1 634 13
 1841 004c 14301BE5 		ldr	r3, [fp, #-20]
 1842 0050 002083E5 		str	r2, [r3]
 635:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[1]=Reg->R2;
 1843              		.loc 1 635 10
 1844 0054 14301BE5 		ldr	r3, [fp, #-20]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 46


 1845 0058 043083E2 		add	r3, r3, #4
 1846              		.loc 1 635 17
 1847 005c 08201BE5 		ldr	r2, [fp, #-8]
 1848 0060 0C2092E5 		ldr	r2, [r2, #12]
 1849              		.loc 1 635 13
 1850 0064 002083E5 		str	r2, [r3]
 636:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[2]=Reg->R3;
 1851              		.loc 1 636 10
 1852 0068 14301BE5 		ldr	r3, [fp, #-20]
 1853 006c 083083E2 		add	r3, r3, #8
 1854              		.loc 1 636 17
 1855 0070 08201BE5 		ldr	r2, [fp, #-8]
 1856 0074 102092E5 		ldr	r2, [r2, #16]
 1857              		.loc 1 636 13
 1858 0078 002083E5 		str	r2, [r3]
 637:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1859              		.loc 1 637 1
 1860 007c 00F020E3 		nop
 1861 0080 00D08BE2 		add	sp, fp, #0
 1862              		.cfi_def_cfa_register 13
 1863              		@ sp needed
 1864 0084 04B09DE4 		ldr	fp, [sp], #4
 1865              		.cfi_restore 11
 1866              		.cfi_def_cfa_offset 0
 1867 0088 1EFF2FE1 		bx	lr
 1868              		.cfi_endproc
 1869              	.LFE19:
 1871              		.section	.text.__RME_Svc_Retval_Set,"ax",%progbits
 1872              		.align	2
 1873              		.global	__RME_Svc_Retval_Set
 1874              		.syntax unified
 1875              		.arm
 1877              	__RME_Svc_Retval_Set:
 1878              	.LFB20:
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Get_Syscall_Param **************************************/
 639:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 640:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Syscall_Retval ******************************************
 641:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the system call return value to the stack frame. This function 
 642:../../Source/Platform/A7A/rme_platform_a7a.c ****               may carry up to 4 return values. If the last 3 is not needed, just set
 643:../../Source/Platform/A7A/rme_platform_a7a.c ****               them to zero.
 644:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 645:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 646:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 647:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 648:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Retval_Set(struct RME_Reg_Struct* Reg,rme_ret_t Retval)
 649:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1879              		.loc 1 649 1
 1880              		.cfi_startproc
 1881              		@ args = 0, pretend = 0, frame = 8
 1882              		@ frame_needed = 1, uses_anonymous_args = 0
 1883              		@ link register save eliminated.
 1884 0000 04B02DE5 		str	fp, [sp, #-4]!
 1885              		.cfi_def_cfa_offset 4
 1886              		.cfi_offset 11, -4
 1887 0004 00B08DE2 		add	fp, sp, #0
 1888              		.cfi_def_cfa_register 11
 1889 0008 0CD04DE2 		sub	sp, sp, #12
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 47


 1890 000c 08000BE5 		str	r0, [fp, #-8]
 1891 0010 0C100BE5 		str	r1, [fp, #-12]
 650:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=(rme_ptr_t)Retval;
 1892              		.loc 1 650 13
 1893 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1894              		.loc 1 650 12
 1895 0018 08301BE5 		ldr	r3, [fp, #-8]
 1896 001c 042083E5 		str	r2, [r3, #4]
 651:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1897              		.loc 1 651 1
 1898 0020 00F020E3 		nop
 1899 0024 00D08BE2 		add	sp, fp, #0
 1900              		.cfi_def_cfa_register 13
 1901              		@ sp needed
 1902 0028 04B09DE4 		ldr	fp, [sp], #4
 1903              		.cfi_restore 11
 1904              		.cfi_def_cfa_offset 0
 1905 002c 1EFF2FE1 		bx	lr
 1906              		.cfi_endproc
 1907              	.LFE20:
 1909              		.section	.text.__RME_Thd_Reg_Init,"ax",%progbits
 1910              		.align	2
 1911              		.global	__RME_Thd_Reg_Init
 1912              		.syntax unified
 1913              		.arm
 1915              	__RME_Thd_Reg_Init:
 1916              	.LFB21:
 652:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Syscall_Retval *************************************/
 653:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 654:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Init ************************************************
 655:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the register set for the thread.
 656:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Entry - The thread entry address.
 657:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Stack - The thread stack address.
 658:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param - The parameter to pass to it.
 659:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set content generated.
 660:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 661:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 662:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Init(rme_ptr_t Attr,rme_ptr_t Entry,rme_ptr_t Stack,rme_ptr_t Param,
 663:../../Source/Platform/A7A/rme_platform_a7a.c ****                                        struct RME_Reg_Struct* Reg)
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1917              		.loc 1 664 1
 1918              		.cfi_startproc
 1919              		@ args = 4, pretend = 0, frame = 16
 1920              		@ frame_needed = 1, uses_anonymous_args = 0
 1921              		@ link register save eliminated.
 1922 0000 04B02DE5 		str	fp, [sp, #-4]!
 1923              		.cfi_def_cfa_offset 4
 1924              		.cfi_offset 11, -4
 1925 0004 00B08DE2 		add	fp, sp, #0
 1926              		.cfi_def_cfa_register 11
 1927 0008 14D04DE2 		sub	sp, sp, #20
 1928 000c 08000BE5 		str	r0, [fp, #-8]
 1929 0010 0C100BE5 		str	r1, [fp, #-12]
 1930 0014 10200BE5 		str	r2, [fp, #-16]
 1931 0018 14300BE5 		str	r3, [fp, #-20]
 665:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the entry and stack */
 666:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Entry;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 48


 1932              		.loc 1 666 12
 1933 001c 04309BE5 		ldr	r3, [fp, #4]
 1934 0020 0C201BE5 		ldr	r2, [fp, #-12]
 1935 0024 3C2083E5 		str	r2, [r3, #60]
 667:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Stack;
 1936              		.loc 1 667 12
 1937 0028 04309BE5 		ldr	r3, [fp, #4]
 1938 002c 10201BE5 		ldr	r2, [fp, #-16]
 1939 0030 342083E5 		str	r2, [r3, #52]
 668:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* LR needs to be a multiple of 4 upon return, ARMv7-A does not allow
 669:../../Source/Platform/A7A/rme_platform_a7a.c ****      * unaligned LR upon exception entry. Setting it to PC for convenience. */
 670:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->LR=Entry;
 1940              		.loc 1 670 12
 1941 0034 04309BE5 		ldr	r3, [fp, #4]
 1942 0038 0C201BE5 		ldr	r2, [fp, #-12]
 1943 003c 382083E5 		str	r2, [r3, #56]
 671:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the parameter */
 672:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=Param;
 1944              		.loc 1 672 12
 1945 0040 04309BE5 		ldr	r3, [fp, #4]
 1946 0044 14201BE5 		ldr	r2, [fp, #-20]
 1947 0048 042083E5 		str	r2, [r3, #4]
 673:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize CPSR */
 674:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->CPSR=0U;
 1948              		.loc 1 674 14
 1949 004c 04309BE5 		ldr	r3, [fp, #4]
 1950 0050 0020A0E3 		mov	r2, #0
 1951 0054 002083E5 		str	r2, [r3]
 675:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1952              		.loc 1 675 1
 1953 0058 00F020E3 		nop
 1954 005c 00D08BE2 		add	sp, fp, #0
 1955              		.cfi_def_cfa_register 13
 1956              		@ sp needed
 1957 0060 04B09DE4 		ldr	fp, [sp], #4
 1958              		.cfi_restore 11
 1959              		.cfi_def_cfa_offset 0
 1960 0064 1EFF2FE1 		bx	lr
 1961              		.cfi_endproc
 1962              	.LFE21:
 1964              		.section	.text.__RME_Thd_Reg_Copy,"ax",%progbits
 1965              		.align	2
 1966              		.global	__RME_Thd_Reg_Copy
 1967              		.syntax unified
 1968              		.arm
 1970              	__RME_Thd_Reg_Copy:
 1971              	.LFB22:
 676:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Init *******************************************/
 677:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Copy ************************************************
 679:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Copy one set of registers into another.
 680:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Src - The source register set.
 681:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Dst - The destination register set.
 682:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 683:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 684:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Copy(struct RME_Reg_Struct* Dst, struct RME_Reg_Struct* Src)
 685:../../Source/Platform/A7A/rme_platform_a7a.c **** {
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 49


 1972              		.loc 1 685 1
 1973              		.cfi_startproc
 1974              		@ args = 0, pretend = 0, frame = 8
 1975              		@ frame_needed = 1, uses_anonymous_args = 0
 1976              		@ link register save eliminated.
 1977 0000 04B02DE5 		str	fp, [sp, #-4]!
 1978              		.cfi_def_cfa_offset 4
 1979              		.cfi_offset 11, -4
 1980 0004 00B08DE2 		add	fp, sp, #0
 1981              		.cfi_def_cfa_register 11
 1982 0008 0CD04DE2 		sub	sp, sp, #12
 1983 000c 08000BE5 		str	r0, [fp, #-8]
 1984 0010 0C100BE5 		str	r1, [fp, #-12]
 686:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that the ordering is the same so the compiler can optimize */
 687:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->CPSR=Src->CPSR;
 1985              		.loc 1 687 18
 1986 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1987 0018 002093E5 		ldr	r2, [r3]
 1988              		.loc 1 687 14
 1989 001c 08301BE5 		ldr	r3, [fp, #-8]
 1990 0020 002083E5 		str	r2, [r3]
 688:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R0=Src->R0;
 1991              		.loc 1 688 16
 1992 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1993 0028 042093E5 		ldr	r2, [r3, #4]
 1994              		.loc 1 688 12
 1995 002c 08301BE5 		ldr	r3, [fp, #-8]
 1996 0030 042083E5 		str	r2, [r3, #4]
 689:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R1=Src->R1;
 1997              		.loc 1 689 16
 1998 0034 0C301BE5 		ldr	r3, [fp, #-12]
 1999 0038 082093E5 		ldr	r2, [r3, #8]
 2000              		.loc 1 689 12
 2001 003c 08301BE5 		ldr	r3, [fp, #-8]
 2002 0040 082083E5 		str	r2, [r3, #8]
 690:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R2=Src->R2;
 2003              		.loc 1 690 16
 2004 0044 0C301BE5 		ldr	r3, [fp, #-12]
 2005 0048 0C2093E5 		ldr	r2, [r3, #12]
 2006              		.loc 1 690 12
 2007 004c 08301BE5 		ldr	r3, [fp, #-8]
 2008 0050 0C2083E5 		str	r2, [r3, #12]
 691:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R3=Src->R3;
 2009              		.loc 1 691 16
 2010 0054 0C301BE5 		ldr	r3, [fp, #-12]
 2011 0058 102093E5 		ldr	r2, [r3, #16]
 2012              		.loc 1 691 12
 2013 005c 08301BE5 		ldr	r3, [fp, #-8]
 2014 0060 102083E5 		str	r2, [r3, #16]
 692:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R4=Src->R4;
 2015              		.loc 1 692 16
 2016 0064 0C301BE5 		ldr	r3, [fp, #-12]
 2017 0068 142093E5 		ldr	r2, [r3, #20]
 2018              		.loc 1 692 12
 2019 006c 08301BE5 		ldr	r3, [fp, #-8]
 2020 0070 142083E5 		str	r2, [r3, #20]
 693:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R5=Src->R5;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 50


 2021              		.loc 1 693 16
 2022 0074 0C301BE5 		ldr	r3, [fp, #-12]
 2023 0078 182093E5 		ldr	r2, [r3, #24]
 2024              		.loc 1 693 12
 2025 007c 08301BE5 		ldr	r3, [fp, #-8]
 2026 0080 182083E5 		str	r2, [r3, #24]
 694:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R6=Src->R6;
 2027              		.loc 1 694 16
 2028 0084 0C301BE5 		ldr	r3, [fp, #-12]
 2029 0088 1C2093E5 		ldr	r2, [r3, #28]
 2030              		.loc 1 694 12
 2031 008c 08301BE5 		ldr	r3, [fp, #-8]
 2032 0090 1C2083E5 		str	r2, [r3, #28]
 695:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R7=Src->R7;
 2033              		.loc 1 695 16
 2034 0094 0C301BE5 		ldr	r3, [fp, #-12]
 2035 0098 202093E5 		ldr	r2, [r3, #32]
 2036              		.loc 1 695 12
 2037 009c 08301BE5 		ldr	r3, [fp, #-8]
 2038 00a0 202083E5 		str	r2, [r3, #32]
 696:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R8=Src->R8;
 2039              		.loc 1 696 16
 2040 00a4 0C301BE5 		ldr	r3, [fp, #-12]
 2041 00a8 242093E5 		ldr	r2, [r3, #36]
 2042              		.loc 1 696 12
 2043 00ac 08301BE5 		ldr	r3, [fp, #-8]
 2044 00b0 242083E5 		str	r2, [r3, #36]
 697:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R9=Src->R9;
 2045              		.loc 1 697 16
 2046 00b4 0C301BE5 		ldr	r3, [fp, #-12]
 2047 00b8 282093E5 		ldr	r2, [r3, #40]
 2048              		.loc 1 697 12
 2049 00bc 08301BE5 		ldr	r3, [fp, #-8]
 2050 00c0 282083E5 		str	r2, [r3, #40]
 698:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R10=Src->R10;
 2051              		.loc 1 698 17
 2052 00c4 0C301BE5 		ldr	r3, [fp, #-12]
 2053 00c8 2C2093E5 		ldr	r2, [r3, #44]
 2054              		.loc 1 698 13
 2055 00cc 08301BE5 		ldr	r3, [fp, #-8]
 2056 00d0 2C2083E5 		str	r2, [r3, #44]
 699:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R11=Src->R11;
 2057              		.loc 1 699 17
 2058 00d4 0C301BE5 		ldr	r3, [fp, #-12]
 2059 00d8 302093E5 		ldr	r2, [r3, #48]
 2060              		.loc 1 699 13
 2061 00dc 08301BE5 		ldr	r3, [fp, #-8]
 2062 00e0 302083E5 		str	r2, [r3, #48]
 700:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->SP=Src->SP;
 2063              		.loc 1 700 16
 2064 00e4 0C301BE5 		ldr	r3, [fp, #-12]
 2065 00e8 342093E5 		ldr	r2, [r3, #52]
 2066              		.loc 1 700 12
 2067 00ec 08301BE5 		ldr	r3, [fp, #-8]
 2068 00f0 342083E5 		str	r2, [r3, #52]
 701:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->LR=Src->LR;
 2069              		.loc 1 701 16
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 51


 2070 00f4 0C301BE5 		ldr	r3, [fp, #-12]
 2071 00f8 382093E5 		ldr	r2, [r3, #56]
 2072              		.loc 1 701 12
 2073 00fc 08301BE5 		ldr	r3, [fp, #-8]
 2074 0100 382083E5 		str	r2, [r3, #56]
 702:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->PC=Src->PC;
 2075              		.loc 1 702 16
 2076 0104 0C301BE5 		ldr	r3, [fp, #-12]
 2077 0108 3C2093E5 		ldr	r2, [r3, #60]
 2078              		.loc 1 702 12
 2079 010c 08301BE5 		ldr	r3, [fp, #-8]
 2080 0110 3C2083E5 		str	r2, [r3, #60]
 703:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2081              		.loc 1 703 1
 2082 0114 00F020E3 		nop
 2083 0118 00D08BE2 		add	sp, fp, #0
 2084              		.cfi_def_cfa_register 13
 2085              		@ sp needed
 2086 011c 04B09DE4 		ldr	fp, [sp], #4
 2087              		.cfi_restore 11
 2088              		.cfi_def_cfa_offset 0
 2089 0120 1EFF2FE1 		bx	lr
 2090              		.cfi_endproc
 2091              	.LFE22:
 2093              		.section	.text.__RME_Thd_Cop_Init,"ax",%progbits
 2094              		.align	2
 2095              		.global	__RME_Thd_Cop_Init
 2096              		.syntax unified
 2097              		.arm
 2099              	__RME_Thd_Cop_Init:
 2100              	.LFB23:
 704:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Copy *******************************************/
 705:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 706:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Init ************************************************
 707:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the coprocessor register set for the thread.
 708:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register struct to help initialize the coprocessor.
 709:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Cop_Struct* Cop_Reg - The register set content generated.
 710:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 711:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 712:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Init(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 713:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2101              		.loc 1 713 1
 2102              		.cfi_startproc
 2103              		@ args = 0, pretend = 0, frame = 8
 2104              		@ frame_needed = 1, uses_anonymous_args = 0
 2105              		@ link register save eliminated.
 2106 0000 04B02DE5 		str	fp, [sp, #-4]!
 2107              		.cfi_def_cfa_offset 4
 2108              		.cfi_offset 11, -4
 2109 0004 00B08DE2 		add	fp, sp, #0
 2110              		.cfi_def_cfa_register 11
 2111 0008 0CD04DE2 		sub	sp, sp, #12
 2112 000c 08000BE5 		str	r0, [fp, #-8]
 2113 0010 0C100BE5 		str	r1, [fp, #-12]
 714:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Empty function, return immediately. The FPU contents is not predictable */
 715:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2114              		.loc 1 715 1
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 52


 2115 0014 00F020E3 		nop
 2116 0018 00D08BE2 		add	sp, fp, #0
 2117              		.cfi_def_cfa_register 13
 2118              		@ sp needed
 2119 001c 04B09DE4 		ldr	fp, [sp], #4
 2120              		.cfi_restore 11
 2121              		.cfi_def_cfa_offset 0
 2122 0020 1EFF2FE1 		bx	lr
 2123              		.cfi_endproc
 2124              	.LFE23:
 2126              		.section	.text.__RME_Thd_Cop_Save,"ax",%progbits
 2127              		.align	2
 2128              		.global	__RME_Thd_Cop_Save
 2129              		.syntax unified
 2130              		.arm
 2132              	__RME_Thd_Cop_Save:
 2133              	.LFB24:
 716:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Reg_Init ***************************************/
 717:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 718:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Save ************************************************
 719:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the co-op register sets. This operation is flexible - If the
 720:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save its context.
 721:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 722:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 723:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 725:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 726:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Save(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 727:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2134              		.loc 1 727 1
 2135              		.cfi_startproc
 2136              		@ args = 0, pretend = 0, frame = 8
 2137              		@ frame_needed = 1, uses_anonymous_args = 0
 2138              		@ link register save eliminated.
 2139 0000 04B02DE5 		str	fp, [sp, #-4]!
 2140              		.cfi_def_cfa_offset 4
 2141              		.cfi_offset 11, -4
 2142 0004 00B08DE2 		add	fp, sp, #0
 2143              		.cfi_def_cfa_register 11
 2144 0008 0CD04DE2 		sub	sp, sp, #12
 2145 000c 08000BE5 		str	r0, [fp, #-8]
 2146 0010 0C100BE5 		str	r1, [fp, #-12]
 728:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 729:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2147              		.loc 1 729 1
 2148 0014 00F020E3 		nop
 2149 0018 00D08BE2 		add	sp, fp, #0
 2150              		.cfi_def_cfa_register 13
 2151              		@ sp needed
 2152 001c 04B09DE4 		ldr	fp, [sp], #4
 2153              		.cfi_restore 11
 2154              		.cfi_def_cfa_offset 0
 2155 0020 1EFF2FE1 		bx	lr
 2156              		.cfi_endproc
 2157              	.LFE24:
 2159              		.section	.text.__RME_Thd_Cop_Restore,"ax",%progbits
 2160              		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 53


 2161              		.global	__RME_Thd_Cop_Restore
 2162              		.syntax unified
 2163              		.arm
 2165              	__RME_Thd_Cop_Restore:
 2166              	.LFB25:
 730:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Save *******************************************/
 731:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 732:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Restore *********************************************
 733:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the co-op register sets. This operation is flexible - If the
 734:../../Source/Platform/A7A/rme_platform_a7a.c ****               FPU is not used, we do not restore its context.
 735:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 736:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 737:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 738:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 739:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 740:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Restore(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 741:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2167              		.loc 1 741 1
 2168              		.cfi_startproc
 2169              		@ args = 0, pretend = 0, frame = 8
 2170              		@ frame_needed = 1, uses_anonymous_args = 0
 2171              		@ link register save eliminated.
 2172 0000 04B02DE5 		str	fp, [sp, #-4]!
 2173              		.cfi_def_cfa_offset 4
 2174              		.cfi_offset 11, -4
 2175 0004 00B08DE2 		add	fp, sp, #0
 2176              		.cfi_def_cfa_register 11
 2177 0008 0CD04DE2 		sub	sp, sp, #12
 2178 000c 08000BE5 		str	r0, [fp, #-8]
 2179 0010 0C100BE5 		str	r1, [fp, #-12]
 742:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 743:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2180              		.loc 1 743 1
 2181 0014 00F020E3 		nop
 2182 0018 00D08BE2 		add	sp, fp, #0
 2183              		.cfi_def_cfa_register 13
 2184              		@ sp needed
 2185 001c 04B09DE4 		ldr	fp, [sp], #4
 2186              		.cfi_restore 11
 2187              		.cfi_def_cfa_offset 0
 2188 0020 1EFF2FE1 		bx	lr
 2189              		.cfi_endproc
 2190              	.LFE25:
 2192              		.section	.text.__RME_Inv_Reg_Save,"ax",%progbits
 2193              		.align	2
 2194              		.global	__RME_Inv_Reg_Save
 2195              		.syntax unified
 2196              		.arm
 2198              	__RME_Inv_Reg_Save:
 2199              	.LFB26:
 744:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Restore ****************************************/
 745:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 746:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Save ************************************************
 747:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the necessary registers on invocation for returning. Only the
 748:../../Source/Platform/A7A/rme_platform_a7a.c ****               registers that will influence program control flow will be saved.
 749:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 750:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Iret_Struct* Ret - The invocation return register context.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 54


 751:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 752:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 753:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Save(struct RME_Iret_Struct* Ret, struct RME_Reg_Struct* Reg)
 754:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2200              		.loc 1 754 1
 2201              		.cfi_startproc
 2202              		@ args = 0, pretend = 0, frame = 8
 2203              		@ frame_needed = 1, uses_anonymous_args = 0
 2204              		@ link register save eliminated.
 2205 0000 04B02DE5 		str	fp, [sp, #-4]!
 2206              		.cfi_def_cfa_offset 4
 2207              		.cfi_offset 11, -4
 2208 0004 00B08DE2 		add	fp, sp, #0
 2209              		.cfi_def_cfa_register 11
 2210 0008 0CD04DE2 		sub	sp, sp, #12
 2211 000c 08000BE5 		str	r0, [fp, #-8]
 2212 0010 0C100BE5 		str	r1, [fp, #-12]
 755:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->PC=Reg->PC;
 2213              		.loc 1 755 16
 2214 0014 0C301BE5 		ldr	r3, [fp, #-12]
 2215 0018 3C2093E5 		ldr	r2, [r3, #60]
 2216              		.loc 1 755 12
 2217 001c 08301BE5 		ldr	r3, [fp, #-8]
 2218 0020 002083E5 		str	r2, [r3]
 756:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->SP=Reg->SP;
 2219              		.loc 1 756 16
 2220 0024 0C301BE5 		ldr	r3, [fp, #-12]
 2221 0028 342093E5 		ldr	r2, [r3, #52]
 2222              		.loc 1 756 12
 2223 002c 08301BE5 		ldr	r3, [fp, #-8]
 2224 0030 042083E5 		str	r2, [r3, #4]
 757:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2225              		.loc 1 757 1
 2226 0034 00F020E3 		nop
 2227 0038 00D08BE2 		add	sp, fp, #0
 2228              		.cfi_def_cfa_register 13
 2229              		@ sp needed
 2230 003c 04B09DE4 		ldr	fp, [sp], #4
 2231              		.cfi_restore 11
 2232              		.cfi_def_cfa_offset 0
 2233 0040 1EFF2FE1 		bx	lr
 2234              		.cfi_endproc
 2235              	.LFE26:
 2237              		.section	.text.__RME_Inv_Reg_Restore,"ax",%progbits
 2238              		.align	2
 2239              		.global	__RME_Inv_Reg_Restore
 2240              		.syntax unified
 2241              		.arm
 2243              	__RME_Inv_Reg_Restore:
 2244              	.LFB27:
 758:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Save *******************************************/
 759:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 760:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Restore *********************************************
 761:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the necessary registers for returning from an invocation.
 762:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Iret_Struct* Ret - The invocation return register context.
 763:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 764:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 55


 765:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 766:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Restore(struct RME_Reg_Struct* Reg, struct RME_Iret_Struct* Ret)
 767:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2245              		.loc 1 767 1
 2246              		.cfi_startproc
 2247              		@ args = 0, pretend = 0, frame = 8
 2248              		@ frame_needed = 1, uses_anonymous_args = 0
 2249              		@ link register save eliminated.
 2250 0000 04B02DE5 		str	fp, [sp, #-4]!
 2251              		.cfi_def_cfa_offset 4
 2252              		.cfi_offset 11, -4
 2253 0004 00B08DE2 		add	fp, sp, #0
 2254              		.cfi_def_cfa_register 11
 2255 0008 0CD04DE2 		sub	sp, sp, #12
 2256 000c 08000BE5 		str	r0, [fp, #-8]
 2257 0010 0C100BE5 		str	r1, [fp, #-12]
 768:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Ret->PC;
 2258              		.loc 1 768 16
 2259 0014 0C301BE5 		ldr	r3, [fp, #-12]
 2260 0018 002093E5 		ldr	r2, [r3]
 2261              		.loc 1 768 12
 2262 001c 08301BE5 		ldr	r3, [fp, #-8]
 2263 0020 3C2083E5 		str	r2, [r3, #60]
 769:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Ret->SP;
 2264              		.loc 1 769 16
 2265 0024 0C301BE5 		ldr	r3, [fp, #-12]
 2266 0028 042093E5 		ldr	r2, [r3, #4]
 2267              		.loc 1 769 12
 2268 002c 08301BE5 		ldr	r3, [fp, #-8]
 2269 0030 342083E5 		str	r2, [r3, #52]
 770:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2270              		.loc 1 770 1
 2271 0034 00F020E3 		nop
 2272 0038 00D08BE2 		add	sp, fp, #0
 2273              		.cfi_def_cfa_register 13
 2274              		@ sp needed
 2275 003c 04B09DE4 		ldr	fp, [sp], #4
 2276              		.cfi_restore 11
 2277              		.cfi_def_cfa_offset 0
 2278 0040 1EFF2FE1 		bx	lr
 2279              		.cfi_endproc
 2280              	.LFE27:
 2282              		.section	.text.__RME_Inv_Retval_Set,"ax",%progbits
 2283              		.align	2
 2284              		.global	__RME_Inv_Retval_Set
 2285              		.syntax unified
 2286              		.arm
 2288              	__RME_Inv_Retval_Set:
 2289              	.LFB28:
 771:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Restore ****************************************/
 772:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 773:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Retval_Set **********************************************
 774:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 775:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 776:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 777:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 778:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 56


 779:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Retval_Set(struct RME_Reg_Struct* Reg,
 780:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ret_t Retval)
 781:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2290              		.loc 1 781 1
 2291              		.cfi_startproc
 2292              		@ args = 0, pretend = 0, frame = 8
 2293              		@ frame_needed = 1, uses_anonymous_args = 0
 2294              		@ link register save eliminated.
 2295 0000 04B02DE5 		str	fp, [sp, #-4]!
 2296              		.cfi_def_cfa_offset 4
 2297              		.cfi_offset 11, -4
 2298 0004 00B08DE2 		add	fp, sp, #0
 2299              		.cfi_def_cfa_register 11
 2300 0008 0CD04DE2 		sub	sp, sp, #12
 2301 000c 08000BE5 		str	r0, [fp, #-8]
 2302 0010 0C100BE5 		str	r1, [fp, #-12]
 782:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R5=(rme_ptr_t)Retval;
 2303              		.loc 1 782 13
 2304 0014 0C201BE5 		ldr	r2, [fp, #-12]
 2305              		.loc 1 782 12
 2306 0018 08301BE5 		ldr	r3, [fp, #-8]
 2307 001c 182083E5 		str	r2, [r3, #24]
 783:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2308              		.loc 1 783 1
 2309 0020 00F020E3 		nop
 2310 0024 00D08BE2 		add	sp, fp, #0
 2311              		.cfi_def_cfa_register 13
 2312              		@ sp needed
 2313 0028 04B09DE4 		ldr	fp, [sp], #4
 2314              		.cfi_restore 11
 2315              		.cfi_def_cfa_offset 0
 2316 002c 1EFF2FE1 		bx	lr
 2317              		.cfi_endproc
 2318              	.LFE28:
 2320              		.section	.text.__RME_Set_Inv_Retval,"ax",%progbits
 2321              		.align	2
 2322              		.global	__RME_Set_Inv_Retval
 2323              		.syntax unified
 2324              		.arm
 2326              	__RME_Set_Inv_Retval:
 2327              	.LFB29:
 784:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Retval_Set *****************************************/
 785:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 786:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Inv_Retval **********************************************
 787:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 788:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 789:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 790:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 791:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 792:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Set_Inv_Retval(struct RME_Reg_Struct* Reg, rme_ret_t Retval)
 793:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2328              		.loc 1 793 1
 2329              		.cfi_startproc
 2330              		@ args = 0, pretend = 0, frame = 8
 2331              		@ frame_needed = 1, uses_anonymous_args = 0
 2332              		@ link register save eliminated.
 2333 0000 04B02DE5 		str	fp, [sp, #-4]!
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 57


 2334              		.cfi_def_cfa_offset 4
 2335              		.cfi_offset 11, -4
 2336 0004 00B08DE2 		add	fp, sp, #0
 2337              		.cfi_def_cfa_register 11
 2338 0008 0CD04DE2 		sub	sp, sp, #12
 2339 000c 08000BE5 		str	r0, [fp, #-8]
 2340 0010 0C100BE5 		str	r1, [fp, #-12]
 794:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R1=(rme_ptr_t)Retval;
 2341              		.loc 1 794 13
 2342 0014 0C201BE5 		ldr	r2, [fp, #-12]
 2343              		.loc 1 794 12
 2344 0018 08301BE5 		ldr	r3, [fp, #-8]
 2345 001c 082083E5 		str	r2, [r3, #8]
 795:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2346              		.loc 1 795 1
 2347 0020 00F020E3 		nop
 2348 0024 00D08BE2 		add	sp, fp, #0
 2349              		.cfi_def_cfa_register 13
 2350              		@ sp needed
 2351 0028 04B09DE4 		ldr	fp, [sp], #4
 2352              		.cfi_restore 11
 2353              		.cfi_def_cfa_offset 0
 2354 002c 1EFF2FE1 		bx	lr
 2355              		.cfi_endproc
 2356              	.LFE29:
 2358              		.section	.text.__RME_Thd_Cop_Swap,"ax",%progbits
 2359              		.align	2
 2360              		.global	__RME_Thd_Cop_Swap
 2361              		.syntax unified
 2362              		.arm
 2364              	__RME_Thd_Cop_Swap:
 2365              	.LFB30:
 796:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Inv_Retval *****************************************/
 797:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 798:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Swap ************************************************
 799:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Swap the cop register sets. This operation is flexible - If the
 800:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save/restore its context.
 801:../../Source/Platform/A7A/rme_platform_a7a.c ****               We do not need to turn off lazy stacking, because even if a fault
 802:../../Source/Platform/A7A/rme_platform_a7a.c ****               occurs, it (1) tails the execution of activates the will get dropped
 803:../../Source/Platform/A7A/rme_platform_a7a.c ****               by our handler deliberately and will not cause wrong attribution.
 804:../../Source/Platform/A7A/rme_platform_a7a.c ****               They can be alternatively disabled as well if you wish.
 805:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Attr_New - The attribute of the context to switch to.
 806:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_New - Whether the context to switch to is a
 807:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 808:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_New - The context to switch to.
 809:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Attr_Cur - The attribute of the context to switch from.
 810:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_Cur - Whether the context to switch from is a
 811:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 812:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_Cur - The context to switch from.
 813:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : void* Cop_New - The coprocessor context to switch to.
 814:../../Source/Platform/A7A/rme_platform_a7a.c ****               void* Cop_Cur - The coprocessor context to switch from.
 815:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 816:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 817:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Swap(rme_ptr_t Attr_New,
 818:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_New,
 819:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_New,
 820:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_New,
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 58


 821:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Attr_Cur,
 822:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_Cur,
 823:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_Cur,
 824:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_Cur)
 825:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2366              		.loc 1 825 1
 2367              		.cfi_startproc
 2368              		@ args = 16, pretend = 0, frame = 16
 2369              		@ frame_needed = 1, uses_anonymous_args = 0
 2370              		@ link register save eliminated.
 2371 0000 04B02DE5 		str	fp, [sp, #-4]!
 2372              		.cfi_def_cfa_offset 4
 2373              		.cfi_offset 11, -4
 2374 0004 00B08DE2 		add	fp, sp, #0
 2375              		.cfi_def_cfa_register 11
 2376 0008 14D04DE2 		sub	sp, sp, #20
 2377 000c 08000BE5 		str	r0, [fp, #-8]
 2378 0010 0C100BE5 		str	r1, [fp, #-12]
 2379 0014 10200BE5 		str	r2, [fp, #-16]
 2380 0018 14300BE5 		str	r3, [fp, #-20]
 826:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 827:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2381              		.loc 1 827 1
 2382 001c 00F020E3 		nop
 2383 0020 00D08BE2 		add	sp, fp, #0
 2384              		.cfi_def_cfa_register 13
 2385              		@ sp needed
 2386 0024 04B09DE4 		ldr	fp, [sp], #4
 2387              		.cfi_restore 11
 2388              		.cfi_def_cfa_offset 0
 2389 0028 1EFF2FE1 		bx	lr
 2390              		.cfi_endproc
 2391              	.LFE30:
 2393              		.section	.text.__RME_Kfn_Handler,"ax",%progbits
 2394              		.align	2
 2395              		.global	__RME_Kfn_Handler
 2396              		.syntax unified
 2397              		.arm
 2399              	__RME_Kfn_Handler:
 2400              	.LFB31:
 828:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Swap *******************************************/
 829:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 830:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Kern_Func_Handler *******************************************
 831:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Handle kernel function calls.
 832:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The current register set.
 833:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Func_ID - The function ID.
 834:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Sub_ID - The sub function ID.
 835:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param1 - The first parameter.
 836:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param2 - The second parameter.
 837:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 838:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - The value that the function returned.
 839:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 840:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Kfn_Handler(struct RME_Cap_Cpt* Cpt,
 841:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            struct RME_Reg_Struct* Reg,
 842:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Func_ID,
 843:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Sub_ID,
 844:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param1,
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 59


 845:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param2)
 846:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2401              		.loc 1 846 1
 2402              		.cfi_startproc
 2403              		@ args = 8, pretend = 0, frame = 16
 2404              		@ frame_needed = 1, uses_anonymous_args = 0
 2405              		@ link register save eliminated.
 2406 0000 04B02DE5 		str	fp, [sp, #-4]!
 2407              		.cfi_def_cfa_offset 4
 2408              		.cfi_offset 11, -4
 2409 0004 00B08DE2 		add	fp, sp, #0
 2410              		.cfi_def_cfa_register 11
 2411 0008 14D04DE2 		sub	sp, sp, #20
 2412 000c 08000BE5 		str	r0, [fp, #-8]
 2413 0010 0C100BE5 		str	r1, [fp, #-12]
 2414 0014 10200BE5 		str	r2, [fp, #-16]
 2415 0018 14300BE5 		str	r3, [fp, #-20]
 847:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Currently no kernel function implemented */
 848:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2416              		.loc 1 848 12
 2417 001c 0030A0E3 		mov	r3, #0
 849:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2418              		.loc 1 849 1
 2419 0020 0300A0E1 		mov	r0, r3
 2420 0024 00D08BE2 		add	sp, fp, #0
 2421              		.cfi_def_cfa_register 13
 2422              		@ sp needed
 2423 0028 04B09DE4 		ldr	fp, [sp], #4
 2424              		.cfi_restore 11
 2425              		.cfi_def_cfa_offset 0
 2426 002c 1EFF2FE1 		bx	lr
 2427              		.cfi_endproc
 2428              	.LFE31:
 2430              		.section	.rodata
 2431 036e 0000     		.align	2
 2432              	.LC30:
 2433 0370 0D0A556E 		.ascii	"\015\012Undefined_Handler\000"
 2433      64656669 
 2433      6E65645F 
 2433      48616E64 
 2433      6C657200 
 2434              		.align	2
 2435              	.LC31:
 2436 0384 20504320 		.ascii	" PC - \000"
 2436      2D2000
 2437 038b 00       		.align	2
 2438              	.LC32:
 2439 038c 20535020 		.ascii	" SP - \000"
 2439      2D2000
 2440 0393 00       		.align	2
 2441              	.LC33:
 2442 0394 20435053 		.ascii	" CPSR - \000"
 2442      52202D20 
 2442      00
 2443              		.section	.text.__RME_A7A_Undefined_Handler,"ax",%progbits
 2444              		.align	2
 2445              		.global	__RME_A7A_Undefined_Handler
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 60


 2446              		.syntax unified
 2447              		.arm
 2449              	__RME_A7A_Undefined_Handler:
 2450              	.LFB32:
 850:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Kern_Func_Handler **************************************/
 851:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 852:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Undefined_Handler **************************************
 853:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The undefined instruction vector handler of RME.
 854:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 855:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 856:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 857:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 858:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Undefined_Handler(struct RME_Reg_Struct* Reg)
 859:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2451              		.loc 1 859 1
 2452              		.cfi_startproc
 2453              		@ args = 0, pretend = 0, frame = 8
 2454              		@ frame_needed = 1, uses_anonymous_args = 0
 2455 0000 00482DE9 		push	{fp, lr}
 2456              		.cfi_def_cfa_offset 8
 2457              		.cfi_offset 11, -8
 2458              		.cfi_offset 14, -4
 2459 0004 04B08DE2 		add	fp, sp, #4
 2460              		.cfi_def_cfa 11, 4
 2461 0008 08D04DE2 		sub	sp, sp, #8
 2462 000c 08000BE5 		str	r0, [fp, #-8]
 860:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle undefined instructions now */
 861:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S("\r\nUndefined_Handler");
 2463              		.loc 1 861 2
 2464 0010 000000E3 		movw	r0, #:lower16:.LC30
 2465 0014 000040E3 		movt	r0, #:upper16:.LC30
 2466 0018 FEFFFFEB 		bl	RME_Str_Print
 862:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" PC - ");
 2467              		.loc 1 862 2
 2468 001c 000000E3 		movw	r0, #:lower16:.LC31
 2469 0020 000040E3 		movt	r0, #:upper16:.LC31
 2470 0024 FEFFFFEB 		bl	RME_Str_Print
 863:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->PC);
 2471              		.loc 1 863 2
 2472 0028 08301BE5 		ldr	r3, [fp, #-8]
 2473 002c 3C3093E5 		ldr	r3, [r3, #60]
 2474 0030 0300A0E1 		mov	r0, r3
 2475 0034 FEFFFFEB 		bl	RME_Hex_Print
 864:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" SP - ");
 2476              		.loc 1 864 2
 2477 0038 000000E3 		movw	r0, #:lower16:.LC32
 2478 003c 000040E3 		movt	r0, #:upper16:.LC32
 2479 0040 FEFFFFEB 		bl	RME_Str_Print
 865:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->SP);
 2480              		.loc 1 865 2
 2481 0044 08301BE5 		ldr	r3, [fp, #-8]
 2482 0048 343093E5 		ldr	r3, [r3, #52]
 2483 004c 0300A0E1 		mov	r0, r3
 2484 0050 FEFFFFEB 		bl	RME_Hex_Print
 866:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" CPSR - ");
 2485              		.loc 1 866 2
 2486 0054 000000E3 		movw	r0, #:lower16:.LC33
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 61


 2487 0058 000040E3 		movt	r0, #:upper16:.LC33
 2488 005c FEFFFFEB 		bl	RME_Str_Print
 867:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->CPSR);
 2489              		.loc 1 867 2
 2490 0060 08301BE5 		ldr	r3, [fp, #-8]
 2491 0064 003093E5 		ldr	r3, [r3]
 2492 0068 0300A0E1 		mov	r0, r3
 2493 006c FEFFFFEB 		bl	RME_Hex_Print
 2494              	.L79:
 868:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2495              		.loc 1 868 7
 2496 0070 FEFFFFEA 		b	.L79
 2497              		.cfi_endproc
 2498              	.LFE32:
 2500              		.section	.rodata
 2501 039d 000000   		.align	2
 2502              	.LC34:
 2503 03a0 50726566 		.ascii	"Prefetch_Abort_Handler\000"
 2503      65746368 
 2503      5F41626F 
 2503      72745F48 
 2503      616E646C 
 2504              		.section	.text.__RME_A7A_Prefetch_Abort_Handler,"ax",%progbits
 2505              		.align	2
 2506              		.global	__RME_A7A_Prefetch_Abort_Handler
 2507              		.syntax unified
 2508              		.arm
 2510              	__RME_A7A_Prefetch_Abort_Handler:
 2511              	.LFB33:
 869:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 870:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Undefined_Handler *********************************/
 871:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 872:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Prefetch_Abort_Handler *********************************
 873:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The prefetch abort vector handler of RME.
 874:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 875:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 876:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 877:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 878:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Prefetch_Abort_Handler(struct RME_Reg_Struct* Reg)
 879:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2512              		.loc 1 879 1
 2513              		.cfi_startproc
 2514              		@ args = 0, pretend = 0, frame = 8
 2515              		@ frame_needed = 1, uses_anonymous_args = 0
 2516 0000 00482DE9 		push	{fp, lr}
 2517              		.cfi_def_cfa_offset 8
 2518              		.cfi_offset 11, -8
 2519              		.cfi_offset 14, -4
 2520 0004 04B08DE2 		add	fp, sp, #4
 2521              		.cfi_def_cfa 11, 4
 2522 0008 08D04DE2 		sub	sp, sp, #8
 2523 000c 08000BE5 		str	r0, [fp, #-8]
 880:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle prefetch aborts now */
 881:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S("Prefetch_Abort_Handler");
 2524              		.loc 1 881 2
 2525 0010 000000E3 		movw	r0, #:lower16:.LC34
 2526 0014 000040E3 		movt	r0, #:upper16:.LC34
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 62


 2527 0018 FEFFFFEB 		bl	RME_Str_Print
 882:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" PC - ");
 2528              		.loc 1 882 2
 2529 001c 000000E3 		movw	r0, #:lower16:.LC31
 2530 0020 000040E3 		movt	r0, #:upper16:.LC31
 2531 0024 FEFFFFEB 		bl	RME_Str_Print
 883:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->PC);
 2532              		.loc 1 883 2
 2533 0028 08301BE5 		ldr	r3, [fp, #-8]
 2534 002c 3C3093E5 		ldr	r3, [r3, #60]
 2535 0030 0300A0E1 		mov	r0, r3
 2536 0034 FEFFFFEB 		bl	RME_Hex_Print
 884:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" SP - ");
 2537              		.loc 1 884 2
 2538 0038 000000E3 		movw	r0, #:lower16:.LC32
 2539 003c 000040E3 		movt	r0, #:upper16:.LC32
 2540 0040 FEFFFFEB 		bl	RME_Str_Print
 885:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->SP);
 2541              		.loc 1 885 2
 2542 0044 08301BE5 		ldr	r3, [fp, #-8]
 2543 0048 343093E5 		ldr	r3, [r3, #52]
 2544 004c 0300A0E1 		mov	r0, r3
 2545 0050 FEFFFFEB 		bl	RME_Hex_Print
 886:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" CPSR - ");
 2546              		.loc 1 886 2
 2547 0054 000000E3 		movw	r0, #:lower16:.LC33
 2548 0058 000040E3 		movt	r0, #:upper16:.LC33
 2549 005c FEFFFFEB 		bl	RME_Str_Print
 887:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->CPSR);
 2550              		.loc 1 887 2
 2551 0060 08301BE5 		ldr	r3, [fp, #-8]
 2552 0064 003093E5 		ldr	r3, [r3]
 2553 0068 0300A0E1 		mov	r0, r3
 2554 006c FEFFFFEB 		bl	RME_Hex_Print
 2555              	.L81:
 888:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2556              		.loc 1 888 7
 2557 0070 FEFFFFEA 		b	.L81
 2558              		.cfi_endproc
 2559              	.LFE33:
 2561              		.section	.rodata
 2562 03b7 00       		.align	2
 2563              	.LC35:
 2564 03b8 0D0A4461 		.ascii	"\015\012Data_Abort_Handler\000"
 2564      74615F41 
 2564      626F7274 
 2564      5F48616E 
 2564      646C6572 
 2565              		.section	.text.__RME_A7A_Data_Abort_Handler,"ax",%progbits
 2566              		.align	2
 2567              		.global	__RME_A7A_Data_Abort_Handler
 2568              		.syntax unified
 2569              		.arm
 2571              	__RME_A7A_Data_Abort_Handler:
 2572              	.LFB34:
 889:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 890:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Prefetch_Abort_Handler ****************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 63


 891:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 892:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Data_Abort_Handler *************************************
 893:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The data abort vector handler of RME.
 894:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 895:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 896:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 897:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 898:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Data_Abort_Handler(struct RME_Reg_Struct* Reg)
 899:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2573              		.loc 1 899 1
 2574              		.cfi_startproc
 2575              		@ args = 0, pretend = 0, frame = 8
 2576              		@ frame_needed = 1, uses_anonymous_args = 0
 2577 0000 00482DE9 		push	{fp, lr}
 2578              		.cfi_def_cfa_offset 8
 2579              		.cfi_offset 11, -8
 2580              		.cfi_offset 14, -4
 2581 0004 04B08DE2 		add	fp, sp, #4
 2582              		.cfi_def_cfa 11, 4
 2583 0008 08D04DE2 		sub	sp, sp, #8
 2584 000c 08000BE5 		str	r0, [fp, #-8]
 900:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle data aborts now */
 901:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S("\r\nData_Abort_Handler");
 2585              		.loc 1 901 2
 2586 0010 000000E3 		movw	r0, #:lower16:.LC35
 2587 0014 000040E3 		movt	r0, #:upper16:.LC35
 2588 0018 FEFFFFEB 		bl	RME_Str_Print
 902:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" PC - ");
 2589              		.loc 1 902 2
 2590 001c 000000E3 		movw	r0, #:lower16:.LC31
 2591 0020 000040E3 		movt	r0, #:upper16:.LC31
 2592 0024 FEFFFFEB 		bl	RME_Str_Print
 903:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->PC);
 2593              		.loc 1 903 2
 2594 0028 08301BE5 		ldr	r3, [fp, #-8]
 2595 002c 3C3093E5 		ldr	r3, [r3, #60]
 2596 0030 0300A0E1 		mov	r0, r3
 2597 0034 FEFFFFEB 		bl	RME_Hex_Print
 904:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" SP - ");
 2598              		.loc 1 904 2
 2599 0038 000000E3 		movw	r0, #:lower16:.LC32
 2600 003c 000040E3 		movt	r0, #:upper16:.LC32
 2601 0040 FEFFFFEB 		bl	RME_Str_Print
 905:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->SP);
 2602              		.loc 1 905 2
 2603 0044 08301BE5 		ldr	r3, [fp, #-8]
 2604 0048 343093E5 		ldr	r3, [r3, #52]
 2605 004c 0300A0E1 		mov	r0, r3
 2606 0050 FEFFFFEB 		bl	RME_Hex_Print
 906:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" CPSR - ");
 2607              		.loc 1 906 2
 2608 0054 000000E3 		movw	r0, #:lower16:.LC33
 2609 0058 000040E3 		movt	r0, #:upper16:.LC33
 2610 005c FEFFFFEB 		bl	RME_Str_Print
 907:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->CPSR);
 2611              		.loc 1 907 2
 2612 0060 08301BE5 		ldr	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 64


 2613 0064 003093E5 		ldr	r3, [r3]
 2614 0068 0300A0E1 		mov	r0, r3
 2615 006c FEFFFFEB 		bl	RME_Hex_Print
 2616              	.L83:
 908:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2617              		.loc 1 908 7
 2618 0070 FEFFFFEA 		b	.L83
 2619              		.cfi_endproc
 2620              	.LFE34:
 2622              		.section	.text.__RME_A7A_IRQ_Handler,"ax",%progbits
 2623              		.align	2
 2624              		.global	__RME_A7A_IRQ_Handler
 2625              		.syntax unified
 2626              		.arm
 2628              	__RME_A7A_IRQ_Handler:
 2629              	.LFB35:
 909:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 910:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Data_Abort_Handler ********************************/
 911:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 912:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_IRQ_Handler ********************************************
 913:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The regular interrupt vector handler of RME.
 914:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 915:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 916:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 917:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 918:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_IRQ_Handler(struct RME_Reg_Struct* Reg)
 919:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2630              		.loc 1 919 1
 2631              		.cfi_startproc
 2632              		@ args = 0, pretend = 0, frame = 16
 2633              		@ frame_needed = 1, uses_anonymous_args = 0
 2634 0000 00482DE9 		push	{fp, lr}
 2635              		.cfi_def_cfa_offset 8
 2636              		.cfi_offset 11, -8
 2637              		.cfi_offset 14, -4
 2638 0004 04B08DE2 		add	fp, sp, #4
 2639              		.cfi_def_cfa 11, 4
 2640 0008 10D04DE2 		sub	sp, sp, #16
 2641 000c 10000BE5 		str	r0, [fp, #-16]
 920:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t Int_ID;
 921:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t CPUID;
 922:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 923:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* What interrupt is this? */
 924:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID=RME_A7A_GICC_IAR;
 2642              		.loc 1 924 9
 2643 0010 433FA0E3 		mov	r3, #268
 2644 0014 F0384FE3 		movt	r3, 63728
 2645              		.loc 1 924 8
 2646 0018 003093E5 		ldr	r3, [r3]
 2647 001c 08300BE5 		str	r3, [fp, #-8]
 925:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 2648              		.loc 1 925 7
 2649 0020 08301BE5 		ldr	r3, [fp, #-8]
 2650 0024 2335A0E1 		lsr	r3, r3, #10
 2651 0028 0C300BE5 		str	r3, [fp, #-12]
 926:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID&=0x3FFU;
 2652              		.loc 1 926 8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 65


 2653 002c 08301BE5 		ldr	r3, [fp, #-8]
 2654 0030 5330E9E7 		ubfx	r3, r3, #0, #10
 2655 0034 08300BE5 		str	r3, [fp, #-8]
 927:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_DBG_S("\r\nINT_ID is ");
 928:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_I(Int_ID);
 929:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 930:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 931:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a spurious interrupt? (Can't be 1022 because GICv1 don't have group1) */
 932:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(Int_ID!=1022);
 2656              		.loc 1 932 2
 2657 0038 08301BE5 		ldr	r3, [fp, #-8]
 2658 003c FE2300E3 		movw	r2, #1022
 2659 0040 020053E1 		cmp	r3, r2
 2660 0044 0800001A 		bne	.L85
 2661              		.loc 1 932 2 is_stmt 0 discriminator 1
 2662 0048 003000E3 		movw	r3, #:lower16:.LC13
 2663 004c 003040E3 		movt	r3, #:upper16:.LC13
 2664 0050 002000E3 		movw	r2, #:lower16:.LC14
 2665 0054 002040E3 		movt	r2, #:upper16:.LC14
 2666 0058 E91FA0E3 		mov	r1, #932
 2667 005c 000000E3 		movw	r0, #:lower16:.LC15
 2668 0060 000040E3 		movt	r0, #:upper16:.LC15
 2669 0064 FEFFFFEB 		bl	RME_Log
 2670              	.L86:
 2671              		.loc 1 932 2
 2672 0068 FEFFFFEA 		b	.L86
 2673              	.L85:
 933:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 2674              		.loc 1 933 4 is_stmt 1
 2675 006c 08301BE5 		ldr	r3, [fp, #-8]
 2676 0070 FF2300E3 		movw	r2, #1023
 2677 0074 020053E1 		cmp	r3, r2
 2678 0078 3D00000A 		beq	.L95
 934:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 935:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 936:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 937:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 938:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is is an timer interrupt? (we know that it is at 29) */
 939:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==29)
 2679              		.loc 1 939 4
 2680 007c 08301BE5 		ldr	r3, [fp, #-8]
 2681 0080 1D0053E3 		cmp	r3, #29
 2682 0084 0B00001A 		bne	.L89
 940:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 941:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Clear the interrupt flag */
 942:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    RME_A7A_PTWD_PTISR=0;
 2683              		.loc 1 942 6
 2684 0088 0C3600E3 		movw	r3, #1548
 2685 008c F0384FE3 		movt	r3, 63728
 2686              		.loc 1 942 24
 2687 0090 0020A0E3 		mov	r2, #0
 2688 0094 002083E5 		str	r2, [r3]
 943:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 944:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    _RME_Tim_Handler(Reg,1);
 2689              		.loc 1 944 6
 2690 0098 0110A0E3 		mov	r1, #1
 2691 009c 10001BE5 		ldr	r0, [fp, #-16]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 66


 2692 00a0 FEFFFFEB 		bl	_RME_Tim_Handler
 945:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Send interrupt to all other processors to notify them about this */
 946:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 947:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 2693              		.loc 1 947 3
 2694 00a4 113EA0E3 		mov	r3, #272
 2695 00a8 F0384FE3 		movt	r3, 63728
 2696              		.loc 1 947 20
 2697 00ac 08201BE5 		ldr	r2, [fp, #-8]
 2698 00b0 002083E5 		str	r2, [r3]
 948:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2699              		.loc 1 948 3
 2700 00b4 2F0000EA 		b	.L84
 2701              	.L89:
 949:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 950:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 951:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 952:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 953:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 954:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 955:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 956:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 957:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a coprocessor timer interrupt? (We use interrupt number 0 for these) */
 958:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==0)
 2702              		.loc 1 958 4
 2703 00b8 08301BE5 		ldr	r3, [fp, #-8]
 2704 00bc 000053E3 		cmp	r3, #0
 2705 00c0 1000001A 		bne	.L90
 959:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 960:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* This must have originated from interface 0 */
 961:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(CPUID==0);
 2706              		.loc 1 961 3
 2707 00c4 0C301BE5 		ldr	r3, [fp, #-12]
 2708 00c8 000053E3 		cmp	r3, #0
 2709 00cc 0800000A 		beq	.L91
 2710              		.loc 1 961 3 is_stmt 0 discriminator 1
 2711 00d0 003000E3 		movw	r3, #:lower16:.LC13
 2712 00d4 003040E3 		movt	r3, #:upper16:.LC13
 2713 00d8 002000E3 		movw	r2, #:lower16:.LC14
 2714 00dc 002040E3 		movt	r2, #:upper16:.LC14
 2715 00e0 C11300E3 		movw	r1, #961
 2716 00e4 000000E3 		movw	r0, #:lower16:.LC15
 2717 00e8 000040E3 		movt	r0, #:upper16:.LC15
 2718 00ec FEFFFFEB 		bl	RME_Log
 2719              	.L92:
 2720              		.loc 1 961 3
 2721 00f0 FEFFFFEA 		b	.L92
 2722              	.L91:
 962:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 963:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 964:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 2723              		.loc 1 964 3 is_stmt 1
 2724 00f4 113EA0E3 		mov	r3, #272
 2725 00f8 F0384FE3 		movt	r3, 63728
 2726              		.loc 1 964 20
 2727 00fc 08201BE5 		ldr	r2, [fp, #-8]
 2728 0100 002083E5 		str	r2, [r3]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 67


 965:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2729              		.loc 1 965 3
 2730 0104 1B0000EA 		b	.L84
 2731              	.L90:
 966:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 967:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 968:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an other IPI? (All the rest of the SGIs are these) */
 969:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID<16)
 2732              		.loc 1 969 4
 2733 0108 08301BE5 		ldr	r3, [fp, #-8]
 2734 010c 0F0053E3 		cmp	r3, #15
 2735 0110 0B00008A 		bhi	.L93
 970:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 971:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_A7A_SGI_Handler(Reg,CPUID,Int_ID);
 2736              		.loc 1 971 3
 2737 0114 08201BE5 		ldr	r2, [fp, #-8]
 2738 0118 0C101BE5 		ldr	r1, [fp, #-12]
 2739 011c 10001BE5 		ldr	r0, [fp, #-16]
 2740 0120 FEFFFFEB 		bl	_RME_A7A_SGI_Handler
 972:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 973:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=(CPUID<<10U)|Int_ID;
 2741              		.loc 1 973 27
 2742 0124 0C301BE5 		ldr	r3, [fp, #-12]
 2743 0128 0315A0E1 		lsl	r1, r3, #10
 2744              		.loc 1 973 3
 2745 012c 113EA0E3 		mov	r3, #272
 2746 0130 F0384FE3 		movt	r3, 63728
 2747              		.loc 1 973 33
 2748 0134 08201BE5 		ldr	r2, [fp, #-8]
 2749 0138 022081E1 		orr	r2, r1, r2
 2750              		.loc 1 973 20
 2751 013c 002083E5 		str	r2, [r3]
 974:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2752              		.loc 1 974 3
 2753 0140 0C0000EA 		b	.L84
 2754              	.L93:
 975:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 976:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 977:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an casual interrupt? */
 978:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(CPUID==0);
 2755              		.loc 1 978 2
 2756 0144 0C301BE5 		ldr	r3, [fp, #-12]
 2757 0148 000053E3 		cmp	r3, #0
 2758 014c 0900000A 		beq	.L84
 2759              		.loc 1 978 2 is_stmt 0 discriminator 1
 2760 0150 003000E3 		movw	r3, #:lower16:.LC13
 2761 0154 003040E3 		movt	r3, #:upper16:.LC13
 2762 0158 002000E3 		movw	r2, #:lower16:.LC14
 2763 015c 002040E3 		movt	r2, #:upper16:.LC14
 2764 0160 D21300E3 		movw	r1, #978
 2765 0164 000000E3 		movw	r0, #:lower16:.LC15
 2766 0168 000040E3 		movt	r0, #:upper16:.LC15
 2767 016c FEFFFFEB 		bl	RME_Log
 2768              	.L94:
 2769              		.loc 1 978 2
 2770 0170 FEFFFFEA 		b	.L94
 2771              	.L95:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 68


 934:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 2772              		.loc 1 934 3 is_stmt 1
 2773 0174 00F020E3 		nop
 2774              	.L84:
 979:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 980:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2775              		.loc 1 980 1
 2776 0178 04D04BE2 		sub	sp, fp, #4
 2777              		.cfi_def_cfa 13, 8
 2778              		@ sp needed
 2779 017c 0088BDE8 		pop	{fp, pc}
 2780              		.cfi_endproc
 2781              	.LFE35:
 2783              		.section	.text._RME_A7A_SGI_Handler,"ax",%progbits
 2784              		.align	2
 2785              		.global	_RME_A7A_SGI_Handler
 2786              		.syntax unified
 2787              		.arm
 2789              	_RME_A7A_SGI_Handler:
 2790              	.LFB36:
 981:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_IRQ_Handler ***************************************/
 982:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 983:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:_RME_A7A_SGI_Handler *********************************************
 984:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for x64.
 985:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 986:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t CPUID - The ID of the sender CPU.
 987:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_ID - The ID of the SGI.
 988:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 989:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 990:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 991:../../Source/Platform/A7A/rme_platform_a7a.c **** void _RME_A7A_SGI_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t CPUID, rme_ptr_t Int_ID)
 992:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2791              		.loc 1 992 1
 2792              		.cfi_startproc
 2793              		@ args = 0, pretend = 0, frame = 16
 2794              		@ frame_needed = 1, uses_anonymous_args = 0
 2795              		@ link register save eliminated.
 2796 0000 04B02DE5 		str	fp, [sp, #-4]!
 2797              		.cfi_def_cfa_offset 4
 2798              		.cfi_offset 11, -4
 2799 0004 00B08DE2 		add	fp, sp, #0
 2800              		.cfi_def_cfa_register 11
 2801 0008 14D04DE2 		sub	sp, sp, #20
 2802 000c 08000BE5 		str	r0, [fp, #-8]
 2803 0010 0C100BE5 		str	r1, [fp, #-12]
 2804 0014 10200BE5 		str	r2, [fp, #-16]
 993:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Not handling SGIs */
 994:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return;
 2805              		.loc 1 994 2
 2806 0018 00F020E3 		nop
 995:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2807              		.loc 1 995 1
 2808 001c 00D08BE2 		add	sp, fp, #0
 2809              		.cfi_def_cfa_register 13
 2810              		@ sp needed
 2811 0020 04B09DE4 		ldr	fp, [sp], #4
 2812              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 69


 2813              		.cfi_def_cfa_offset 0
 2814 0024 1EFF2FE1 		bx	lr
 2815              		.cfi_endproc
 2816              	.LFE36:
 2818              		.section	.rodata
 2819 03cd 000000   		.align	2
 2820              	.LC36:
 2821 03d0 0D0A4765 		.ascii	"\015\012General int:\000"
 2821      6E657261 
 2821      6C20696E 
 2821      743A00
 2822              		.section	.text.__RME_A7A_Generic_Handler,"ax",%progbits
 2823              		.align	2
 2824              		.global	__RME_A7A_Generic_Handler
 2825              		.syntax unified
 2826              		.arm
 2828              	__RME_A7A_Generic_Handler:
 2829              	.LFB37:
 996:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:_RME_A7A_SGI_Handler ****************************************/
 997:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 998:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Generic_Handler ****************************************
 999:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for Cortex-A (ARMv7).
1000:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
1001:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_Num - The interrupt number.
1002:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
1003:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
1004:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1005:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Generic_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t Int_Num)
1006:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2830              		.loc 1 1006 1
 2831              		.cfi_startproc
 2832              		@ args = 0, pretend = 0, frame = 8
 2833              		@ frame_needed = 1, uses_anonymous_args = 0
 2834 0000 00482DE9 		push	{fp, lr}
 2835              		.cfi_def_cfa_offset 8
 2836              		.cfi_offset 11, -8
 2837              		.cfi_offset 14, -4
 2838 0004 04B08DE2 		add	fp, sp, #4
 2839              		.cfi_def_cfa 11, 4
 2840 0008 08D04DE2 		sub	sp, sp, #8
 2841 000c 08000BE5 		str	r0, [fp, #-8]
 2842 0010 0C100BE5 		str	r1, [fp, #-12]
1007:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
1008:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nGeneral int:");
 2843              		.loc 1 1008 5
 2844 0014 000000E3 		movw	r0, #:lower16:.LC36
 2845 0018 000040E3 		movt	r0, #:upper16:.LC36
 2846 001c FEFFFFEB 		bl	RME_Str_Print
1009:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 2847              		.loc 1 1009 5
 2848 0020 0C301BE5 		ldr	r3, [fp, #-12]
 2849 0024 0300A0E1 		mov	r0, r3
 2850 0028 FEFFFFEB 		bl	RME_Int_Print
1010:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1011:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling anything */
1012:../../Source/Platform/A7A/rme_platform_a7a.c ****     switch(Int_Num)
1013:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 70


1014:../../Source/Platform/A7A/rme_platform_a7a.c ****         default:break;
 2851              		.loc 1 1014 17
 2852 002c 00F020E3 		nop
1015:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1016:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Remember to perform context switch after any kernel sends */
1017:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2853              		.loc 1 1017 1
 2854 0030 00F020E3 		nop
 2855 0034 04D04BE2 		sub	sp, fp, #4
 2856              		.cfi_def_cfa 13, 8
 2857              		@ sp needed
 2858 0038 0088BDE8 		pop	{fp, pc}
 2859              		.cfi_endproc
 2860              	.LFE37:
 2862              		.section	.text.__RME_Pgt_Set,"ax",%progbits
 2863              		.align	2
 2864              		.global	__RME_Pgt_Set
 2865              		.syntax unified
 2866              		.arm
 2868              	__RME_Pgt_Set:
 2869              	.LFB38:
1018:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Generic_Handler ***********************************/
1019:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1020:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Set ***************************************************
1021:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the processor's page table.
1022:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Pgt - The virtual address of the page table.
1023:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1024:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
1025:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1026:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Pgt_Set(struct RME_Cap_Pgt* Pgt)
1027:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2870              		.loc 1 1027 1
 2871              		.cfi_startproc
 2872              		@ args = 0, pretend = 0, frame = 16
 2873              		@ frame_needed = 1, uses_anonymous_args = 0
 2874 0000 00482DE9 		push	{fp, lr}
 2875              		.cfi_def_cfa_offset 8
 2876              		.cfi_offset 11, -8
 2877              		.cfi_offset 14, -4
 2878 0004 04B08DE2 		add	fp, sp, #4
 2879              		.cfi_def_cfa 11, 4
 2880 0008 10D04DE2 		sub	sp, sp, #16
 2881 000c 10000BE5 		str	r0, [fp, #-16]
1028:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
1029:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1030:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the actual table */
1031:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ptr=RME_CAP_GETOBJ(Pgt,rme_ptr_t*);
 2882              		.loc 1 1031 9
 2883 0010 10301BE5 		ldr	r3, [fp, #-16]
 2884 0014 0C3093E5 		ldr	r3, [r3, #12]
 2885              		.loc 1 1031 8
 2886 0018 08300BE5 		str	r3, [fp, #-8]
1032:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1033:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*RME_DBG_S("\r\n__RME_Pgt_Set table kernel VA @ ");
1034:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Ptr);*/
1035:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1036:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_TTBR0_Set(RME_A7A_VA2PA(Ptr)|0x4A);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 71


 2887              		.loc 1 1036 25
 2888 001c 08301BE5 		ldr	r3, [fp, #-8]
 2889 0020 023183E2 		add	r3, r3, #-2147483648
 2890              		.loc 1 1036 5
 2891 0024 4A3083E3 		orr	r3, r3, #74
 2892 0028 0300A0E1 		mov	r0, r3
 2893 002c FEFFFFEB 		bl	__RME_A7A_TTBR0_Set
1037:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_TLBIALL_Set(0);
 2894              		.loc 1 1037 2
 2895 0030 0000A0E3 		mov	r0, #0
 2896 0034 FEFFFFEB 		bl	__RME_A7A_TLBIALL_Set
1038:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2897              		.loc 1 1038 1
 2898 0038 00F020E3 		nop
 2899 003c 04D04BE2 		sub	sp, fp, #4
 2900              		.cfi_def_cfa 13, 8
 2901              		@ sp needed
 2902 0040 0088BDE8 		pop	{fp, pc}
 2903              		.cfi_endproc
 2904              	.LFE38:
 2906              		.section	.rodata
 2907 03df 00       		.align	2
 2908              	.LC37:
 2909 03e0 0D0A7661 		.ascii	"\015\012vaddr alignment error= \000"
 2909      64647220 
 2909      616C6967 
 2909      6E6D656E 
 2909      74206572 
 2910              		.section	.text.__RME_Pgt_Check,"ax",%progbits
 2911              		.align	2
 2912              		.global	__RME_Pgt_Check
 2913              		.syntax unified
 2914              		.arm
 2916              	__RME_Pgt_Check:
 2917              	.LFB39:
1039:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Set **********************************************/
1040:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1041:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Check *************************************************
1042:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table parameters are feasible, according to the
1043:../../Source/Platform/A7A/rme_platform_a7a.c ****               parameters. This is only used in page table creation. The following
1044:../../Source/Platform/A7A/rme_platform_a7a.c ****               restrictions apply:
1045:../../Source/Platform/A7A/rme_platform_a7a.c **** 1. PAE is not supported by this port: if you have that much memory, use the Cortex-A
1046:../../Source/Platform/A7A/rme_platform_a7a.c ****    64-bit port instead. The translation scheme here is always:
1047:../../Source/Platform/A7A/rme_platform_a7a.c ****    4GB VA -> {Supersection, Section} -> {Large Page, Small Page}.
1048:../../Source/Platform/A7A/rme_platform_a7a.c ****    The supersection is described in ARMv7-AR ARM as optional, but is implemented on
1049:../../Source/Platform/A7A/rme_platform_a7a.c ****    all known ARMv7-A processors.
1050:../../Source/Platform/A7A/rme_platform_a7a.c ****    We only user TTBR0 here and we set value N to 0 as always. Using TTBR1 is nonsense
1051:../../Source/Platform/A7A/rme_platform_a7a.c ****    in our context, as it gives little benefit.
1052:../../Source/Platform/A7A/rme_platform_a7a.c **** 2. The ARM page tables have idiosyncrasy that allow two page size mappings to exist
1053:../../Source/Platform/A7A/rme_platform_a7a.c ****    in the same page table.
1054:../../Source/Platform/A7A/rme_platform_a7a.c **** 3. ARM page tables use repetition when it comes to supersections and large pages.
1055:../../Source/Platform/A7A/rme_platform_a7a.c ****    This breaks our numorder-sizeorder assumption, and for this reason, we do not
1056:../../Source/Platform/A7A/rme_platform_a7a.c ****    support these two page sizes explicitly. These two sizes are supported by kernel
1057:../../Source/Platform/A7A/rme_platform_a7a.c ****    functions instead, and the kernel function always maps/unmaps the pages as needed
1058:../../Source/Platform/A7A/rme_platform_a7a.c ****    without checking for any permissions; this can be viewed as a hack, and require
1059:../../Source/Platform/A7A/rme_platform_a7a.c ****    some caution when we are mapping pages in.
1060:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Base - The start mapping address.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 72


1061:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Top - The top-level flag,
1062:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Size_Order - The size order of the page directory.
1063:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Num_Order - The number order of the page directory.
1064:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address of the page directory.
1065:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1066:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1067:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1068:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Check(rme_ptr_t Base, rme_ptr_t Is_Top,
1069:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ptr_t Size_Order, rme_ptr_t Num_Order, rme_ptr_t Vaddr)
1070:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2918              		.loc 1 1070 1
 2919              		.cfi_startproc
 2920              		@ args = 4, pretend = 0, frame = 16
 2921              		@ frame_needed = 1, uses_anonymous_args = 0
 2922 0000 00482DE9 		push	{fp, lr}
 2923              		.cfi_def_cfa_offset 8
 2924              		.cfi_offset 11, -8
 2925              		.cfi_offset 14, -4
 2926 0004 04B08DE2 		add	fp, sp, #4
 2927              		.cfi_def_cfa 11, 4
 2928 0008 10D04DE2 		sub	sp, sp, #16
 2929 000c 08000BE5 		str	r0, [fp, #-8]
 2930 0010 0C100BE5 		str	r1, [fp, #-12]
 2931 0014 10200BE5 		str	r2, [fp, #-16]
 2932 0018 14300BE5 		str	r3, [fp, #-20]
1071:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Top-level - 1MiB pages, 4096 entries, 16KiB alignment */
1072:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Is_Top!=0)
 2933              		.loc 1 1072 7
 2934 001c 0C301BE5 		ldr	r3, [fp, #-12]
 2935 0020 000053E3 		cmp	r3, #0
 2936 0024 1400000A 		beq	.L101
1073:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1074:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_1M)
 2937              		.loc 1 1074 11
 2938 0028 10301BE5 		ldr	r3, [fp, #-16]
 2939 002c 140053E3 		cmp	r3, #20
 2940 0030 0100000A 		beq	.L102
1075:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2941              		.loc 1 1075 20
 2942 0034 0030E0E3 		mvn	r3, #0
 2943 0038 250000EA 		b	.L103
 2944              	.L102:
1076:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_4K)
 2945              		.loc 1 1076 11
 2946 003c 14301BE5 		ldr	r3, [fp, #-20]
 2947 0040 0C0053E3 		cmp	r3, #12
 2948 0044 0100000A 		beq	.L104
1077:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2949              		.loc 1 1077 20
 2950 0048 0030E0E3 		mvn	r3, #0
 2951 004c 200000EA 		b	.L103
 2952              	.L104:
1078:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 2953              		.loc 1 1078 18
 2954 0050 04309BE5 		ldr	r3, [fp, #4]
 2955 0054 5330EDE7 		ubfx	r3, r3, #0, #14
 2956              		.loc 1 1078 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 73


 2957 0058 000053E3 		cmp	r3, #0
 2958 005c 1B00000A 		beq	.L105
1079:../../Source/Platform/A7A/rme_platform_a7a.c ****         {
1080:../../Source/Platform/A7A/rme_platform_a7a.c ****             RME_DBG_S("\r\nvaddr alignment error= ");
 2959              		.loc 1 1080 13
 2960 0060 000000E3 		movw	r0, #:lower16:.LC37
 2961 0064 000040E3 		movt	r0, #:upper16:.LC37
 2962 0068 FEFFFFEB 		bl	RME_Str_Print
1081:../../Source/Platform/A7A/rme_platform_a7a.c ****             RME_DBG_H(Vaddr);
 2963              		.loc 1 1081 13
 2964 006c 04009BE5 		ldr	r0, [fp, #4]
 2965 0070 FEFFFFEB 		bl	RME_Hex_Print
1082:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2966              		.loc 1 1082 20
 2967 0074 0030E0E3 		mvn	r3, #0
 2968 0078 150000EA 		b	.L103
 2969              	.L101:
1083:../../Source/Platform/A7A/rme_platform_a7a.c ****         }
1084:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1085:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Second-level - 4KiB pages, 256 entries, 1KiB alignment */
1086:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1087:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1088:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_4K)
 2970              		.loc 1 1088 11
 2971 007c 10301BE5 		ldr	r3, [fp, #-16]
 2972 0080 0C0053E3 		cmp	r3, #12
 2973 0084 0100000A 		beq	.L106
1089:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2974              		.loc 1 1089 20
 2975 0088 0030E0E3 		mvn	r3, #0
 2976 008c 100000EA 		b	.L103
 2977              	.L106:
1090:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_256)
 2978              		.loc 1 1090 11
 2979 0090 14301BE5 		ldr	r3, [fp, #-20]
 2980 0094 080053E3 		cmp	r3, #8
 2981 0098 0100000A 		beq	.L107
1091:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2982              		.loc 1 1091 20
 2983 009c 0030E0E3 		mvn	r3, #0
 2984 00a0 0B0000EA 		b	.L103
 2985              	.L107:
1092:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FF)!=0)
 2986              		.loc 1 1092 18
 2987 00a4 04309BE5 		ldr	r3, [fp, #4]
 2988 00a8 5330E9E7 		ubfx	r3, r3, #0, #10
 2989              		.loc 1 1092 11
 2990 00ac 000053E3 		cmp	r3, #0
 2991 00b0 0600000A 		beq	.L105
1093:../../Source/Platform/A7A/rme_platform_a7a.c ****         {
1094:../../Source/Platform/A7A/rme_platform_a7a.c ****             RME_DBG_S("\r\nvaddr alignment error= ");
 2992              		.loc 1 1094 13
 2993 00b4 000000E3 		movw	r0, #:lower16:.LC37
 2994 00b8 000040E3 		movt	r0, #:upper16:.LC37
 2995 00bc FEFFFFEB 		bl	RME_Str_Print
1095:../../Source/Platform/A7A/rme_platform_a7a.c ****             RME_DBG_H(Vaddr);
 2996              		.loc 1 1095 13
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 74


 2997 00c0 04009BE5 		ldr	r0, [fp, #4]
 2998 00c4 FEFFFFEB 		bl	RME_Hex_Print
1096:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2999              		.loc 1 1096 20
 3000 00c8 0030E0E3 		mvn	r3, #0
 3001 00cc 000000EA 		b	.L103
 3002              	.L105:
1097:../../Source/Platform/A7A/rme_platform_a7a.c ****         }
1098:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1099:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1100:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3003              		.loc 1 1100 12
 3004 00d0 0030A0E3 		mov	r3, #0
 3005              	.L103:
1101:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3006              		.loc 1 1101 1
 3007 00d4 0300A0E1 		mov	r0, r3
 3008 00d8 04D04BE2 		sub	sp, fp, #4
 3009              		.cfi_def_cfa 13, 8
 3010              		@ sp needed
 3011 00dc 0088BDE8 		pop	{fp, pc}
 3012              		.cfi_endproc
 3013              	.LFE39:
 3015              		.section	.text.__RME_Pgt_Init,"ax",%progbits
 3016              		.align	2
 3017              		.global	__RME_Pgt_Init
 3018              		.syntax unified
 3019              		.arm
 3021              	__RME_Pgt_Init:
 3022              	.LFB40:
1102:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Check ********************************************/
1103:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1104:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Init **************************************************
1105:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the page table data structure, according to the capability.
1106:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
1107:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1108:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1109:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1110:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Init(struct RME_Cap_Pgt* Pgt_Op)
1111:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3023              		.loc 1 1111 1
 3024              		.cfi_startproc
 3025              		@ args = 0, pretend = 0, frame = 16
 3026              		@ frame_needed = 1, uses_anonymous_args = 0
 3027              		@ link register save eliminated.
 3028 0000 04B02DE5 		str	fp, [sp, #-4]!
 3029              		.cfi_def_cfa_offset 4
 3030              		.cfi_offset 11, -4
 3031 0004 00B08DE2 		add	fp, sp, #0
 3032              		.cfi_def_cfa_register 11
 3033 0008 14D04DE2 		sub	sp, sp, #20
 3034 000c 10000BE5 		str	r0, [fp, #-16]
1112:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_cnt_t Count;
1113:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
1114:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1115:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the actual table */
1116:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ptr=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);  //*((volatile rme_ptr_t*)0x12345678)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 75


 3035              		.loc 1 1116 9
 3036 0010 10301BE5 		ldr	r3, [fp, #-16]
 3037 0014 0C3093E5 		ldr	r3, [r3, #12]
 3038              		.loc 1 1116 8
 3039 0018 0C300BE5 		str	r3, [fp, #-12]
1117:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1118:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a first-level or a second-level? */
1119:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Base&RME_PGT_TOP)!=0)
 3040              		.loc 1 1119 15
 3041 001c 10301BE5 		ldr	r3, [fp, #-16]
 3042 0020 183093E5 		ldr	r3, [r3, #24]
 3043              		.loc 1 1119 21
 3044 0024 013003E2 		and	r3, r3, #1
 3045              		.loc 1 1119 7
 3046 0028 000053E3 		cmp	r3, #0
 3047 002c 2100000A 		beq	.L109
1120:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1121:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* First-level - clean up the first half and map in the second half as kernel entries */
1122:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<2048;Count++)
 3048              		.loc 1 1122 12
 3049 0030 0030A0E3 		mov	r3, #0
 3050 0034 08300BE5 		str	r3, [fp, #-8]
 3051              		.loc 1 1122 3
 3052 0038 080000EA 		b	.L110
 3053              	.L111:
1123:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 3054              		.loc 1 1123 7
 3055 003c 08301BE5 		ldr	r3, [fp, #-8]
 3056 0040 0331A0E1 		lsl	r3, r3, #2
 3057 0044 0C201BE5 		ldr	r2, [fp, #-12]
 3058 0048 033082E0 		add	r3, r2, r3
 3059              		.loc 1 1123 14
 3060 004c 0020A0E3 		mov	r2, #0
 3061 0050 002083E5 		str	r2, [r3]
1122:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 3062              		.loc 1 1122 31 discriminator 3
 3063 0054 08301BE5 		ldr	r3, [fp, #-8]
 3064 0058 013083E2 		add	r3, r3, #1
 3065 005c 08300BE5 		str	r3, [fp, #-8]
 3066              	.L110:
1122:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 3067              		.loc 1 1122 20 discriminator 1
 3068 0060 08301BE5 		ldr	r3, [fp, #-8]
 3069 0064 020B53E3 		cmp	r3, #2048
 3070 0068 F3FFFFBA 		blt	.L111
1124:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1125:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(;Count<4096;Count++)
 3071              		.loc 1 1125 3
 3072 006c 0D0000EA 		b	.L112
 3073              	.L113:
1126:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 3074              		.loc 1 1126 36
 3075 0070 08301BE5 		ldr	r3, [fp, #-8]
 3076 0074 0321A0E1 		lsl	r2, r3, #2
 3077 0078 003000E3 		movw	r3, #:lower16:__RME_A7A_Kern_Pgt
 3078 007c 003040E3 		movt	r3, #:upper16:__RME_A7A_Kern_Pgt
 3079 0080 032082E0 		add	r2, r2, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 76


 3080              		.loc 1 1126 7
 3081 0084 08301BE5 		ldr	r3, [fp, #-8]
 3082 0088 0331A0E1 		lsl	r3, r3, #2
 3083 008c 0C101BE5 		ldr	r1, [fp, #-12]
 3084 0090 033081E0 		add	r3, r1, r3
 3085              		.loc 1 1126 36
 3086 0094 002092E5 		ldr	r2, [r2]
 3087              		.loc 1 1126 14
 3088 0098 002083E5 		str	r2, [r3]
1125:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 3089              		.loc 1 1125 24 discriminator 2
 3090 009c 08301BE5 		ldr	r3, [fp, #-8]
 3091 00a0 013083E2 		add	r3, r3, #1
 3092 00a4 08300BE5 		str	r3, [fp, #-8]
 3093              	.L112:
1125:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 3094              		.loc 1 1125 13 discriminator 1
 3095 00a8 08301BE5 		ldr	r3, [fp, #-8]
 3096 00ac 010A53E3 		cmp	r3, #4096
 3097 00b0 EEFFFFBA 		blt	.L113
 3098 00b4 0E0000EA 		b	.L114
 3099              	.L109:
1127:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1128:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1129:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1130:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Second-level - just clean it up to all zeros */
1131:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<256;Count++)
 3100              		.loc 1 1131 12
 3101 00b8 0030A0E3 		mov	r3, #0
 3102 00bc 08300BE5 		str	r3, [fp, #-8]
 3103              		.loc 1 1131 3
 3104 00c0 080000EA 		b	.L115
 3105              	.L116:
1132:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 3106              		.loc 1 1132 7
 3107 00c4 08301BE5 		ldr	r3, [fp, #-8]
 3108 00c8 0331A0E1 		lsl	r3, r3, #2
 3109 00cc 0C201BE5 		ldr	r2, [fp, #-12]
 3110 00d0 033082E0 		add	r3, r2, r3
 3111              		.loc 1 1132 14
 3112 00d4 0020A0E3 		mov	r2, #0
 3113 00d8 002083E5 		str	r2, [r3]
1131:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 3114              		.loc 1 1131 30 discriminator 3
 3115 00dc 08301BE5 		ldr	r3, [fp, #-8]
 3116 00e0 013083E2 		add	r3, r3, #1
 3117 00e4 08300BE5 		str	r3, [fp, #-8]
 3118              	.L115:
1131:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 3119              		.loc 1 1131 20 discriminator 1
 3120 00e8 08301BE5 		ldr	r3, [fp, #-8]
 3121 00ec FF0053E3 		cmp	r3, #255
 3122 00f0 F3FFFFDA 		ble	.L116
 3123              	.L114:
1133:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1134:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1135:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 77


 3124              		.loc 1 1135 12
 3125 00f4 0030A0E3 		mov	r3, #0
1136:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3126              		.loc 1 1136 1
 3127 00f8 0300A0E1 		mov	r0, r3
 3128 00fc 00D08BE2 		add	sp, fp, #0
 3129              		.cfi_def_cfa_register 13
 3130              		@ sp needed
 3131 0100 04B09DE4 		ldr	fp, [sp], #4
 3132              		.cfi_restore 11
 3133              		.cfi_def_cfa_offset 0
 3134 0104 1EFF2FE1 		bx	lr
 3135              		.cfi_endproc
 3136              	.LFE40:
 3138              		.section	.text.__RME_Pgt_Del_Check,"ax",%progbits
 3139              		.align	2
 3140              		.global	__RME_Pgt_Del_Check
 3141              		.syntax unified
 3142              		.arm
 3144              	__RME_Pgt_Del_Check:
 3145              	.LFB41:
1137:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Init *********************************************/
1138:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1139:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Del_Check *********************************************
1140:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table can be deleted.
1141:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt Pgt_Op* - The capability to the page table to operate on.
1142:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1143:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If can be deleted, 0; else RME_ERR_HAL_FAIL.
1144:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1145:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Del_Check(struct RME_Cap_Pgt* Pgt_Op)
1146:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3146              		.loc 1 1146 1
 3147              		.cfi_startproc
 3148              		@ args = 0, pretend = 0, frame = 8
 3149              		@ frame_needed = 1, uses_anonymous_args = 0
 3150              		@ link register save eliminated.
 3151 0000 04B02DE5 		str	fp, [sp, #-4]!
 3152              		.cfi_def_cfa_offset 4
 3153              		.cfi_offset 11, -4
 3154 0004 00B08DE2 		add	fp, sp, #0
 3155              		.cfi_def_cfa_register 11
 3156 0008 0CD04DE2 		sub	sp, sp, #12
 3157 000c 08000BE5 		str	r0, [fp, #-8]
1147:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3158              		.loc 1 1147 12
 3159 0010 0030A0E3 		mov	r3, #0
1148:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3160              		.loc 1 1148 1
 3161 0014 0300A0E1 		mov	r0, r3
 3162 0018 00D08BE2 		add	sp, fp, #0
 3163              		.cfi_def_cfa_register 13
 3164              		@ sp needed
 3165 001c 04B09DE4 		ldr	fp, [sp], #4
 3166              		.cfi_restore 11
 3167              		.cfi_def_cfa_offset 0
 3168 0020 1EFF2FE1 		bx	lr
 3169              		.cfi_endproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 78


 3170              	.LFE41:
 3172              		.section	.rodata
 3173 03fa 0000     		.align	2
 3174              	.LC38:
 3175 03fc 0D0A756E 		.ascii	"\015\012unreadable\000"
 3175      72656164 
 3175      61626C65 
 3175      00
 3176 0409 000000   		.align	2
 3177              	.LC39:
 3178 040c 0D0A4172 		.ascii	"\015\012Are we trying to map into the kernel space "
 3178      65207765 
 3178      20747279 
 3178      696E6720 
 3178      746F206D 
 3179 0439 6F6E2074 		.ascii	"on the top level?\000"
 3179      68652074 
 3179      6F70206C 
 3179      6576656C 
 3179      3F00
 3180 044b 00       		.align	2
 3181              	.LC40:
 3182 044c 0D0A2654 		.ascii	"\015\012&Table[Pos] = \000"
 3182      61626C65 
 3182      5B506F73 
 3182      5D203D20 
 3182      00
 3183 045d 000000   		.align	2
 3184              	.LC41:
 3185 0460 0D0A2A28 		.ascii	"\015\012*(Table[Pos])\000"
 3185      5461626C 
 3185      655B506F 
 3185      735D2900 
 3186              		.align	2
 3187              	.LC42:
 3188 0470 0D0A6D61 		.ascii	"\015\012map it in error\000"
 3188      70206974 
 3188      20696E20 
 3188      6572726F 
 3188      7200
 3189              		.section	.text.__RME_Pgt_Page_Map,"ax",%progbits
 3190              		.align	2
 3191              		.global	__RME_Pgt_Page_Map
 3192              		.syntax unified
 3193              		.arm
 3195              	__RME_Pgt_Page_Map:
 3196              	.LFB42:
1149:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Del_Check ****************************************/
1150:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1151:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Map **********************************************
1152:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page into the page table. This architecture requires that the
1153:../../Source/Platform/A7A/rme_platform_a7a.c ****               mapping is always at least readable. The Cortex-A's super pages are
1154:../../Source/Platform/A7A/rme_platform_a7a.c ****               not supported by this. Also, RME dfoesn't use the domain model; all
1155:../../Source/Platform/A7A/rme_platform_a7a.c ****               page tables' domain is always client, which means that the permission
1156:../../Source/Platform/A7A/rme_platform_a7a.c ****               flags will always be checked.
1157:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The cap ability to the page table to operate on.
1158:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Paddr - The physical address to map to. If we are unmapping,
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 79


1159:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 this have no effect.
1160:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1161:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard page attributes. Need to translate
1162:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 them into architecture specific page table's settings.
1163:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1164:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1165:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1166:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Map(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Paddr, rme_ptr_t Pos, rme_ptr_t 
1167:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3197              		.loc 1 1167 1
 3198              		.cfi_startproc
 3199              		@ args = 0, pretend = 0, frame = 24
 3200              		@ frame_needed = 1, uses_anonymous_args = 0
 3201 0000 00482DE9 		push	{fp, lr}
 3202              		.cfi_def_cfa_offset 8
 3203              		.cfi_offset 11, -8
 3204              		.cfi_offset 14, -4
 3205 0004 04B08DE2 		add	fp, sp, #4
 3206              		.cfi_def_cfa 11, 4
 3207 0008 18D04DE2 		sub	sp, sp, #24
 3208 000c 10000BE5 		str	r0, [fp, #-16]
 3209 0010 14100BE5 		str	r1, [fp, #-20]
 3210 0014 18200BE5 		str	r2, [fp, #-24]
 3211 0018 1C300BE5 		str	r3, [fp, #-28]
1168:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1169:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*RME_DBG_S("\r\nPgt_Op->Order");
1170:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Pgt_Op->Order);
1171:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nPgt_Op->Order ");
1172:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_PGT_SZORD(Pgt_Op->Order));
1173:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nPgt_Op->Order ");
1174:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_PGT_SZORD(Pgt_Op->Order));
1175:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)!=0U)
1176:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1177:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nhhhhhhhhhhhhhhh ");
1178:../../Source/Platform/A7A/rme_platform_a7a.c ****     }*/
1179:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1180:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1181:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1182:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1183:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
1184:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 3212              		.loc 1 1184 14
 3213 001c 1C301BE5 		ldr	r3, [fp, #-28]
 3214 0020 013003E2 		and	r3, r3, #1
 3215              		.loc 1 1184 7
 3216 0024 000053E3 		cmp	r3, #0
 3217 0028 0400001A 		bne	.L121
1185:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1186:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nunreadable");
 3218              		.loc 1 1186 9
 3219 002c 000000E3 		movw	r0, #:lower16:.LC38
 3220 0030 000040E3 		movt	r0, #:upper16:.LC38
 3221 0034 FEFFFFEB 		bl	RME_Str_Print
1187:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3222              		.loc 1 1187 16
 3223 0038 0030E0E3 		mvn	r3, #0
 3224 003c 4E0000EA 		b	.L122
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 80


 3225              	.L121:
1188:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1189:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1190:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1191:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base&RME_PGT_TOP)!=0)&&(Pos>=2048)){
 3226              		.loc 1 1191 16
 3227 0040 10301BE5 		ldr	r3, [fp, #-16]
 3228 0044 183093E5 		ldr	r3, [r3, #24]
 3229              		.loc 1 1191 22
 3230 0048 013003E2 		and	r3, r3, #1
 3231              		.loc 1 1191 7
 3232 004c 000053E3 		cmp	r3, #0
 3233 0050 0700000A 		beq	.L123
 3234              		.loc 1 1191 39 discriminator 1
 3235 0054 18301BE5 		ldr	r3, [fp, #-24]
 3236 0058 020B53E3 		cmp	r3, #2048
 3237 005c 0400003A 		bcc	.L123
1192:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nAre we trying to map into the kernel space on the top level?");
 3238              		.loc 1 1192 9
 3239 0060 000000E3 		movw	r0, #:lower16:.LC39
 3240 0064 000040E3 		movt	r0, #:upper16:.LC39
 3241 0068 FEFFFFEB 		bl	RME_Str_Print
1193:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3242              		.loc 1 1193 16
 3243 006c 0030E0E3 		mvn	r3, #0
 3244 0070 410000EA 		b	.L122
 3245              	.L123:
1194:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1195:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1196:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 3246              		.loc 1 1196 11
 3247 0074 10301BE5 		ldr	r3, [fp, #-16]
 3248 0078 0C3093E5 		ldr	r3, [r3, #12]
 3249              		.loc 1 1196 10
 3250 007c 0C300BE5 		str	r3, [fp, #-12]
1197:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1198:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate flags */
1199:../../Source/Platform/A7A/rme_platform_a7a.c ****     //if(RME_PGT_SZORD(Pgt_Op->Order)==RME_PGT_SIZE_4K)
1200:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)!=0U)
 3251              		.loc 1 1200 16
 3252 0080 10301BE5 		ldr	r3, [fp, #-16]
 3253 0084 183093E5 		ldr	r3, [r3, #24]
 3254              		.loc 1 1200 23
 3255 0088 013003E2 		and	r3, r3, #1
 3256              		.loc 1 1200 7
 3257 008c 000053E3 		cmp	r3, #0
 3258 0090 0C00000A 		beq	.L124
1201:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1202:../../Source/Platform/A7A/rme_platform_a7a.c ****         Flags&=(~RME_PGT_STATIC);
 3259              		.loc 1 1202 14
 3260 0094 1C301BE5 		ldr	r3, [fp, #-28]
 3261 0098 2030C3E3 		bic	r3, r3, #32
 3262 009c 1C300BE5 		str	r3, [fp, #-28]
1203:../../Source/Platform/A7A/rme_platform_a7a.c ****         /*RME_DBG_S("\r\n Flags ");
1204:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(Flags); */
1205:../../Source/Platform/A7A/rme_platform_a7a.c ****         
1206:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_1M_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_1M_RME2NAT(Flags);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 81


 3263              		.loc 1 1206 19
 3264 00a0 14301BE5 		ldr	r3, [fp, #-20]
 3265 00a4 233AA0E1 		lsr	r3, r3, #20
 3266 00a8 033AA0E1 		lsl	r3, r3, #20
 3267              		.loc 1 1206 51
 3268 00ac 002000E3 		movw	r2, #:lower16:RME_A7A_Pgflg_1M_RME2NAT
 3269 00b0 002040E3 		movt	r2, #:upper16:RME_A7A_Pgflg_1M_RME2NAT
 3270 00b4 1C101BE5 		ldr	r1, [fp, #-28]
 3271 00b8 012192E7 		ldr	r2, [r2, r1, lsl #2]
 3272              		.loc 1 1206 18
 3273 00bc 023083E1 		orr	r3, r3, r2
 3274 00c0 08300BE5 		str	r3, [fp, #-8]
 3275 00c4 080000EA 		b	.L125
 3276              	.L124:
1207:../../Source/Platform/A7A/rme_platform_a7a.c ****         /*RME_DBG_S("\r\n A7A_Flags= ");
1208:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(A7A_Flags);*/
1209:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1210:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1211:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_4K_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_4K_RME2NAT(Flags);
 3277              		.loc 1 1211 19
 3278 00c8 14301BE5 		ldr	r3, [fp, #-20]
 3279 00cc FF3EC3E3 		bic	r3, r3, #4080
 3280 00d0 0F30C3E3 		bic	r3, r3, #15
 3281              		.loc 1 1211 51
 3282 00d4 002000E3 		movw	r2, #:lower16:RME_A7A_Pgflg_4K_RME2NAT
 3283 00d8 002040E3 		movt	r2, #:upper16:RME_A7A_Pgflg_4K_RME2NAT
 3284 00dc 1C101BE5 		ldr	r1, [fp, #-28]
 3285 00e0 012192E7 		ldr	r2, [r2, r1, lsl #2]
 3286              		.loc 1 1211 18
 3287 00e4 023083E1 		orr	r3, r3, r2
 3288 00e8 08300BE5 		str	r3, [fp, #-8]
 3289              	.L125:
1212:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in */
1213:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),0,A7A_Flags)==0)
 3290              		.loc 1 1213 8
 3291 00ec 18301BE5 		ldr	r3, [fp, #-24]
 3292 00f0 0331A0E1 		lsl	r3, r3, #2
 3293 00f4 0C201BE5 		ldr	r2, [fp, #-12]
 3294 00f8 033082E0 		add	r3, r2, r3
 3295 00fc 08201BE5 		ldr	r2, [fp, #-8]
 3296 0100 0010A0E3 		mov	r1, #0
 3297 0104 0300A0E1 		mov	r0, r3
 3298 0108 FEFFFFEB 		bl	_RME_Comp_Swap_Single
 3299 010c 0030A0E1 		mov	r3, r0
 3300              		.loc 1 1213 7 discriminator 1
 3301 0110 000053E3 		cmp	r3, #0
 3302 0114 1700001A 		bne	.L126
1214:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1215:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\n&Table[Pos] = ");
 3303              		.loc 1 1215 9
 3304 0118 000000E3 		movw	r0, #:lower16:.LC40
 3305 011c 000040E3 		movt	r0, #:upper16:.LC40
 3306 0120 FEFFFFEB 		bl	RME_Str_Print
1216:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(&Table[Pos]);
 3307              		.loc 1 1216 9
 3308 0124 18301BE5 		ldr	r3, [fp, #-24]
 3309 0128 0331A0E1 		lsl	r3, r3, #2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 82


 3310 012c 0C201BE5 		ldr	r2, [fp, #-12]
 3311 0130 033082E0 		add	r3, r2, r3
 3312 0134 0300A0E1 		mov	r0, r3
 3313 0138 FEFFFFEB 		bl	RME_Hex_Print
1217:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\n*(Table[Pos])");
 3314              		.loc 1 1217 9
 3315 013c 000000E3 		movw	r0, #:lower16:.LC41
 3316 0140 000040E3 		movt	r0, #:upper16:.LC41
 3317 0144 FEFFFFEB 		bl	RME_Str_Print
1218:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(Table[Pos]);
 3318              		.loc 1 1218 9
 3319 0148 18301BE5 		ldr	r3, [fp, #-24]
 3320 014c 0331A0E1 		lsl	r3, r3, #2
 3321 0150 0C201BE5 		ldr	r2, [fp, #-12]
 3322 0154 033082E0 		add	r3, r2, r3
 3323 0158 003093E5 		ldr	r3, [r3]
 3324 015c 0300A0E1 		mov	r0, r3
 3325 0160 FEFFFFEB 		bl	RME_Hex_Print
1219:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nmap it in error");
 3326              		.loc 1 1219 9
 3327 0164 000000E3 		movw	r0, #:lower16:.LC42
 3328 0168 000040E3 		movt	r0, #:upper16:.LC42
 3329 016c FEFFFFEB 		bl	RME_Str_Print
1220:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3330              		.loc 1 1220 16
 3331 0170 0030E0E3 		mvn	r3, #0
 3332 0174 000000EA 		b	.L122
 3333              	.L126:
1221:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1222:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1223:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*RME_DBG_S("\r\n&Table[Pos] = ");
1224:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(&Table[Pos]);
1225:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\n*(Table[Pos])");
1226:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Table[Pos]);*/
1227:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1228:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3334              		.loc 1 1228 12
 3335 0178 0030A0E3 		mov	r3, #0
 3336              	.L122:
1229:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3337              		.loc 1 1229 1
 3338 017c 0300A0E1 		mov	r0, r3
 3339 0180 04D04BE2 		sub	sp, fp, #4
 3340              		.cfi_def_cfa 13, 8
 3341              		@ sp needed
 3342 0184 0088BDE8 		pop	{fp, pc}
 3343              		.cfi_endproc
 3344              	.LFE42:
 3346              		.section	.text.__RME_Pgt_Page_Unmap,"ax",%progbits
 3347              		.align	2
 3348              		.global	__RME_Pgt_Page_Unmap
 3349              		.syntax unified
 3350              		.arm
 3352              	__RME_Pgt_Page_Unmap:
 3353              	.LFB43:
1230:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Map *****************************************/
1231:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 83


1232:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Unmap ********************************************
1233:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page from the page table.
1234:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
1235:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1236:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1237:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1238:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1239:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Unmap(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos)
1240:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3354              		.loc 1 1240 1
 3355              		.cfi_startproc
 3356              		@ args = 0, pretend = 0, frame = 16
 3357              		@ frame_needed = 1, uses_anonymous_args = 0
 3358 0000 00482DE9 		push	{fp, lr}
 3359              		.cfi_def_cfa_offset 8
 3360              		.cfi_offset 11, -8
 3361              		.cfi_offset 14, -4
 3362 0004 04B08DE2 		add	fp, sp, #4
 3363              		.cfi_def_cfa 11, 4
 3364 0008 10D04DE2 		sub	sp, sp, #16
 3365 000c 10000BE5 		str	r0, [fp, #-16]
 3366 0010 14100BE5 		str	r1, [fp, #-20]
1241:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1242:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1243:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1244:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to unmap the kernel space on the top level? */
1245:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base&RME_PGT_TOP)!=0)&&(Pos>=2048))
 3367              		.loc 1 1245 16
 3368 0014 10301BE5 		ldr	r3, [fp, #-16]
 3369 0018 183093E5 		ldr	r3, [r3, #24]
 3370              		.loc 1 1245 22
 3371 001c 013003E2 		and	r3, r3, #1
 3372              		.loc 1 1245 7
 3373 0020 000053E3 		cmp	r3, #0
 3374 0024 0400000A 		beq	.L128
 3375              		.loc 1 1245 39 discriminator 1
 3376 0028 14301BE5 		ldr	r3, [fp, #-20]
 3377 002c 020B53E3 		cmp	r3, #2048
 3378 0030 0100003A 		bcc	.L128
1246:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3379              		.loc 1 1246 16
 3380 0034 0030E0E3 		mvn	r3, #0
 3381 0038 260000EA 		b	.L129
 3382              	.L128:
1247:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1248:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1249:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 3383              		.loc 1 1249 11
 3384 003c 10301BE5 		ldr	r3, [fp, #-16]
 3385 0040 0C3093E5 		ldr	r3, [r3, #12]
 3386              		.loc 1 1249 10
 3387 0044 08300BE5 		str	r3, [fp, #-8]
1250:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1251:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that there is something */
1252:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 3388              		.loc 1 1252 15
 3389 0048 14301BE5 		ldr	r3, [fp, #-20]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 84


 3390 004c 0331A0E1 		lsl	r3, r3, #2
 3391 0050 08201BE5 		ldr	r2, [fp, #-8]
 3392 0054 033082E0 		add	r3, r2, r3
 3393              		.loc 1 1252 9
 3394 0058 003093E5 		ldr	r3, [r3]
 3395 005c 0C300BE5 		str	r3, [fp, #-12]
1253:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Temp==0)
 3396              		.loc 1 1253 7
 3397 0060 0C301BE5 		ldr	r3, [fp, #-12]
 3398 0064 000053E3 		cmp	r3, #0
 3399 0068 0100001A 		bne	.L130
1254:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3400              		.loc 1 1254 16
 3401 006c 0030E0E3 		mvn	r3, #0
 3402 0070 180000EA 		b	.L129
 3403              	.L130:
1255:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1256:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a page directory? We cannot unmap page directories like this */
1257:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((RME_PGT_SZORD(Pgt_Op->Order)!=RME_PGT_SIZE_4K)&&((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0))
 3404              		.loc 1 1257 9
 3405 0074 10301BE5 		ldr	r3, [fp, #-16]
 3406 0078 143093E5 		ldr	r3, [r3, #20]
 3407 007c 2338A0E1 		lsr	r3, r3, #16
 3408              		.loc 1 1257 7
 3409 0080 0C0053E3 		cmp	r3, #12
 3410 0084 0500000A 		beq	.L131
 3411              		.loc 1 1257 63 discriminator 1
 3412 0088 0C301BE5 		ldr	r3, [fp, #-12]
 3413 008c 013003E2 		and	r3, r3, #1
 3414              		.loc 1 1257 55 discriminator 1
 3415 0090 000053E3 		cmp	r3, #0
 3416 0094 0100000A 		beq	.L131
1258:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3417              		.loc 1 1258 16
 3418 0098 0030E0E3 		mvn	r3, #0
 3419 009c 0D0000EA 		b	.L129
 3420              	.L131:
1259:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1260:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to unmap it. Use CAS just in case */
1261:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),Temp,0)==0)
 3421              		.loc 1 1261 8
 3422 00a0 14301BE5 		ldr	r3, [fp, #-20]
 3423 00a4 0331A0E1 		lsl	r3, r3, #2
 3424 00a8 08201BE5 		ldr	r2, [fp, #-8]
 3425 00ac 033082E0 		add	r3, r2, r3
 3426 00b0 0020A0E3 		mov	r2, #0
 3427 00b4 0C101BE5 		ldr	r1, [fp, #-12]
 3428 00b8 0300A0E1 		mov	r0, r3
 3429 00bc FEFFFFEB 		bl	_RME_Comp_Swap_Single
 3430 00c0 0030A0E1 		mov	r3, r0
 3431              		.loc 1 1261 7 discriminator 1
 3432 00c4 000053E3 		cmp	r3, #0
 3433 00c8 0100001A 		bne	.L132
1262:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3434              		.loc 1 1262 16
 3435 00cc 0030E0E3 		mvn	r3, #0
 3436 00d0 000000EA 		b	.L129
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 85


 3437              	.L132:
1263:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1264:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3438              		.loc 1 1264 12
 3439 00d4 0030A0E3 		mov	r3, #0
 3440              	.L129:
1265:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3441              		.loc 1 1265 1
 3442 00d8 0300A0E1 		mov	r0, r3
 3443 00dc 04D04BE2 		sub	sp, fp, #4
 3444              		.cfi_def_cfa 13, 8
 3445              		@ sp needed
 3446 00e0 0088BDE8 		pop	{fp, pc}
 3447              		.cfi_endproc
 3448              	.LFE43:
 3450              		.section	.text.__RME_Pgt_Pgdir_Map,"ax",%progbits
 3451              		.align	2
 3452              		.global	__RME_Pgt_Pgdir_Map
 3453              		.syntax unified
 3454              		.arm
 3456              	__RME_Pgt_Pgdir_Map:
 3457              	.LFB44:
1266:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Unmap ***************************************/
1267:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1268:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Map *********************************************
1269:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page directory into the page table. It is surprising that
1270:../../Source/Platform/A7A/rme_platform_a7a.c ****               Cortex-A (ARMv7) does not support any kind of page directory flags.
1271:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Parent - The parent page table.
1272:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Cap_Pgt* Pgt_Child - The child page table.
1273:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the destination page table.
1274:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard flags for the child page table.
1275:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1276:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1277:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1278:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Pgdir_Map(struct RME_Cap_Pgt* Pgt_Parent, rme_ptr_t Pos,
1279:../../Source/Platform/A7A/rme_platform_a7a.c ****                               struct RME_Cap_Pgt* Pgt_Child, rme_ptr_t Flags)
1280:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3458              		.loc 1 1280 1
 3459              		.cfi_startproc
 3460              		@ args = 0, pretend = 0, frame = 32
 3461              		@ frame_needed = 1, uses_anonymous_args = 0
 3462 0000 00482DE9 		push	{fp, lr}
 3463              		.cfi_def_cfa_offset 8
 3464              		.cfi_offset 11, -8
 3465              		.cfi_offset 14, -4
 3466 0004 04B08DE2 		add	fp, sp, #4
 3467              		.cfi_def_cfa 11, 4
 3468 0008 20D04DE2 		sub	sp, sp, #32
 3469 000c 18000BE5 		str	r0, [fp, #-24]
 3470 0010 1C100BE5 		str	r1, [fp, #-28]
 3471 0014 20200BE5 		str	r2, [fp, #-32]
 3472 0018 24300BE5 		str	r3, [fp, #-36]
1281:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Parent_Table;
1282:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Child_Table;
1283:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1284:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1285:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 86


1286:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 3473              		.loc 1 1286 14
 3474 001c 24301BE5 		ldr	r3, [fp, #-36]
 3475 0020 013003E2 		and	r3, r3, #1
 3476              		.loc 1 1286 7
 3477 0024 000053E3 		cmp	r3, #0
 3478 0028 0100001A 		bne	.L134
1287:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3479              		.loc 1 1287 16
 3480 002c 0030E0E3 		mvn	r3, #0
 3481 0030 230000EA 		b	.L135
 3482              	.L134:
1288:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1289:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1290:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Parent->Base&RME_PGT_TOP)!=0)&&(Pos>=2048))
 3483              		.loc 1 1290 20
 3484 0034 18301BE5 		ldr	r3, [fp, #-24]
 3485 0038 183093E5 		ldr	r3, [r3, #24]
 3486              		.loc 1 1290 26
 3487 003c 013003E2 		and	r3, r3, #1
 3488              		.loc 1 1290 7
 3489 0040 000053E3 		cmp	r3, #0
 3490 0044 0400000A 		beq	.L136
 3491              		.loc 1 1290 43 discriminator 1
 3492 0048 1C301BE5 		ldr	r3, [fp, #-28]
 3493 004c 020B53E3 		cmp	r3, #2048
 3494 0050 0100003A 		bcc	.L136
1291:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3495              		.loc 1 1291 16
 3496 0054 0030E0E3 		mvn	r3, #0
 3497 0058 190000EA 		b	.L135
 3498              	.L136:
1292:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1293:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1294:../../Source/Platform/A7A/rme_platform_a7a.c ****     Parent_Table=RME_CAP_GETOBJ(Pgt_Parent,rme_ptr_t*);
 3499              		.loc 1 1294 18
 3500 005c 18301BE5 		ldr	r3, [fp, #-24]
 3501 0060 0C3093E5 		ldr	r3, [r3, #12]
 3502              		.loc 1 1294 17
 3503 0064 08300BE5 		str	r3, [fp, #-8]
1295:../../Source/Platform/A7A/rme_platform_a7a.c ****     Child_Table=RME_CAP_GETOBJ(Pgt_Child,rme_ptr_t*);
 3504              		.loc 1 1295 17
 3505 0068 20301BE5 		ldr	r3, [fp, #-32]
 3506 006c 0C3093E5 		ldr	r3, [r3, #12]
 3507              		.loc 1 1295 16
 3508 0070 0C300BE5 		str	r3, [fp, #-12]
1296:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1297:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate the content */
1298:../../Source/Platform/A7A/rme_platform_a7a.c ****     A7A_Flags=RME_A7A_MMU_1M_PGT_ADDR(RME_A7A_VA2PA(Child_Table))|RME_A7A_MMU_1M_PGDIR_PRESENT;
 3509              		.loc 1 1298 15
 3510 0074 0C301BE5 		ldr	r3, [fp, #-12]
 3511 0078 023183E2 		add	r3, r3, #-2147483648
 3512 007c FF3FC3E3 		bic	r3, r3, #1020
 3513 0080 0330C3E3 		bic	r3, r3, #3
 3514              		.loc 1 1298 14
 3515 0084 013083E3 		orr	r3, r3, #1
 3516 0088 10300BE5 		str	r3, [fp, #-16]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 87


1299:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1300:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in - may need to increase some count */
1301:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Parent_Table[Pos]),0,A7A_Flags)==0)
 3517              		.loc 1 1301 8
 3518 008c 1C301BE5 		ldr	r3, [fp, #-28]
 3519 0090 0331A0E1 		lsl	r3, r3, #2
 3520 0094 08201BE5 		ldr	r2, [fp, #-8]
 3521 0098 033082E0 		add	r3, r2, r3
 3522 009c 10201BE5 		ldr	r2, [fp, #-16]
 3523 00a0 0010A0E3 		mov	r1, #0
 3524 00a4 0300A0E1 		mov	r0, r3
 3525 00a8 FEFFFFEB 		bl	_RME_Comp_Swap_Single
 3526 00ac 0030A0E1 		mov	r3, r0
 3527              		.loc 1 1301 7 discriminator 1
 3528 00b0 000053E3 		cmp	r3, #0
 3529 00b4 0100001A 		bne	.L137
1302:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3530              		.loc 1 1302 16
 3531 00b8 0030E0E3 		mvn	r3, #0
 3532 00bc 000000EA 		b	.L135
 3533              	.L137:
1303:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1304:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3534              		.loc 1 1304 12
 3535 00c0 0030A0E3 		mov	r3, #0
 3536              	.L135:
1305:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3537              		.loc 1 1305 1
 3538 00c4 0300A0E1 		mov	r0, r3
 3539 00c8 04D04BE2 		sub	sp, fp, #4
 3540              		.cfi_def_cfa 13, 8
 3541              		@ sp needed
 3542 00cc 0088BDE8 		pop	{fp, pc}
 3543              		.cfi_endproc
 3544              	.LFE44:
 3546              		.section	.text.__RME_Pgt_Pgdir_Unmap,"ax",%progbits
 3547              		.align	2
 3548              		.global	__RME_Pgt_Pgdir_Unmap
 3549              		.syntax unified
 3550              		.arm
 3552              	__RME_Pgt_Pgdir_Unmap:
 3553              	.LFB45:
1306:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Map ****************************************/
1307:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1308:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Unmap *******************************************
1309:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page directory from the page table.
1310:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to operate on.
1311:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1312:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1313:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1314:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1315:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Pgt_Pgdir_Unmap(struct RME_Cap_Pgt* Pgt_Parent,rme_ptr_t Pos,
1316:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 struct RME_Cap_Pgt* Pgt_Child)
1317:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3554              		.loc 1 1317 1
 3555              		.cfi_startproc
 3556              		@ args = 0, pretend = 0, frame = 16
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 88


 3557              		@ frame_needed = 1, uses_anonymous_args = 0
 3558              		@ link register save eliminated.
 3559 0000 04B02DE5 		str	fp, [sp, #-4]!
 3560              		.cfi_def_cfa_offset 4
 3561              		.cfi_offset 11, -4
 3562 0004 00B08DE2 		add	fp, sp, #0
 3563              		.cfi_def_cfa_register 11
 3564 0008 14D04DE2 		sub	sp, sp, #20
 3565 000c 08000BE5 		str	r0, [fp, #-8]
 3566 0010 0C100BE5 		str	r1, [fp, #-12]
 3567 0014 10200BE5 		str	r2, [fp, #-16]
1318:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1319:../../Source/Platform/A7A/rme_platform_a7a.c ****    return 0;
 3568              		.loc 1 1319 11
 3569 0018 0030A0E3 		mov	r3, #0
1320:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3570              		.loc 1 1320 1
 3571 001c 0300A0E1 		mov	r0, r3
 3572 0020 00D08BE2 		add	sp, fp, #0
 3573              		.cfi_def_cfa_register 13
 3574              		@ sp needed
 3575 0024 04B09DE4 		ldr	fp, [sp], #4
 3576              		.cfi_restore 11
 3577              		.cfi_def_cfa_offset 0
 3578 0028 1EFF2FE1 		bx	lr
 3579              		.cfi_endproc
 3580              	.LFE45:
 3582              		.section	.text.__RME_Pgt_Lookup,"ax",%progbits
 3583              		.align	2
 3584              		.global	__RME_Pgt_Lookup
 3585              		.syntax unified
 3586              		.arm
 3588              	__RME_Pgt_Lookup:
 3589              	.LFB46:
1321:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Unmap **************************************/
1322:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1323:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Lookup **************************************************
1324:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Lookup a page entry in a page directory. This function cannot deal
1325:../../Source/Platform/A7A/rme_platform_a7a.c ****               with large pages and super sections - it is the user's responsibility
1326:../../Source/Platform/A7A/rme_platform_a7a.c ****               to avoid this.
1327:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page directory to lookup.
1328:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position to look up.
1329:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Paddr - The physical address of the page.
1330:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1331:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1332:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1333:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Lookup(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos, rme_ptr_t* Paddr, rme_ptr_t* 
1334:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3590              		.loc 1 1334 1
 3591              		.cfi_startproc
 3592              		@ args = 0, pretend = 0, frame = 24
 3593              		@ frame_needed = 1, uses_anonymous_args = 0
 3594              		@ link register save eliminated.
 3595 0000 04B02DE5 		str	fp, [sp, #-4]!
 3596              		.cfi_def_cfa_offset 4
 3597              		.cfi_offset 11, -4
 3598 0004 00B08DE2 		add	fp, sp, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 89


 3599              		.cfi_def_cfa_register 11
 3600 0008 1CD04DE2 		sub	sp, sp, #28
 3601 000c 10000BE5 		str	r0, [fp, #-16]
 3602 0010 14100BE5 		str	r1, [fp, #-20]
 3603 0014 18200BE5 		str	r2, [fp, #-24]
 3604 0018 1C300BE5 		str	r3, [fp, #-28]
1335:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1336:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1337:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1338:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if the position is within the range of this page table */
1339:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pos>>RME_PGT_NMORD(Pgt_Op->Order))!=0)
 3605              		.loc 1 1339 14
 3606 001c 10301BE5 		ldr	r3, [fp, #-16]
 3607 0020 143093E5 		ldr	r3, [r3, #20]
 3608 0024 7330FFE6 		uxth	r3, r3
 3609              		.loc 1 1339 12
 3610 0028 14201BE5 		ldr	r2, [fp, #-20]
 3611 002c 3233A0E1 		lsr	r3, r2, r3
 3612              		.loc 1 1339 7
 3613 0030 000053E3 		cmp	r3, #0
 3614 0034 0100000A 		beq	.L141
1340:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3615              		.loc 1 1340 16
 3616 0038 0030E0E3 		mvn	r3, #0
 3617 003c 580000EA 		b	.L142
 3618              	.L141:
1341:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1342:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1343:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 3619              		.loc 1 1343 11
 3620 0040 10301BE5 		ldr	r3, [fp, #-16]
 3621 0044 0C3093E5 		ldr	r3, [r3, #12]
 3622              		.loc 1 1343 10
 3623 0048 08300BE5 		str	r3, [fp, #-8]
1344:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the position requested - atomic read */
1345:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 3624              		.loc 1 1345 15
 3625 004c 14301BE5 		ldr	r3, [fp, #-20]
 3626 0050 0331A0E1 		lsl	r3, r3, #2
 3627 0054 08201BE5 		ldr	r2, [fp, #-8]
 3628 0058 033082E0 		add	r3, r2, r3
 3629              		.loc 1 1345 9
 3630 005c 003093E5 		ldr	r3, [r3]
 3631 0060 0C300BE5 		str	r3, [fp, #-12]
1346:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1347:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start lookup - is this a terminal page, or? */
1348:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SZORD(Pgt_Op->Order)==RME_PGT_SIZE_4K)
 3632              		.loc 1 1348 8
 3633 0064 10301BE5 		ldr	r3, [fp, #-16]
 3634 0068 143093E5 		ldr	r3, [r3, #20]
 3635 006c 2338A0E1 		lsr	r3, r3, #16
 3636              		.loc 1 1348 7
 3637 0070 0C0053E3 		cmp	r3, #12
 3638 0074 2400001A 		bne	.L143
1349:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1350:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)==0)
 3639              		.loc 1 1350 17
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 90


 3640 0078 0C301BE5 		ldr	r3, [fp, #-12]
 3641 007c 023003E2 		and	r3, r3, #2
 3642              		.loc 1 1350 11
 3643 0080 000053E3 		cmp	r3, #0
 3644 0084 0100001A 		bne	.L144
1351:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 3645              		.loc 1 1351 20
 3646 0088 0030E0E3 		mvn	r3, #0
 3647 008c 440000EA 		b	.L142
 3648              	.L144:
1352:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1353:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a small page. Return the physical address and flags */
1354:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
 3649              		.loc 1 1354 11
 3650 0090 18301BE5 		ldr	r3, [fp, #-24]
 3651 0094 000053E3 		cmp	r3, #0
 3652 0098 0400000A 		beq	.L145
1355:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
 3653              		.loc 1 1355 17
 3654 009c 0C301BE5 		ldr	r3, [fp, #-12]
 3655 00a0 FF3EC3E3 		bic	r3, r3, #4080
 3656 00a4 0F30C3E3 		bic	r3, r3, #15
 3657              		.loc 1 1355 16
 3658 00a8 18201BE5 		ldr	r2, [fp, #-24]
 3659 00ac 003082E5 		str	r3, [r2]
 3660              	.L145:
1356:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
 3661              		.loc 1 1356 11
 3662 00b0 1C301BE5 		ldr	r3, [fp, #-28]
 3663 00b4 000053E3 		cmp	r3, #0
 3664 00b8 3800000A 		beq	.L146
1357:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
 3665              		.loc 1 1357 20
 3666 00bc 0C301BE5 		ldr	r3, [fp, #-12]
 3667 00c0 2333A0E1 		lsr	r3, r3, #6
 3668 00c4 082003E2 		and	r2, r3, #8
 3669 00c8 0C301BE5 		ldr	r3, [fp, #-12]
 3670 00cc A330A0E1 		lsr	r3, r3, #1
 3671 00d0 043003E2 		and	r3, r3, #4
 3672 00d4 032082E1 		orr	r2, r2, r3
 3673 00d8 0C301BE5 		ldr	r3, [fp, #-12]
 3674 00dc A330A0E1 		lsr	r3, r3, #1
 3675 00e0 023003E2 		and	r3, r3, #2
 3676 00e4 032082E1 		orr	r2, r2, r3
 3677 00e8 0C301BE5 		ldr	r3, [fp, #-12]
 3678 00ec 013003E2 		and	r3, r3, #1
 3679 00f0 032082E1 		orr	r2, r2, r3
 3680 00f4 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_4K_NAT2RME
 3681 00f8 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_4K_NAT2RME
 3682 00fc 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3683              		.loc 1 1357 19
 3684 0100 1C301BE5 		ldr	r3, [fp, #-28]
 3685 0104 002083E5 		str	r2, [r3]
 3686 0108 240000EA 		b	.L146
 3687              	.L143:
1358:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1359:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 91


1360:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1361:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)==0)
 3688              		.loc 1 1361 17
 3689 010c 0C301BE5 		ldr	r3, [fp, #-12]
 3690 0110 023003E2 		and	r3, r3, #2
 3691              		.loc 1 1361 11
 3692 0114 000053E3 		cmp	r3, #0
 3693 0118 0100001A 		bne	.L147
1362:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 3694              		.loc 1 1362 20
 3695 011c 0030E0E3 		mvn	r3, #0
 3696 0120 1F0000EA 		b	.L142
 3697              	.L147:
1363:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1364:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a section. Return the physical address and flags */
1365:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
 3698              		.loc 1 1365 11
 3699 0124 18301BE5 		ldr	r3, [fp, #-24]
 3700 0128 000053E3 		cmp	r3, #0
 3701 012c 0400000A 		beq	.L148
1366:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
 3702              		.loc 1 1366 17
 3703 0130 0C301BE5 		ldr	r3, [fp, #-12]
 3704 0134 233AA0E1 		lsr	r3, r3, #20
 3705 0138 033AA0E1 		lsl	r3, r3, #20
 3706              		.loc 1 1366 16
 3707 013c 18201BE5 		ldr	r2, [fp, #-24]
 3708 0140 003082E5 		str	r3, [r2]
 3709              	.L148:
1367:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
 3710              		.loc 1 1367 11
 3711 0144 1C301BE5 		ldr	r3, [fp, #-28]
 3712 0148 000053E3 		cmp	r3, #0
 3713 014c 1300000A 		beq	.L146
1368:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
 3714              		.loc 1 1368 20
 3715 0150 0C301BE5 		ldr	r3, [fp, #-12]
 3716 0154 2336A0E1 		lsr	r3, r3, #12
 3717 0158 082003E2 		and	r2, r3, #8
 3718 015c 0C301BE5 		ldr	r3, [fp, #-12]
 3719 0160 2331A0E1 		lsr	r3, r3, #2
 3720 0164 043003E2 		and	r3, r3, #4
 3721 0168 032082E1 		orr	r2, r2, r3
 3722 016c 0C301BE5 		ldr	r3, [fp, #-12]
 3723 0170 2331A0E1 		lsr	r3, r3, #2
 3724 0174 023003E2 		and	r3, r3, #2
 3725 0178 032082E1 		orr	r2, r2, r3
 3726 017c 0C301BE5 		ldr	r3, [fp, #-12]
 3727 0180 2331A0E1 		lsr	r3, r3, #2
 3728 0184 013003E2 		and	r3, r3, #1
 3729 0188 032082E1 		orr	r2, r2, r3
 3730 018c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_1M_NAT2RME
 3731 0190 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_1M_NAT2RME
 3732 0194 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3733              		.loc 1 1368 19
 3734 0198 1C301BE5 		ldr	r3, [fp, #-28]
 3735 019c 002083E5 		str	r2, [r3]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 92


 3736              	.L146:
1369:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1370:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1371:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3737              		.loc 1 1371 12
 3738 01a0 0030A0E3 		mov	r3, #0
 3739              	.L142:
1372:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3740              		.loc 1 1372 1
 3741 01a4 0300A0E1 		mov	r0, r3
 3742 01a8 00D08BE2 		add	sp, fp, #0
 3743              		.cfi_def_cfa_register 13
 3744              		@ sp needed
 3745 01ac 04B09DE4 		ldr	fp, [sp], #4
 3746              		.cfi_restore 11
 3747              		.cfi_def_cfa_offset 0
 3748 01b0 1EFF2FE1 		bx	lr
 3749              		.cfi_endproc
 3750              	.LFE46:
 3752              		.section	.text.__RME_Pgt_Walk,"ax",%progbits
 3753              		.align	2
 3754              		.global	__RME_Pgt_Walk
 3755              		.syntax unified
 3756              		.arm
 3758              	__RME_Pgt_Walk:
 3759              	.LFB47:
1373:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Lookup *******************************************/
1374:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1375:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Walk **************************************************
1376:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Walking function for the page table. This function just does page
1377:../../Source/Platform/A7A/rme_platform_a7a.c ****               table lookups. The page table that is being walked must be the top-
1378:../../Source/Platform/A7A/rme_platform_a7a.c ****               level page table. The output values are optional; only pass in pointers
1379:../../Source/Platform/A7A/rme_platform_a7a.c ****               when you need that value.
1380:../../Source/Platform/A7A/rme_platform_a7a.c ****               Walking kernel page tables is prohibited.
1381:../../Source/Platform/A7A/rme_platform_a7a.c ****               This function also does not support large pages and super sections.
1382:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to walk.
1383:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address to look up.
1384:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Pgt - The pointer to the page table level.
1385:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Map_Vaddr - The virtual address that starts mapping.
1386:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Paddr - The physical address of the page.
1387:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Size_Order - The size order of the page.
1388:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Num_Order - The entry order of the page.
1389:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1390:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1391:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1392:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Walk(struct RME_Cap_Pgt* Pgt_Op, 
1393:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t Vaddr, 
1394:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t* Pgt,
1395:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Map_Vaddr, 
1396:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Paddr, 
1397:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Size_Order, 
1398:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Num_Order, 
1399:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Flags)
1400:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3760              		.loc 1 1400 1
 3761              		.cfi_startproc
 3762              		@ args = 16, pretend = 0, frame = 32
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 93


 3763              		@ frame_needed = 1, uses_anonymous_args = 0
 3764              		@ link register save eliminated.
 3765 0000 04B02DE5 		str	fp, [sp, #-4]!
 3766              		.cfi_def_cfa_offset 4
 3767              		.cfi_offset 11, -4
 3768 0004 00B08DE2 		add	fp, sp, #0
 3769              		.cfi_def_cfa_register 11
 3770 0008 24D04DE2 		sub	sp, sp, #36
 3771 000c 18000BE5 		str	r0, [fp, #-24]
 3772 0010 1C100BE5 		str	r1, [fp, #-28]
 3773 0014 20200BE5 		str	r2, [fp, #-32]
 3774 0018 24300BE5 		str	r3, [fp, #-36]
1401:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1402:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Pos;
1403:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1404:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1405:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if this is the top-level page table */
1406:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)==0)
 3775              		.loc 1 1406 16
 3776 001c 18301BE5 		ldr	r3, [fp, #-24]
 3777 0020 183093E5 		ldr	r3, [r3, #24]
 3778              		.loc 1 1406 23
 3779 0024 013003E2 		and	r3, r3, #1
 3780              		.loc 1 1406 7
 3781 0028 000053E3 		cmp	r3, #0
 3782 002c 0100001A 		bne	.L150
1407:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3783              		.loc 1 1407 16
 3784 0030 0030E0E3 		mvn	r3, #0
 3785 0034 A30000EA 		b	.L151
 3786              	.L150:
1408:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1409:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we attempting a kernel or non-canonical lookup? If yes, stop immediately */
1410:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Vaddr>=0x7FFFFFFFU)
 3787              		.loc 1 1410 7
 3788 0038 1C301BE5 		ldr	r3, [fp, #-28]
 3789 003c 0A0173E3 		cmn	r3, #-2147483646
 3790 0040 0100009A 		bls	.L152
1411:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3791              		.loc 1 1411 16
 3792 0044 0030E0E3 		mvn	r3, #0
 3793 0048 9E0000EA 		b	.L151
 3794              	.L152:
1412:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1413:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table and start lookup - We know that there are only 2 levels */
1414:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op, rme_ptr_t*);
 3795              		.loc 1 1414 11
 3796 004c 18301BE5 		ldr	r3, [fp, #-24]
 3797 0050 0C3093E5 		ldr	r3, [r3, #12]
 3798              		.loc 1 1414 10
 3799 0054 08300BE5 		str	r3, [fp, #-8]
1415:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1416:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Calculate where is the entry - always 0 to 4096 */
1417:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Pos=(Vaddr>>RME_PGT_SIZE_1M)&0xFFFU;
 3800              		.loc 1 1417 5
 3801 0058 1C301BE5 		ldr	r3, [fp, #-28]
 3802 005c 233AA0E1 		lsr	r3, r3, #20
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 94


 3803 0060 0C300BE5 		str	r3, [fp, #-12]
1418:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Atomic read */
1419:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Temp=Table[Pos];
 3804              		.loc 1 1419 12
 3805 0064 0C301BE5 		ldr	r3, [fp, #-12]
 3806 0068 0331A0E1 		lsl	r3, r3, #2
 3807 006c 08201BE5 		ldr	r2, [fp, #-8]
 3808 0070 033082E0 		add	r3, r2, r3
 3809              		.loc 1 1419 6
 3810 0074 003093E5 		ldr	r3, [r3]
 3811 0078 10300BE5 		str	r3, [fp, #-16]
1420:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1421:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Find the position of the entry - Is there a page, a directory, or nothing? */
1422:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)!=0)
 3812              		.loc 1 1422 10
 3813 007c 10301BE5 		ldr	r3, [fp, #-16]
 3814 0080 023003E2 		and	r3, r3, #2
 3815              		.loc 1 1422 4
 3816 0084 000053E3 		cmp	r3, #0
 3817 0088 3900000A 		beq	.L153
1423:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1424:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* There is a 1M page */
1425:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Pgt!=0)
 3818              		.loc 1 1425 5
 3819 008c 20301BE5 		ldr	r3, [fp, #-32]
 3820 0090 000053E3 		cmp	r3, #0
 3821 0094 0200000A 		beq	.L154
1426:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Pgt=(rme_ptr_t)Table;
 3822              		.loc 1 1426 9
 3823 0098 08201BE5 		ldr	r2, [fp, #-8]
 3824              		.loc 1 1426 8
 3825 009c 20301BE5 		ldr	r3, [fp, #-32]
 3826 00a0 002083E5 		str	r2, [r3]
 3827              	.L154:
1427:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Map_Vaddr!=0)
 3828              		.loc 1 1427 5
 3829 00a4 24301BE5 		ldr	r3, [fp, #-36]
 3830 00a8 000053E3 		cmp	r3, #0
 3831 00ac 0400000A 		beq	.L155
1428:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_1M);
 3832              		.loc 1 1428 15
 3833 00b0 1C301BE5 		ldr	r3, [fp, #-28]
 3834 00b4 233AA0E1 		lsr	r3, r3, #20
 3835 00b8 033AA0E1 		lsl	r3, r3, #20
 3836              		.loc 1 1428 14
 3837 00bc 24201BE5 		ldr	r2, [fp, #-36]
 3838 00c0 003082E5 		str	r3, [r2]
 3839              	.L155:
1429:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Paddr!=0)
 3840              		.loc 1 1429 5
 3841 00c4 04309BE5 		ldr	r3, [fp, #4]
 3842 00c8 000053E3 		cmp	r3, #0
 3843 00cc 0400000A 		beq	.L156
1430:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
 3844              		.loc 1 1430 11
 3845 00d0 10301BE5 		ldr	r3, [fp, #-16]
 3846 00d4 233AA0E1 		lsr	r3, r3, #20
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 95


 3847 00d8 033AA0E1 		lsl	r3, r3, #20
 3848              		.loc 1 1430 10
 3849 00dc 04209BE5 		ldr	r2, [fp, #4]
 3850 00e0 003082E5 		str	r3, [r2]
 3851              	.L156:
1431:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Size_Order!=0)
 3852              		.loc 1 1431 5
 3853 00e4 08309BE5 		ldr	r3, [fp, #8]
 3854 00e8 000053E3 		cmp	r3, #0
 3855 00ec 0200000A 		beq	.L157
1432:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Size_Order=RME_PGT_SIZE_1M;
 3856              		.loc 1 1432 15
 3857 00f0 08309BE5 		ldr	r3, [fp, #8]
 3858 00f4 1420A0E3 		mov	r2, #20
 3859 00f8 002083E5 		str	r2, [r3]
 3860              	.L157:
1433:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Num_Order!=0)
 3861              		.loc 1 1433 5
 3862 00fc 0C309BE5 		ldr	r3, [fp, #12]
 3863 0100 000053E3 		cmp	r3, #0
 3864 0104 0200000A 		beq	.L158
1434:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Num_Order=RME_PGT_NUM_4K;
 3865              		.loc 1 1434 14
 3866 0108 0C309BE5 		ldr	r3, [fp, #12]
 3867 010c 0C20A0E3 		mov	r2, #12
 3868 0110 002083E5 		str	r2, [r3]
 3869              	.L158:
1435:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Flags!=0)
 3870              		.loc 1 1435 5
 3871 0114 10309BE5 		ldr	r3, [fp, #16]
 3872 0118 000053E3 		cmp	r3, #0
 3873 011c 6800000A 		beq	.L159
1436:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
 3874              		.loc 1 1436 11
 3875 0120 10301BE5 		ldr	r3, [fp, #-16]
 3876 0124 2336A0E1 		lsr	r3, r3, #12
 3877 0128 082003E2 		and	r2, r3, #8
 3878 012c 10301BE5 		ldr	r3, [fp, #-16]
 3879 0130 2331A0E1 		lsr	r3, r3, #2
 3880 0134 043003E2 		and	r3, r3, #4
 3881 0138 032082E1 		orr	r2, r2, r3
 3882 013c 10301BE5 		ldr	r3, [fp, #-16]
 3883 0140 2331A0E1 		lsr	r3, r3, #2
 3884 0144 023003E2 		and	r3, r3, #2
 3885 0148 032082E1 		orr	r2, r2, r3
 3886 014c 10301BE5 		ldr	r3, [fp, #-16]
 3887 0150 2331A0E1 		lsr	r3, r3, #2
 3888 0154 013003E2 		and	r3, r3, #1
 3889 0158 032082E1 		orr	r2, r2, r3
 3890 015c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_1M_NAT2RME
 3891 0160 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_1M_NAT2RME
 3892 0164 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3893              		.loc 1 1436 10
 3894 0168 10309BE5 		ldr	r3, [fp, #16]
 3895 016c 002083E5 		str	r2, [r3]
 3896 0170 530000EA 		b	.L159
 3897              	.L153:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 96


1437:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1438:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1439:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else if((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0)
 3898              		.loc 1 1439 15
 3899 0174 10301BE5 		ldr	r3, [fp, #-16]
 3900 0178 013003E2 		and	r3, r3, #1
 3901              		.loc 1 1439 9
 3902 017c 000053E3 		cmp	r3, #0
 3903 0180 4D00000A 		beq	.L160
1440:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1441:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Table=(rme_ptr_t*)RME_A7A_PA2VA(RME_A7A_MMU_1M_PGT_ADDR(Temp));
 3904              		.loc 1 1441 21
 3905 0184 10301BE5 		ldr	r3, [fp, #-16]
 3906 0188 FF3FC3E3 		bic	r3, r3, #1020
 3907 018c 0330C3E3 		bic	r3, r3, #3
 3908 0190 023183E2 		add	r3, r3, #-2147483648
 3909              		.loc 1 1441 8
 3910 0194 08300BE5 		str	r3, [fp, #-8]
1442:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Calculate where is the entry - always 0 to 256 */
1443:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Pos=(Vaddr>>RME_PGT_SIZE_4K)&0xFFU;
 3911              		.loc 1 1443 13
 3912 0198 1C301BE5 		ldr	r3, [fp, #-28]
 3913 019c 2336A0E1 		lsr	r3, r3, #12
 3914              		.loc 1 1443 6
 3915 01a0 7330EFE6 		uxtb	r3, r3
 3916 01a4 0C300BE5 		str	r3, [fp, #-12]
1444:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Atomic read */
1445:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Temp=Table[Pos];
 3917              		.loc 1 1445 13
 3918 01a8 0C301BE5 		ldr	r3, [fp, #-12]
 3919 01ac 0331A0E1 		lsl	r3, r3, #2
 3920 01b0 08201BE5 		ldr	r2, [fp, #-8]
 3921 01b4 033082E0 		add	r3, r2, r3
 3922              		.loc 1 1445 7
 3923 01b8 003093E5 		ldr	r3, [r3]
 3924 01bc 10300BE5 		str	r3, [fp, #-16]
1446:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1447:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)!=0)
 3925              		.loc 1 1447 11
 3926 01c0 10301BE5 		ldr	r3, [fp, #-16]
 3927 01c4 023003E2 		and	r3, r3, #2
 3928              		.loc 1 1447 5
 3929 01c8 000053E3 		cmp	r3, #0
 3930 01cc 3800000A 		beq	.L161
1448:../../Source/Platform/A7A/rme_platform_a7a.c **** 		{
1449:../../Source/Platform/A7A/rme_platform_a7a.c **** 			/* There is a 4k page */
1450:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Pgt!=0)
 3931              		.loc 1 1450 6
 3932 01d0 20301BE5 		ldr	r3, [fp, #-32]
 3933 01d4 000053E3 		cmp	r3, #0
 3934 01d8 0200000A 		beq	.L162
1451:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Pgt=(rme_ptr_t)Table;
 3935              		.loc 1 1451 10
 3936 01dc 08201BE5 		ldr	r2, [fp, #-8]
 3937              		.loc 1 1451 9
 3938 01e0 20301BE5 		ldr	r3, [fp, #-32]
 3939 01e4 002083E5 		str	r2, [r3]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 97


 3940              	.L162:
1452:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Map_Vaddr!=0)
 3941              		.loc 1 1452 6
 3942 01e8 24301BE5 		ldr	r3, [fp, #-36]
 3943 01ec 000053E3 		cmp	r3, #0
 3944 01f0 0400000A 		beq	.L163
1453:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_4K);
 3945              		.loc 1 1453 16
 3946 01f4 1C301BE5 		ldr	r3, [fp, #-28]
 3947 01f8 FF3EC3E3 		bic	r3, r3, #4080
 3948 01fc 0F30C3E3 		bic	r3, r3, #15
 3949              		.loc 1 1453 15
 3950 0200 24201BE5 		ldr	r2, [fp, #-36]
 3951 0204 003082E5 		str	r3, [r2]
 3952              	.L163:
1454:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Paddr!=0)
 3953              		.loc 1 1454 6
 3954 0208 04309BE5 		ldr	r3, [fp, #4]
 3955 020c 000053E3 		cmp	r3, #0
 3956 0210 0400000A 		beq	.L164
1455:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
 3957              		.loc 1 1455 12
 3958 0214 10301BE5 		ldr	r3, [fp, #-16]
 3959 0218 FF3EC3E3 		bic	r3, r3, #4080
 3960 021c 0F30C3E3 		bic	r3, r3, #15
 3961              		.loc 1 1455 11
 3962 0220 04209BE5 		ldr	r2, [fp, #4]
 3963 0224 003082E5 		str	r3, [r2]
 3964              	.L164:
1456:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Size_Order!=0)
 3965              		.loc 1 1456 6
 3966 0228 08309BE5 		ldr	r3, [fp, #8]
 3967 022c 000053E3 		cmp	r3, #0
 3968 0230 0200000A 		beq	.L165
1457:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Size_Order=RME_PGT_SIZE_4K;
 3969              		.loc 1 1457 16
 3970 0234 08309BE5 		ldr	r3, [fp, #8]
 3971 0238 0C20A0E3 		mov	r2, #12
 3972 023c 002083E5 		str	r2, [r3]
 3973              	.L165:
1458:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Num_Order!=0)
 3974              		.loc 1 1458 6
 3975 0240 0C309BE5 		ldr	r3, [fp, #12]
 3976 0244 000053E3 		cmp	r3, #0
 3977 0248 0200000A 		beq	.L166
1459:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Num_Order=RME_PGT_NUM_256;
 3978              		.loc 1 1459 15
 3979 024c 0C309BE5 		ldr	r3, [fp, #12]
 3980 0250 0820A0E3 		mov	r2, #8
 3981 0254 002083E5 		str	r2, [r3]
 3982              	.L166:
1460:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Flags!=0)
 3983              		.loc 1 1460 6
 3984 0258 10309BE5 		ldr	r3, [fp, #16]
 3985 025c 000053E3 		cmp	r3, #0
 3986 0260 1700000A 		beq	.L159
1461:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 98


 3987              		.loc 1 1461 12
 3988 0264 10301BE5 		ldr	r3, [fp, #-16]
 3989 0268 2333A0E1 		lsr	r3, r3, #6
 3990 026c 082003E2 		and	r2, r3, #8
 3991 0270 10301BE5 		ldr	r3, [fp, #-16]
 3992 0274 A330A0E1 		lsr	r3, r3, #1
 3993 0278 043003E2 		and	r3, r3, #4
 3994 027c 032082E1 		orr	r2, r2, r3
 3995 0280 10301BE5 		ldr	r3, [fp, #-16]
 3996 0284 A330A0E1 		lsr	r3, r3, #1
 3997 0288 023003E2 		and	r3, r3, #2
 3998 028c 032082E1 		orr	r2, r2, r3
 3999 0290 10301BE5 		ldr	r3, [fp, #-16]
 4000 0294 013003E2 		and	r3, r3, #1
 4001 0298 032082E1 		orr	r2, r2, r3
 4002 029c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_4K_NAT2RME
 4003 02a0 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_4K_NAT2RME
 4004 02a4 022193E7 		ldr	r2, [r3, r2, lsl #2]
 4005              		.loc 1 1461 11
 4006 02a8 10309BE5 		ldr	r3, [fp, #16]
 4007 02ac 002083E5 		str	r2, [r3]
 4008 02b0 030000EA 		b	.L159
 4009              	.L161:
1462:../../Source/Platform/A7A/rme_platform_a7a.c **** 		}
1463:../../Source/Platform/A7A/rme_platform_a7a.c **** 		else
1464:../../Source/Platform/A7A/rme_platform_a7a.c **** 			return RME_ERR_HAL_FAIL;
 4010              		.loc 1 1464 11
 4011 02b4 0030E0E3 		mvn	r3, #0
 4012 02b8 020000EA 		b	.L151
 4013              	.L160:
1465:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1466:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else
1467:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return RME_ERR_HAL_FAIL;
 4014              		.loc 1 1467 10
 4015 02bc 0030E0E3 		mvn	r3, #0
 4016 02c0 000000EA 		b	.L151
 4017              	.L159:
1468:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1469:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 4018              		.loc 1 1469 12
 4019 02c4 0030A0E3 		mov	r3, #0
 4020              	.L151:
1470:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 4021              		.loc 1 1470 1
 4022 02c8 0300A0E1 		mov	r0, r3
 4023 02cc 00D08BE2 		add	sp, fp, #0
 4024              		.cfi_def_cfa_register 13
 4025              		@ sp needed
 4026 02d0 04B09DE4 		ldr	fp, [sp], #4
 4027              		.cfi_restore 11
 4028              		.cfi_def_cfa_offset 0
 4029 02d4 1EFF2FE1 		bx	lr
 4030              		.cfi_endproc
 4031              	.LFE47:
 4033              		.text
 4034              	.Letext0:
 4035              		.file 2 "../../Include/Platform/A7A/rme_platform_a7a.h"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 99


 4036              		.file 3 "../../Include/Kernel/rme_kernel.h"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 100


DEFINED SYMBOLS
                            *ABS*:00000000 rme_platform_a7a.c
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:21     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:24     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 RME_A7A_Pgflg_1M_RME2NAT
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:58     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:61     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 RME_A7A_Pgflg_4K_RME2NAT
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:95     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:98     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 RME_A7A_Pgflg_1M_NAT2RME
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:116    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:119    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 RME_A7A_Pgflg_4K_NAT2RME
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:141    .bss.RME_A7A_Timestamp:00000000 RME_A7A_Timestamp
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:138    .bss.RME_A7A_Timestamp:00000000 $d
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:148    .bss.RME_A7A_Local:00000000 RME_A7A_Local
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:145    .bss.RME_A7A_Local:00000000 $d
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:155    .bss.RME_A7A_Kot:00000000 RME_A7A_Kot
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:152    .bss.RME_A7A_Kot:00000000 $d
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:162    .rodata.RME_A7A_Mem_Info:00000000 RME_A7A_Mem_Info
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:159    .rodata.RME_A7A_Mem_Info:00000000 $d
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:193    .bss.RME_A7A_CPU_Cnt:00000000 RME_A7A_CPU_Cnt
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:190    .bss.RME_A7A_CPU_Cnt:00000000 $d
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:196    .text.main:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:201    .text.main:00000000 main
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:224    .text.RME_Out32:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:229    .text.RME_Out32:00000000 RME_Out32
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:264    .text.__RME_Putchar:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:269    .text.__RME_Putchar:00000000 __RME_Putchar
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:312    .rodata:00000000 $d
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:313    .rodata:00000000 .LC0
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:316    .rodata:00000018 .LC1
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:319    .rodata:00000030 .LC2
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:322    .rodata:00000048 .LC3
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:325    .rodata:00000064 .LC4
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:328    .rodata:0000007c .LC5
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:331    .rodata:0000009c .LC6
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:334    .rodata:000000b4 .LC7
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:337    .text.__RME_A7A_Int_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:341    .text.__RME_A7A_Int_Init:00000000 __RME_A7A_Int_Init
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:601    .text.RME_L2CacheSync:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:605    .text.RME_L2CacheSync:00000000 RME_L2CacheSync
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:629    .text.__RME_L2CacheInvalidate:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:634    .text.__RME_L2CacheInvalidate:00000000 __RME_L2CacheInvalidate
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:693    .text.__RME_L2CacheEnable:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:698    .text.__RME_L2CacheEnable:00000000 __RME_L2CacheEnable
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:792    .text.__RME_A7A_Int_Local_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:797    .text.__RME_A7A_Int_Local_Init:00000000 __RME_A7A_Int_Local_Init
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:841    .rodata:000000d8 .LC8
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:844    .rodata:000000ec .LC9
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:847    .text.__RME_A7A_Timer_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:851    .text.__RME_A7A_Timer_Init:00000000 __RME_A7A_Timer_Init
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:913    .text.__RME_A7A_Feature_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:918    .text.__RME_A7A_Feature_Get:00000000 __RME_A7A_Feature_Get
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:943    .text.__RME_A7A_Mem_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:948    .text.__RME_A7A_Mem_Init:00000000 __RME_A7A_Mem_Init
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:976    .text.__RME_A7A_SMP_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:981    .text.__RME_A7A_SMP_Init:00000000 __RME_A7A_SMP_Init
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1006   .text.__RME_A7A_SMP_Tick:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1011   .text.__RME_A7A_SMP_Tick:00000000 __RME_A7A_SMP_Tick
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 101


C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1037   .rodata:00000100 .LC10
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1040   .rodata:00000114 .LC11
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1043   .text.__RME_Lowlvl_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1048   .text.__RME_Lowlvl_Init:00000000 __RME_Lowlvl_Init
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1100   .text.__RME_Pgt_Kom_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1105   .text.__RME_Pgt_Kom_Init:00000000 __RME_Pgt_Kom_Init
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1132   .text.__RME_SMP_Low_Level_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1137   .text.__RME_SMP_Low_Level_Init:00000000 __RME_SMP_Low_Level_Init
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1165   .rodata:00000128 .LC12
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1168   .rodata:00000154 .LC13
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1171   .rodata:00000160 .LC14
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1174   .rodata:0000016c .LC15
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1177   .rodata:0000019c .LC16
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1180   .rodata:000001c0 .LC17
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1183   .rodata:000001e0 .LC18
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1186   .rodata:000001e4 .LC19
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1189   .rodata:00000208 .LC20
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1192   .rodata:00000228 .LC21
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1195   .rodata:00000248 .LC22
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1198   .rodata:00000268 .LC23
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1201   .rodata:00000280 .LC24
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1204   .rodata:000002a0 .LC25
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1207   .rodata:000002c8 .LC26
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1210   .rodata:000002f0 .LC27
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1213   .rodata:00000314 .LC28
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1217   .rodata:00000358 .LC29
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1220   .text.__RME_Boot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1225   .text.__RME_Boot:00000000 __RME_Boot
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2868   .text.__RME_Pgt_Set:00000000 __RME_Pgt_Set
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1739   .text.__RME_Reboot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1744   .text.__RME_Reboot:00000000 __RME_Reboot
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1769   .text.__RME_Shutdown:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1774   .text.__RME_Shutdown:00000000 __RME_Shutdown
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1799   .text.__RME_Svc_Param_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1804   .text.__RME_Svc_Param_Get:00000000 __RME_Svc_Param_Get
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1872   .text.__RME_Svc_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1877   .text.__RME_Svc_Retval_Set:00000000 __RME_Svc_Retval_Set
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1910   .text.__RME_Thd_Reg_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1915   .text.__RME_Thd_Reg_Init:00000000 __RME_Thd_Reg_Init
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1965   .text.__RME_Thd_Reg_Copy:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:1970   .text.__RME_Thd_Reg_Copy:00000000 __RME_Thd_Reg_Copy
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2094   .text.__RME_Thd_Cop_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2099   .text.__RME_Thd_Cop_Init:00000000 __RME_Thd_Cop_Init
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2127   .text.__RME_Thd_Cop_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2132   .text.__RME_Thd_Cop_Save:00000000 __RME_Thd_Cop_Save
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2160   .text.__RME_Thd_Cop_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2165   .text.__RME_Thd_Cop_Restore:00000000 __RME_Thd_Cop_Restore
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2193   .text.__RME_Inv_Reg_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2198   .text.__RME_Inv_Reg_Save:00000000 __RME_Inv_Reg_Save
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2238   .text.__RME_Inv_Reg_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2243   .text.__RME_Inv_Reg_Restore:00000000 __RME_Inv_Reg_Restore
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2283   .text.__RME_Inv_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2288   .text.__RME_Inv_Retval_Set:00000000 __RME_Inv_Retval_Set
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2321   .text.__RME_Set_Inv_Retval:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2326   .text.__RME_Set_Inv_Retval:00000000 __RME_Set_Inv_Retval
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2359   .text.__RME_Thd_Cop_Swap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2364   .text.__RME_Thd_Cop_Swap:00000000 __RME_Thd_Cop_Swap
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 102


C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2394   .text.__RME_Kfn_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2399   .text.__RME_Kfn_Handler:00000000 __RME_Kfn_Handler
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2432   .rodata:00000370 .LC30
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2435   .rodata:00000384 .LC31
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2438   .rodata:0000038c .LC32
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2441   .rodata:00000394 .LC33
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2444   .text.__RME_A7A_Undefined_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2449   .text.__RME_A7A_Undefined_Handler:00000000 __RME_A7A_Undefined_Handler
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2502   .rodata:000003a0 .LC34
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2505   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2510   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 __RME_A7A_Prefetch_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2563   .rodata:000003b8 .LC35
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2566   .text.__RME_A7A_Data_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2571   .text.__RME_A7A_Data_Abort_Handler:00000000 __RME_A7A_Data_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2623   .text.__RME_A7A_IRQ_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2628   .text.__RME_A7A_IRQ_Handler:00000000 __RME_A7A_IRQ_Handler
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2789   .text._RME_A7A_SGI_Handler:00000000 _RME_A7A_SGI_Handler
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2784   .text._RME_A7A_SGI_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2820   .rodata:000003d0 .LC36
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2823   .text.__RME_A7A_Generic_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2828   .text.__RME_A7A_Generic_Handler:00000000 __RME_A7A_Generic_Handler
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2863   .text.__RME_Pgt_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2908   .rodata:000003e0 .LC37
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2911   .text.__RME_Pgt_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:2916   .text.__RME_Pgt_Check:00000000 __RME_Pgt_Check
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3016   .text.__RME_Pgt_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3021   .text.__RME_Pgt_Init:00000000 __RME_Pgt_Init
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3139   .text.__RME_Pgt_Del_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3144   .text.__RME_Pgt_Del_Check:00000000 __RME_Pgt_Del_Check
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3174   .rodata:000003fc .LC38
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3177   .rodata:0000040c .LC39
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3181   .rodata:0000044c .LC40
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3184   .rodata:00000460 .LC41
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3187   .rodata:00000470 .LC42
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3190   .text.__RME_Pgt_Page_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3195   .text.__RME_Pgt_Page_Map:00000000 __RME_Pgt_Page_Map
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3347   .text.__RME_Pgt_Page_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3352   .text.__RME_Pgt_Page_Unmap:00000000 __RME_Pgt_Page_Unmap
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3451   .text.__RME_Pgt_Pgdir_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3456   .text.__RME_Pgt_Pgdir_Map:00000000 __RME_Pgt_Pgdir_Map
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3547   .text.__RME_Pgt_Pgdir_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3552   .text.__RME_Pgt_Pgdir_Unmap:00000000 __RME_Pgt_Pgdir_Unmap
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3583   .text.__RME_Pgt_Lookup:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3588   .text.__RME_Pgt_Lookup:00000000 __RME_Pgt_Lookup
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3753   .text.__RME_Pgt_Walk:00000000 $a
C:\Users\even\AppData\Local\Temp\ccKUMLR8.s:3758   .text.__RME_Pgt_Walk:00000000 __RME_Pgt_Walk
                           .group:00000000 wm4.0.3b9f63523dc4e8d86e863c7e7e762be7
                           .group:00000000 wm4.rme_platform_a7a.h.12.6f31e4bbf2ba0e08caa014445997fe37
                           .group:00000000 wm4.rme_platform_xc7z020.h.16.13f9fdbe37174b2b51a191bc4802e8df
                           .group:00000000 wm4.rme_platform_a7a.h.137.e9a24d7a5233e57f2f7befcdf024b105
                           .group:00000000 wm4.rme_kernel.h.27.716340edb41bad57d522729bf2b8a38a
                           .group:00000000 wm4.rme.h.11.105c42759f88404be372052d8d99e5e6
                           .group:00000000 wm4.rme_kernel.h.185.d02db6497e1a69d04e005d15d216f811
                           .group:00000000 wm4.rme_platform_a7a.h.398.f0ac34dc9ab051d9dffae2ce4ab8d08a
                           .group:00000000 wm4.rme_kernel.h.678.0572fdf2012fb48f701f562b23d175bb
                           .group:00000000 wm4.rme_platform_a7a.h.514.9204b605170ffad688d7d8b7438c6b98
                           .group:00000000 wm4.rme_kernel.h.930.0bcd107bd9a9b6f5fe5bbd4088ddbec4
ARM GAS  C:\Users\even\AppData\Local\Temp\ccKUMLR8.s 			page 103



UNDEFINED SYMBOLS
RME_Kmain
RME_Str_Print
RME_Int_Print
RME_Hex_Print
_RME_CPU_Local_Init
__RME_A7A_Vector_Table
__RME_A7A_VBAR_Set
__RME_A7A_SCR_Get
_RME_Cpt_Boot_Init
RME_Log
_RME_Pgt_Boot_Crt
_RME_Pgt_Boot_Add
__RME_A7A_Kern_Pgt
_RME_Prc_Boot_Crt
_RME_Thd_Boot_Crt
_RME_Kfn_Boot_Crt
_RME_Kom_Boot_Crt
_RME_Sig_Boot_Crt
__RME_Int_Enable
__RME_User_Enter
_RME_Tim_Handler
__RME_A7A_TTBR0_Set
__RME_A7A_TLBIALL_Set
_RME_Comp_Swap_Single
