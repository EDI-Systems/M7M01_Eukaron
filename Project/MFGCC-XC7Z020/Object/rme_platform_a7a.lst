ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 1


   1              		.cpu cortex-a9
   2              		.arch armv7-a
   3              		.fpu neon-fp16
   4              		.arch_extension mp
   5              		.arch_extension sec
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"rme_platform_a7a.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "../../Source/Platform/A7A/rme_platform_a7a.c"
  20              		.section	.rodata.RME_A7A_Pgflg_1M_RME2NAT,"a"
  21              		.align	2
  24              	RME_A7A_Pgflg_1M_RME2NAT:
  25 0000 11880300 		.word	231441
  26 0004 11880300 		.word	231441
  27 0008 11080300 		.word	198673
  28 000c 11080300 		.word	198673
  29 0010 01880300 		.word	231425
  30 0014 01880300 		.word	231425
  31 0018 01080300 		.word	198657
  32 001c 01080300 		.word	198657
  33 0020 19880300 		.word	231449
  34 0024 19880300 		.word	231449
  35 0028 19080300 		.word	198681
  36 002c 19080300 		.word	198681
  37 0030 09880300 		.word	231433
  38 0034 09880300 		.word	231433
  39 0038 09080300 		.word	198665
  40 003c 09080300 		.word	198665
  41 0040 15880300 		.word	231445
  42 0044 15880300 		.word	231445
  43 0048 15080300 		.word	198677
  44 004c 15080300 		.word	198677
  45 0050 05880300 		.word	231429
  46 0054 05880300 		.word	231429
  47 0058 05080300 		.word	198661
  48 005c 05080300 		.word	198661
  49 0060 1D880300 		.word	231453
  50 0064 1D880300 		.word	231453
  51 0068 1D080300 		.word	198685
  52 006c 1D080300 		.word	198685
  53 0070 0D880300 		.word	231437
  54 0074 0D880300 		.word	231437
  55 0078 0D080300 		.word	198669
  56 007c 0D080300 		.word	198669
  57              		.section	.rodata.RME_A7A_Pgflg_4K_RME2NAT,"a"
  58              		.align	2
  61              	RME_A7A_Pgflg_4K_RME2NAT:
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 2


  62 0000 230E0000 		.word	3619
  63 0004 230E0000 		.word	3619
  64 0008 230C0000 		.word	3107
  65 000c 230C0000 		.word	3107
  66 0010 220E0000 		.word	3618
  67 0014 220E0000 		.word	3618
  68 0018 220C0000 		.word	3106
  69 001c 220C0000 		.word	3106
  70 0020 2B0E0000 		.word	3627
  71 0024 2B0E0000 		.word	3627
  72 0028 2B0C0000 		.word	3115
  73 002c 2B0C0000 		.word	3115
  74 0030 2A0E0000 		.word	3626
  75 0034 2A0E0000 		.word	3626
  76 0038 2A0C0000 		.word	3114
  77 003c 2A0C0000 		.word	3114
  78 0040 270E0000 		.word	3623
  79 0044 270E0000 		.word	3623
  80 0048 270C0000 		.word	3111
  81 004c 270C0000 		.word	3111
  82 0050 260E0000 		.word	3622
  83 0054 260E0000 		.word	3622
  84 0058 260C0000 		.word	3110
  85 005c 260C0000 		.word	3110
  86 0060 2F0E0000 		.word	3631
  87 0064 2F0E0000 		.word	3631
  88 0068 2F0C0000 		.word	3119
  89 006c 2F0C0000 		.word	3119
  90 0070 2E0E0000 		.word	3630
  91 0074 2E0E0000 		.word	3630
  92 0078 2E0C0000 		.word	3118
  93 007c 2E0C0000 		.word	3118
  94              		.section	.rodata.RME_A7A_Pgflg_1M_NAT2RME,"a"
  95              		.align	2
  98              	RME_A7A_Pgflg_1M_NAT2RME:
  99 0000 07000000 		.word	7
 100 0004 17000000 		.word	23
 101 0008 0F000000 		.word	15
 102 000c 1F000000 		.word	31
 103 0010 03000000 		.word	3
 104 0014 13000000 		.word	19
 105 0018 0B000000 		.word	11
 106 001c 1B000000 		.word	27
 107 0020 05000000 		.word	5
 108 0024 15000000 		.word	21
 109 0028 0D000000 		.word	13
 110 002c 1D000000 		.word	29
 111 0030 01000000 		.word	1
 112 0034 11000000 		.word	17
 113 0038 09000000 		.word	9
 114 003c 19000000 		.word	25
 115              		.section	.rodata.RME_A7A_Pgflg_4K_NAT2RME,"a"
 116              		.align	2
 119              	RME_A7A_Pgflg_4K_NAT2RME:
 120 0000 07000000 		.word	7
 121 0004 03000000 		.word	3
 122 0008 17000000 		.word	23
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 3


 123 000c 13000000 		.word	19
 124 0010 0F000000 		.word	15
 125 0014 0B000000 		.word	11
 126 0018 1F000000 		.word	31
 127 001c 1B000000 		.word	27
 128 0020 05000000 		.word	5
 129 0024 01000000 		.word	1
 130 0028 15000000 		.word	21
 131 002c 11000000 		.word	17
 132 0030 0D000000 		.word	13
 133 0034 09000000 		.word	9
 134 0038 1D000000 		.word	29
 135 003c 19000000 		.word	25
 136              		.global	RME_A7A_Timestamp
 137              		.section	.bss.RME_A7A_Timestamp,"aw",%nobits
 138              		.align	2
 141              	RME_A7A_Timestamp:
 142 0000 00000000 		.space	4
 143              		.global	RME_A7A_Local
 144              		.section	.bss.RME_A7A_Local,"aw",%nobits
 145              		.align	2
 148              	RME_A7A_Local:
 149 0000 00000000 		.space	276
 149      00000000 
 149      00000000 
 149      00000000 
 149      00000000 
 150              		.global	RME_A7A_Kot
 151              		.section	.bss.RME_A7A_Kot,"aw",%nobits
 152              		.align	2
 155              	RME_A7A_Kot:
 156 0000 00000000 		.space	8388608
 156      00000000 
 156      00000000 
 156      00000000 
 156      00000000 
 157              		.global	RME_A7A_Mem_Info
 158              		.section	.rodata.RME_A7A_Mem_Info,"a"
 159              		.align	2
 162              	RME_A7A_Mem_Info:
 163 0000 19000000 		.word	25
 164 0004 00000000 		.word	0
 165 0008 00000000 		.word	0
 166 000c 00040000 		.word	1024
 167 0010 0E0C0300 		.word	199694
 168 0014 00000040 		.word	1073741824
 169 0018 00000040 		.word	1073741824
 170 001c 00020000 		.word	512
 171 0020 020C0300 		.word	199682
 172 0024 000000E0 		.word	-536870912
 173 0028 00000060 		.word	1610612736
 174 002c 00020000 		.word	512
 175 0030 020C0300 		.word	199682
 176 0034 00000000 		.word	0
 177 0038 00000080 		.word	-2147483648
 178 003c 00040000 		.word	1024
 179 0040 0E040300 		.word	197646
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 4


 180 0044 00000040 		.word	1073741824
 181 0048 000000C0 		.word	-1073741824
 182 004c 00020000 		.word	512
 183 0050 02040300 		.word	197634
 184 0054 000000E0 		.word	-536870912
 185 0058 000000E0 		.word	-536870912
 186 005c 00020000 		.word	512
 187 0060 02040300 		.word	197634
 188              		.global	RME_A7A_CPU_Cnt
 189              		.section	.bss.RME_A7A_CPU_Cnt,"aw",%nobits
 190              		.align	2
 193              	RME_A7A_CPU_Cnt:
 194 0000 00000000 		.space	4
 195              		.section	.text.main,"ax",%progbits
 196              		.align	2
 197              		.global	main
 198              		.syntax unified
 199              		.arm
 201              	main:
 202              	.LFB0:
   1:../../Source/Platform/A7A/rme_platform_a7a.c **** /******************************************************************************
   2:../../Source/Platform/A7A/rme_platform_a7a.c **** Filename    : platform_a7a.c
   3:../../Source/Platform/A7A/rme_platform_a7a.c **** Author      : pry
   4:../../Source/Platform/A7A/rme_platform_a7a.c **** Date        : 01/04/2017
   5:../../Source/Platform/A7A/rme_platform_a7a.c **** Licence     : LGPL v3+; see COPYING for details.
   6:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The hardware abstraction layer for ARMv7-A machines.
   7:../../Source/Platform/A7A/rme_platform_a7a.c ****               1. Interrupt controller
   8:../../Source/Platform/A7A/rme_platform_a7a.c ****               2. Timer
   9:../../Source/Platform/A7A/rme_platform_a7a.c ****               3. Pgt setup
  10:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  11:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  12:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Include *******************************************************************/
  13:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_DEF__
  14:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  15:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  16:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_DEF__
  17:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  18:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_STRUCT__
  19:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  20:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  21:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_STRUCT__
  22:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  23:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Private include */
  24:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  25:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  26:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_PUBLIC__
  27:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  28:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_PUBLIC__
  29:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Include ***************************************************************/
  30:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  31:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:main **************************************************************
  32:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The entrance of the operating system.
  33:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  34:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  35:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : int - This function never returns.
  36:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  37:../../Source/Platform/A7A/rme_platform_a7a.c **** int main(void)
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 5


  38:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 203              		.loc 1 38 1
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 0
 206              		@ frame_needed = 1, uses_anonymous_args = 0
 207 0000 00482DE9 		push	{fp, lr}
 208              		.cfi_def_cfa_offset 8
 209              		.cfi_offset 11, -8
 210              		.cfi_offset 14, -4
 211 0004 04B08DE2 		add	fp, sp, #4
 212              		.cfi_def_cfa 11, 4
  39:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_H(__RME_A7A_ID_ISAR0_Get());
  40:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_I(10);
  41:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//while(1);
  42:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('h');
  43:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('e');
  44:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  45:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  46:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  47:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar(' ');
  48:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('w');*/
  49:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  50:../../Source/Platform/A7A/rme_platform_a7a.c ****    /* RME_DBG_S("0123456789\n");
  51:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  52:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  53:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  54:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  55:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  56:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  57:../../Source/Platform/A7A/rme_platform_a7a.c ****     while(1);*/
  58:../../Source/Platform/A7A/rme_platform_a7a.c ****    // __RME_Putchar('h');
  59:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('e');
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  61:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');*/
  62:../../Source/Platform/A7A/rme_platform_a7a.c ****     //__RME_Putchar('o');
  63:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('w');
  64:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  65:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('r');
  66:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  67:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('d');*/
  68:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_Kmain();
 213              		.loc 1 68 5
 214 0008 FEFFFFEB 		bl	RME_Kmain
  69:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  70:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  71:../../Source/Platform/A7A/rme_platform_a7a.c ****     //test
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The main function of the kernel - we will start our kernel boot here */
  73:../../Source/Platform/A7A/rme_platform_a7a.c ****     //_RME_Kmain(RME_KOM_STACK_ADDR);
  74:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  75:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 215              		.loc 1 75 12
 216 000c 0030A0E3 		mov	r3, #0
  76:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 217              		.loc 1 76 1
 218 0010 0300A0E1 		mov	r0, r3
 219 0014 0088BDE8 		pop	{fp, pc}
 220              		.cfi_endproc
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 6


 221              	.LFE0:
 223              		.section	.text.__RME_Putchar,"ax",%progbits
 224              		.align	2
 225              		.global	__RME_Putchar
 226              		.syntax unified
 227              		.arm
 229              	__RME_Putchar:
 230              	.LFB1:
  77:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
  78:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  79:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Putchar *****************************************************
  80:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Output a character to console. In Cortex-M, under most circumstances, 
  81:../../Source/Platform/A7A/rme_platform_a7a.c ****               we should use the ITM for such outputs.
  82:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : char Char - The character to print.
  83:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  84:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
  85:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  86:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Putchar(char Char)
  87:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 231              		.loc 1 87 1
 232              		.cfi_startproc
 233              		@ args = 0, pretend = 0, frame = 8
 234              		@ frame_needed = 1, uses_anonymous_args = 0
 235              		@ link register save eliminated.
 236 0000 04B02DE5 		str	fp, [sp, #-4]!
 237              		.cfi_def_cfa_offset 4
 238              		.cfi_offset 11, -4
 239 0004 00B08DE2 		add	fp, sp, #0
 240              		.cfi_def_cfa_register 11
 241 0008 0CD04DE2 		sub	sp, sp, #12
 242 000c 0030A0E1 		mov	r3, r0
 243 0010 05304BE5 		strb	r3, [fp, #-5]
 244              	.L4:
  88:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PUTCHAR(Char);
 245              		.loc 1 88 5 discriminator 1
 246 0014 2C3001E3 		movw	r3, #4140
 247 0018 00304EE3 		movt	r3, 57344
 248 001c 003093E5 		ldr	r3, [r3]
 249 0020 083003E2 		and	r3, r3, #8
 250 0024 000053E3 		cmp	r3, #0
 251 0028 F9FFFF0A 		beq	.L4
 252              		.loc 1 88 5 is_stmt 0 discriminator 2
 253 002c 303001E3 		movw	r3, #4144
 254 0030 00304EE3 		movt	r3, 57344
 255 0034 D5205BE1 		ldrsb	r2, [fp, #-5]
 256 0038 002083E5 		str	r2, [r3]
  89:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 257              		.loc 1 89 12 is_stmt 1
 258 003c 0030A0E3 		mov	r3, #0
  90:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 259              		.loc 1 90 1
 260 0040 0300A0E1 		mov	r0, r3
 261 0044 00D08BE2 		add	sp, fp, #0
 262              		.cfi_def_cfa_register 13
 263              		@ sp needed
 264 0048 04B09DE4 		ldr	fp, [sp], #4
 265              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 7


 266              		.cfi_def_cfa_offset 0
 267 004c 1EFF2FE1 		bx	lr
 268              		.cfi_endproc
 269              	.LFE1:
 271              		.section	.rodata
 272              		.align	2
 273              	.LC0:
 274 0000 0D0A4137 		.ascii	"\015\012A7A-GIC: ProductID: \000"
 274      412D4749 
 274      433A2050 
 274      726F6475 
 274      63744944 
 275 0017 00       		.align	2
 276              	.LC1:
 277 0018 0D0A4137 		.ascii	"\015\012A7A-GIC: Variant: \000"
 277      412D4749 
 277      433A2056 
 277      61726961 
 277      6E743A20 
 278 002d 000000   		.align	2
 279              	.LC2:
 280 0030 0D0A4137 		.ascii	"\015\012A7A-GIC: Revision: \000"
 280      412D4749 
 280      433A2052 
 280      65766973 
 280      696F6E3A 
 281 0046 0000     		.align	2
 282              	.LC3:
 283 0048 0D0A4137 		.ascii	"\015\012A7A-GIC: Implementer: 0x\000"
 283      412D4749 
 283      433A2049 
 283      6D706C65 
 283      6D656E74 
 284 0063 00       		.align	2
 285              	.LC4:
 286 0064 0D0A4137 		.ascii	"\015\012A7A-GIC: SPI number: \000"
 286      412D4749 
 286      433A2053 
 286      5049206E 
 286      756D6265 
 287              		.align	2
 288              	.LC5:
 289 007c 0D0A4137 		.ascii	"\015\012A7A-GIC: Security extension: \000"
 289      412D4749 
 289      433A2053 
 289      65637572 
 289      69747920 
 290              		.align	2
 291              	.LC6:
 292 009c 0D0A4137 		.ascii	"\015\012A7A-GIC: CPU number: \000"
 292      412D4749 
 292      433A2043 
 292      5055206E 
 292      756D6265 
 293              		.align	2
 294              	.LC7:
 295 00b4 0D0A4137 		.ascii	"\015\012A7A-GIC: Interrupt line number: \000"
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 8


 295      412D4749 
 295      433A2049 
 295      6E746572 
 295      72757074 
 296              		.section	.text.__RME_A7A_Int_Init,"ax",%progbits
 297              		.align	2
 298              		.syntax unified
 299              		.arm
 301              	__RME_A7A_Int_Init:
 302              	.LFB2:
  91:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Putchar ************************************************/
  92:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  93:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_CPU_Local_Get ******************************************
  94:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the CPU-local data structures. This is to identify where we are
  95:../../Source/Platform/A7A/rme_platform_a7a.c ****               executing.
  96:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  97:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  98:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : struct RME_CPU_Local* - The CPU-local data structures.
  99:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 100:../../Source/Platform/A7A/rme_platform_a7a.c **** /*struct RME_CPU_Local* __RME_A7A_CPU_Local_Get(void)
 101:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 102:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return &RME_A7A_Local[__RME_A7A_MPIDR_Get()&0x03];
 103:../../Source/Platform/A7A/rme_platform_a7a.c **** }*/
 104:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_CPU_Local_Get *************************************/
 105:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 106:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Init ***********************************************
 107:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 108:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 109:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 110:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 111:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 112:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 113:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 114:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Init(void)
 115:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 303              		.loc 1 115 1
 304              		.cfi_startproc
 305              		@ args = 0, pretend = 0, frame = 8
 306              		@ frame_needed = 1, uses_anonymous_args = 0
 307 0000 00482DE9 		push	{fp, lr}
 308              		.cfi_def_cfa_offset 8
 309              		.cfi_offset 11, -8
 310              		.cfi_offset 14, -4
 311 0004 04B08DE2 		add	fp, sp, #4
 312              		.cfi_def_cfa 11, 4
 313 0008 08D04DE2 		sub	sp, sp, #8
 116:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
 117:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Lines;
 118:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 119:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Who implemented the GIC, what variant, how many interrupts? */
 120:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_IIDR;
 314              		.loc 1 120 10
 315 000c 083001E3 		movw	r3, #4104
 316 0010 F0384FE3 		movt	r3, 63728
 317              		.loc 1 120 9
 318 0014 003093E5 		ldr	r3, [r3]
 319 0018 08300BE5 		str	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 9


 121:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 320              		.loc 1 121 5
 321 001c 000000E3 		movw	r0, #:lower16:.LC0
 322 0020 000040E3 		movt	r0, #:upper16:.LC0
 323 0024 FEFFFFEB 		bl	RME_Str_Print
 122:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>24);
 324              		.loc 1 122 5
 325 0028 08301BE5 		ldr	r3, [fp, #-8]
 326 002c 233CA0E1 		lsr	r3, r3, #24
 327 0030 0300A0E1 		mov	r0, r3
 328 0034 FEFFFFEB 		bl	RME_Int_Print
 123:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Variant: ");
 329              		.loc 1 123 5
 330 0038 000000E3 		movw	r0, #:lower16:.LC1
 331 003c 000040E3 		movt	r0, #:upper16:.LC1
 332 0040 FEFFFFEB 		bl	RME_Str_Print
 124:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>20)&0xF);
 333              		.loc 1 124 5
 334 0044 08301BE5 		ldr	r3, [fp, #-8]
 335 0048 233AA0E1 		lsr	r3, r3, #20
 336 004c 0F3003E2 		and	r3, r3, #15
 337 0050 0300A0E1 		mov	r0, r3
 338 0054 FEFFFFEB 		bl	RME_Int_Print
 125:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Revision: ");
 339              		.loc 1 125 5
 340 0058 000000E3 		movw	r0, #:lower16:.LC2
 341 005c 000040E3 		movt	r0, #:upper16:.LC2
 342 0060 FEFFFFEB 		bl	RME_Str_Print
 126:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>12)&0xF);
 343              		.loc 1 126 5
 344 0064 08301BE5 		ldr	r3, [fp, #-8]
 345 0068 2336A0E1 		lsr	r3, r3, #12
 346 006c 0F3003E2 		and	r3, r3, #15
 347 0070 0300A0E1 		mov	r0, r3
 348 0074 FEFFFFEB 		bl	RME_Int_Print
 127:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Implementer: 0x");
 349              		.loc 1 127 5
 350 0078 000000E3 		movw	r0, #:lower16:.LC3
 351 007c 000040E3 		movt	r0, #:upper16:.LC3
 352 0080 FEFFFFEB 		bl	RME_Str_Print
 128:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Temp&0xFFF);
 353              		.loc 1 128 5
 354 0084 08301BE5 		ldr	r3, [fp, #-8]
 355 0088 5330EBE7 		ubfx	r3, r3, #0, #12
 356 008c 0300A0E1 		mov	r0, r3
 357 0090 FEFFFFEB 		bl	RME_Hex_Print
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 130:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* How many locked SPIs, security extension enabled or not, number of
 131:../../Source/Platform/A7A/rme_platform_a7a.c ****      * actual CPUs and interrupt lines */
 132:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_TYPER;
 358              		.loc 1 132 10
 359 0094 043001E3 		movw	r3, #4100
 360 0098 F0384FE3 		movt	r3, 63728
 361              		.loc 1 132 9
 362 009c 003093E5 		ldr	r3, [r3]
 363 00a0 08300BE5 		str	r3, [fp, #-8]
 133:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 10


 364              		.loc 1 133 5
 365 00a4 000000E3 		movw	r0, #:lower16:.LC4
 366 00a8 000040E3 		movt	r0, #:upper16:.LC4
 367 00ac FEFFFFEB 		bl	RME_Str_Print
 134:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 368              		.loc 1 134 5
 369 00b0 08301BE5 		ldr	r3, [fp, #-8]
 370 00b4 2338A0E1 		lsr	r3, r3, #16
 371 00b8 0300A0E1 		mov	r0, r3
 372 00bc FEFFFFEB 		bl	RME_Int_Print
 135:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Security extension: ");
 373              		.loc 1 135 5
 374 00c0 000000E3 		movw	r0, #:lower16:.LC5
 375 00c4 000040E3 		movt	r0, #:upper16:.LC5
 376 00c8 FEFFFFEB 		bl	RME_Str_Print
 136:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>10)&0x1);
 377              		.loc 1 136 5
 378 00cc 08301BE5 		ldr	r3, [fp, #-8]
 379 00d0 2335A0E1 		lsr	r3, r3, #10
 380 00d4 013003E2 		and	r3, r3, #1
 381 00d8 0300A0E1 		mov	r0, r3
 382 00dc FEFFFFEB 		bl	RME_Int_Print
 137:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: CPU number: ");
 383              		.loc 1 137 5
 384 00e0 000000E3 		movw	r0, #:lower16:.LC6
 385 00e4 000040E3 		movt	r0, #:upper16:.LC6
 386 00e8 FEFFFFEB 		bl	RME_Str_Print
 138:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(((Temp>>5)&0x7)+1);
 387              		.loc 1 138 5
 388 00ec 08301BE5 		ldr	r3, [fp, #-8]
 389 00f0 A332A0E1 		lsr	r3, r3, #5
 390 00f4 073003E2 		and	r3, r3, #7
 391 00f8 013083E2 		add	r3, r3, #1
 392 00fc 0300A0E1 		mov	r0, r3
 393 0100 FEFFFFEB 		bl	RME_Int_Print
 139:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 394              		.loc 1 139 5
 395 0104 000000E3 		movw	r0, #:lower16:.LC7
 396 0108 000040E3 		movt	r0, #:upper16:.LC7
 397 010c FEFFFFEB 		bl	RME_Str_Print
 140:../../Source/Platform/A7A/rme_platform_a7a.c ****     Lines=((Temp&0x1F)+1)*32;
 398              		.loc 1 140 17
 399 0110 08301BE5 		ldr	r3, [fp, #-8]
 400 0114 1F3003E2 		and	r3, r3, #31
 401              		.loc 1 140 23
 402 0118 013083E2 		add	r3, r3, #1
 403              		.loc 1 140 10
 404 011c 8332A0E1 		lsl	r3, r3, #5
 405 0120 0C300BE5 		str	r3, [fp, #-12]
 141:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 406              		.loc 1 141 5
 407 0124 0C301BE5 		ldr	r3, [fp, #-12]
 408 0128 0300A0E1 		mov	r0, r3
 409 012c FEFFFFEB 		bl	RME_Int_Print
 142:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 143:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 144:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 11


 145:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 0, and disable all */
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/32;Temp++)
 410              		.loc 1 146 10
 411 0130 0030A0E3 		mov	r3, #0
 412 0134 08300BE5 		str	r3, [fp, #-8]
 413              		.loc 1 146 2
 414 0138 1A0000EA 		b	.L7
 415              	.L8:
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 148:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 416              		.loc 1 148 3
 417 013c 08201BE5 		ldr	r2, [fp, #-8]
 418 0140 4A3EA0E3 		mov	r3, #1184
 419 0144 3C3E43E3 		movt	r3, 15932
 420 0148 033082E0 		add	r3, r2, r3
 421 014c 0331A0E1 		lsl	r3, r3, #2
 422 0150 0320A0E1 		mov	r2, r3
 423              		.loc 1 148 29
 424 0154 0030E0E3 		mvn	r3, #0
 425 0158 003082E5 		str	r3, [r2]
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 426              		.loc 1 149 3
 427 015c 08201BE5 		ldr	r2, [fp, #-8]
 428 0160 423EA0E3 		mov	r3, #1056
 429 0164 3C3E43E3 		movt	r3, 15932
 430 0168 033082E0 		add	r3, r2, r3
 431 016c 0331A0E1 		lsl	r3, r3, #2
 432 0170 0320A0E1 		mov	r2, r3
 433              		.loc 1 149 29
 434 0174 0030A0E3 		mov	r3, #0
 435 0178 003082E5 		str	r3, [r2]
 150:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 436              		.loc 1 150 3
 437 017c 08201BE5 		ldr	r2, [fp, #-8]
 438 0180 463EA0E3 		mov	r3, #1120
 439 0184 3C3E43E3 		movt	r3, 15932
 440 0188 033082E0 		add	r3, r2, r3
 441 018c 0331A0E1 		lsl	r3, r3, #2
 442 0190 0320A0E1 		mov	r2, r3
 443              		.loc 1 150 31
 444 0194 0030E0E3 		mvn	r3, #0
 445 0198 003082E5 		str	r3, [r2]
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 446              		.loc 1 146 31 discriminator 3
 447 019c 08301BE5 		ldr	r3, [fp, #-8]
 448 01a0 013083E2 		add	r3, r3, #1
 449 01a4 08300BE5 		str	r3, [fp, #-8]
 450              	.L7:
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 451              		.loc 1 146 23 discriminator 1
 452 01a8 0C301BE5 		ldr	r3, [fp, #-12]
 453 01ac A332A0E1 		lsr	r3, r3, #5
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 454              		.loc 1 146 17 discriminator 1
 455 01b0 08201BE5 		ldr	r2, [fp, #-8]
 456 01b4 030052E1 		cmp	r2, r3
 457 01b8 DFFFFF3A 		bcc	.L8
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 12


 151:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 152:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 153:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Set the priority of all such interrupts to the lowest level */
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/4;Temp++)
 458              		.loc 1 154 10
 459 01bc 0030A0E3 		mov	r3, #0
 460 01c0 08300BE5 		str	r3, [fp, #-8]
 461              		.loc 1 154 2
 462 01c4 0B0000EA 		b	.L9
 463              	.L10:
 155:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 464              		.loc 1 155 3
 465 01c8 08201BE5 		ldr	r2, [fp, #-8]
 466 01cc 053CA0E3 		mov	r3, #1280
 467 01d0 3C3E43E3 		movt	r3, 15932
 468 01d4 033082E0 		add	r3, r2, r3
 469 01d8 0331A0E1 		lsl	r3, r3, #2
 470 01dc 0320A0E1 		mov	r2, r3
 471              		.loc 1 155 32
 472 01e0 A0300AE3 		movw	r3, #41120
 473 01e4 A0304AE3 		movt	r3, 41120
 474 01e8 003082E5 		str	r3, [r2]
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 475              		.loc 1 154 30 discriminator 3
 476 01ec 08301BE5 		ldr	r3, [fp, #-8]
 477 01f0 013083E2 		add	r3, r3, #1
 478 01f4 08300BE5 		str	r3, [fp, #-8]
 479              	.L9:
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 480              		.loc 1 154 23 discriminator 1
 481 01f8 0C301BE5 		ldr	r3, [fp, #-12]
 482 01fc 2331A0E1 		lsr	r3, r3, #2
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 483              		.loc 1 154 17 discriminator 1
 484 0200 08201BE5 		ldr	r2, [fp, #-8]
 485 0204 030052E1 		cmp	r2, r3
 486 0208 EEFFFF3A 		bcc	.L10
 156:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts target CPU0 */
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=8;Temp<Lines/4;Temp++)
 487              		.loc 1 158 10
 488 020c 0830A0E3 		mov	r3, #8
 489 0210 08300BE5 		str	r3, [fp, #-8]
 490              		.loc 1 158 2
 491 0214 0B0000EA 		b	.L11
 492              	.L12:
 159:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 493              		.loc 1 159 3
 494 0218 08201BE5 		ldr	r2, [fp, #-8]
 495 021c 063CA0E3 		mov	r3, #1536
 496 0220 3C3E43E3 		movt	r3, 15932
 497 0224 033082E0 		add	r3, r2, r3
 498 0228 0331A0E1 		lsl	r3, r3, #2
 499 022c 0320A0E1 		mov	r2, r3
 500              		.loc 1 159 31
 501 0230 013100E3 		movw	r3, #257
 502 0234 013140E3 		movt	r3, 257
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 13


 503 0238 003082E5 		str	r3, [r2]
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 504              		.loc 1 158 30 discriminator 3
 505 023c 08301BE5 		ldr	r3, [fp, #-8]
 506 0240 013083E2 		add	r3, r3, #1
 507 0244 08300BE5 		str	r3, [fp, #-8]
 508              	.L11:
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 509              		.loc 1 158 23 discriminator 1
 510 0248 0C301BE5 		ldr	r3, [fp, #-12]
 511 024c 2331A0E1 		lsr	r3, r3, #2
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 512              		.loc 1 158 17 discriminator 1
 513 0250 08201BE5 		ldr	r2, [fp, #-8]
 514 0254 030052E1 		cmp	r2, r3
 515 0258 EEFFFF3A 		bcc	.L12
 160:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts are edge triggered, and use 1-N model */
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/16;Temp++)
 516              		.loc 1 162 10
 517 025c 0030A0E3 		mov	r3, #0
 518 0260 08300BE5 		str	r3, [fp, #-8]
 519              		.loc 1 162 2
 520 0264 0B0000EA 		b	.L13
 521              	.L14:
 163:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 522              		.loc 1 163 3
 523 0268 08201BE5 		ldr	r2, [fp, #-8]
 524 026c 073CA0E3 		mov	r3, #1792
 525 0270 3C3E43E3 		movt	r3, 15932
 526 0274 033082E0 		add	r3, r2, r3
 527 0278 0331A0E1 		lsl	r3, r3, #2
 528 027c 0320A0E1 		mov	r2, r3
 529              		.loc 1 163 27
 530 0280 553505E3 		movw	r3, #21845
 531 0284 553545E3 		movt	r3, 21845
 532 0288 003082E5 		str	r3, [r2]
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 533              		.loc 1 162 31 discriminator 3
 534 028c 08301BE5 		ldr	r3, [fp, #-8]
 535 0290 013083E2 		add	r3, r3, #1
 536 0294 08300BE5 		str	r3, [fp, #-8]
 537              	.L13:
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 538              		.loc 1 162 23 discriminator 1
 539 0298 0C301BE5 		ldr	r3, [fp, #-12]
 540 029c 2332A0E1 		lsr	r3, r3, #4
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 541              		.loc 1 162 17 discriminator 1
 542 02a0 08201BE5 		ldr	r2, [fp, #-8]
 543 02a4 030052E1 		cmp	r2, r3
 544 02a8 EEFFFF3A 		bcc	.L14
 164:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable the interrupt controller */
 166:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 545              		.loc 1 166 2
 546 02ac 013AA0E3 		mov	r3, #4096
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 14


 547 02b0 F0384FE3 		movt	r3, 63728
 548              		.loc 1 166 19
 549 02b4 0320A0E3 		mov	r2, #3
 550 02b8 002083E5 		str	r2, [r3]
 167:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 168:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 1, unless otherwise noted, and disable all */
 169:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/32;Temp++)
 170:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 171:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 172:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_IGROUPR(Temp)=0xFFFFFFFFU;
 173:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 174:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 175:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 176:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the priority of all such interrupts to the lowest level*/
 177:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/4;Temp++)
 178:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xE0E0E0E0U;
 179:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 180:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts target CPU0 */
 181:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=8;Temp<Lines/4;Temp++)
 182:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 183:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 184:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts are edge triggered, and use 1-N model */
 185:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/16;Temp++)
 186:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICFGR(Temp)=0xFFFFFFFFU;
 187:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 188:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the interrupt controller */
 189:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 190:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 191:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 551              		.loc 1 191 1
 552 02bc 00F020E3 		nop
 553 02c0 04D04BE2 		sub	sp, fp, #4
 554              		.cfi_def_cfa 13, 8
 555              		@ sp needed
 556 02c4 0088BDE8 		pop	{fp, pc}
 557              		.cfi_endproc
 558              	.LFE2:
 560              		.section	.text.__RME_A7A_Int_Local_Init,"ax",%progbits
 561              		.align	2
 562              		.global	__RME_A7A_Int_Local_Init
 563              		.syntax unified
 564              		.arm
 566              	__RME_A7A_Int_Local_Init:
 567              	.LFB3:
 192:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Init ******************************************/
 193:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 194:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Local_Init *****************************************
 195:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the local CPU interface of the processor.
 196:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 197:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 198:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 199:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 200:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Local_Init(void)
 201:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 568              		.loc 1 201 1
 569              		.cfi_startproc
 570              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 15


 571              		@ frame_needed = 1, uses_anonymous_args = 0
 572              		@ link register save eliminated.
 573 0000 04B02DE5 		str	fp, [sp, #-4]!
 574              		.cfi_def_cfa_offset 4
 575              		.cfi_offset 11, -4
 576 0004 00B08DE2 		add	fp, sp, #0
 577              		.cfi_def_cfa_register 11
 202:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Priority grouping */
 203:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_BPR=RME_A7A_GIC_GROUPING;
 578              		.loc 1 203 2
 579 0008 413FA0E3 		mov	r3, #260
 580 000c F0384FE3 		movt	r3, 63728
 581              		.loc 1 203 18
 582 0010 0020A0E3 		mov	r2, #0
 583 0014 002083E5 		str	r2, [r3]
 204:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 205:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable all interrupts to this interface - FIQ is bypassed, and all
 207:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * interrupts go through the IRQ. The FIQ feature is only available on
 208:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * the standalone FIQ interrupt line */
 209:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_ENABLEGRP0;
 584              		.loc 1 209 2
 585 0018 013CA0E3 		mov	r3, #256
 586 001c F0384FE3 		movt	r3, 63728
 587              		.loc 1 209 19
 588 0020 0120A0E3 		mov	r2, #1
 589 0024 002083E5 		str	r2, [r3]
 210:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 211:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_CBPR|RME_A7A_GICC_FIQEN|
 212:../../Source/Platform/A7A/rme_platform_a7a.c **** 			           RME_A7A_GICC_ENABLEGRP1|RME_A7A_GICC_ENABLEGRP0;
 213:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 214:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 215:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* No interrupts are masked - This must be set at last because enabling
 216:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * will trash the contents of this register if previously set. To maintain
 217:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * compatibility across all possible implementations, no priority level
 218:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * lower than 0xF0 will be considered valid */
 219:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_PMR=0xF0U;
 590              		.loc 1 219 2
 591 0028 413FA0E3 		mov	r3, #260
 592 002c F0384FE3 		movt	r3, 63728
 593              		.loc 1 219 18
 594 0030 F020A0E3 		mov	r2, #240
 595 0034 002083E5 		str	r2, [r3]
 220:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 596              		.loc 1 220 1
 597 0038 00F020E3 		nop
 598 003c 00D08BE2 		add	sp, fp, #0
 599              		.cfi_def_cfa_register 13
 600              		@ sp needed
 601 0040 04B09DE4 		ldr	fp, [sp], #4
 602              		.cfi_restore 11
 603              		.cfi_def_cfa_offset 0
 604 0044 1EFF2FE1 		bx	lr
 605              		.cfi_endproc
 606              	.LFE3:
 608              		.section	.text.__RME_A7A_Timer_Init,"ax",%progbits
 609              		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 16


 610              		.syntax unified
 611              		.arm
 613              	__RME_A7A_Timer_Init:
 614              	.LFB4:
 221:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Local_Init ************************************/
 222:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 223:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Timer_Init *********************************************
 224:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 225:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 226:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 227:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 228:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 229:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 230:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 231:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Timer_Init(void)
 232:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 615              		.loc 1 232 1
 616              		.cfi_startproc
 617              		@ args = 0, pretend = 0, frame = 0
 618              		@ frame_needed = 1, uses_anonymous_args = 0
 619              		@ link register save eliminated.
 620 0000 04B02DE5 		str	fp, [sp, #-4]!
 621              		.cfi_def_cfa_offset 4
 622              		.cfi_offset 11, -4
 623 0004 00B08DE2 		add	fp, sp, #0
 624              		.cfi_def_cfa_register 11
 233:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 234:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 235:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Writing this will also write the counter register as well */
 236:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTLR=RME_A7A_SYSTICK_VAL;
 625              		.loc 1 236 5
 626 0008 063CA0E3 		mov	r3, #1536
 627 000c F0384FE3 		movt	r3, 63728
 628              		.loc 1 236 22
 629 0010 782408E3 		movw	r2, #33912
 630 0014 3A2040E3 		movt	r2, 58
 631 0018 002083E5 		str	r2, [r3]
 237:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 238:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTISR=0;
 632              		.loc 1 238 5
 633 001c 0C3600E3 		movw	r3, #1548
 634 0020 F0384FE3 		movt	r3, 63728
 635              		.loc 1 238 23
 636 0024 0020A0E3 		mov	r2, #0
 637 0028 002083E5 		str	r2, [r3]
 239:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 240:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTCTLR=RME_A7A_PTWD_PTCTLR_PRESC(0)|
 638              		.loc 1 240 5
 639 002c 083600E3 		movw	r3, #1544
 640 0030 F0384FE3 		movt	r3, 63728
 641              		.loc 1 240 24
 642 0034 0720A0E3 		mov	r2, #7
 643 0038 002083E5 		str	r2, [r3]
 241:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 242:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_AUTOREL|
 243:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_TIMEN;
 244:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 17


 245:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the timer interrupt in the GIC */
 246:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_ISENABLER(0)|=1<<29;
 644              		.loc 1 246 5
 645 003c 113CA0E3 		mov	r3, #4352
 646 0040 F0384FE3 		movt	r3, 63728
 647 0044 002093E5 		ldr	r2, [r3]
 648 0048 113CA0E3 		mov	r3, #4352
 649 004c F0384FE3 		movt	r3, 63728
 650              		.loc 1 246 30
 651 0050 022282E3 		orr	r2, r2, #536870912
 652 0054 002083E5 		str	r2, [r3]
 247:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 248:../../Source/Platform/A7A/rme_platform_a7a.c **** 	#error Cortex-A7/8/15/17 is not supported at the moment.
 249:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cortex-A7/15/17 use the new generic timer, and Cortex-A8 does not
 250:../../Source/Platform/A7A/rme_platform_a7a.c **** 	have a processor timer due to very early release dates.
 251:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 252:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 653              		.loc 1 252 1
 654 0058 00F020E3 		nop
 655 005c 00D08BE2 		add	sp, fp, #0
 656              		.cfi_def_cfa_register 13
 657              		@ sp needed
 658 0060 04B09DE4 		ldr	fp, [sp], #4
 659              		.cfi_restore 11
 660              		.cfi_def_cfa_offset 0
 661 0064 1EFF2FE1 		bx	lr
 662              		.cfi_endproc
 663              	.LFE4:
 665              		.section	.text.__RME_A7A_Feature_Get,"ax",%progbits
 666              		.align	2
 667              		.global	__RME_A7A_Feature_Get
 668              		.syntax unified
 669              		.arm
 671              	__RME_A7A_Feature_Get:
 672              	.LFB5:
 253:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Timer_Init ****************************************/
 254:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 255:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Feature_Get ********************************************
 256:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Use the CPUID instruction extensively to get all the processor
 257:../../Source/Platform/A7A/rme_platform_a7a.c ****               information. We assume that all processors installed have the same
 258:../../Source/Platform/A7A/rme_platform_a7a.c ****               features.
 259:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 260:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 261:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 262:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 263:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Feature_Get(void)
 264:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 673              		.loc 1 264 1
 674              		.cfi_startproc
 675              		@ args = 0, pretend = 0, frame = 0
 676              		@ frame_needed = 1, uses_anonymous_args = 0
 677              		@ link register save eliminated.
 678 0000 04B02DE5 		str	fp, [sp, #-4]!
 679              		.cfi_def_cfa_offset 4
 680              		.cfi_offset 11, -4
 681 0004 00B08DE2 		add	fp, sp, #0
 682              		.cfi_def_cfa_register 11
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 18


 265:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 266:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* TODO: Check these flags. If not satisfied, we hang immediately. */
 267:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 683              		.loc 1 267 1
 684 0008 00F020E3 		nop
 685 000c 00D08BE2 		add	sp, fp, #0
 686              		.cfi_def_cfa_register 13
 687              		@ sp needed
 688 0010 04B09DE4 		ldr	fp, [sp], #4
 689              		.cfi_restore 11
 690              		.cfi_def_cfa_offset 0
 691 0014 1EFF2FE1 		bx	lr
 692              		.cfi_endproc
 693              	.LFE5:
 695              		.section	.text.__RME_A7A_Mem_Init,"ax",%progbits
 696              		.align	2
 697              		.global	__RME_A7A_Mem_Init
 698              		.syntax unified
 699              		.arm
 701              	__RME_A7A_Mem_Init:
 702              	.LFB6:
 268:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Feature_Get ***************************************/
 269:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 270:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Mem_Init ***********************************************
 271:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the memory map, and get the size of kernel object
 272:../../Source/Platform/A7A/rme_platform_a7a.c ****               allocation registration table(Kot) and page table reference
 273:../../Source/Platform/A7A/rme_platform_a7a.c ****               count registration table(Pgreg).
 274:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t MMap_Addr - The GRUB multiboot memory map data address.
 275:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t MMap_Length - The GRUB multiboot memory map data length.
 276:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 277:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 278:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 279:../../Source/Platform/A7A/rme_platform_a7a.c **** const rme_ptr_t RME_A7A_Mem_Info[RME_A7A_MEM_ENTRIES]={RME_A7A_MEM_CONTENTS};
 280:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Mem_Init(rme_ptr_t MMap_Addr, rme_ptr_t MMap_Length)
 281:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 703              		.loc 1 281 1
 704              		.cfi_startproc
 705              		@ args = 0, pretend = 0, frame = 8
 706              		@ frame_needed = 1, uses_anonymous_args = 0
 707              		@ link register save eliminated.
 708 0000 04B02DE5 		str	fp, [sp, #-4]!
 709              		.cfi_def_cfa_offset 4
 710              		.cfi_offset 11, -4
 711 0004 00B08DE2 		add	fp, sp, #0
 712              		.cfi_def_cfa_register 11
 713 0008 0CD04DE2 		sub	sp, sp, #12
 714 000c 08000BE5 		str	r0, [fp, #-8]
 715 0010 0C100BE5 		str	r1, [fp, #-12]
 282:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 283:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 716              		.loc 1 283 1
 717 0014 00F020E3 		nop
 718 0018 00D08BE2 		add	sp, fp, #0
 719              		.cfi_def_cfa_register 13
 720              		@ sp needed
 721 001c 04B09DE4 		ldr	fp, [sp], #4
 722              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 19


 723              		.cfi_def_cfa_offset 0
 724 0020 1EFF2FE1 		bx	lr
 725              		.cfi_endproc
 726              	.LFE6:
 728              		.section	.text.__RME_A7A_SMP_Init,"ax",%progbits
 729              		.align	2
 730              		.global	__RME_A7A_SMP_Init
 731              		.syntax unified
 732              		.arm
 734              	__RME_A7A_SMP_Init:
 735              	.LFB7:
 284:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Mem_Init ******************************************/
 285:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 286:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Init ***********************************************
 287:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Start all other processors, one by one.
 288:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 289:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 290:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 291:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 292:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Init(void)
 293:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 736              		.loc 1 293 1
 737              		.cfi_startproc
 738              		@ args = 0, pretend = 0, frame = 0
 739              		@ frame_needed = 1, uses_anonymous_args = 0
 740              		@ link register save eliminated.
 741 0000 04B02DE5 		str	fp, [sp, #-4]!
 742              		.cfi_def_cfa_offset 4
 743              		.cfi_offset 11, -4
 744 0004 00B08DE2 		add	fp, sp, #0
 745              		.cfi_def_cfa_register 11
 294:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 295:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 746              		.loc 1 295 1
 747 0008 00F020E3 		nop
 748 000c 00D08BE2 		add	sp, fp, #0
 749              		.cfi_def_cfa_register 13
 750              		@ sp needed
 751 0010 04B09DE4 		ldr	fp, [sp], #4
 752              		.cfi_restore 11
 753              		.cfi_def_cfa_offset 0
 754 0014 1EFF2FE1 		bx	lr
 755              		.cfi_endproc
 756              	.LFE7:
 758              		.section	.text.__RME_A7A_SMP_Tick,"ax",%progbits
 759              		.align	2
 760              		.global	__RME_A7A_SMP_Tick
 761              		.syntax unified
 762              		.arm
 764              	__RME_A7A_SMP_Tick:
 765              	.LFB8:
 296:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Init ******************************************/
 297:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 298:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Tick ***********************************************
 299:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Send IPI to all other cores,to run their handler on the time.
 300:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 301:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 20


 302:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 303:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 304:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Tick(void)
 305:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 766              		.loc 1 305 1
 767              		.cfi_startproc
 768              		@ args = 0, pretend = 0, frame = 0
 769              		@ frame_needed = 1, uses_anonymous_args = 0
 770              		@ link register save eliminated.
 771 0000 04B02DE5 		str	fp, [sp, #-4]!
 772              		.cfi_def_cfa_offset 4
 773              		.cfi_offset 11, -4
 774 0004 00B08DE2 		add	fp, sp, #0
 775              		.cfi_def_cfa_register 11
 306:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 307:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 776              		.loc 1 307 1
 777 0008 00F020E3 		nop
 778 000c 00D08BE2 		add	sp, fp, #0
 779              		.cfi_def_cfa_register 13
 780              		@ sp needed
 781 0010 04B09DE4 		ldr	fp, [sp], #4
 782              		.cfi_restore 11
 783              		.cfi_def_cfa_offset 0
 784 0014 1EFF2FE1 		bx	lr
 785              		.cfi_endproc
 786              	.LFE8:
 788              		.section	.rodata
 789 00d7 00       		.align	2
 790              	.LC8:
 791 00d8 0D0A4137 		.ascii	"\015\012A7A-Vector: 0x\000"
 791      412D5665 
 791      63746F72 
 791      3A203078 
 791      00
 792 00e9 000000   		.align	2
 793              	.LC9:
 794 00ec 0D0A4137 		.ascii	"\015\012A7A-Non-Secure: \000"
 794      412D4E6F 
 794      6E2D5365 
 794      63757265 
 794      3A2000
 795              		.section	.text.__RME_Lowlvl_Init,"ax",%progbits
 796              		.align	2
 797              		.global	__RME_Lowlvl_Init
 798              		.syntax unified
 799              		.arm
 801              	__RME_Lowlvl_Init:
 802              	.LFB9:
 308:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Tick *******************************************/
 309:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 310:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Lowlvl_Init **********************************************
 311:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the low-level hardware. This assumes that we are already
 312:../../Source/Platform/A7A/rme_platform_a7a.c ****               in Supervisor (SVC) mode.
 313:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 314:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 315:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 21


 316:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 317:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Lowlvl_Init(void)
 318:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 803              		.loc 1 318 1
 804              		.cfi_startproc
 805              		@ args = 0, pretend = 0, frame = 0
 806              		@ frame_needed = 1, uses_anonymous_args = 0
 807 0000 00482DE9 		push	{fp, lr}
 808              		.cfi_def_cfa_offset 8
 809              		.cfi_offset 11, -8
 810              		.cfi_offset 14, -4
 811 0004 04B08DE2 		add	fp, sp, #4
 812              		.cfi_def_cfa 11, 4
 319:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 320:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_LOW_LEVEL_INIT();
 321:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 322:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local data structure */
 323:../../Source/Platform/A7A/rme_platform_a7a.c ****     _RME_CPU_Local_Init(&RME_A7A_Local,0);
 813              		.loc 1 323 5
 814 0008 0010A0E3 		mov	r1, #0
 815 000c 000000E3 		movw	r0, #:lower16:RME_A7A_Local
 816 0010 000040E3 		movt	r0, #:upper16:RME_A7A_Local
 817 0014 FEFFFFEB 		bl	_RME_CPU_Local_Init
 324:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 325:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the interrupt controller */
 326:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_Int_Init();
 818              		.loc 1 326 5
 819 0018 FEFFFFEB 		bl	__RME_A7A_Int_Init
 327:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 328:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize CPU-local interrupt resources */
 329:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Int_Local_Init();
 820              		.loc 1 329 2
 821 001c FEFFFFEB 		bl	__RME_A7A_Int_Local_Init
 330:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 331:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the vector table */
 332:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Vector: 0x");
 822              		.loc 1 332 5
 823 0020 000000E3 		movw	r0, #:lower16:.LC8
 824 0024 000040E3 		movt	r0, #:upper16:.LC8
 825 0028 FEFFFFEB 		bl	RME_Str_Print
 333:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H((rme_ptr_t)&__RME_A7A_Vector_Table);
 826              		.loc 1 333 5
 827 002c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 828 0030 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 829 0034 0300A0E1 		mov	r0, r3
 830 0038 FEFFFFEB 		bl	RME_Hex_Print
 334:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_VBAR_Set((rme_ptr_t)&__RME_A7A_Vector_Table);
 831              		.loc 1 334 5
 832 003c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 833 0040 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 834 0044 0300A0E1 		mov	r0, r3
 835 0048 FEFFFFEB 		bl	__RME_A7A_VBAR_Set
 335:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 336:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Non-Secure: ");
 836              		.loc 1 336 5
 837 004c 000000E3 		movw	r0, #:lower16:.LC9
 838 0050 000040E3 		movt	r0, #:upper16:.LC9
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 22


 839 0054 FEFFFFEB 		bl	RME_Str_Print
 337:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(__RME_A7A_SCR_Get());
 840              		.loc 1 337 5
 841 0058 FEFFFFEB 		bl	__RME_A7A_SCR_Get
 842 005c 0030A0E1 		mov	r3, r0
 843              		.loc 1 337 5 is_stmt 0 discriminator 1
 844 0060 0300A0E1 		mov	r0, r3
 845 0064 FEFFFFEB 		bl	RME_Hex_Print
 338:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 846              		.loc 1 338 1 is_stmt 1
 847 0068 00F020E3 		nop
 848 006c 0088BDE8 		pop	{fp, pc}
 849              		.cfi_endproc
 850              	.LFE9:
 852              		.section	.text.__RME_Pgt_Kom_Init,"ax",%progbits
 853              		.align	2
 854              		.global	__RME_Pgt_Kom_Init
 855              		.syntax unified
 856              		.arm
 858              	__RME_Pgt_Kom_Init:
 859              	.LFB10:
 339:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Lowlvl_Init *****************************************/
 340:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 341:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Kom_Init *********************************************
 342:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the kernel mapping tables, so it can be added to all the
 343:../../Source/Platform/A7A/rme_platform_a7a.c ****               top-level page tables. Currently this have no consideration for >1TB
 344:../../Source/Platform/A7A/rme_platform_a7a.c ****               RAM, and is not NUMA-aware.
 345:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 346:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 347:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 348:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 349:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Kom_Init(void)
 350:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 860              		.loc 1 350 1
 861              		.cfi_startproc
 862              		@ args = 0, pretend = 0, frame = 0
 863              		@ frame_needed = 1, uses_anonymous_args = 0
 864              		@ link register save eliminated.
 865 0000 04B02DE5 		str	fp, [sp, #-4]!
 866              		.cfi_def_cfa_offset 4
 867              		.cfi_offset 11, -4
 868 0004 00B08DE2 		add	fp, sp, #0
 869              		.cfi_def_cfa_register 11
 351:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Use initial page table here instead for kernel, which is sufficient */
 352:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 353:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 870              		.loc 1 353 12
 871 0008 0030A0E3 		mov	r3, #0
 354:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 872              		.loc 1 354 1
 873 000c 0300A0E1 		mov	r0, r3
 874 0010 00D08BE2 		add	sp, fp, #0
 875              		.cfi_def_cfa_register 13
 876              		@ sp needed
 877 0014 04B09DE4 		ldr	fp, [sp], #4
 878              		.cfi_restore 11
 879              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 23


 880 0018 1EFF2FE1 		bx	lr
 881              		.cfi_endproc
 882              	.LFE10:
 884              		.section	.text.__RME_SMP_Low_Level_Init,"ax",%progbits
 885              		.align	2
 886              		.global	__RME_SMP_Low_Level_Init
 887              		.syntax unified
 888              		.arm
 890              	__RME_SMP_Low_Level_Init:
 891              	.LFB11:
 355:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Kom_Init ****************************************/
 356:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 357:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_SMP_Low_Level_Init ******************************************
 358:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Low-level initialization for all other cores.
 359:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 360:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 361:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 362:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 363:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_SMP_Low_Level_Init(void)
 364:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 892              		.loc 1 364 1
 893              		.cfi_startproc
 894              		@ args = 0, pretend = 0, frame = 0
 895              		@ frame_needed = 1, uses_anonymous_args = 0
 896              		@ link register save eliminated.
 897 0000 04B02DE5 		str	fp, [sp, #-4]!
 898              		.cfi_def_cfa_offset 4
 899              		.cfi_offset 11, -4
 900 0004 00B08DE2 		add	fp, sp, #0
 901              		.cfi_def_cfa_register 11
 365:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 366:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_SMP_LOW_LEVEL_INIT();
 367:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local variables */
 368:../../Source/Platform/A7A/rme_platform_a7a.c ****    // _RME_CPU_Local_Init(&RME_A7A_Local[RME_A7A_CPU_Cnt],RME_A7A_CPU_Cnt);
 369:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 902              		.loc 1 369 12
 903 0008 0030A0E3 		mov	r3, #0
 370:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 904              		.loc 1 370 1
 905 000c 0300A0E1 		mov	r0, r3
 906 0010 00D08BE2 		add	sp, fp, #0
 907              		.cfi_def_cfa_register 13
 908              		@ sp needed
 909 0014 04B09DE4 		ldr	fp, [sp], #4
 910              		.cfi_restore 11
 911              		.cfi_def_cfa_offset 0
 912 0018 1EFF2FE1 		bx	lr
 913              		.cfi_endproc
 914              	.LFE11:
 916              		.section	.rodata
 917 00ff 00       		.align	2
 918              	.LC10:
 919 0100 0D0A6375 		.ascii	"\015\012cur addr= \000"
 919      72206164 
 919      64723D20 
 919      00
 920 010d 000000   		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 24


 921              	.LC11:
 922 0110 0D0A7374 		.ascii	"\015\012start rme boot\000"
 922      61727420 
 922      726D6520 
 922      626F6F74 
 922      00
 923 0121 000000   		.align	2
 924              	.LC12:
 925 0124 0D0A7374 		.ascii	"\015\012start cpt creation\000"
 925      61727420 
 925      63707420 
 925      63726561 
 925      74696F6E 
 926 0139 000000   		.align	2
 927              	.LC13:
 928 013c 32323A30 		.ascii	"22:00:42\000"
 928      303A3432 
 928      00
 929 0145 000000   		.align	2
 930              	.LC14:
 931 0148 4D617220 		.ascii	"Mar  5 2025\000"
 931      20352032 
 931      30323500 
 932              		.align	2
 933              	.LC15:
 934 0154 2E2E2F2E 		.ascii	"../../Source/Platform/A7A/rme_platform_a7a.c\000"
 934      2E2F536F 
 934      75726365 
 934      2F506C61 
 934      74666F72 
 935 0181 000000   		.align	2
 936              	.LC16:
 937 0184 0D0A7374 		.ascii	"\015\012start pgt creation.\000"
 937      61727420 
 937      70677420 
 937      63726561 
 937      74696F6E 
 938 019a 0000     		.align	2
 939              	.LC17:
 940 019c 0D0A7061 		.ascii	"\015\012paddr= \000"
 940      6464723D 
 940      2000
 941 01a6 0000     		.align	2
 942              	.LC18:
 943 01a8 0D0A7265 		.ascii	"\015\012reg= \000"
 943      673D2000 
 944              		.section	.text.__RME_Boot,"ax",%progbits
 945              		.align	2
 946              		.global	__RME_Boot
 947              		.syntax unified
 948              		.arm
 950              	__RME_Boot:
 951              	.LFB12:
 371:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_SMP_Low_Level_Init *************************************/
 372:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 373:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Boot ********************************************************
 374:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Boot the first process in the system.
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 25


 375:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 376:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 377:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 378:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 379:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Boot(void)
 380:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 952              		.loc 1 380 1
 953              		.cfi_startproc
 954              		@ args = 0, pretend = 0, frame = 8
 955              		@ frame_needed = 1, uses_anonymous_args = 0
 956 0000 00482DE9 		push	{fp, lr}
 957              		.cfi_def_cfa_offset 8
 958              		.cfi_offset 11, -8
 959              		.cfi_offset 14, -4
 960 0004 04B08DE2 		add	fp, sp, #4
 961              		.cfi_def_cfa 11, 4
 962 0008 18D04DE2 		sub	sp, sp, #24
 381:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Count;
 382:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Cur_Addr;
 383:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr=RME_KOM_VA_BASE;
 963              		.loc 1 383 13
 964 000c 8134A0E3 		mov	r3, #-2130706432
 965 0010 08300BE5 		str	r3, [fp, #-8]
 384:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\ncur addr= ");
 966              		.loc 1 384 5
 967 0014 000000E3 		movw	r0, #:lower16:.LC10
 968 0018 000040E3 		movt	r0, #:upper16:.LC10
 969 001c FEFFFFEB 		bl	RME_Str_Print
 385:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 970              		.loc 1 385 5
 971 0020 08001BE5 		ldr	r0, [fp, #-8]
 972 0024 FEFFFFEB 		bl	RME_Hex_Print
 386:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart rme boot");
 973              		.loc 1 386 5
 974 0028 000000E3 		movw	r0, #:lower16:.LC11
 975 002c 000040E3 		movt	r0, #:upper16:.LC11
 976 0030 FEFFFFEB 		bl	RME_Str_Print
 387:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 388:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the capability table for the init process */
 389:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart cpt creation");
 977              		.loc 1 389 5
 978 0034 000000E3 		movw	r0, #:lower16:.LC12
 979 0038 000040E3 		movt	r0, #:upper16:.LC12
 980 003c FEFFFFEB 		bl	RME_Str_Print
 390:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Cpt_Boot_Init(RME_BOOT_INIT_CPT,
 981              		.loc 1 390 5
 982 0040 8020A0E3 		mov	r2, #128
 983 0044 08101BE5 		ldr	r1, [fp, #-8]
 984 0048 0000A0E3 		mov	r0, #0
 985 004c FEFFFFEB 		bl	_RME_Cpt_Boot_Init
 986 0050 0030A0E1 		mov	r3, r0
 987              		.loc 1 390 5 is_stmt 0 discriminator 1
 988 0054 000053E3 		cmp	r3, #0
 989 0058 0800000A 		beq	.L27
 990 005c 003000E3 		movw	r3, #:lower16:.LC13
 991 0060 003040E3 		movt	r3, #:upper16:.LC13
 992 0064 002000E3 		movw	r2, #:lower16:.LC14
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 26


 993 0068 002040E3 		movt	r2, #:upper16:.LC14
 994 006c 861100E3 		movw	r1, #390
 995 0070 000000E3 		movw	r0, #:lower16:.LC15
 996 0074 000040E3 		movt	r0, #:upper16:.LC15
 997 0078 FEFFFFEB 		bl	RME_Log
 998              	.L28:
 999              		.loc 1 390 5
 1000 007c FEFFFFEA 		b	.L28
 1001              	.L27:
 391:../../Source/Platform/A7A/rme_platform_a7a.c ****                                   Cur_Addr,
 392:../../Source/Platform/A7A/rme_platform_a7a.c ****                                   RME_A7A_INIT_CPT_SIZE)==0);
 393:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_CPT_SIZE(RME_A7A_INIT_CPT_SIZE));
 1002              		.loc 1 393 13 is_stmt 1
 1003 0080 08301BE5 		ldr	r3, [fp, #-8]
 1004 0084 013A83E2 		add	r3, r3, #4096
 1005 0088 08300BE5 		str	r3, [fp, #-8]
 394:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\ncur addr= ");
 1006              		.loc 1 394 5
 1007 008c 000000E3 		movw	r0, #:lower16:.LC10
 1008 0090 000040E3 		movt	r0, #:upper16:.LC10
 1009 0094 FEFFFFEB 		bl	RME_Str_Print
 395:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1010              		.loc 1 395 5
 1011 0098 08001BE5 		ldr	r0, [fp, #-8]
 1012 009c FEFFFFEB 		bl	RME_Hex_Print
 396:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The top-level page table - covers 1M address range - align to 16kB */
 397:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart pgt creation.");
 1013              		.loc 1 397 5
 1014 00a0 000000E3 		movw	r0, #:lower16:.LC16
 1015 00a4 000040E3 		movt	r0, #:upper16:.LC16
 1016 00a8 FEFFFFEB 		bl	RME_Str_Print
 398:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr=RME_ROUND_UP(Cur_Addr,14U);
 1017              		.loc 1 398 14
 1018 00ac 08301BE5 		ldr	r3, [fp, #-8]
 1019 00b0 FF3D83E2 		add	r3, r3, #16320
 1020 00b4 3F3083E2 		add	r3, r3, #63
 1021              		.loc 1 398 13
 1022 00b8 FF3DC3E3 		bic	r3, r3, #16320
 1023 00bc 3F30C3E3 		bic	r3, r3, #63
 1024 00c0 08300BE5 		str	r3, [fp, #-8]
 399:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\ncur addr= ");
 1025              		.loc 1 399 5
 1026 00c4 000000E3 		movw	r0, #:lower16:.LC10
 1027 00c8 000040E3 		movt	r0, #:upper16:.LC10
 1028 00cc FEFFFFEB 		bl	RME_Str_Print
 400:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1029              		.loc 1 400 5
 1030 00d0 08001BE5 		ldr	r0, [fp, #-8]
 1031 00d4 FEFFFFEB 		bl	RME_Hex_Print
 401:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Pgt_Boot_Crt(RME_A7A_CPT,
 1032              		.loc 1 401 5
 1033 00d8 0C30A0E3 		mov	r3, #12
 1034 00dc 0C308DE5 		str	r3, [sp, #12]
 1035 00e0 1430A0E3 		mov	r3, #20
 1036 00e4 08308DE5 		str	r3, [sp, #8]
 1037 00e8 0130A0E3 		mov	r3, #1
 1038 00ec 04308DE5 		str	r3, [sp, #4]
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 27


 1039 00f0 0030A0E3 		mov	r3, #0
 1040 00f4 00308DE5 		str	r3, [sp]
 1041 00f8 08301BE5 		ldr	r3, [fp, #-8]
 1042 00fc 0120A0E3 		mov	r2, #1
 1043 0100 0010A0E3 		mov	r1, #0
 1044 0104 8104A0E3 		mov	r0, #-2130706432
 1045 0108 FEFFFFEB 		bl	_RME_Pgt_Boot_Crt
 1046 010c 0030A0E1 		mov	r3, r0
 1047              		.loc 1 401 5 is_stmt 0 discriminator 1
 1048 0110 000053E3 		cmp	r3, #0
 1049 0114 0800000A 		beq	.L29
 1050 0118 003000E3 		movw	r3, #:lower16:.LC13
 1051 011c 003040E3 		movt	r3, #:upper16:.LC13
 1052 0120 002000E3 		movw	r2, #:lower16:.LC14
 1053 0124 002040E3 		movt	r2, #:upper16:.LC14
 1054 0128 911100E3 		movw	r1, #401
 1055 012c 000000E3 		movw	r0, #:lower16:.LC15
 1056 0130 000040E3 		movt	r0, #:upper16:.LC15
 1057 0134 FEFFFFEB 		bl	RME_Log
 1058              	.L30:
 1059              		.loc 1 401 5
 1060 0138 FEFFFFEA 		b	.L30
 1061              	.L29:
 402:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 403:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PGT,
 404:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  Cur_Addr,
 405:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  0x00000000U,
 406:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_TOP,
 407:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_SIZE_1M,
 408:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_NUM_4K)==0);
 409:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_PGT_SIZE_TOP(RME_PGT_NUM_4K));
 1062              		.loc 1 409 13 is_stmt 1
 1063 013c 08301BE5 		ldr	r3, [fp, #-8]
 1064 0140 013A83E2 		add	r3, r3, #4096
 1065 0144 08300BE5 		str	r3, [fp, #-8]
 410:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 411:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Normal memory, 1GiB 0x00000000 -> 0x00000000 */
 412:../../Source/Platform/A7A/rme_platform_a7a.c ****     //for(Count=0U;Count<0x400U;Count++)
 413:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x10U;Count++)
 1066              		.loc 1 413 14
 1067 0148 0030A0E3 		mov	r3, #0
 1068 014c 0C300BE5 		str	r3, [fp, #-12]
 1069              		.loc 1 413 5
 1070 0150 2B0000EA 		b	.L31
 1071              	.L34:
 414:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 415:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1072              		.loc 1 415 3
 1073 0154 0C301BE5 		ldr	r3, [fp, #-12]
 1074 0158 032AA0E1 		lsl	r2, r3, #20
 1075 015c 1F30A0E3 		mov	r3, #31
 1076 0160 00308DE5 		str	r3, [sp]
 1077 0164 0C301BE5 		ldr	r3, [fp, #-12]
 1078 0168 0110A0E3 		mov	r1, #1
 1079 016c 8104A0E3 		mov	r0, #-2130706432
 1080 0170 FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1081 0174 0030A0E1 		mov	r3, r0
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 28


 1082              		.loc 1 415 3 is_stmt 0 discriminator 1
 1083 0178 000053E3 		cmp	r3, #0
 1084 017c 0800000A 		beq	.L32
 1085 0180 003000E3 		movw	r3, #:lower16:.LC13
 1086 0184 003040E3 		movt	r3, #:upper16:.LC13
 1087 0188 002000E3 		movw	r2, #:lower16:.LC14
 1088 018c 002040E3 		movt	r2, #:upper16:.LC14
 1089 0190 9F1100E3 		movw	r1, #415
 1090 0194 000000E3 		movw	r0, #:lower16:.LC15
 1091 0198 000040E3 		movt	r0, #:upper16:.LC15
 1092 019c FEFFFFEB 		bl	RME_Log
 1093              	.L33:
 1094              		.loc 1 415 3
 1095 01a0 FEFFFFEA 		b	.L33
 1096              	.L32:
 416:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 417:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 Count*RME_POW2(RME_PGT_SIZE_1M),
 418:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 Count,
 419:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      RME_PGT_ALL_DYN)==0);
 420:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      
 421:../../Source/Platform/A7A/rme_platform_a7a.c ****          RME_DBG_S("\r\npaddr= ");
 1097              		.loc 1 421 10 is_stmt 1
 1098 01a4 000000E3 		movw	r0, #:lower16:.LC17
 1099 01a8 000040E3 		movt	r0, #:upper16:.LC17
 1100 01ac FEFFFFEB 		bl	RME_Str_Print
 422:../../Source/Platform/A7A/rme_platform_a7a.c ****          RME_DBG_H(Cur_Addr+Count*4-RME_PGT_SIZE_TOP(RME_PGT_NUM_4K));
 1101              		.loc 1 422 10
 1102 01b0 0C301BE5 		ldr	r3, [fp, #-12]
 1103 01b4 0321A0E1 		lsl	r2, r3, #2
 1104 01b8 08301BE5 		ldr	r3, [fp, #-8]
 1105 01bc 033082E0 		add	r3, r2, r3
 1106 01c0 013A43E2 		sub	r3, r3, #4096
 1107 01c4 0300A0E1 		mov	r0, r3
 1108 01c8 FEFFFFEB 		bl	RME_Hex_Print
 423:../../Source/Platform/A7A/rme_platform_a7a.c ****          RME_DBG_S("\r\nreg= ");
 1109              		.loc 1 423 10
 1110 01cc 000000E3 		movw	r0, #:lower16:.LC18
 1111 01d0 000040E3 		movt	r0, #:upper16:.LC18
 1112 01d4 FEFFFFEB 		bl	RME_Str_Print
 424:../../Source/Platform/A7A/rme_platform_a7a.c ****          RME_DBG_H(RME_A7A_REG(Cur_Addr+Count*4-RME_PGT_SIZE_TOP(RME_PGT_NUM_4K)));
 1113              		.loc 1 424 10
 1114 01d8 0C301BE5 		ldr	r3, [fp, #-12]
 1115 01dc 0321A0E1 		lsl	r2, r3, #2
 1116 01e0 08301BE5 		ldr	r3, [fp, #-8]
 1117 01e4 033082E0 		add	r3, r2, r3
 1118 01e8 013A43E2 		sub	r3, r3, #4096
 1119 01ec 003093E5 		ldr	r3, [r3]
 1120 01f0 0300A0E1 		mov	r0, r3
 1121 01f4 FEFFFFEB 		bl	RME_Hex_Print
 413:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1122              		.loc 1 413 35 discriminator 2
 1123 01f8 0C301BE5 		ldr	r3, [fp, #-12]
 1124 01fc 013083E2 		add	r3, r3, #1
 1125 0200 0C300BE5 		str	r3, [fp, #-12]
 1126              	.L31:
 413:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1127              		.loc 1 413 23 discriminator 1
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 29


 1128 0204 0C301BE5 		ldr	r3, [fp, #-12]
 1129 0208 0F0053E3 		cmp	r3, #15
 1130 020c D0FFFF9A 		bls	.L34
 1131              	.L35:
 425:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 426:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 427:../../Source/Platform/A7A/rme_platform_a7a.c ****     while(1);
 1132              		.loc 1 427 10
 1133 0210 FEFFFFEA 		b	.L35
 1134              		.cfi_endproc
 1135              	.LFE12:
 1137              		.section	.text.__RME_Reboot,"ax",%progbits
 1138              		.align	2
 1139              		.global	__RME_Reboot
 1140              		.syntax unified
 1141              		.arm
 1143              	__RME_Reboot:
 1144              	.LFB13:
 428:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 429:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Device memory 1, 512MiB 0x40000000 -> 0x40000000 */
 430:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 431:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 432:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 433:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 434:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x400U)*RME_POW2(RME_PGT_SIZE_1M),
 435:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x400U),
 436:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE|RME_PGT_STATIC)==0);
 437:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 438:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 439:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Device memory 2, 512MiB 0x60000000 -> 0xE0000000 */
 440:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 441:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 442:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 443:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 444:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0xE00U)*RME_POW2(RME_PGT_SIZE_1M),
 445:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x600U),
 446:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE|RME_PGT_STATIC)==0);
 447:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 448:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 449:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Activate the first process - This process cannot be deleted */
 450:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart prc creation.");
 451:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Prc_Boot_Crt(RME_A7A_CPT,
 452:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 453:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PRC,
 454:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 455:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PGT)==0U);
 456:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 457:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Activate the first thread, and set its priority */
 458:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Thd_Boot_Crt(RME_A7A_CPT,
 459:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 460:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_THD,
 461:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PRC,
 462:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  Cur_Addr,
 463:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  0U,
 464:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  &RME_A7A_Local)==0);
 465:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_THD_SIZE(0U));
 466:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 30


 467:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the initial kernel function capability, and kernel memory capability */
 468:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart kfn/kom creation.");
 469:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Kfn_Boot_Crt(RME_A7A_CPT,
 470:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 471:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_KFN)==0);
 472:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Kom_Boot_Crt(RME_A7A_CPT, 
 473:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT, 
 474:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_KOM,
 475:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_VA_BASE,
 476:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_VA_BASE+RME_KOM_VA_SIZE-1U,
 477:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_FLAG_ALL)==0U);
 478:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 479:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the initial kernel endpoint for timer ticks and interrupts */
 480:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_Local.Sig_Tim=(struct RME_Cap_Sig*)&(RME_A7A_CPT[RME_BOOT_INIT_VCT]);
 481:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_Local.Sig_Vct=(struct RME_Cap_Sig*)&(RME_A7A_CPT[RME_BOOT_INIT_VCT]);
 482:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreate the initial kernel endpoint for timer ticks and interrupts");
 483:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Sig_Boot_Crt(RME_A7A_CPT,
 484:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 485:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_VCT)==0);
 486:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 487:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set page table as current */
 488:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Pgt_Set(RME_A7A_Local.Thd_Cur->Sched.Prc->Pgt);
 489:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 490:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize timer and enable interrupts */
 491:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nenable interrupts");
 492:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Timer_Init();
 493:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Int_Enable();
 494:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 495:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Boot into the init thread */
 496:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_User_Enter(RME_A7A_INIT_ENTRY,RME_A7A_INIT_STACK,0U);
 497:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 498:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Should never reach here */
 499:../../Source/Platform/A7A/rme_platform_a7a.c ****     while(1);
 500:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 501:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Boot ***************************************************/
 502:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 503:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Reboot ******************************************************
 504:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Reboot the machine, abandon all operating system states.
 505:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 506:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 507:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 508:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 509:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Reboot(void)
 510:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1145              		.loc 1 510 1
 1146              		.cfi_startproc
 1147              		@ args = 0, pretend = 0, frame = 0
 1148              		@ frame_needed = 1, uses_anonymous_args = 0
 1149              		@ link register save eliminated.
 1150 0000 04B02DE5 		str	fp, [sp, #-4]!
 1151              		.cfi_def_cfa_offset 4
 1152              		.cfi_offset 11, -4
 1153 0004 00B08DE2 		add	fp, sp, #0
 1154              		.cfi_def_cfa_register 11
 511:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 512:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1155              		.loc 1 512 1
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 31


 1156 0008 00F020E3 		nop
 1157 000c 00D08BE2 		add	sp, fp, #0
 1158              		.cfi_def_cfa_register 13
 1159              		@ sp needed
 1160 0010 04B09DE4 		ldr	fp, [sp], #4
 1161              		.cfi_restore 11
 1162              		.cfi_def_cfa_offset 0
 1163 0014 1EFF2FE1 		bx	lr
 1164              		.cfi_endproc
 1165              	.LFE13:
 1167              		.section	.text.__RME_Shutdown,"ax",%progbits
 1168              		.align	2
 1169              		.global	__RME_Shutdown
 1170              		.syntax unified
 1171              		.arm
 1173              	__RME_Shutdown:
 1174              	.LFB14:
 513:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Reboot *************************************************/
 514:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 515:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Shutdown ****************************************************
 516:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Shutdown the machine, abandon all operating system states.
 517:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 518:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 519:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 520:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 521:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Shutdown(void)
 522:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1175              		.loc 1 522 1
 1176              		.cfi_startproc
 1177              		@ args = 0, pretend = 0, frame = 0
 1178              		@ frame_needed = 1, uses_anonymous_args = 0
 1179              		@ link register save eliminated.
 1180 0000 04B02DE5 		str	fp, [sp, #-4]!
 1181              		.cfi_def_cfa_offset 4
 1182              		.cfi_offset 11, -4
 1183 0004 00B08DE2 		add	fp, sp, #0
 1184              		.cfi_def_cfa_register 11
 523:../../Source/Platform/A7A/rme_platform_a7a.c ****    // RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 524:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1185              		.loc 1 524 1
 1186 0008 00F020E3 		nop
 1187 000c 00D08BE2 		add	sp, fp, #0
 1188              		.cfi_def_cfa_register 13
 1189              		@ sp needed
 1190 0010 04B09DE4 		ldr	fp, [sp], #4
 1191              		.cfi_restore 11
 1192              		.cfi_def_cfa_offset 0
 1193 0014 1EFF2FE1 		bx	lr
 1194              		.cfi_endproc
 1195              	.LFE14:
 1197              		.section	.text.__RME_Svc_Param_Get,"ax",%progbits
 1198              		.align	2
 1199              		.global	__RME_Svc_Param_Get
 1200              		.syntax unified
 1201              		.arm
 1203              	__RME_Svc_Param_Get:
 1204              	.LFB15:
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 32


 525:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Shutdown ***********************************************/
 526:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 527:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Get_Syscall_Param *******************************************
 528:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the system call parameters from the stack frame.
 529:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 530:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Svc - The system service number.
 531:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Capid - The capability ID number.
 532:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Param - The parameters.
 533:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 534:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 535:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Param_Get(struct RME_Reg_Struct* Reg,rme_ptr_t* Svc,rme_ptr_t* Capid,rme_ptr_t* Para
 536:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1205              		.loc 1 536 1
 1206              		.cfi_startproc
 1207              		@ args = 0, pretend = 0, frame = 16
 1208              		@ frame_needed = 1, uses_anonymous_args = 0
 1209              		@ link register save eliminated.
 1210 0000 04B02DE5 		str	fp, [sp, #-4]!
 1211              		.cfi_def_cfa_offset 4
 1212              		.cfi_offset 11, -4
 1213 0004 00B08DE2 		add	fp, sp, #0
 1214              		.cfi_def_cfa_register 11
 1215 0008 14D04DE2 		sub	sp, sp, #20
 1216 000c 08000BE5 		str	r0, [fp, #-8]
 1217 0010 0C100BE5 		str	r1, [fp, #-12]
 1218 0014 10200BE5 		str	r2, [fp, #-16]
 1219 0018 14300BE5 		str	r3, [fp, #-20]
 537:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Svc=(Reg->R0)>>16;
 1220              		.loc 1 537 14
 1221 001c 08301BE5 		ldr	r3, [fp, #-8]
 1222 0020 043093E5 		ldr	r3, [r3, #4]
 1223              		.loc 1 537 19
 1224 0024 2328A0E1 		lsr	r2, r3, #16
 1225              		.loc 1 537 9
 1226 0028 0C301BE5 		ldr	r3, [fp, #-12]
 1227 002c 002083E5 		str	r2, [r3]
 538:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Capid=(Reg->R0)&0xFFFF;
 1228              		.loc 1 538 16
 1229 0030 08301BE5 		ldr	r3, [fp, #-8]
 1230 0034 043093E5 		ldr	r3, [r3, #4]
 1231              		.loc 1 538 21
 1232 0038 7320FFE6 		uxth	r2, r3
 1233              		.loc 1 538 11
 1234 003c 10301BE5 		ldr	r3, [fp, #-16]
 1235 0040 002083E5 		str	r2, [r3]
 539:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[0]=Reg->R1;
 1236              		.loc 1 539 17
 1237 0044 08301BE5 		ldr	r3, [fp, #-8]
 1238 0048 082093E5 		ldr	r2, [r3, #8]
 1239              		.loc 1 539 13
 1240 004c 14301BE5 		ldr	r3, [fp, #-20]
 1241 0050 002083E5 		str	r2, [r3]
 540:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[1]=Reg->R2;
 1242              		.loc 1 540 10
 1243 0054 14301BE5 		ldr	r3, [fp, #-20]
 1244 0058 043083E2 		add	r3, r3, #4
 1245              		.loc 1 540 17
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 33


 1246 005c 08201BE5 		ldr	r2, [fp, #-8]
 1247 0060 0C2092E5 		ldr	r2, [r2, #12]
 1248              		.loc 1 540 13
 1249 0064 002083E5 		str	r2, [r3]
 541:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[2]=Reg->R3;
 1250              		.loc 1 541 10
 1251 0068 14301BE5 		ldr	r3, [fp, #-20]
 1252 006c 083083E2 		add	r3, r3, #8
 1253              		.loc 1 541 17
 1254 0070 08201BE5 		ldr	r2, [fp, #-8]
 1255 0074 102092E5 		ldr	r2, [r2, #16]
 1256              		.loc 1 541 13
 1257 0078 002083E5 		str	r2, [r3]
 542:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1258              		.loc 1 542 1
 1259 007c 00F020E3 		nop
 1260 0080 00D08BE2 		add	sp, fp, #0
 1261              		.cfi_def_cfa_register 13
 1262              		@ sp needed
 1263 0084 04B09DE4 		ldr	fp, [sp], #4
 1264              		.cfi_restore 11
 1265              		.cfi_def_cfa_offset 0
 1266 0088 1EFF2FE1 		bx	lr
 1267              		.cfi_endproc
 1268              	.LFE15:
 1270              		.section	.text.__RME_Svc_Retval_Set,"ax",%progbits
 1271              		.align	2
 1272              		.global	__RME_Svc_Retval_Set
 1273              		.syntax unified
 1274              		.arm
 1276              	__RME_Svc_Retval_Set:
 1277              	.LFB16:
 543:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Get_Syscall_Param **************************************/
 544:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 545:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Syscall_Retval ******************************************
 546:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the system call return value to the stack frame. This function 
 547:../../Source/Platform/A7A/rme_platform_a7a.c ****               may carry up to 4 return values. If the last 3 is not needed, just set
 548:../../Source/Platform/A7A/rme_platform_a7a.c ****               them to zero.
 549:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 550:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 551:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 552:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 553:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Retval_Set(struct RME_Reg_Struct* Reg,rme_ret_t Retval)
 554:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1278              		.loc 1 554 1
 1279              		.cfi_startproc
 1280              		@ args = 0, pretend = 0, frame = 8
 1281              		@ frame_needed = 1, uses_anonymous_args = 0
 1282              		@ link register save eliminated.
 1283 0000 04B02DE5 		str	fp, [sp, #-4]!
 1284              		.cfi_def_cfa_offset 4
 1285              		.cfi_offset 11, -4
 1286 0004 00B08DE2 		add	fp, sp, #0
 1287              		.cfi_def_cfa_register 11
 1288 0008 0CD04DE2 		sub	sp, sp, #12
 1289 000c 08000BE5 		str	r0, [fp, #-8]
 1290 0010 0C100BE5 		str	r1, [fp, #-12]
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 34


 555:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=(rme_ptr_t)Retval;
 1291              		.loc 1 555 13
 1292 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1293              		.loc 1 555 12
 1294 0018 08301BE5 		ldr	r3, [fp, #-8]
 1295 001c 042083E5 		str	r2, [r3, #4]
 556:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1296              		.loc 1 556 1
 1297 0020 00F020E3 		nop
 1298 0024 00D08BE2 		add	sp, fp, #0
 1299              		.cfi_def_cfa_register 13
 1300              		@ sp needed
 1301 0028 04B09DE4 		ldr	fp, [sp], #4
 1302              		.cfi_restore 11
 1303              		.cfi_def_cfa_offset 0
 1304 002c 1EFF2FE1 		bx	lr
 1305              		.cfi_endproc
 1306              	.LFE16:
 1308              		.section	.text.__RME_Thd_Reg_Init,"ax",%progbits
 1309              		.align	2
 1310              		.global	__RME_Thd_Reg_Init
 1311              		.syntax unified
 1312              		.arm
 1314              	__RME_Thd_Reg_Init:
 1315              	.LFB17:
 557:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Syscall_Retval *************************************/
 558:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 559:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Init ************************************************
 560:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the register set for the thread.
 561:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Entry - The thread entry address.
 562:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Stack - The thread stack address.
 563:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param - The parameter to pass to it.
 564:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set content generated.
 565:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 566:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 567:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Init(rme_ptr_t Attr,rme_ptr_t Entry,rme_ptr_t Stack,rme_ptr_t Param,
 568:../../Source/Platform/A7A/rme_platform_a7a.c ****                                        struct RME_Reg_Struct* Reg)
 569:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1316              		.loc 1 569 1
 1317              		.cfi_startproc
 1318              		@ args = 4, pretend = 0, frame = 16
 1319              		@ frame_needed = 1, uses_anonymous_args = 0
 1320              		@ link register save eliminated.
 1321 0000 04B02DE5 		str	fp, [sp, #-4]!
 1322              		.cfi_def_cfa_offset 4
 1323              		.cfi_offset 11, -4
 1324 0004 00B08DE2 		add	fp, sp, #0
 1325              		.cfi_def_cfa_register 11
 1326 0008 14D04DE2 		sub	sp, sp, #20
 1327 000c 08000BE5 		str	r0, [fp, #-8]
 1328 0010 0C100BE5 		str	r1, [fp, #-12]
 1329 0014 10200BE5 		str	r2, [fp, #-16]
 1330 0018 14300BE5 		str	r3, [fp, #-20]
 570:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the entry and stack */
 571:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Entry;
 1331              		.loc 1 571 12
 1332 001c 04309BE5 		ldr	r3, [fp, #4]
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 35


 1333 0020 0C201BE5 		ldr	r2, [fp, #-12]
 1334 0024 3C2083E5 		str	r2, [r3, #60]
 572:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Stack;
 1335              		.loc 1 572 12
 1336 0028 04309BE5 		ldr	r3, [fp, #4]
 1337 002c 10201BE5 		ldr	r2, [fp, #-16]
 1338 0030 342083E5 		str	r2, [r3, #52]
 573:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the parameter */
 574:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=Param;
 1339              		.loc 1 574 12
 1340 0034 04309BE5 		ldr	r3, [fp, #4]
 1341 0038 14201BE5 		ldr	r2, [fp, #-20]
 1342 003c 042083E5 		str	r2, [r3, #4]
 575:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1343              		.loc 1 575 1
 1344 0040 00F020E3 		nop
 1345 0044 00D08BE2 		add	sp, fp, #0
 1346              		.cfi_def_cfa_register 13
 1347              		@ sp needed
 1348 0048 04B09DE4 		ldr	fp, [sp], #4
 1349              		.cfi_restore 11
 1350              		.cfi_def_cfa_offset 0
 1351 004c 1EFF2FE1 		bx	lr
 1352              		.cfi_endproc
 1353              	.LFE17:
 1355              		.section	.text.__RME_Thd_Reg_Copy,"ax",%progbits
 1356              		.align	2
 1357              		.global	__RME_Thd_Reg_Copy
 1358              		.syntax unified
 1359              		.arm
 1361              	__RME_Thd_Reg_Copy:
 1362              	.LFB18:
 576:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Init *******************************************/
 577:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 578:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Copy ************************************************
 579:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Copy one set of registers into another.
 580:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Src - The source register set.
 581:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Dst - The destination register set.
 582:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 583:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 584:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Copy(struct RME_Reg_Struct* Dst, struct RME_Reg_Struct* Src)
 585:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1363              		.loc 1 585 1
 1364              		.cfi_startproc
 1365              		@ args = 0, pretend = 0, frame = 8
 1366              		@ frame_needed = 1, uses_anonymous_args = 0
 1367              		@ link register save eliminated.
 1368 0000 04B02DE5 		str	fp, [sp, #-4]!
 1369              		.cfi_def_cfa_offset 4
 1370              		.cfi_offset 11, -4
 1371 0004 00B08DE2 		add	fp, sp, #0
 1372              		.cfi_def_cfa_register 11
 1373 0008 0CD04DE2 		sub	sp, sp, #12
 1374 000c 08000BE5 		str	r0, [fp, #-8]
 1375 0010 0C100BE5 		str	r1, [fp, #-12]
 586:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that the ordering is the same so the compiler can optimize */
 587:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->CPSR=Src->CPSR;
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 36


 1376              		.loc 1 587 18
 1377 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1378 0018 002093E5 		ldr	r2, [r3]
 1379              		.loc 1 587 14
 1380 001c 08301BE5 		ldr	r3, [fp, #-8]
 1381 0020 002083E5 		str	r2, [r3]
 588:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R0=Src->R0;
 1382              		.loc 1 588 16
 1383 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1384 0028 042093E5 		ldr	r2, [r3, #4]
 1385              		.loc 1 588 12
 1386 002c 08301BE5 		ldr	r3, [fp, #-8]
 1387 0030 042083E5 		str	r2, [r3, #4]
 589:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R1=Src->R1;
 1388              		.loc 1 589 16
 1389 0034 0C301BE5 		ldr	r3, [fp, #-12]
 1390 0038 082093E5 		ldr	r2, [r3, #8]
 1391              		.loc 1 589 12
 1392 003c 08301BE5 		ldr	r3, [fp, #-8]
 1393 0040 082083E5 		str	r2, [r3, #8]
 590:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R2=Src->R2;
 1394              		.loc 1 590 16
 1395 0044 0C301BE5 		ldr	r3, [fp, #-12]
 1396 0048 0C2093E5 		ldr	r2, [r3, #12]
 1397              		.loc 1 590 12
 1398 004c 08301BE5 		ldr	r3, [fp, #-8]
 1399 0050 0C2083E5 		str	r2, [r3, #12]
 591:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R3=Src->R3;
 1400              		.loc 1 591 16
 1401 0054 0C301BE5 		ldr	r3, [fp, #-12]
 1402 0058 102093E5 		ldr	r2, [r3, #16]
 1403              		.loc 1 591 12
 1404 005c 08301BE5 		ldr	r3, [fp, #-8]
 1405 0060 102083E5 		str	r2, [r3, #16]
 592:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R4=Src->R4;
 1406              		.loc 1 592 16
 1407 0064 0C301BE5 		ldr	r3, [fp, #-12]
 1408 0068 142093E5 		ldr	r2, [r3, #20]
 1409              		.loc 1 592 12
 1410 006c 08301BE5 		ldr	r3, [fp, #-8]
 1411 0070 142083E5 		str	r2, [r3, #20]
 593:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R5=Src->R5;
 1412              		.loc 1 593 16
 1413 0074 0C301BE5 		ldr	r3, [fp, #-12]
 1414 0078 182093E5 		ldr	r2, [r3, #24]
 1415              		.loc 1 593 12
 1416 007c 08301BE5 		ldr	r3, [fp, #-8]
 1417 0080 182083E5 		str	r2, [r3, #24]
 594:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R6=Src->R6;
 1418              		.loc 1 594 16
 1419 0084 0C301BE5 		ldr	r3, [fp, #-12]
 1420 0088 1C2093E5 		ldr	r2, [r3, #28]
 1421              		.loc 1 594 12
 1422 008c 08301BE5 		ldr	r3, [fp, #-8]
 1423 0090 1C2083E5 		str	r2, [r3, #28]
 595:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R7=Src->R7;
 1424              		.loc 1 595 16
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 37


 1425 0094 0C301BE5 		ldr	r3, [fp, #-12]
 1426 0098 202093E5 		ldr	r2, [r3, #32]
 1427              		.loc 1 595 12
 1428 009c 08301BE5 		ldr	r3, [fp, #-8]
 1429 00a0 202083E5 		str	r2, [r3, #32]
 596:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R8=Src->R8;
 1430              		.loc 1 596 16
 1431 00a4 0C301BE5 		ldr	r3, [fp, #-12]
 1432 00a8 242093E5 		ldr	r2, [r3, #36]
 1433              		.loc 1 596 12
 1434 00ac 08301BE5 		ldr	r3, [fp, #-8]
 1435 00b0 242083E5 		str	r2, [r3, #36]
 597:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R9=Src->R9;
 1436              		.loc 1 597 16
 1437 00b4 0C301BE5 		ldr	r3, [fp, #-12]
 1438 00b8 282093E5 		ldr	r2, [r3, #40]
 1439              		.loc 1 597 12
 1440 00bc 08301BE5 		ldr	r3, [fp, #-8]
 1441 00c0 282083E5 		str	r2, [r3, #40]
 598:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R10=Src->R10;
 1442              		.loc 1 598 17
 1443 00c4 0C301BE5 		ldr	r3, [fp, #-12]
 1444 00c8 2C2093E5 		ldr	r2, [r3, #44]
 1445              		.loc 1 598 13
 1446 00cc 08301BE5 		ldr	r3, [fp, #-8]
 1447 00d0 2C2083E5 		str	r2, [r3, #44]
 599:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R11=Src->R11;
 1448              		.loc 1 599 17
 1449 00d4 0C301BE5 		ldr	r3, [fp, #-12]
 1450 00d8 302093E5 		ldr	r2, [r3, #48]
 1451              		.loc 1 599 13
 1452 00dc 08301BE5 		ldr	r3, [fp, #-8]
 1453 00e0 302083E5 		str	r2, [r3, #48]
 600:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->SP=Src->SP;
 1454              		.loc 1 600 16
 1455 00e4 0C301BE5 		ldr	r3, [fp, #-12]
 1456 00e8 342093E5 		ldr	r2, [r3, #52]
 1457              		.loc 1 600 12
 1458 00ec 08301BE5 		ldr	r3, [fp, #-8]
 1459 00f0 342083E5 		str	r2, [r3, #52]
 601:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->LR=Src->LR;
 1460              		.loc 1 601 16
 1461 00f4 0C301BE5 		ldr	r3, [fp, #-12]
 1462 00f8 382093E5 		ldr	r2, [r3, #56]
 1463              		.loc 1 601 12
 1464 00fc 08301BE5 		ldr	r3, [fp, #-8]
 1465 0100 382083E5 		str	r2, [r3, #56]
 602:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->PC=Src->PC;
 1466              		.loc 1 602 16
 1467 0104 0C301BE5 		ldr	r3, [fp, #-12]
 1468 0108 3C2093E5 		ldr	r2, [r3, #60]
 1469              		.loc 1 602 12
 1470 010c 08301BE5 		ldr	r3, [fp, #-8]
 1471 0110 3C2083E5 		str	r2, [r3, #60]
 603:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1472              		.loc 1 603 1
 1473 0114 00F020E3 		nop
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 38


 1474 0118 00D08BE2 		add	sp, fp, #0
 1475              		.cfi_def_cfa_register 13
 1476              		@ sp needed
 1477 011c 04B09DE4 		ldr	fp, [sp], #4
 1478              		.cfi_restore 11
 1479              		.cfi_def_cfa_offset 0
 1480 0120 1EFF2FE1 		bx	lr
 1481              		.cfi_endproc
 1482              	.LFE18:
 1484              		.section	.text.__RME_Thd_Cop_Init,"ax",%progbits
 1485              		.align	2
 1486              		.global	__RME_Thd_Cop_Init
 1487              		.syntax unified
 1488              		.arm
 1490              	__RME_Thd_Cop_Init:
 1491              	.LFB19:
 604:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Copy *******************************************/
 605:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 606:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Init ************************************************
 607:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the coprocessor register set for the thread.
 608:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register struct to help initialize the coprocessor.
 609:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Cop_Struct* Cop_Reg - The register set content generated.
 610:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 611:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 612:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Init(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 613:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1492              		.loc 1 613 1
 1493              		.cfi_startproc
 1494              		@ args = 0, pretend = 0, frame = 8
 1495              		@ frame_needed = 1, uses_anonymous_args = 0
 1496              		@ link register save eliminated.
 1497 0000 04B02DE5 		str	fp, [sp, #-4]!
 1498              		.cfi_def_cfa_offset 4
 1499              		.cfi_offset 11, -4
 1500 0004 00B08DE2 		add	fp, sp, #0
 1501              		.cfi_def_cfa_register 11
 1502 0008 0CD04DE2 		sub	sp, sp, #12
 1503 000c 08000BE5 		str	r0, [fp, #-8]
 1504 0010 0C100BE5 		str	r1, [fp, #-12]
 614:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Empty function, return immediately. The FPU contents is not predictable */
 615:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1505              		.loc 1 615 1
 1506 0014 00F020E3 		nop
 1507 0018 00D08BE2 		add	sp, fp, #0
 1508              		.cfi_def_cfa_register 13
 1509              		@ sp needed
 1510 001c 04B09DE4 		ldr	fp, [sp], #4
 1511              		.cfi_restore 11
 1512              		.cfi_def_cfa_offset 0
 1513 0020 1EFF2FE1 		bx	lr
 1514              		.cfi_endproc
 1515              	.LFE19:
 1517              		.section	.text.__RME_Thd_Cop_Save,"ax",%progbits
 1518              		.align	2
 1519              		.global	__RME_Thd_Cop_Save
 1520              		.syntax unified
 1521              		.arm
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 39


 1523              	__RME_Thd_Cop_Save:
 1524              	.LFB20:
 616:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Reg_Init ***************************************/
 617:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 618:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Save ************************************************
 619:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the co-op register sets. This operation is flexible - If the
 620:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save its context.
 621:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 622:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 623:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 624:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 625:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 626:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Save(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 627:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1525              		.loc 1 627 1
 1526              		.cfi_startproc
 1527              		@ args = 0, pretend = 0, frame = 8
 1528              		@ frame_needed = 1, uses_anonymous_args = 0
 1529              		@ link register save eliminated.
 1530 0000 04B02DE5 		str	fp, [sp, #-4]!
 1531              		.cfi_def_cfa_offset 4
 1532              		.cfi_offset 11, -4
 1533 0004 00B08DE2 		add	fp, sp, #0
 1534              		.cfi_def_cfa_register 11
 1535 0008 0CD04DE2 		sub	sp, sp, #12
 1536 000c 08000BE5 		str	r0, [fp, #-8]
 1537 0010 0C100BE5 		str	r1, [fp, #-12]
 628:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 629:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1538              		.loc 1 629 1
 1539 0014 00F020E3 		nop
 1540 0018 00D08BE2 		add	sp, fp, #0
 1541              		.cfi_def_cfa_register 13
 1542              		@ sp needed
 1543 001c 04B09DE4 		ldr	fp, [sp], #4
 1544              		.cfi_restore 11
 1545              		.cfi_def_cfa_offset 0
 1546 0020 1EFF2FE1 		bx	lr
 1547              		.cfi_endproc
 1548              	.LFE20:
 1550              		.section	.text.__RME_Thd_Cop_Restore,"ax",%progbits
 1551              		.align	2
 1552              		.global	__RME_Thd_Cop_Restore
 1553              		.syntax unified
 1554              		.arm
 1556              	__RME_Thd_Cop_Restore:
 1557              	.LFB21:
 630:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Save *******************************************/
 631:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 632:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Restore *********************************************
 633:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the co-op register sets. This operation is flexible - If the
 634:../../Source/Platform/A7A/rme_platform_a7a.c ****               FPU is not used, we do not restore its context.
 635:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 636:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 637:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 639:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 40


 640:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Restore(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 641:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1558              		.loc 1 641 1
 1559              		.cfi_startproc
 1560              		@ args = 0, pretend = 0, frame = 8
 1561              		@ frame_needed = 1, uses_anonymous_args = 0
 1562              		@ link register save eliminated.
 1563 0000 04B02DE5 		str	fp, [sp, #-4]!
 1564              		.cfi_def_cfa_offset 4
 1565              		.cfi_offset 11, -4
 1566 0004 00B08DE2 		add	fp, sp, #0
 1567              		.cfi_def_cfa_register 11
 1568 0008 0CD04DE2 		sub	sp, sp, #12
 1569 000c 08000BE5 		str	r0, [fp, #-8]
 1570 0010 0C100BE5 		str	r1, [fp, #-12]
 642:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 643:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1571              		.loc 1 643 1
 1572 0014 00F020E3 		nop
 1573 0018 00D08BE2 		add	sp, fp, #0
 1574              		.cfi_def_cfa_register 13
 1575              		@ sp needed
 1576 001c 04B09DE4 		ldr	fp, [sp], #4
 1577              		.cfi_restore 11
 1578              		.cfi_def_cfa_offset 0
 1579 0020 1EFF2FE1 		bx	lr
 1580              		.cfi_endproc
 1581              	.LFE21:
 1583              		.section	.text.__RME_Inv_Reg_Save,"ax",%progbits
 1584              		.align	2
 1585              		.global	__RME_Inv_Reg_Save
 1586              		.syntax unified
 1587              		.arm
 1589              	__RME_Inv_Reg_Save:
 1590              	.LFB22:
 644:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Restore ****************************************/
 645:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 646:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Save ************************************************
 647:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the necessary registers on invocation for returning. Only the
 648:../../Source/Platform/A7A/rme_platform_a7a.c ****               registers that will influence program control flow will be saved.
 649:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 650:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Iret_Struct* Ret - The invocation return register context.
 651:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 652:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 653:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Save(struct RME_Iret_Struct* Ret, struct RME_Reg_Struct* Reg)
 654:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1591              		.loc 1 654 1
 1592              		.cfi_startproc
 1593              		@ args = 0, pretend = 0, frame = 8
 1594              		@ frame_needed = 1, uses_anonymous_args = 0
 1595              		@ link register save eliminated.
 1596 0000 04B02DE5 		str	fp, [sp, #-4]!
 1597              		.cfi_def_cfa_offset 4
 1598              		.cfi_offset 11, -4
 1599 0004 00B08DE2 		add	fp, sp, #0
 1600              		.cfi_def_cfa_register 11
 1601 0008 0CD04DE2 		sub	sp, sp, #12
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 41


 1602 000c 08000BE5 		str	r0, [fp, #-8]
 1603 0010 0C100BE5 		str	r1, [fp, #-12]
 655:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->PC=Reg->PC;
 1604              		.loc 1 655 16
 1605 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1606 0018 3C2093E5 		ldr	r2, [r3, #60]
 1607              		.loc 1 655 12
 1608 001c 08301BE5 		ldr	r3, [fp, #-8]
 1609 0020 002083E5 		str	r2, [r3]
 656:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->SP=Reg->SP;
 1610              		.loc 1 656 16
 1611 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1612 0028 342093E5 		ldr	r2, [r3, #52]
 1613              		.loc 1 656 12
 1614 002c 08301BE5 		ldr	r3, [fp, #-8]
 1615 0030 042083E5 		str	r2, [r3, #4]
 657:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1616              		.loc 1 657 1
 1617 0034 00F020E3 		nop
 1618 0038 00D08BE2 		add	sp, fp, #0
 1619              		.cfi_def_cfa_register 13
 1620              		@ sp needed
 1621 003c 04B09DE4 		ldr	fp, [sp], #4
 1622              		.cfi_restore 11
 1623              		.cfi_def_cfa_offset 0
 1624 0040 1EFF2FE1 		bx	lr
 1625              		.cfi_endproc
 1626              	.LFE22:
 1628              		.section	.text.__RME_Inv_Reg_Restore,"ax",%progbits
 1629              		.align	2
 1630              		.global	__RME_Inv_Reg_Restore
 1631              		.syntax unified
 1632              		.arm
 1634              	__RME_Inv_Reg_Restore:
 1635              	.LFB23:
 658:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Save *******************************************/
 659:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 660:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Restore *********************************************
 661:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the necessary registers for returning from an invocation.
 662:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Iret_Struct* Ret - The invocation return register context.
 663:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 665:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 666:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Restore(struct RME_Reg_Struct* Reg, struct RME_Iret_Struct* Ret)
 667:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1636              		.loc 1 667 1
 1637              		.cfi_startproc
 1638              		@ args = 0, pretend = 0, frame = 8
 1639              		@ frame_needed = 1, uses_anonymous_args = 0
 1640              		@ link register save eliminated.
 1641 0000 04B02DE5 		str	fp, [sp, #-4]!
 1642              		.cfi_def_cfa_offset 4
 1643              		.cfi_offset 11, -4
 1644 0004 00B08DE2 		add	fp, sp, #0
 1645              		.cfi_def_cfa_register 11
 1646 0008 0CD04DE2 		sub	sp, sp, #12
 1647 000c 08000BE5 		str	r0, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 42


 1648 0010 0C100BE5 		str	r1, [fp, #-12]
 668:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Ret->PC;
 1649              		.loc 1 668 16
 1650 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1651 0018 002093E5 		ldr	r2, [r3]
 1652              		.loc 1 668 12
 1653 001c 08301BE5 		ldr	r3, [fp, #-8]
 1654 0020 3C2083E5 		str	r2, [r3, #60]
 669:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Ret->SP;
 1655              		.loc 1 669 16
 1656 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1657 0028 042093E5 		ldr	r2, [r3, #4]
 1658              		.loc 1 669 12
 1659 002c 08301BE5 		ldr	r3, [fp, #-8]
 1660 0030 342083E5 		str	r2, [r3, #52]
 670:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1661              		.loc 1 670 1
 1662 0034 00F020E3 		nop
 1663 0038 00D08BE2 		add	sp, fp, #0
 1664              		.cfi_def_cfa_register 13
 1665              		@ sp needed
 1666 003c 04B09DE4 		ldr	fp, [sp], #4
 1667              		.cfi_restore 11
 1668              		.cfi_def_cfa_offset 0
 1669 0040 1EFF2FE1 		bx	lr
 1670              		.cfi_endproc
 1671              	.LFE23:
 1673              		.section	.text.__RME_Inv_Retval_Set,"ax",%progbits
 1674              		.align	2
 1675              		.global	__RME_Inv_Retval_Set
 1676              		.syntax unified
 1677              		.arm
 1679              	__RME_Inv_Retval_Set:
 1680              	.LFB24:
 671:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Restore ****************************************/
 672:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 673:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Retval_Set **********************************************
 674:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 675:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 676:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 677:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 679:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Retval_Set(struct RME_Reg_Struct* Reg,
 680:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ret_t Retval)
 681:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1681              		.loc 1 681 1
 1682              		.cfi_startproc
 1683              		@ args = 0, pretend = 0, frame = 8
 1684              		@ frame_needed = 1, uses_anonymous_args = 0
 1685              		@ link register save eliminated.
 1686 0000 04B02DE5 		str	fp, [sp, #-4]!
 1687              		.cfi_def_cfa_offset 4
 1688              		.cfi_offset 11, -4
 1689 0004 00B08DE2 		add	fp, sp, #0
 1690              		.cfi_def_cfa_register 11
 1691 0008 0CD04DE2 		sub	sp, sp, #12
 1692 000c 08000BE5 		str	r0, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 43


 1693 0010 0C100BE5 		str	r1, [fp, #-12]
 682:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R5=(rme_ptr_t)Retval;
 1694              		.loc 1 682 13
 1695 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1696              		.loc 1 682 12
 1697 0018 08301BE5 		ldr	r3, [fp, #-8]
 1698 001c 182083E5 		str	r2, [r3, #24]
 683:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1699              		.loc 1 683 1
 1700 0020 00F020E3 		nop
 1701 0024 00D08BE2 		add	sp, fp, #0
 1702              		.cfi_def_cfa_register 13
 1703              		@ sp needed
 1704 0028 04B09DE4 		ldr	fp, [sp], #4
 1705              		.cfi_restore 11
 1706              		.cfi_def_cfa_offset 0
 1707 002c 1EFF2FE1 		bx	lr
 1708              		.cfi_endproc
 1709              	.LFE24:
 1711              		.section	.text.__RME_Set_Inv_Retval,"ax",%progbits
 1712              		.align	2
 1713              		.global	__RME_Set_Inv_Retval
 1714              		.syntax unified
 1715              		.arm
 1717              	__RME_Set_Inv_Retval:
 1718              	.LFB25:
 684:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Retval_Set *****************************************/
 685:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 686:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Inv_Retval **********************************************
 687:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 688:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 689:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 690:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 691:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Set_Inv_Retval(struct RME_Reg_Struct* Reg, rme_ret_t Retval)
 693:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1719              		.loc 1 693 1
 1720              		.cfi_startproc
 1721              		@ args = 0, pretend = 0, frame = 8
 1722              		@ frame_needed = 1, uses_anonymous_args = 0
 1723              		@ link register save eliminated.
 1724 0000 04B02DE5 		str	fp, [sp, #-4]!
 1725              		.cfi_def_cfa_offset 4
 1726              		.cfi_offset 11, -4
 1727 0004 00B08DE2 		add	fp, sp, #0
 1728              		.cfi_def_cfa_register 11
 1729 0008 0CD04DE2 		sub	sp, sp, #12
 1730 000c 08000BE5 		str	r0, [fp, #-8]
 1731 0010 0C100BE5 		str	r1, [fp, #-12]
 694:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R1=(rme_ptr_t)Retval;
 1732              		.loc 1 694 13
 1733 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1734              		.loc 1 694 12
 1735 0018 08301BE5 		ldr	r3, [fp, #-8]
 1736 001c 082083E5 		str	r2, [r3, #8]
 695:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1737              		.loc 1 695 1
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 44


 1738 0020 00F020E3 		nop
 1739 0024 00D08BE2 		add	sp, fp, #0
 1740              		.cfi_def_cfa_register 13
 1741              		@ sp needed
 1742 0028 04B09DE4 		ldr	fp, [sp], #4
 1743              		.cfi_restore 11
 1744              		.cfi_def_cfa_offset 0
 1745 002c 1EFF2FE1 		bx	lr
 1746              		.cfi_endproc
 1747              	.LFE25:
 1749              		.section	.text.__RME_Thd_Cop_Swap,"ax",%progbits
 1750              		.align	2
 1751              		.global	__RME_Thd_Cop_Swap
 1752              		.syntax unified
 1753              		.arm
 1755              	__RME_Thd_Cop_Swap:
 1756              	.LFB26:
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Inv_Retval *****************************************/
 697:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 698:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Swap ************************************************
 699:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Swap the cop register sets. This operation is flexible - If the
 700:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save/restore its context.
 701:../../Source/Platform/A7A/rme_platform_a7a.c ****               We do not need to turn off lazy stacking, because even if a fault
 702:../../Source/Platform/A7A/rme_platform_a7a.c ****               occurs, it (1) tails the execution of activates the will get dropped
 703:../../Source/Platform/A7A/rme_platform_a7a.c ****               by our handler deliberately and will not cause wrong attribution.
 704:../../Source/Platform/A7A/rme_platform_a7a.c ****               They can be alternatively disabled as well if you wish.
 705:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Attr_New - The attribute of the context to switch to.
 706:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_New - Whether the context to switch to is a
 707:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 708:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_New - The context to switch to.
 709:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Attr_Cur - The attribute of the context to switch from.
 710:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_Cur - Whether the context to switch from is a
 711:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 712:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_Cur - The context to switch from.
 713:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : void* Cop_New - The coprocessor context to switch to.
 714:../../Source/Platform/A7A/rme_platform_a7a.c ****               void* Cop_Cur - The coprocessor context to switch from.
 715:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 716:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 717:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Swap(rme_ptr_t Attr_New,
 718:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_New,
 719:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_New,
 720:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_New,
 721:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Attr_Cur,
 722:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_Cur,
 723:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_Cur,
 724:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_Cur)
 725:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1757              		.loc 1 725 1
 1758              		.cfi_startproc
 1759              		@ args = 16, pretend = 0, frame = 16
 1760              		@ frame_needed = 1, uses_anonymous_args = 0
 1761              		@ link register save eliminated.
 1762 0000 04B02DE5 		str	fp, [sp, #-4]!
 1763              		.cfi_def_cfa_offset 4
 1764              		.cfi_offset 11, -4
 1765 0004 00B08DE2 		add	fp, sp, #0
 1766              		.cfi_def_cfa_register 11
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 45


 1767 0008 14D04DE2 		sub	sp, sp, #20
 1768 000c 08000BE5 		str	r0, [fp, #-8]
 1769 0010 0C100BE5 		str	r1, [fp, #-12]
 1770 0014 10200BE5 		str	r2, [fp, #-16]
 1771 0018 14300BE5 		str	r3, [fp, #-20]
 726:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 727:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1772              		.loc 1 727 1
 1773 001c 00F020E3 		nop
 1774 0020 00D08BE2 		add	sp, fp, #0
 1775              		.cfi_def_cfa_register 13
 1776              		@ sp needed
 1777 0024 04B09DE4 		ldr	fp, [sp], #4
 1778              		.cfi_restore 11
 1779              		.cfi_def_cfa_offset 0
 1780 0028 1EFF2FE1 		bx	lr
 1781              		.cfi_endproc
 1782              	.LFE26:
 1784              		.section	.text.__RME_Kfn_Handler,"ax",%progbits
 1785              		.align	2
 1786              		.global	__RME_Kfn_Handler
 1787              		.syntax unified
 1788              		.arm
 1790              	__RME_Kfn_Handler:
 1791              	.LFB27:
 728:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Swap *******************************************/
 729:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 730:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Kern_Func_Handler *******************************************
 731:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Handle kernel function calls.
 732:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The current register set.
 733:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Func_ID - The function ID.
 734:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Sub_ID - The sub function ID.
 735:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param1 - The first parameter.
 736:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param2 - The second parameter.
 737:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 738:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - The value that the function returned.
 739:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 740:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Kfn_Handler(struct RME_Cap_Cpt* Cpt,
 741:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            struct RME_Reg_Struct* Reg,
 742:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Func_ID,
 743:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Sub_ID,
 744:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param1,
 745:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param2)
 746:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1792              		.loc 1 746 1
 1793              		.cfi_startproc
 1794              		@ args = 8, pretend = 0, frame = 16
 1795              		@ frame_needed = 1, uses_anonymous_args = 0
 1796              		@ link register save eliminated.
 1797 0000 04B02DE5 		str	fp, [sp, #-4]!
 1798              		.cfi_def_cfa_offset 4
 1799              		.cfi_offset 11, -4
 1800 0004 00B08DE2 		add	fp, sp, #0
 1801              		.cfi_def_cfa_register 11
 1802 0008 14D04DE2 		sub	sp, sp, #20
 1803 000c 08000BE5 		str	r0, [fp, #-8]
 1804 0010 0C100BE5 		str	r1, [fp, #-12]
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 46


 1805 0014 10200BE5 		str	r2, [fp, #-16]
 1806 0018 14300BE5 		str	r3, [fp, #-20]
 747:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Currently no kernel function implemented */
 748:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 1807              		.loc 1 748 12
 1808 001c 0030A0E3 		mov	r3, #0
 749:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1809              		.loc 1 749 1
 1810 0020 0300A0E1 		mov	r0, r3
 1811 0024 00D08BE2 		add	sp, fp, #0
 1812              		.cfi_def_cfa_register 13
 1813              		@ sp needed
 1814 0028 04B09DE4 		ldr	fp, [sp], #4
 1815              		.cfi_restore 11
 1816              		.cfi_def_cfa_offset 0
 1817 002c 1EFF2FE1 		bx	lr
 1818              		.cfi_endproc
 1819              	.LFE27:
 1821              		.section	.text.__RME_A7A_Undefined_Handler,"ax",%progbits
 1822              		.align	2
 1823              		.global	__RME_A7A_Undefined_Handler
 1824              		.syntax unified
 1825              		.arm
 1827              	__RME_A7A_Undefined_Handler:
 1828              	.LFB28:
 750:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Kern_Func_Handler **************************************/
 751:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 752:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Undefined_Handler **************************************
 753:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The undefined instruction vector handler of RME.
 754:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 755:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 756:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 757:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 758:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Undefined_Handler(struct RME_Reg_Struct* Reg)
 759:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1829              		.loc 1 759 1
 1830              		.cfi_startproc
 1831              		@ args = 0, pretend = 0, frame = 8
 1832              		@ frame_needed = 1, uses_anonymous_args = 0
 1833              		@ link register save eliminated.
 1834 0000 04B02DE5 		str	fp, [sp, #-4]!
 1835              		.cfi_def_cfa_offset 4
 1836              		.cfi_offset 11, -4
 1837 0004 00B08DE2 		add	fp, sp, #0
 1838              		.cfi_def_cfa_register 11
 1839 0008 0CD04DE2 		sub	sp, sp, #12
 1840 000c 08000BE5 		str	r0, [fp, #-8]
 1841              	.L53:
 760:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle undefined instructions now */
 761:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1842              		.loc 1 761 7
 1843 0010 FEFFFFEA 		b	.L53
 1844              		.cfi_endproc
 1845              	.LFE28:
 1847              		.section	.text.__RME_A7A_Prefetch_Abort_Handler,"ax",%progbits
 1848              		.align	2
 1849              		.global	__RME_A7A_Prefetch_Abort_Handler
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 47


 1850              		.syntax unified
 1851              		.arm
 1853              	__RME_A7A_Prefetch_Abort_Handler:
 1854              	.LFB29:
 762:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 763:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Undefined_Handler *********************************/
 764:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 765:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Prefetch_Abort_Handler *********************************
 766:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The prefetch abort vector handler of RME.
 767:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 768:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 769:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 770:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 771:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Prefetch_Abort_Handler(struct RME_Reg_Struct* Reg)
 772:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1855              		.loc 1 772 1
 1856              		.cfi_startproc
 1857              		@ args = 0, pretend = 0, frame = 8
 1858              		@ frame_needed = 1, uses_anonymous_args = 0
 1859              		@ link register save eliminated.
 1860 0000 04B02DE5 		str	fp, [sp, #-4]!
 1861              		.cfi_def_cfa_offset 4
 1862              		.cfi_offset 11, -4
 1863 0004 00B08DE2 		add	fp, sp, #0
 1864              		.cfi_def_cfa_register 11
 1865 0008 0CD04DE2 		sub	sp, sp, #12
 1866 000c 08000BE5 		str	r0, [fp, #-8]
 1867              	.L55:
 773:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle prefetch aborts now */
 774:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1868              		.loc 1 774 7
 1869 0010 FEFFFFEA 		b	.L55
 1870              		.cfi_endproc
 1871              	.LFE29:
 1873              		.section	.text.__RME_A7A_Data_Abort_Handler,"ax",%progbits
 1874              		.align	2
 1875              		.global	__RME_A7A_Data_Abort_Handler
 1876              		.syntax unified
 1877              		.arm
 1879              	__RME_A7A_Data_Abort_Handler:
 1880              	.LFB30:
 775:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 776:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Prefetch_Abort_Handler ****************************/
 777:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 778:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Data_Abort_Handler *************************************
 779:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The data abort vector handler of RME.
 780:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 781:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 782:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 783:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 784:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Data_Abort_Handler(struct RME_Reg_Struct* Reg)
 785:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1881              		.loc 1 785 1
 1882              		.cfi_startproc
 1883              		@ args = 0, pretend = 0, frame = 8
 1884              		@ frame_needed = 1, uses_anonymous_args = 0
 1885              		@ link register save eliminated.
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 48


 1886 0000 04B02DE5 		str	fp, [sp, #-4]!
 1887              		.cfi_def_cfa_offset 4
 1888              		.cfi_offset 11, -4
 1889 0004 00B08DE2 		add	fp, sp, #0
 1890              		.cfi_def_cfa_register 11
 1891 0008 0CD04DE2 		sub	sp, sp, #12
 1892 000c 08000BE5 		str	r0, [fp, #-8]
 1893              	.L57:
 786:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle data aborts now */
 787:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1894              		.loc 1 787 7
 1895 0010 FEFFFFEA 		b	.L57
 1896              		.cfi_endproc
 1897              	.LFE30:
 1899              		.section	.rodata
 1900              		.align	2
 1901              	.LC19:
 1902 01b0 0D0A494E 		.ascii	"\015\012INT_ID is \000"
 1902      545F4944 
 1902      20697320 
 1902      00
 1903              		.section	.text.__RME_A7A_IRQ_Handler,"ax",%progbits
 1904              		.align	2
 1905              		.global	__RME_A7A_IRQ_Handler
 1906              		.syntax unified
 1907              		.arm
 1909              	__RME_A7A_IRQ_Handler:
 1910              	.LFB31:
 788:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 789:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Data_Abort_Handler ********************************/
 790:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 791:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_IRQ_Handler ********************************************
 792:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The regular interrupt vector handler of RME.
 793:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 794:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 795:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 796:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 797:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_IRQ_Handler(struct RME_Reg_Struct* Reg)
 798:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1911              		.loc 1 798 1
 1912              		.cfi_startproc
 1913              		@ args = 0, pretend = 0, frame = 16
 1914              		@ frame_needed = 1, uses_anonymous_args = 0
 1915 0000 00482DE9 		push	{fp, lr}
 1916              		.cfi_def_cfa_offset 8
 1917              		.cfi_offset 11, -8
 1918              		.cfi_offset 14, -4
 1919 0004 04B08DE2 		add	fp, sp, #4
 1920              		.cfi_def_cfa 11, 4
 1921 0008 10D04DE2 		sub	sp, sp, #16
 1922 000c 10000BE5 		str	r0, [fp, #-16]
 799:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t Int_ID;
 800:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t CPUID;
 801:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 802:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* What interrupt is this? */
 803:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID=RME_A7A_GICC_IAR;
 1923              		.loc 1 803 9
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 49


 1924 0010 433FA0E3 		mov	r3, #268
 1925 0014 F0384FE3 		movt	r3, 63728
 1926              		.loc 1 803 8
 1927 0018 003093E5 		ldr	r3, [r3]
 1928 001c 08300BE5 		str	r3, [fp, #-8]
 804:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 1929              		.loc 1 804 7
 1930 0020 08301BE5 		ldr	r3, [fp, #-8]
 1931 0024 2335A0E1 		lsr	r3, r3, #10
 1932 0028 0C300BE5 		str	r3, [fp, #-12]
 805:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID&=0x3FFU;
 1933              		.loc 1 805 8
 1934 002c 08301BE5 		ldr	r3, [fp, #-8]
 1935 0030 5330E9E7 		ubfx	r3, r3, #0, #10
 1936 0034 08300BE5 		str	r3, [fp, #-8]
 806:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nINT_ID is ");
 1937              		.loc 1 806 5
 1938 0038 000000E3 		movw	r0, #:lower16:.LC19
 1939 003c 000040E3 		movt	r0, #:upper16:.LC19
 1940 0040 FEFFFFEB 		bl	RME_Str_Print
 807:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_I(Int_ID);
 1941              		.loc 1 807 2
 1942 0044 08301BE5 		ldr	r3, [fp, #-8]
 1943 0048 0300A0E1 		mov	r0, r3
 1944 004c FEFFFFEB 		bl	RME_Int_Print
 808:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 809:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 810:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a spurious interrupt? (Can't be 1022 because GICv1 don't have group1) */
 811:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(Int_ID!=1022);
 1945              		.loc 1 811 2
 1946 0050 08301BE5 		ldr	r3, [fp, #-8]
 1947 0054 FE2300E3 		movw	r2, #1022
 1948 0058 020053E1 		cmp	r3, r2
 1949 005c 0800001A 		bne	.L59
 1950              		.loc 1 811 2 is_stmt 0 discriminator 1
 1951 0060 003000E3 		movw	r3, #:lower16:.LC13
 1952 0064 003040E3 		movt	r3, #:upper16:.LC13
 1953 0068 002000E3 		movw	r2, #:lower16:.LC14
 1954 006c 002040E3 		movt	r2, #:upper16:.LC14
 1955 0070 2B1300E3 		movw	r1, #811
 1956 0074 000000E3 		movw	r0, #:lower16:.LC15
 1957 0078 000040E3 		movt	r0, #:upper16:.LC15
 1958 007c FEFFFFEB 		bl	RME_Log
 1959              	.L60:
 1960              		.loc 1 811 2
 1961 0080 FEFFFFEA 		b	.L60
 1962              	.L59:
 812:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1963              		.loc 1 812 4 is_stmt 1
 1964 0084 08301BE5 		ldr	r3, [fp, #-8]
 1965 0088 FF2300E3 		movw	r2, #1023
 1966 008c 020053E1 		cmp	r3, r2
 1967 0090 3D00000A 		beq	.L69
 813:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 814:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 815:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 816:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 50


 817:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is is an timer interrupt? (we know that it is at 29) */
 818:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==29)
 1968              		.loc 1 818 4
 1969 0094 08301BE5 		ldr	r3, [fp, #-8]
 1970 0098 1D0053E3 		cmp	r3, #29
 1971 009c 0B00001A 		bne	.L63
 819:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 820:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Clear the interrupt flag */
 821:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    RME_A7A_PTWD_PTISR=0;
 1972              		.loc 1 821 6
 1973 00a0 0C3600E3 		movw	r3, #1548
 1974 00a4 F0384FE3 		movt	r3, 63728
 1975              		.loc 1 821 24
 1976 00a8 0020A0E3 		mov	r2, #0
 1977 00ac 002083E5 		str	r2, [r3]
 822:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 823:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    _RME_Tim_Handler(Reg,1);
 1978              		.loc 1 823 6
 1979 00b0 0110A0E3 		mov	r1, #1
 1980 00b4 10001BE5 		ldr	r0, [fp, #-16]
 1981 00b8 FEFFFFEB 		bl	_RME_Tim_Handler
 824:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Send interrupt to all other processors to notify them about this */
 825:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 826:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 1982              		.loc 1 826 3
 1983 00bc 113EA0E3 		mov	r3, #272
 1984 00c0 F0384FE3 		movt	r3, 63728
 1985              		.loc 1 826 20
 1986 00c4 08201BE5 		ldr	r2, [fp, #-8]
 1987 00c8 002083E5 		str	r2, [r3]
 827:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1988              		.loc 1 827 3
 1989 00cc 2F0000EA 		b	.L58
 1990              	.L63:
 828:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 829:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 830:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 831:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 832:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 833:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 834:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 835:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 836:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a coprocessor timer interrupt? (We use interrupt number 0 for these) */
 837:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==0)
 1991              		.loc 1 837 4
 1992 00d0 08301BE5 		ldr	r3, [fp, #-8]
 1993 00d4 000053E3 		cmp	r3, #0
 1994 00d8 1000001A 		bne	.L64
 838:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 839:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* This must have originated from interface 0 */
 840:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(CPUID==0);
 1995              		.loc 1 840 3
 1996 00dc 0C301BE5 		ldr	r3, [fp, #-12]
 1997 00e0 000053E3 		cmp	r3, #0
 1998 00e4 0800000A 		beq	.L65
 1999              		.loc 1 840 3 is_stmt 0 discriminator 1
 2000 00e8 003000E3 		movw	r3, #:lower16:.LC13
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 51


 2001 00ec 003040E3 		movt	r3, #:upper16:.LC13
 2002 00f0 002000E3 		movw	r2, #:lower16:.LC14
 2003 00f4 002040E3 		movt	r2, #:upper16:.LC14
 2004 00f8 D21FA0E3 		mov	r1, #840
 2005 00fc 000000E3 		movw	r0, #:lower16:.LC15
 2006 0100 000040E3 		movt	r0, #:upper16:.LC15
 2007 0104 FEFFFFEB 		bl	RME_Log
 2008              	.L66:
 2009              		.loc 1 840 3
 2010 0108 FEFFFFEA 		b	.L66
 2011              	.L65:
 841:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 842:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 843:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 2012              		.loc 1 843 3 is_stmt 1
 2013 010c 113EA0E3 		mov	r3, #272
 2014 0110 F0384FE3 		movt	r3, 63728
 2015              		.loc 1 843 20
 2016 0114 08201BE5 		ldr	r2, [fp, #-8]
 2017 0118 002083E5 		str	r2, [r3]
 844:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2018              		.loc 1 844 3
 2019 011c 1B0000EA 		b	.L58
 2020              	.L64:
 845:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 846:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 847:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an other IPI? (All the rest of the SGIs are these) */
 848:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID<16)
 2021              		.loc 1 848 4
 2022 0120 08301BE5 		ldr	r3, [fp, #-8]
 2023 0124 0F0053E3 		cmp	r3, #15
 2024 0128 0B00008A 		bhi	.L67
 849:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 850:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_A7A_SGI_Handler(Reg,CPUID,Int_ID);
 2025              		.loc 1 850 3
 2026 012c 08201BE5 		ldr	r2, [fp, #-8]
 2027 0130 0C101BE5 		ldr	r1, [fp, #-12]
 2028 0134 10001BE5 		ldr	r0, [fp, #-16]
 2029 0138 FEFFFFEB 		bl	_RME_A7A_SGI_Handler
 851:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 852:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=(CPUID<<10U)|Int_ID;
 2030              		.loc 1 852 27
 2031 013c 0C301BE5 		ldr	r3, [fp, #-12]
 2032 0140 0315A0E1 		lsl	r1, r3, #10
 2033              		.loc 1 852 3
 2034 0144 113EA0E3 		mov	r3, #272
 2035 0148 F0384FE3 		movt	r3, 63728
 2036              		.loc 1 852 33
 2037 014c 08201BE5 		ldr	r2, [fp, #-8]
 2038 0150 022081E1 		orr	r2, r1, r2
 2039              		.loc 1 852 20
 2040 0154 002083E5 		str	r2, [r3]
 853:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2041              		.loc 1 853 3
 2042 0158 0C0000EA 		b	.L58
 2043              	.L67:
 854:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 52


 855:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 856:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an casual interrupt? */
 857:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(CPUID==0);
 2044              		.loc 1 857 2
 2045 015c 0C301BE5 		ldr	r3, [fp, #-12]
 2046 0160 000053E3 		cmp	r3, #0
 2047 0164 0900000A 		beq	.L58
 2048              		.loc 1 857 2 is_stmt 0 discriminator 1
 2049 0168 003000E3 		movw	r3, #:lower16:.LC13
 2050 016c 003040E3 		movt	r3, #:upper16:.LC13
 2051 0170 002000E3 		movw	r2, #:lower16:.LC14
 2052 0174 002040E3 		movt	r2, #:upper16:.LC14
 2053 0178 591300E3 		movw	r1, #857
 2054 017c 000000E3 		movw	r0, #:lower16:.LC15
 2055 0180 000040E3 		movt	r0, #:upper16:.LC15
 2056 0184 FEFFFFEB 		bl	RME_Log
 2057              	.L68:
 2058              		.loc 1 857 2
 2059 0188 FEFFFFEA 		b	.L68
 2060              	.L69:
 813:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 2061              		.loc 1 813 3 is_stmt 1
 2062 018c 00F020E3 		nop
 2063              	.L58:
 858:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 859:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2064              		.loc 1 859 1
 2065 0190 04D04BE2 		sub	sp, fp, #4
 2066              		.cfi_def_cfa 13, 8
 2067              		@ sp needed
 2068 0194 0088BDE8 		pop	{fp, pc}
 2069              		.cfi_endproc
 2070              	.LFE31:
 2072              		.section	.text._RME_A7A_SGI_Handler,"ax",%progbits
 2073              		.align	2
 2074              		.global	_RME_A7A_SGI_Handler
 2075              		.syntax unified
 2076              		.arm
 2078              	_RME_A7A_SGI_Handler:
 2079              	.LFB32:
 860:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_IRQ_Handler ***************************************/
 861:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 862:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:_RME_A7A_SGI_Handler *********************************************
 863:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for x64.
 864:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 865:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t CPUID - The ID of the sender CPU.
 866:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_ID - The ID of the SGI.
 867:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 868:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 869:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 870:../../Source/Platform/A7A/rme_platform_a7a.c **** void _RME_A7A_SGI_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t CPUID, rme_ptr_t Int_ID)
 871:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2080              		.loc 1 871 1
 2081              		.cfi_startproc
 2082              		@ args = 0, pretend = 0, frame = 16
 2083              		@ frame_needed = 1, uses_anonymous_args = 0
 2084              		@ link register save eliminated.
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 53


 2085 0000 04B02DE5 		str	fp, [sp, #-4]!
 2086              		.cfi_def_cfa_offset 4
 2087              		.cfi_offset 11, -4
 2088 0004 00B08DE2 		add	fp, sp, #0
 2089              		.cfi_def_cfa_register 11
 2090 0008 14D04DE2 		sub	sp, sp, #20
 2091 000c 08000BE5 		str	r0, [fp, #-8]
 2092 0010 0C100BE5 		str	r1, [fp, #-12]
 2093 0014 10200BE5 		str	r2, [fp, #-16]
 872:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Not handling SGIs */
 873:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return;
 2094              		.loc 1 873 2
 2095 0018 00F020E3 		nop
 874:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2096              		.loc 1 874 1
 2097 001c 00D08BE2 		add	sp, fp, #0
 2098              		.cfi_def_cfa_register 13
 2099              		@ sp needed
 2100 0020 04B09DE4 		ldr	fp, [sp], #4
 2101              		.cfi_restore 11
 2102              		.cfi_def_cfa_offset 0
 2103 0024 1EFF2FE1 		bx	lr
 2104              		.cfi_endproc
 2105              	.LFE32:
 2107              		.section	.rodata
 2108 01bd 000000   		.align	2
 2109              	.LC20:
 2110 01c0 0D0A4765 		.ascii	"\015\012General int:\000"
 2110      6E657261 
 2110      6C20696E 
 2110      743A00
 2111              		.section	.text.__RME_A7A_Generic_Handler,"ax",%progbits
 2112              		.align	2
 2113              		.global	__RME_A7A_Generic_Handler
 2114              		.syntax unified
 2115              		.arm
 2117              	__RME_A7A_Generic_Handler:
 2118              	.LFB33:
 875:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:_RME_A7A_SGI_Handler ****************************************/
 876:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 877:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Generic_Handler ****************************************
 878:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for Cortex-A (ARMv7).
 879:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 880:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_Num - The interrupt number.
 881:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 882:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 883:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 884:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Generic_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t Int_Num)
 885:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2119              		.loc 1 885 1
 2120              		.cfi_startproc
 2121              		@ args = 0, pretend = 0, frame = 8
 2122              		@ frame_needed = 1, uses_anonymous_args = 0
 2123 0000 00482DE9 		push	{fp, lr}
 2124              		.cfi_def_cfa_offset 8
 2125              		.cfi_offset 11, -8
 2126              		.cfi_offset 14, -4
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 54


 2127 0004 04B08DE2 		add	fp, sp, #4
 2128              		.cfi_def_cfa 11, 4
 2129 0008 08D04DE2 		sub	sp, sp, #8
 2130 000c 08000BE5 		str	r0, [fp, #-8]
 2131 0010 0C100BE5 		str	r1, [fp, #-12]
 886:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 887:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nGeneral int:");
 2132              		.loc 1 887 5
 2133 0014 000000E3 		movw	r0, #:lower16:.LC20
 2134 0018 000040E3 		movt	r0, #:upper16:.LC20
 2135 001c FEFFFFEB 		bl	RME_Str_Print
 888:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 2136              		.loc 1 888 5
 2137 0020 0C301BE5 		ldr	r3, [fp, #-12]
 2138 0024 0300A0E1 		mov	r0, r3
 2139 0028 FEFFFFEB 		bl	RME_Int_Print
 889:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 890:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling anything */
 891:../../Source/Platform/A7A/rme_platform_a7a.c ****     switch(Int_Num)
 892:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 893:../../Source/Platform/A7A/rme_platform_a7a.c ****         default:break;
 2140              		.loc 1 893 17
 2141 002c 00F020E3 		nop
 894:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 895:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Remember to perform context switch after any kernel sends */
 896:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2142              		.loc 1 896 1
 2143 0030 00F020E3 		nop
 2144 0034 04D04BE2 		sub	sp, fp, #4
 2145              		.cfi_def_cfa 13, 8
 2146              		@ sp needed
 2147 0038 0088BDE8 		pop	{fp, pc}
 2148              		.cfi_endproc
 2149              	.LFE33:
 2151              		.section	.text.__RME_Pgt_Set,"ax",%progbits
 2152              		.align	2
 2153              		.global	__RME_Pgt_Set
 2154              		.syntax unified
 2155              		.arm
 2157              	__RME_Pgt_Set:
 2158              	.LFB34:
 897:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Generic_Handler ***********************************/
 898:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 899:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Set ***************************************************
 900:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the processor's page table.
 901:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Pgt - The virtual address of the page table.
 902:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 903:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 904:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 905:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Pgt_Set(struct RME_Cap_Pgt* Pgt)
 906:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2159              		.loc 1 906 1
 2160              		.cfi_startproc
 2161              		@ args = 0, pretend = 0, frame = 16
 2162              		@ frame_needed = 1, uses_anonymous_args = 0
 2163 0000 00482DE9 		push	{fp, lr}
 2164              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 55


 2165              		.cfi_offset 11, -8
 2166              		.cfi_offset 14, -4
 2167 0004 04B08DE2 		add	fp, sp, #4
 2168              		.cfi_def_cfa 11, 4
 2169 0008 18D04DE2 		sub	sp, sp, #24
 2170 000c 10000BE5 		str	r0, [fp, #-16]
 907:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Count;
 908:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
 909:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 910:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ptr=RME_CAP_GETOBJ(Pgt,rme_ptr_t*);
 2171              		.loc 1 910 9
 2172 0010 10301BE5 		ldr	r3, [fp, #-16]
 2173 0014 0C3093E5 		ldr	r3, [r3, #12]
 2174              		.loc 1 910 8
 2175 0018 0C300BE5 		str	r3, [fp, #-12]
 911:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 912:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Device memory 2, 512MiB 0x60000000 -> 0xE0000000 */
 913:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 2176              		.loc 1 913 14
 2177 001c 0030A0E3 		mov	r3, #0
 2178 0020 08300BE5 		str	r3, [fp, #-8]
 2179              		.loc 1 913 5
 2180 0024 180000EA 		b	.L74
 2181              	.L77:
 914:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 915:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 2182              		.loc 1 915 3
 2183 0028 08301BE5 		ldr	r3, [fp, #-8]
 2184 002c 0E3C83E2 		add	r3, r3, #3584
 2185 0030 032AA0E1 		lsl	r2, r3, #20
 2186 0034 08301BE5 		ldr	r3, [fp, #-8]
 2187 0038 063C83E2 		add	r3, r3, #1536
 2188 003c 2310A0E3 		mov	r1, #35
 2189 0040 00108DE5 		str	r1, [sp]
 2190 0044 0110A0E3 		mov	r1, #1
 2191 0048 8104A0E3 		mov	r0, #-2130706432
 2192 004c FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 2193 0050 0030A0E1 		mov	r3, r0
 2194              		.loc 1 915 3 is_stmt 0 discriminator 1
 2195 0054 000053E3 		cmp	r3, #0
 2196 0058 0800000A 		beq	.L75
 2197 005c 003000E3 		movw	r3, #:lower16:.LC13
 2198 0060 003040E3 		movt	r3, #:upper16:.LC13
 2199 0064 002000E3 		movw	r2, #:lower16:.LC14
 2200 0068 002040E3 		movt	r2, #:upper16:.LC14
 2201 006c 931300E3 		movw	r1, #915
 2202 0070 000000E3 		movw	r0, #:lower16:.LC15
 2203 0074 000040E3 		movt	r0, #:upper16:.LC15
 2204 0078 FEFFFFEB 		bl	RME_Log
 2205              	.L76:
 2206              		.loc 1 915 3
 2207 007c FEFFFFEA 		b	.L76
 2208              	.L75:
 913:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 2209              		.loc 1 913 36 is_stmt 1 discriminator 2
 2210 0080 08301BE5 		ldr	r3, [fp, #-8]
 2211 0084 013083E2 		add	r3, r3, #1
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 56


 2212 0088 08300BE5 		str	r3, [fp, #-8]
 2213              	.L74:
 913:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 2214              		.loc 1 913 23 discriminator 1
 2215 008c 08301BE5 		ldr	r3, [fp, #-8]
 2216 0090 020C53E3 		cmp	r3, #512
 2217 0094 E3FFFF3A 		bcc	.L77
 916:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 917:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0xE00U)*RME_POW2(RME_PGT_SIZE_1M),
 918:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x600U),
 919:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE|RME_PGT_STATIC)==0);
 920:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 921:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 922:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 923:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2218              		.loc 1 923 1
 2219 0098 00F020E3 		nop
 2220 009c 00F020E3 		nop
 2221 00a0 04D04BE2 		sub	sp, fp, #4
 2222              		.cfi_def_cfa 13, 8
 2223              		@ sp needed
 2224 00a4 0088BDE8 		pop	{fp, pc}
 2225              		.cfi_endproc
 2226              	.LFE34:
 2228              		.section	.rodata
 2229 01cf 00       		.align	2
 2230              	.LC21:
 2231 01d0 0D0A7661 		.ascii	"\015\012vaddr= \000"
 2231      6464723D 
 2231      2000
 2232 01da 0000     		.align	2
 2233              	.LC22:
 2234 01dc 0D0A7661 		.ascii	"\015\012vaddr error= \000"
 2234      64647220 
 2234      6572726F 
 2234      723D2000 
 2235              		.section	.text.__RME_Pgt_Check,"ax",%progbits
 2236              		.align	2
 2237              		.global	__RME_Pgt_Check
 2238              		.syntax unified
 2239              		.arm
 2241              	__RME_Pgt_Check:
 2242              	.LFB35:
 924:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Set **********************************************/
 925:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 926:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Check *************************************************
 927:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table parameters are feasible, according to the
 928:../../Source/Platform/A7A/rme_platform_a7a.c ****               parameters. This is only used in page table creation. The following
 929:../../Source/Platform/A7A/rme_platform_a7a.c ****               restrictions apply:
 930:../../Source/Platform/A7A/rme_platform_a7a.c **** 1. PAE is not supported by this port: if you have that much memory, use the Cortex-A
 931:../../Source/Platform/A7A/rme_platform_a7a.c ****    64-bit port instead. The translation scheme here is always:
 932:../../Source/Platform/A7A/rme_platform_a7a.c ****    4GB VA -> {Supersection, Section} -> {Large Page, Small Page}.
 933:../../Source/Platform/A7A/rme_platform_a7a.c ****    The supersection is described in ARMv7-AR ARM as optional, but is implemented on
 934:../../Source/Platform/A7A/rme_platform_a7a.c ****    all known ARMv7-A processors.
 935:../../Source/Platform/A7A/rme_platform_a7a.c ****    We only user TTBR0 here and we set value N to 0 as always. Using TTBR1 is nonsense
 936:../../Source/Platform/A7A/rme_platform_a7a.c ****    in our context, as it gives little benefit.
 937:../../Source/Platform/A7A/rme_platform_a7a.c **** 2. The ARM page tables have idiosyncrasy that allow two page size mappings to exist
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 57


 938:../../Source/Platform/A7A/rme_platform_a7a.c ****    in the same page table.
 939:../../Source/Platform/A7A/rme_platform_a7a.c **** 3. ARM page tables use repetition when it comes to supersections and large pages.
 940:../../Source/Platform/A7A/rme_platform_a7a.c ****    This breaks our numorder-sizeorder assumption, and for this reason, we do not
 941:../../Source/Platform/A7A/rme_platform_a7a.c ****    support these two page sizes explicitly. These two sizes are supported by kernel
 942:../../Source/Platform/A7A/rme_platform_a7a.c ****    functions instead, and the kernel function always maps/unmaps the pages as needed
 943:../../Source/Platform/A7A/rme_platform_a7a.c ****    without checking for any permissions; this can be viewed as a hack, and require
 944:../../Source/Platform/A7A/rme_platform_a7a.c ****    some caution when we are mapping pages in.
 945:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Base - The start mapping address.
 946:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Top - The top-level flag,
 947:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Size_Order - The size order of the page directory.
 948:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Num_Order - The number order of the page directory.
 949:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address of the page directory.
 950:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 951:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 952:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 953:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Check(rme_ptr_t Base, rme_ptr_t Is_Top,
 954:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ptr_t Size_Order, rme_ptr_t Num_Order, rme_ptr_t Vaddr)
 955:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2243              		.loc 1 955 1
 2244              		.cfi_startproc
 2245              		@ args = 4, pretend = 0, frame = 16
 2246              		@ frame_needed = 1, uses_anonymous_args = 0
 2247 0000 00482DE9 		push	{fp, lr}
 2248              		.cfi_def_cfa_offset 8
 2249              		.cfi_offset 11, -8
 2250              		.cfi_offset 14, -4
 2251 0004 04B08DE2 		add	fp, sp, #4
 2252              		.cfi_def_cfa 11, 4
 2253 0008 10D04DE2 		sub	sp, sp, #16
 2254 000c 08000BE5 		str	r0, [fp, #-8]
 2255 0010 0C100BE5 		str	r1, [fp, #-12]
 2256 0014 10200BE5 		str	r2, [fp, #-16]
 2257 0018 14300BE5 		str	r3, [fp, #-20]
 956:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S("\r\nvaddr= ");
 2258              		.loc 1 956 2
 2259 001c 000000E3 		movw	r0, #:lower16:.LC21
 2260 0020 000040E3 		movt	r0, #:upper16:.LC21
 2261 0024 FEFFFFEB 		bl	RME_Str_Print
 957:../../Source/Platform/A7A/rme_platform_a7a.c **** 	        RME_DBG_H(Vaddr);
 2262              		.loc 1 957 10
 2263 0028 04009BE5 		ldr	r0, [fp, #4]
 2264 002c FEFFFFEB 		bl	RME_Hex_Print
 958:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Top-level - 1MiB pages, 4096 entries, 16KiB alignment */
 959:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Is_Top!=0)
 2265              		.loc 1 959 7
 2266 0030 0C301BE5 		ldr	r3, [fp, #-12]
 2267 0034 000053E3 		cmp	r3, #0
 2268 0038 1400000A 		beq	.L79
 960:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 961:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_1M)
 2269              		.loc 1 961 11
 2270 003c 10301BE5 		ldr	r3, [fp, #-16]
 2271 0040 140053E3 		cmp	r3, #20
 2272 0044 0100000A 		beq	.L80
 962:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2273              		.loc 1 962 20
 2274 0048 0030E0E3 		mvn	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 58


 2275 004c 200000EA 		b	.L81
 2276              	.L80:
 963:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_4K)
 2277              		.loc 1 963 11
 2278 0050 14301BE5 		ldr	r3, [fp, #-20]
 2279 0054 0C0053E3 		cmp	r3, #12
 2280 0058 0100000A 		beq	.L82
 964:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2281              		.loc 1 964 20
 2282 005c 0030E0E3 		mvn	r3, #0
 2283 0060 1B0000EA 		b	.L81
 2284              	.L82:
 965:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 2285              		.loc 1 965 18
 2286 0064 04309BE5 		ldr	r3, [fp, #4]
 2287 0068 5330EDE7 		ubfx	r3, r3, #0, #14
 2288              		.loc 1 965 11
 2289 006c 000053E3 		cmp	r3, #0
 2290 0070 1600000A 		beq	.L83
 966:../../Source/Platform/A7A/rme_platform_a7a.c ****         {
 967:../../Source/Platform/A7A/rme_platform_a7a.c ****             RME_DBG_S("\r\nvaddr error= ");
 2291              		.loc 1 967 13
 2292 0074 000000E3 		movw	r0, #:lower16:.LC22
 2293 0078 000040E3 		movt	r0, #:upper16:.LC22
 2294 007c FEFFFFEB 		bl	RME_Str_Print
 968:../../Source/Platform/A7A/rme_platform_a7a.c ****             RME_DBG_H(Vaddr);
 2295              		.loc 1 968 13
 2296 0080 04009BE5 		ldr	r0, [fp, #4]
 2297 0084 FEFFFFEB 		bl	RME_Hex_Print
 969:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2298              		.loc 1 969 20
 2299 0088 0030E0E3 		mvn	r3, #0
 2300 008c 100000EA 		b	.L81
 2301              	.L79:
 970:../../Source/Platform/A7A/rme_platform_a7a.c ****         }
 971:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 972:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Second-level - 4KiB pages, 256 entries, 1KiB alignment */
 973:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 974:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 975:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_4K)
 2302              		.loc 1 975 11
 2303 0090 10301BE5 		ldr	r3, [fp, #-16]
 2304 0094 0C0053E3 		cmp	r3, #12
 2305 0098 0100000A 		beq	.L84
 976:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2306              		.loc 1 976 20
 2307 009c 0030E0E3 		mvn	r3, #0
 2308 00a0 0B0000EA 		b	.L81
 2309              	.L84:
 977:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_256)
 2310              		.loc 1 977 11
 2311 00a4 14301BE5 		ldr	r3, [fp, #-20]
 2312 00a8 080053E3 		cmp	r3, #8
 2313 00ac 0100000A 		beq	.L85
 978:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2314              		.loc 1 978 20
 2315 00b0 0030E0E3 		mvn	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 59


 2316 00b4 060000EA 		b	.L81
 2317              	.L85:
 979:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FF)!=0)
 2318              		.loc 1 979 18
 2319 00b8 04309BE5 		ldr	r3, [fp, #4]
 2320 00bc 5330E9E7 		ubfx	r3, r3, #0, #10
 2321              		.loc 1 979 11
 2322 00c0 000053E3 		cmp	r3, #0
 2323 00c4 0100000A 		beq	.L83
 980:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2324              		.loc 1 980 20
 2325 00c8 0030E0E3 		mvn	r3, #0
 2326 00cc 000000EA 		b	.L81
 2327              	.L83:
 981:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 982:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 983:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2328              		.loc 1 983 12
 2329 00d0 0030A0E3 		mov	r3, #0
 2330              	.L81:
 984:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2331              		.loc 1 984 1
 2332 00d4 0300A0E1 		mov	r0, r3
 2333 00d8 04D04BE2 		sub	sp, fp, #4
 2334              		.cfi_def_cfa 13, 8
 2335              		@ sp needed
 2336 00dc 0088BDE8 		pop	{fp, pc}
 2337              		.cfi_endproc
 2338              	.LFE35:
 2340              		.section	.text.__RME_Pgt_Init,"ax",%progbits
 2341              		.align	2
 2342              		.global	__RME_Pgt_Init
 2343              		.syntax unified
 2344              		.arm
 2346              	__RME_Pgt_Init:
 2347              	.LFB36:
 985:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Check ********************************************/
 986:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 987:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Init **************************************************
 988:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the page table data structure, according to the capability.
 989:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
 990:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 991:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 992:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 993:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Init(struct RME_Cap_Pgt* Pgt_Op)
 994:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2348              		.loc 1 994 1
 2349              		.cfi_startproc
 2350              		@ args = 0, pretend = 0, frame = 16
 2351              		@ frame_needed = 1, uses_anonymous_args = 0
 2352              		@ link register save eliminated.
 2353 0000 04B02DE5 		str	fp, [sp, #-4]!
 2354              		.cfi_def_cfa_offset 4
 2355              		.cfi_offset 11, -4
 2356 0004 00B08DE2 		add	fp, sp, #0
 2357              		.cfi_def_cfa_register 11
 2358 0008 14D04DE2 		sub	sp, sp, #20
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 60


 2359 000c 10000BE5 		str	r0, [fp, #-16]
 995:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_cnt_t Count;
 996:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
 997:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 998:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the actual table */
 999:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ptr=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);  //*((volatile rme_ptr_t*)0x12345678)
 2360              		.loc 1 999 9
 2361 0010 10301BE5 		ldr	r3, [fp, #-16]
 2362 0014 0C3093E5 		ldr	r3, [r3, #12]
 2363              		.loc 1 999 8
 2364 0018 0C300BE5 		str	r3, [fp, #-12]
1000:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1001:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a first-level or a second-level? */
1002:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Base&RME_PGT_TOP)!=0)
 2365              		.loc 1 1002 15
 2366 001c 10301BE5 		ldr	r3, [fp, #-16]
 2367 0020 183093E5 		ldr	r3, [r3, #24]
 2368              		.loc 1 1002 21
 2369 0024 013003E2 		and	r3, r3, #1
 2370              		.loc 1 1002 7
 2371 0028 000053E3 		cmp	r3, #0
 2372 002c 2100000A 		beq	.L87
1003:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1004:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* First-level - clean up the first half and map in the second half as kernel entries */
1005:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<2048;Count++)
 2373              		.loc 1 1005 12
 2374 0030 0030A0E3 		mov	r3, #0
 2375 0034 08300BE5 		str	r3, [fp, #-8]
 2376              		.loc 1 1005 3
 2377 0038 080000EA 		b	.L88
 2378              	.L89:
1006:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2379              		.loc 1 1006 7
 2380 003c 08301BE5 		ldr	r3, [fp, #-8]
 2381 0040 0331A0E1 		lsl	r3, r3, #2
 2382 0044 0C201BE5 		ldr	r2, [fp, #-12]
 2383 0048 033082E0 		add	r3, r2, r3
 2384              		.loc 1 1006 14
 2385 004c 0020A0E3 		mov	r2, #0
 2386 0050 002083E5 		str	r2, [r3]
1005:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2387              		.loc 1 1005 31 discriminator 3
 2388 0054 08301BE5 		ldr	r3, [fp, #-8]
 2389 0058 013083E2 		add	r3, r3, #1
 2390 005c 08300BE5 		str	r3, [fp, #-8]
 2391              	.L88:
1005:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2392              		.loc 1 1005 20 discriminator 1
 2393 0060 08301BE5 		ldr	r3, [fp, #-8]
 2394 0064 020B53E3 		cmp	r3, #2048
 2395 0068 F3FFFFBA 		blt	.L89
1007:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1008:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(;Count<4096;Count++)
 2396              		.loc 1 1008 3
 2397 006c 0D0000EA 		b	.L90
 2398              	.L91:
1009:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 61


 2399              		.loc 1 1009 36
 2400 0070 08301BE5 		ldr	r3, [fp, #-8]
 2401 0074 0321A0E1 		lsl	r2, r3, #2
 2402 0078 003000E3 		movw	r3, #:lower16:__RME_A7A_Kern_Pgt
 2403 007c 003040E3 		movt	r3, #:upper16:__RME_A7A_Kern_Pgt
 2404 0080 032082E0 		add	r2, r2, r3
 2405              		.loc 1 1009 7
 2406 0084 08301BE5 		ldr	r3, [fp, #-8]
 2407 0088 0331A0E1 		lsl	r3, r3, #2
 2408 008c 0C101BE5 		ldr	r1, [fp, #-12]
 2409 0090 033081E0 		add	r3, r1, r3
 2410              		.loc 1 1009 36
 2411 0094 002092E5 		ldr	r2, [r2]
 2412              		.loc 1 1009 14
 2413 0098 002083E5 		str	r2, [r3]
1008:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 2414              		.loc 1 1008 24 discriminator 2
 2415 009c 08301BE5 		ldr	r3, [fp, #-8]
 2416 00a0 013083E2 		add	r3, r3, #1
 2417 00a4 08300BE5 		str	r3, [fp, #-8]
 2418              	.L90:
1008:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 2419              		.loc 1 1008 13 discriminator 1
 2420 00a8 08301BE5 		ldr	r3, [fp, #-8]
 2421 00ac 010A53E3 		cmp	r3, #4096
 2422 00b0 EEFFFFBA 		blt	.L91
 2423 00b4 0E0000EA 		b	.L92
 2424              	.L87:
1010:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1011:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1012:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1013:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Second-level - just clean it up to all zeros */
1014:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<256;Count++)
 2425              		.loc 1 1014 12
 2426 00b8 0030A0E3 		mov	r3, #0
 2427 00bc 08300BE5 		str	r3, [fp, #-8]
 2428              		.loc 1 1014 3
 2429 00c0 080000EA 		b	.L93
 2430              	.L94:
1015:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2431              		.loc 1 1015 7
 2432 00c4 08301BE5 		ldr	r3, [fp, #-8]
 2433 00c8 0331A0E1 		lsl	r3, r3, #2
 2434 00cc 0C201BE5 		ldr	r2, [fp, #-12]
 2435 00d0 033082E0 		add	r3, r2, r3
 2436              		.loc 1 1015 14
 2437 00d4 0020A0E3 		mov	r2, #0
 2438 00d8 002083E5 		str	r2, [r3]
1014:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2439              		.loc 1 1014 30 discriminator 3
 2440 00dc 08301BE5 		ldr	r3, [fp, #-8]
 2441 00e0 013083E2 		add	r3, r3, #1
 2442 00e4 08300BE5 		str	r3, [fp, #-8]
 2443              	.L93:
1014:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2444              		.loc 1 1014 20 discriminator 1
 2445 00e8 08301BE5 		ldr	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 62


 2446 00ec FF0053E3 		cmp	r3, #255
 2447 00f0 F3FFFFDA 		ble	.L94
 2448              	.L92:
1016:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1017:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1018:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2449              		.loc 1 1018 12
 2450 00f4 0030A0E3 		mov	r3, #0
1019:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2451              		.loc 1 1019 1
 2452 00f8 0300A0E1 		mov	r0, r3
 2453 00fc 00D08BE2 		add	sp, fp, #0
 2454              		.cfi_def_cfa_register 13
 2455              		@ sp needed
 2456 0100 04B09DE4 		ldr	fp, [sp], #4
 2457              		.cfi_restore 11
 2458              		.cfi_def_cfa_offset 0
 2459 0104 1EFF2FE1 		bx	lr
 2460              		.cfi_endproc
 2461              	.LFE36:
 2463              		.section	.text.__RME_Pgt_Del_Check,"ax",%progbits
 2464              		.align	2
 2465              		.global	__RME_Pgt_Del_Check
 2466              		.syntax unified
 2467              		.arm
 2469              	__RME_Pgt_Del_Check:
 2470              	.LFB37:
1020:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Init *********************************************/
1021:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1022:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Del_Check *********************************************
1023:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table can be deleted.
1024:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt Pgt_Op* - The capability to the page table to operate on.
1025:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1026:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If can be deleted, 0; else RME_ERR_HAL_FAIL.
1027:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1028:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Del_Check(struct RME_Cap_Pgt* Pgt_Op)
1029:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2471              		.loc 1 1029 1
 2472              		.cfi_startproc
 2473              		@ args = 0, pretend = 0, frame = 8
 2474              		@ frame_needed = 1, uses_anonymous_args = 0
 2475              		@ link register save eliminated.
 2476 0000 04B02DE5 		str	fp, [sp, #-4]!
 2477              		.cfi_def_cfa_offset 4
 2478              		.cfi_offset 11, -4
 2479 0004 00B08DE2 		add	fp, sp, #0
 2480              		.cfi_def_cfa_register 11
 2481 0008 0CD04DE2 		sub	sp, sp, #12
 2482 000c 08000BE5 		str	r0, [fp, #-8]
1030:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2483              		.loc 1 1030 12
 2484 0010 0030A0E3 		mov	r3, #0
1031:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2485              		.loc 1 1031 1
 2486 0014 0300A0E1 		mov	r0, r3
 2487 0018 00D08BE2 		add	sp, fp, #0
 2488              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 63


 2489              		@ sp needed
 2490 001c 04B09DE4 		ldr	fp, [sp], #4
 2491              		.cfi_restore 11
 2492              		.cfi_def_cfa_offset 0
 2493 0020 1EFF2FE1 		bx	lr
 2494              		.cfi_endproc
 2495              	.LFE37:
 2497              		.section	.rodata
 2498              		.align	2
 2499              	.LC23:
 2500 01ec 0D0A2041 		.ascii	"\015\012 A7A_Flags= \000"
 2500      37415F46 
 2500      6C616773 
 2500      3D2000
 2501 01fb 00       		.align	2
 2502              	.LC24:
 2503 01fc 0D0A5461 		.ascii	"\015\012Table[Pos] = \000"
 2503      626C655B 
 2503      506F735D 
 2503      203D2000 
 2504              		.section	.text.__RME_Pgt_Page_Map,"ax",%progbits
 2505              		.align	2
 2506              		.global	__RME_Pgt_Page_Map
 2507              		.syntax unified
 2508              		.arm
 2510              	__RME_Pgt_Page_Map:
 2511              	.LFB38:
1032:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Del_Check ****************************************/
1033:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1034:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Map **********************************************
1035:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page into the page table. This architecture requires that the
1036:../../Source/Platform/A7A/rme_platform_a7a.c ****               mapping is always at least readable. The Cortex-A's super pages are
1037:../../Source/Platform/A7A/rme_platform_a7a.c ****               not supported by this. Also, RME dfoesn't use the domain model; all
1038:../../Source/Platform/A7A/rme_platform_a7a.c ****               page tables' domain is always client, which means that the permission
1039:../../Source/Platform/A7A/rme_platform_a7a.c ****               flags will always be checked.
1040:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The cap ability to the page table to operate on.
1041:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Paddr - The physical address to map to. If we are unmapping,
1042:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 this have no effect.
1043:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1044:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard page attributes. Need to translate
1045:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 them into architecture specific page table's settings.
1046:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1047:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1048:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1049:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Map(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Paddr, rme_ptr_t Pos, rme_ptr_t 
1050:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2512              		.loc 1 1050 1
 2513              		.cfi_startproc
 2514              		@ args = 0, pretend = 0, frame = 24
 2515              		@ frame_needed = 1, uses_anonymous_args = 0
 2516 0000 00482DE9 		push	{fp, lr}
 2517              		.cfi_def_cfa_offset 8
 2518              		.cfi_offset 11, -8
 2519              		.cfi_offset 14, -4
 2520 0004 04B08DE2 		add	fp, sp, #4
 2521              		.cfi_def_cfa 11, 4
 2522 0008 18D04DE2 		sub	sp, sp, #24
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 64


 2523 000c 10000BE5 		str	r0, [fp, #-16]
 2524 0010 14100BE5 		str	r1, [fp, #-20]
 2525 0014 18200BE5 		str	r2, [fp, #-24]
 2526 0018 1C300BE5 		str	r3, [fp, #-28]
1051:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1052:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*RME_DBG_S("\r\nPgt_Op->Order");
1053:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Pgt_Op->Order);
1054:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nPgt_Op->Order ");
1055:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_PGT_SZORD(Pgt_Op->Order));
1056:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nPgt_Op->Order ");
1057:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_PGT_SZORD(Pgt_Op->Order));
1058:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)!=0U)
1059:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1060:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nhhhhhhhhhhhhhhh ");
1061:../../Source/Platform/A7A/rme_platform_a7a.c ****     }*/
1062:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1063:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1064:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1065:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1066:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
1067:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 2527              		.loc 1 1067 14
 2528 001c 1C301BE5 		ldr	r3, [fp, #-28]
 2529 0020 013003E2 		and	r3, r3, #1
 2530              		.loc 1 1067 7
 2531 0024 000053E3 		cmp	r3, #0
 2532 0028 0100001A 		bne	.L99
1068:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2533              		.loc 1 1068 16
 2534 002c 0030E0E3 		mvn	r3, #0
 2535 0030 410000EA 		b	.L100
 2536              	.L99:
1069:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1070:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1071:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base&RME_PGT_TOP)!=0)&&(Pos>=2048))
 2537              		.loc 1 1071 16
 2538 0034 10301BE5 		ldr	r3, [fp, #-16]
 2539 0038 183093E5 		ldr	r3, [r3, #24]
 2540              		.loc 1 1071 22
 2541 003c 013003E2 		and	r3, r3, #1
 2542              		.loc 1 1071 7
 2543 0040 000053E3 		cmp	r3, #0
 2544 0044 0400000A 		beq	.L101
 2545              		.loc 1 1071 39 discriminator 1
 2546 0048 18301BE5 		ldr	r3, [fp, #-24]
 2547 004c 020B53E3 		cmp	r3, #2048
 2548 0050 0100003A 		bcc	.L101
1072:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2549              		.loc 1 1072 16
 2550 0054 0030E0E3 		mvn	r3, #0
 2551 0058 370000EA 		b	.L100
 2552              	.L101:
1073:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1074:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1075:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 2553              		.loc 1 1075 11
 2554 005c 10301BE5 		ldr	r3, [fp, #-16]
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 65


 2555 0060 0C3093E5 		ldr	r3, [r3, #12]
 2556              		.loc 1 1075 10
 2557 0064 0C300BE5 		str	r3, [fp, #-12]
1076:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1077:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate flags */
1078:../../Source/Platform/A7A/rme_platform_a7a.c ****     //if(RME_PGT_SZORD(Pgt_Op->Order)==RME_PGT_SIZE_4K)
1079:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)!=0U)
 2558              		.loc 1 1079 16
 2559 0068 10301BE5 		ldr	r3, [fp, #-16]
 2560 006c 183093E5 		ldr	r3, [r3, #24]
 2561              		.loc 1 1079 23
 2562 0070 013003E2 		and	r3, r3, #1
 2563              		.loc 1 1079 7
 2564 0074 000053E3 		cmp	r3, #0
 2565 0078 0E00000A 		beq	.L102
1080:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1081:../../Source/Platform/A7A/rme_platform_a7a.c ****         /*Flags&=(!RME_PGT_STATIC);
1082:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\n Flags= ");
1083:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(Flags);*/
1084:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1085:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_1M_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_1M_RME2NAT(Flags);
 2566              		.loc 1 1085 19
 2567 007c 14301BE5 		ldr	r3, [fp, #-20]
 2568 0080 233AA0E1 		lsr	r3, r3, #20
 2569 0084 033AA0E1 		lsl	r3, r3, #20
 2570              		.loc 1 1085 51
 2571 0088 002000E3 		movw	r2, #:lower16:RME_A7A_Pgflg_1M_RME2NAT
 2572 008c 002040E3 		movt	r2, #:upper16:RME_A7A_Pgflg_1M_RME2NAT
 2573 0090 1C101BE5 		ldr	r1, [fp, #-28]
 2574 0094 012192E7 		ldr	r2, [r2, r1, lsl #2]
 2575              		.loc 1 1085 18
 2576 0098 023083E1 		orr	r3, r3, r2
 2577 009c 08300BE5 		str	r3, [fp, #-8]
1086:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\n A7A_Flags= ");
 2578              		.loc 1 1086 9
 2579 00a0 000000E3 		movw	r0, #:lower16:.LC23
 2580 00a4 000040E3 		movt	r0, #:upper16:.LC23
 2581 00a8 FEFFFFEB 		bl	RME_Str_Print
1087:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(A7A_Flags);
 2582              		.loc 1 1087 9
 2583 00ac 08001BE5 		ldr	r0, [fp, #-8]
 2584 00b0 FEFFFFEB 		bl	RME_Hex_Print
 2585 00b4 080000EA 		b	.L103
 2586              	.L102:
1088:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1089:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1090:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_4K_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_4K_RME2NAT(Flags);
 2587              		.loc 1 1090 19
 2588 00b8 14301BE5 		ldr	r3, [fp, #-20]
 2589 00bc FF3EC3E3 		bic	r3, r3, #4080
 2590 00c0 0F30C3E3 		bic	r3, r3, #15
 2591              		.loc 1 1090 51
 2592 00c4 002000E3 		movw	r2, #:lower16:RME_A7A_Pgflg_4K_RME2NAT
 2593 00c8 002040E3 		movt	r2, #:upper16:RME_A7A_Pgflg_4K_RME2NAT
 2594 00cc 1C101BE5 		ldr	r1, [fp, #-28]
 2595 00d0 012192E7 		ldr	r2, [r2, r1, lsl #2]
 2596              		.loc 1 1090 18
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 66


 2597 00d4 023083E1 		orr	r3, r3, r2
 2598 00d8 08300BE5 		str	r3, [fp, #-8]
 2599              	.L103:
1091:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in */
1092:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),0,A7A_Flags)==0)
 2600              		.loc 1 1092 8
 2601 00dc 18301BE5 		ldr	r3, [fp, #-24]
 2602 00e0 0331A0E1 		lsl	r3, r3, #2
 2603 00e4 0C201BE5 		ldr	r2, [fp, #-12]
 2604 00e8 033082E0 		add	r3, r2, r3
 2605 00ec 08201BE5 		ldr	r2, [fp, #-8]
 2606 00f0 0010A0E3 		mov	r1, #0
 2607 00f4 0300A0E1 		mov	r0, r3
 2608 00f8 FEFFFFEB 		bl	_RME_Comp_Swap_Single
 2609 00fc 0030A0E1 		mov	r3, r0
 2610              		.loc 1 1092 7 discriminator 1
 2611 0100 000053E3 		cmp	r3, #0
 2612 0104 0100001A 		bne	.L104
1093:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2613              		.loc 1 1093 16
 2614 0108 0030E0E3 		mvn	r3, #0
 2615 010c 0A0000EA 		b	.L100
 2616              	.L104:
1094:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1095:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nTable[Pos] = ");
 2617              		.loc 1 1095 5
 2618 0110 000000E3 		movw	r0, #:lower16:.LC24
 2619 0114 000040E3 		movt	r0, #:upper16:.LC24
 2620 0118 FEFFFFEB 		bl	RME_Str_Print
1096:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Table[Pos]);
 2621              		.loc 1 1096 5
 2622 011c 18301BE5 		ldr	r3, [fp, #-24]
 2623 0120 0331A0E1 		lsl	r3, r3, #2
 2624 0124 0C201BE5 		ldr	r2, [fp, #-12]
 2625 0128 033082E0 		add	r3, r2, r3
 2626 012c 003093E5 		ldr	r3, [r3]
 2627 0130 0300A0E1 		mov	r0, r3
 2628 0134 FEFFFFEB 		bl	RME_Hex_Print
1097:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1098:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2629              		.loc 1 1098 12
 2630 0138 0030A0E3 		mov	r3, #0
 2631              	.L100:
1099:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2632              		.loc 1 1099 1
 2633 013c 0300A0E1 		mov	r0, r3
 2634 0140 04D04BE2 		sub	sp, fp, #4
 2635              		.cfi_def_cfa 13, 8
 2636              		@ sp needed
 2637 0144 0088BDE8 		pop	{fp, pc}
 2638              		.cfi_endproc
 2639              	.LFE38:
 2641              		.section	.text.__RME_Pgt_Page_Unmap,"ax",%progbits
 2642              		.align	2
 2643              		.global	__RME_Pgt_Page_Unmap
 2644              		.syntax unified
 2645              		.arm
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 67


 2647              	__RME_Pgt_Page_Unmap:
 2648              	.LFB39:
1100:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Map *****************************************/
1101:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1102:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Unmap ********************************************
1103:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page from the page table.
1104:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
1105:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1106:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1107:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1108:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1109:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Unmap(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos)
1110:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2649              		.loc 1 1110 1
 2650              		.cfi_startproc
 2651              		@ args = 0, pretend = 0, frame = 16
 2652              		@ frame_needed = 1, uses_anonymous_args = 0
 2653 0000 00482DE9 		push	{fp, lr}
 2654              		.cfi_def_cfa_offset 8
 2655              		.cfi_offset 11, -8
 2656              		.cfi_offset 14, -4
 2657 0004 04B08DE2 		add	fp, sp, #4
 2658              		.cfi_def_cfa 11, 4
 2659 0008 10D04DE2 		sub	sp, sp, #16
 2660 000c 10000BE5 		str	r0, [fp, #-16]
 2661 0010 14100BE5 		str	r1, [fp, #-20]
1111:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1112:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1113:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1114:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to unmap the kernel space on the top level? */
1115:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base&RME_PGT_TOP)!=0)&&(Pos>=2048))
 2662              		.loc 1 1115 16
 2663 0014 10301BE5 		ldr	r3, [fp, #-16]
 2664 0018 183093E5 		ldr	r3, [r3, #24]
 2665              		.loc 1 1115 22
 2666 001c 013003E2 		and	r3, r3, #1
 2667              		.loc 1 1115 7
 2668 0020 000053E3 		cmp	r3, #0
 2669 0024 0400000A 		beq	.L106
 2670              		.loc 1 1115 39 discriminator 1
 2671 0028 14301BE5 		ldr	r3, [fp, #-20]
 2672 002c 020B53E3 		cmp	r3, #2048
 2673 0030 0100003A 		bcc	.L106
1116:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2674              		.loc 1 1116 16
 2675 0034 0030E0E3 		mvn	r3, #0
 2676 0038 260000EA 		b	.L107
 2677              	.L106:
1117:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1118:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1119:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 2678              		.loc 1 1119 11
 2679 003c 10301BE5 		ldr	r3, [fp, #-16]
 2680 0040 0C3093E5 		ldr	r3, [r3, #12]
 2681              		.loc 1 1119 10
 2682 0044 08300BE5 		str	r3, [fp, #-8]
1120:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 68


1121:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that there is something */
1122:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 2683              		.loc 1 1122 15
 2684 0048 14301BE5 		ldr	r3, [fp, #-20]
 2685 004c 0331A0E1 		lsl	r3, r3, #2
 2686 0050 08201BE5 		ldr	r2, [fp, #-8]
 2687 0054 033082E0 		add	r3, r2, r3
 2688              		.loc 1 1122 9
 2689 0058 003093E5 		ldr	r3, [r3]
 2690 005c 0C300BE5 		str	r3, [fp, #-12]
1123:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Temp==0)
 2691              		.loc 1 1123 7
 2692 0060 0C301BE5 		ldr	r3, [fp, #-12]
 2693 0064 000053E3 		cmp	r3, #0
 2694 0068 0100001A 		bne	.L108
1124:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2695              		.loc 1 1124 16
 2696 006c 0030E0E3 		mvn	r3, #0
 2697 0070 180000EA 		b	.L107
 2698              	.L108:
1125:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1126:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a page directory? We cannot unmap page directories like this */
1127:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((RME_PGT_SZORD(Pgt_Op->Order)!=RME_PGT_SIZE_4K)&&((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0))
 2699              		.loc 1 1127 9
 2700 0074 10301BE5 		ldr	r3, [fp, #-16]
 2701 0078 143093E5 		ldr	r3, [r3, #20]
 2702 007c 2338A0E1 		lsr	r3, r3, #16
 2703              		.loc 1 1127 7
 2704 0080 0C0053E3 		cmp	r3, #12
 2705 0084 0500000A 		beq	.L109
 2706              		.loc 1 1127 63 discriminator 1
 2707 0088 0C301BE5 		ldr	r3, [fp, #-12]
 2708 008c 013003E2 		and	r3, r3, #1
 2709              		.loc 1 1127 55 discriminator 1
 2710 0090 000053E3 		cmp	r3, #0
 2711 0094 0100000A 		beq	.L109
1128:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2712              		.loc 1 1128 16
 2713 0098 0030E0E3 		mvn	r3, #0
 2714 009c 0D0000EA 		b	.L107
 2715              	.L109:
1129:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1130:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to unmap it. Use CAS just in case */
1131:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),Temp,0)==0)
 2716              		.loc 1 1131 8
 2717 00a0 14301BE5 		ldr	r3, [fp, #-20]
 2718 00a4 0331A0E1 		lsl	r3, r3, #2
 2719 00a8 08201BE5 		ldr	r2, [fp, #-8]
 2720 00ac 033082E0 		add	r3, r2, r3
 2721 00b0 0020A0E3 		mov	r2, #0
 2722 00b4 0C101BE5 		ldr	r1, [fp, #-12]
 2723 00b8 0300A0E1 		mov	r0, r3
 2724 00bc FEFFFFEB 		bl	_RME_Comp_Swap_Single
 2725 00c0 0030A0E1 		mov	r3, r0
 2726              		.loc 1 1131 7 discriminator 1
 2727 00c4 000053E3 		cmp	r3, #0
 2728 00c8 0100001A 		bne	.L110
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 69


1132:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2729              		.loc 1 1132 16
 2730 00cc 0030E0E3 		mvn	r3, #0
 2731 00d0 000000EA 		b	.L107
 2732              	.L110:
1133:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1134:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2733              		.loc 1 1134 12
 2734 00d4 0030A0E3 		mov	r3, #0
 2735              	.L107:
1135:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2736              		.loc 1 1135 1
 2737 00d8 0300A0E1 		mov	r0, r3
 2738 00dc 04D04BE2 		sub	sp, fp, #4
 2739              		.cfi_def_cfa 13, 8
 2740              		@ sp needed
 2741 00e0 0088BDE8 		pop	{fp, pc}
 2742              		.cfi_endproc
 2743              	.LFE39:
 2745              		.section	.text.__RME_Pgt_Pgdir_Map,"ax",%progbits
 2746              		.align	2
 2747              		.global	__RME_Pgt_Pgdir_Map
 2748              		.syntax unified
 2749              		.arm
 2751              	__RME_Pgt_Pgdir_Map:
 2752              	.LFB40:
1136:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Unmap ***************************************/
1137:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1138:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Map *********************************************
1139:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page directory into the page table. It is surprising that
1140:../../Source/Platform/A7A/rme_platform_a7a.c ****               Cortex-A (ARMv7) does not support any kind of page directory flags.
1141:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Parent - The parent page table.
1142:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Cap_Pgt* Pgt_Child - The child page table.
1143:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the destination page table.
1144:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard flags for the child page table.
1145:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1146:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1147:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1148:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Pgdir_Map(struct RME_Cap_Pgt* Pgt_Parent, rme_ptr_t Pos,
1149:../../Source/Platform/A7A/rme_platform_a7a.c ****                               struct RME_Cap_Pgt* Pgt_Child, rme_ptr_t Flags)
1150:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2753              		.loc 1 1150 1
 2754              		.cfi_startproc
 2755              		@ args = 0, pretend = 0, frame = 32
 2756              		@ frame_needed = 1, uses_anonymous_args = 0
 2757 0000 00482DE9 		push	{fp, lr}
 2758              		.cfi_def_cfa_offset 8
 2759              		.cfi_offset 11, -8
 2760              		.cfi_offset 14, -4
 2761 0004 04B08DE2 		add	fp, sp, #4
 2762              		.cfi_def_cfa 11, 4
 2763 0008 20D04DE2 		sub	sp, sp, #32
 2764 000c 18000BE5 		str	r0, [fp, #-24]
 2765 0010 1C100BE5 		str	r1, [fp, #-28]
 2766 0014 20200BE5 		str	r2, [fp, #-32]
 2767 0018 24300BE5 		str	r3, [fp, #-36]
1151:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Parent_Table;
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 70


1152:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Child_Table;
1153:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1154:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1155:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
1156:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 2768              		.loc 1 1156 14
 2769 001c 24301BE5 		ldr	r3, [fp, #-36]
 2770 0020 013003E2 		and	r3, r3, #1
 2771              		.loc 1 1156 7
 2772 0024 000053E3 		cmp	r3, #0
 2773 0028 0100001A 		bne	.L112
1157:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2774              		.loc 1 1157 16
 2775 002c 0030E0E3 		mvn	r3, #0
 2776 0030 230000EA 		b	.L113
 2777              	.L112:
1158:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1159:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1160:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Parent->Base&RME_PGT_TOP)!=0)&&(Pos>=2048))
 2778              		.loc 1 1160 20
 2779 0034 18301BE5 		ldr	r3, [fp, #-24]
 2780 0038 183093E5 		ldr	r3, [r3, #24]
 2781              		.loc 1 1160 26
 2782 003c 013003E2 		and	r3, r3, #1
 2783              		.loc 1 1160 7
 2784 0040 000053E3 		cmp	r3, #0
 2785 0044 0400000A 		beq	.L114
 2786              		.loc 1 1160 43 discriminator 1
 2787 0048 1C301BE5 		ldr	r3, [fp, #-28]
 2788 004c 020B53E3 		cmp	r3, #2048
 2789 0050 0100003A 		bcc	.L114
1161:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2790              		.loc 1 1161 16
 2791 0054 0030E0E3 		mvn	r3, #0
 2792 0058 190000EA 		b	.L113
 2793              	.L114:
1162:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1163:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1164:../../Source/Platform/A7A/rme_platform_a7a.c ****     Parent_Table=RME_CAP_GETOBJ(Pgt_Parent,rme_ptr_t*);
 2794              		.loc 1 1164 18
 2795 005c 18301BE5 		ldr	r3, [fp, #-24]
 2796 0060 0C3093E5 		ldr	r3, [r3, #12]
 2797              		.loc 1 1164 17
 2798 0064 08300BE5 		str	r3, [fp, #-8]
1165:../../Source/Platform/A7A/rme_platform_a7a.c ****     Child_Table=RME_CAP_GETOBJ(Pgt_Child,rme_ptr_t*);
 2799              		.loc 1 1165 17
 2800 0068 20301BE5 		ldr	r3, [fp, #-32]
 2801 006c 0C3093E5 		ldr	r3, [r3, #12]
 2802              		.loc 1 1165 16
 2803 0070 0C300BE5 		str	r3, [fp, #-12]
1166:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1167:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate the content */
1168:../../Source/Platform/A7A/rme_platform_a7a.c ****     A7A_Flags=RME_A7A_MMU_1M_PGT_ADDR(RME_A7A_VA2PA(Child_Table))|RME_A7A_MMU_1M_PGDIR_PRESENT;
 2804              		.loc 1 1168 15
 2805 0074 0C301BE5 		ldr	r3, [fp, #-12]
 2806 0078 023183E2 		add	r3, r3, #-2147483648
 2807 007c FF3FC3E3 		bic	r3, r3, #1020
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 71


 2808 0080 0330C3E3 		bic	r3, r3, #3
 2809              		.loc 1 1168 14
 2810 0084 013083E3 		orr	r3, r3, #1
 2811 0088 10300BE5 		str	r3, [fp, #-16]
1169:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1170:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in - may need to increase some count */
1171:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Parent_Table[Pos]),0,A7A_Flags)==0)
 2812              		.loc 1 1171 8
 2813 008c 1C301BE5 		ldr	r3, [fp, #-28]
 2814 0090 0331A0E1 		lsl	r3, r3, #2
 2815 0094 08201BE5 		ldr	r2, [fp, #-8]
 2816 0098 033082E0 		add	r3, r2, r3
 2817 009c 10201BE5 		ldr	r2, [fp, #-16]
 2818 00a0 0010A0E3 		mov	r1, #0
 2819 00a4 0300A0E1 		mov	r0, r3
 2820 00a8 FEFFFFEB 		bl	_RME_Comp_Swap_Single
 2821 00ac 0030A0E1 		mov	r3, r0
 2822              		.loc 1 1171 7 discriminator 1
 2823 00b0 000053E3 		cmp	r3, #0
 2824 00b4 0100001A 		bne	.L115
1172:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2825              		.loc 1 1172 16
 2826 00b8 0030E0E3 		mvn	r3, #0
 2827 00bc 000000EA 		b	.L113
 2828              	.L115:
1173:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1174:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2829              		.loc 1 1174 12
 2830 00c0 0030A0E3 		mov	r3, #0
 2831              	.L113:
1175:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2832              		.loc 1 1175 1
 2833 00c4 0300A0E1 		mov	r0, r3
 2834 00c8 04D04BE2 		sub	sp, fp, #4
 2835              		.cfi_def_cfa 13, 8
 2836              		@ sp needed
 2837 00cc 0088BDE8 		pop	{fp, pc}
 2838              		.cfi_endproc
 2839              	.LFE40:
 2841              		.section	.text.__RME_Pgt_Pgdir_Unmap,"ax",%progbits
 2842              		.align	2
 2843              		.global	__RME_Pgt_Pgdir_Unmap
 2844              		.syntax unified
 2845              		.arm
 2847              	__RME_Pgt_Pgdir_Unmap:
 2848              	.LFB41:
1176:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Map ****************************************/
1177:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1178:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Unmap *******************************************
1179:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page directory from the page table.
1180:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to operate on.
1181:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1182:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1183:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1184:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1185:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Pgt_Pgdir_Unmap(struct RME_Cap_Pgt* Pgt_Parent,rme_ptr_t Pos,
1186:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 struct RME_Cap_Pgt* Pgt_Child)
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 72


1187:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2849              		.loc 1 1187 1
 2850              		.cfi_startproc
 2851              		@ args = 0, pretend = 0, frame = 16
 2852              		@ frame_needed = 1, uses_anonymous_args = 0
 2853              		@ link register save eliminated.
 2854 0000 04B02DE5 		str	fp, [sp, #-4]!
 2855              		.cfi_def_cfa_offset 4
 2856              		.cfi_offset 11, -4
 2857 0004 00B08DE2 		add	fp, sp, #0
 2858              		.cfi_def_cfa_register 11
 2859 0008 14D04DE2 		sub	sp, sp, #20
 2860 000c 08000BE5 		str	r0, [fp, #-8]
 2861 0010 0C100BE5 		str	r1, [fp, #-12]
 2862 0014 10200BE5 		str	r2, [fp, #-16]
1188:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1189:../../Source/Platform/A7A/rme_platform_a7a.c ****    return 0;
 2863              		.loc 1 1189 11
 2864 0018 0030A0E3 		mov	r3, #0
1190:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2865              		.loc 1 1190 1
 2866 001c 0300A0E1 		mov	r0, r3
 2867 0020 00D08BE2 		add	sp, fp, #0
 2868              		.cfi_def_cfa_register 13
 2869              		@ sp needed
 2870 0024 04B09DE4 		ldr	fp, [sp], #4
 2871              		.cfi_restore 11
 2872              		.cfi_def_cfa_offset 0
 2873 0028 1EFF2FE1 		bx	lr
 2874              		.cfi_endproc
 2875              	.LFE41:
 2877              		.section	.text.__RME_Pgt_Lookup,"ax",%progbits
 2878              		.align	2
 2879              		.global	__RME_Pgt_Lookup
 2880              		.syntax unified
 2881              		.arm
 2883              	__RME_Pgt_Lookup:
 2884              	.LFB42:
1191:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Unmap **************************************/
1192:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1193:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Lookup **************************************************
1194:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Lookup a page entry in a page directory. This function cannot deal
1195:../../Source/Platform/A7A/rme_platform_a7a.c ****               with large pages and super sections - it is the user's responsibility
1196:../../Source/Platform/A7A/rme_platform_a7a.c ****               to avoid this.
1197:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page directory to lookup.
1198:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position to look up.
1199:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Paddr - The physical address of the page.
1200:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1201:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1202:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1203:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Lookup(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos, rme_ptr_t* Paddr, rme_ptr_t* 
1204:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2885              		.loc 1 1204 1
 2886              		.cfi_startproc
 2887              		@ args = 0, pretend = 0, frame = 24
 2888              		@ frame_needed = 1, uses_anonymous_args = 0
 2889              		@ link register save eliminated.
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 73


 2890 0000 04B02DE5 		str	fp, [sp, #-4]!
 2891              		.cfi_def_cfa_offset 4
 2892              		.cfi_offset 11, -4
 2893 0004 00B08DE2 		add	fp, sp, #0
 2894              		.cfi_def_cfa_register 11
 2895 0008 1CD04DE2 		sub	sp, sp, #28
 2896 000c 10000BE5 		str	r0, [fp, #-16]
 2897 0010 14100BE5 		str	r1, [fp, #-20]
 2898 0014 18200BE5 		str	r2, [fp, #-24]
 2899 0018 1C300BE5 		str	r3, [fp, #-28]
1205:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1206:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1207:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1208:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if the position is within the range of this page table */
1209:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pos>>RME_PGT_NMORD(Pgt_Op->Order))!=0)
 2900              		.loc 1 1209 14
 2901 001c 10301BE5 		ldr	r3, [fp, #-16]
 2902 0020 143093E5 		ldr	r3, [r3, #20]
 2903 0024 7330FFE6 		uxth	r3, r3
 2904              		.loc 1 1209 12
 2905 0028 14201BE5 		ldr	r2, [fp, #-20]
 2906 002c 3233A0E1 		lsr	r3, r2, r3
 2907              		.loc 1 1209 7
 2908 0030 000053E3 		cmp	r3, #0
 2909 0034 0100000A 		beq	.L119
1210:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2910              		.loc 1 1210 16
 2911 0038 0030E0E3 		mvn	r3, #0
 2912 003c 580000EA 		b	.L120
 2913              	.L119:
1211:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1212:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1213:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 2914              		.loc 1 1213 11
 2915 0040 10301BE5 		ldr	r3, [fp, #-16]
 2916 0044 0C3093E5 		ldr	r3, [r3, #12]
 2917              		.loc 1 1213 10
 2918 0048 08300BE5 		str	r3, [fp, #-8]
1214:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the position requested - atomic read */
1215:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 2919              		.loc 1 1215 15
 2920 004c 14301BE5 		ldr	r3, [fp, #-20]
 2921 0050 0331A0E1 		lsl	r3, r3, #2
 2922 0054 08201BE5 		ldr	r2, [fp, #-8]
 2923 0058 033082E0 		add	r3, r2, r3
 2924              		.loc 1 1215 9
 2925 005c 003093E5 		ldr	r3, [r3]
 2926 0060 0C300BE5 		str	r3, [fp, #-12]
1216:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1217:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start lookup - is this a terminal page, or? */
1218:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SZORD(Pgt_Op->Order)==RME_PGT_SIZE_4K)
 2927              		.loc 1 1218 8
 2928 0064 10301BE5 		ldr	r3, [fp, #-16]
 2929 0068 143093E5 		ldr	r3, [r3, #20]
 2930 006c 2338A0E1 		lsr	r3, r3, #16
 2931              		.loc 1 1218 7
 2932 0070 0C0053E3 		cmp	r3, #12
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 74


 2933 0074 2400001A 		bne	.L121
1219:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1220:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)==0)
 2934              		.loc 1 1220 17
 2935 0078 0C301BE5 		ldr	r3, [fp, #-12]
 2936 007c 023003E2 		and	r3, r3, #2
 2937              		.loc 1 1220 11
 2938 0080 000053E3 		cmp	r3, #0
 2939 0084 0100001A 		bne	.L122
1221:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2940              		.loc 1 1221 20
 2941 0088 0030E0E3 		mvn	r3, #0
 2942 008c 440000EA 		b	.L120
 2943              	.L122:
1222:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1223:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a small page. Return the physical address and flags */
1224:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
 2944              		.loc 1 1224 11
 2945 0090 18301BE5 		ldr	r3, [fp, #-24]
 2946 0094 000053E3 		cmp	r3, #0
 2947 0098 0400000A 		beq	.L123
1225:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
 2948              		.loc 1 1225 17
 2949 009c 0C301BE5 		ldr	r3, [fp, #-12]
 2950 00a0 FF3EC3E3 		bic	r3, r3, #4080
 2951 00a4 0F30C3E3 		bic	r3, r3, #15
 2952              		.loc 1 1225 16
 2953 00a8 18201BE5 		ldr	r2, [fp, #-24]
 2954 00ac 003082E5 		str	r3, [r2]
 2955              	.L123:
1226:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
 2956              		.loc 1 1226 11
 2957 00b0 1C301BE5 		ldr	r3, [fp, #-28]
 2958 00b4 000053E3 		cmp	r3, #0
 2959 00b8 3800000A 		beq	.L124
1227:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
 2960              		.loc 1 1227 20
 2961 00bc 0C301BE5 		ldr	r3, [fp, #-12]
 2962 00c0 2333A0E1 		lsr	r3, r3, #6
 2963 00c4 082003E2 		and	r2, r3, #8
 2964 00c8 0C301BE5 		ldr	r3, [fp, #-12]
 2965 00cc A330A0E1 		lsr	r3, r3, #1
 2966 00d0 043003E2 		and	r3, r3, #4
 2967 00d4 032082E1 		orr	r2, r2, r3
 2968 00d8 0C301BE5 		ldr	r3, [fp, #-12]
 2969 00dc A330A0E1 		lsr	r3, r3, #1
 2970 00e0 023003E2 		and	r3, r3, #2
 2971 00e4 032082E1 		orr	r2, r2, r3
 2972 00e8 0C301BE5 		ldr	r3, [fp, #-12]
 2973 00ec 013003E2 		and	r3, r3, #1
 2974 00f0 032082E1 		orr	r2, r2, r3
 2975 00f4 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_4K_NAT2RME
 2976 00f8 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_4K_NAT2RME
 2977 00fc 022193E7 		ldr	r2, [r3, r2, lsl #2]
 2978              		.loc 1 1227 19
 2979 0100 1C301BE5 		ldr	r3, [fp, #-28]
 2980 0104 002083E5 		str	r2, [r3]
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 75


 2981 0108 240000EA 		b	.L124
 2982              	.L121:
1228:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1229:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1230:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1231:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)==0)
 2983              		.loc 1 1231 17
 2984 010c 0C301BE5 		ldr	r3, [fp, #-12]
 2985 0110 023003E2 		and	r3, r3, #2
 2986              		.loc 1 1231 11
 2987 0114 000053E3 		cmp	r3, #0
 2988 0118 0100001A 		bne	.L125
1232:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2989              		.loc 1 1232 20
 2990 011c 0030E0E3 		mvn	r3, #0
 2991 0120 1F0000EA 		b	.L120
 2992              	.L125:
1233:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1234:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a section. Return the physical address and flags */
1235:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
 2993              		.loc 1 1235 11
 2994 0124 18301BE5 		ldr	r3, [fp, #-24]
 2995 0128 000053E3 		cmp	r3, #0
 2996 012c 0400000A 		beq	.L126
1236:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
 2997              		.loc 1 1236 17
 2998 0130 0C301BE5 		ldr	r3, [fp, #-12]
 2999 0134 233AA0E1 		lsr	r3, r3, #20
 3000 0138 033AA0E1 		lsl	r3, r3, #20
 3001              		.loc 1 1236 16
 3002 013c 18201BE5 		ldr	r2, [fp, #-24]
 3003 0140 003082E5 		str	r3, [r2]
 3004              	.L126:
1237:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
 3005              		.loc 1 1237 11
 3006 0144 1C301BE5 		ldr	r3, [fp, #-28]
 3007 0148 000053E3 		cmp	r3, #0
 3008 014c 1300000A 		beq	.L124
1238:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
 3009              		.loc 1 1238 20
 3010 0150 0C301BE5 		ldr	r3, [fp, #-12]
 3011 0154 2336A0E1 		lsr	r3, r3, #12
 3012 0158 082003E2 		and	r2, r3, #8
 3013 015c 0C301BE5 		ldr	r3, [fp, #-12]
 3014 0160 2331A0E1 		lsr	r3, r3, #2
 3015 0164 043003E2 		and	r3, r3, #4
 3016 0168 032082E1 		orr	r2, r2, r3
 3017 016c 0C301BE5 		ldr	r3, [fp, #-12]
 3018 0170 2331A0E1 		lsr	r3, r3, #2
 3019 0174 023003E2 		and	r3, r3, #2
 3020 0178 032082E1 		orr	r2, r2, r3
 3021 017c 0C301BE5 		ldr	r3, [fp, #-12]
 3022 0180 2331A0E1 		lsr	r3, r3, #2
 3023 0184 013003E2 		and	r3, r3, #1
 3024 0188 032082E1 		orr	r2, r2, r3
 3025 018c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_1M_NAT2RME
 3026 0190 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_1M_NAT2RME
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 76


 3027 0194 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3028              		.loc 1 1238 19
 3029 0198 1C301BE5 		ldr	r3, [fp, #-28]
 3030 019c 002083E5 		str	r2, [r3]
 3031              	.L124:
1239:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1240:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1241:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3032              		.loc 1 1241 12
 3033 01a0 0030A0E3 		mov	r3, #0
 3034              	.L120:
1242:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3035              		.loc 1 1242 1
 3036 01a4 0300A0E1 		mov	r0, r3
 3037 01a8 00D08BE2 		add	sp, fp, #0
 3038              		.cfi_def_cfa_register 13
 3039              		@ sp needed
 3040 01ac 04B09DE4 		ldr	fp, [sp], #4
 3041              		.cfi_restore 11
 3042              		.cfi_def_cfa_offset 0
 3043 01b0 1EFF2FE1 		bx	lr
 3044              		.cfi_endproc
 3045              	.LFE42:
 3047              		.section	.text.__RME_Pgt_Walk,"ax",%progbits
 3048              		.align	2
 3049              		.global	__RME_Pgt_Walk
 3050              		.syntax unified
 3051              		.arm
 3053              	__RME_Pgt_Walk:
 3054              	.LFB43:
1243:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Lookup *******************************************/
1244:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1245:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Walk **************************************************
1246:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Walking function for the page table. This function just does page
1247:../../Source/Platform/A7A/rme_platform_a7a.c ****               table lookups. The page table that is being walked must be the top-
1248:../../Source/Platform/A7A/rme_platform_a7a.c ****               level page table. The output values are optional; only pass in pointers
1249:../../Source/Platform/A7A/rme_platform_a7a.c ****               when you need that value.
1250:../../Source/Platform/A7A/rme_platform_a7a.c ****               Walking kernel page tables is prohibited.
1251:../../Source/Platform/A7A/rme_platform_a7a.c ****               This function also does not support large pages and super sections.
1252:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to walk.
1253:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address to look up.
1254:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Pgt - The pointer to the page table level.
1255:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Map_Vaddr - The virtual address that starts mapping.
1256:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Paddr - The physical address of the page.
1257:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Size_Order - The size order of the page.
1258:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Num_Order - The entry order of the page.
1259:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1260:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1261:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1262:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Walk(struct RME_Cap_Pgt* Pgt_Op, 
1263:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t Vaddr, 
1264:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t* Pgt,
1265:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Map_Vaddr, 
1266:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Paddr, 
1267:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Size_Order, 
1268:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Num_Order, 
1269:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Flags)
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 77


1270:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3055              		.loc 1 1270 1
 3056              		.cfi_startproc
 3057              		@ args = 16, pretend = 0, frame = 32
 3058              		@ frame_needed = 1, uses_anonymous_args = 0
 3059              		@ link register save eliminated.
 3060 0000 04B02DE5 		str	fp, [sp, #-4]!
 3061              		.cfi_def_cfa_offset 4
 3062              		.cfi_offset 11, -4
 3063 0004 00B08DE2 		add	fp, sp, #0
 3064              		.cfi_def_cfa_register 11
 3065 0008 24D04DE2 		sub	sp, sp, #36
 3066 000c 18000BE5 		str	r0, [fp, #-24]
 3067 0010 1C100BE5 		str	r1, [fp, #-28]
 3068 0014 20200BE5 		str	r2, [fp, #-32]
 3069 0018 24300BE5 		str	r3, [fp, #-36]
1271:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1272:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Pos;
1273:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1274:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1275:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if this is the top-level page table */
1276:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)==0)
 3070              		.loc 1 1276 16
 3071 001c 18301BE5 		ldr	r3, [fp, #-24]
 3072 0020 183093E5 		ldr	r3, [r3, #24]
 3073              		.loc 1 1276 23
 3074 0024 013003E2 		and	r3, r3, #1
 3075              		.loc 1 1276 7
 3076 0028 000053E3 		cmp	r3, #0
 3077 002c 0100001A 		bne	.L128
1277:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3078              		.loc 1 1277 16
 3079 0030 0030E0E3 		mvn	r3, #0
 3080 0034 A30000EA 		b	.L129
 3081              	.L128:
1278:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1279:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we attempting a kernel or non-canonical lookup? If yes, stop immediately */
1280:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Vaddr>=0x7FFFFFFFU)
 3082              		.loc 1 1280 7
 3083 0038 1C301BE5 		ldr	r3, [fp, #-28]
 3084 003c 0A0173E3 		cmn	r3, #-2147483646
 3085 0040 0100009A 		bls	.L130
1281:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3086              		.loc 1 1281 16
 3087 0044 0030E0E3 		mvn	r3, #0
 3088 0048 9E0000EA 		b	.L129
 3089              	.L130:
1282:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1283:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table and start lookup - We know that there are only 2 levels */
1284:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op, rme_ptr_t*);
 3090              		.loc 1 1284 11
 3091 004c 18301BE5 		ldr	r3, [fp, #-24]
 3092 0050 0C3093E5 		ldr	r3, [r3, #12]
 3093              		.loc 1 1284 10
 3094 0054 08300BE5 		str	r3, [fp, #-8]
1285:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1286:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Calculate where is the entry - always 0 to 4096 */
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 78


1287:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Pos=(Vaddr>>RME_PGT_SIZE_1M)&0xFFFU;
 3095              		.loc 1 1287 5
 3096 0058 1C301BE5 		ldr	r3, [fp, #-28]
 3097 005c 233AA0E1 		lsr	r3, r3, #20
 3098 0060 0C300BE5 		str	r3, [fp, #-12]
1288:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Atomic read */
1289:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Temp=Table[Pos];
 3099              		.loc 1 1289 12
 3100 0064 0C301BE5 		ldr	r3, [fp, #-12]
 3101 0068 0331A0E1 		lsl	r3, r3, #2
 3102 006c 08201BE5 		ldr	r2, [fp, #-8]
 3103 0070 033082E0 		add	r3, r2, r3
 3104              		.loc 1 1289 6
 3105 0074 003093E5 		ldr	r3, [r3]
 3106 0078 10300BE5 		str	r3, [fp, #-16]
1290:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1291:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Find the position of the entry - Is there a page, a directory, or nothing? */
1292:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)!=0)
 3107              		.loc 1 1292 10
 3108 007c 10301BE5 		ldr	r3, [fp, #-16]
 3109 0080 023003E2 		and	r3, r3, #2
 3110              		.loc 1 1292 4
 3111 0084 000053E3 		cmp	r3, #0
 3112 0088 3900000A 		beq	.L131
1293:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1294:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* There is a 1M page */
1295:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Pgt!=0)
 3113              		.loc 1 1295 5
 3114 008c 20301BE5 		ldr	r3, [fp, #-32]
 3115 0090 000053E3 		cmp	r3, #0
 3116 0094 0200000A 		beq	.L132
1296:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Pgt=(rme_ptr_t)Table;
 3117              		.loc 1 1296 9
 3118 0098 08201BE5 		ldr	r2, [fp, #-8]
 3119              		.loc 1 1296 8
 3120 009c 20301BE5 		ldr	r3, [fp, #-32]
 3121 00a0 002083E5 		str	r2, [r3]
 3122              	.L132:
1297:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Map_Vaddr!=0)
 3123              		.loc 1 1297 5
 3124 00a4 24301BE5 		ldr	r3, [fp, #-36]
 3125 00a8 000053E3 		cmp	r3, #0
 3126 00ac 0400000A 		beq	.L133
1298:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_1M);
 3127              		.loc 1 1298 15
 3128 00b0 1C301BE5 		ldr	r3, [fp, #-28]
 3129 00b4 233AA0E1 		lsr	r3, r3, #20
 3130 00b8 033AA0E1 		lsl	r3, r3, #20
 3131              		.loc 1 1298 14
 3132 00bc 24201BE5 		ldr	r2, [fp, #-36]
 3133 00c0 003082E5 		str	r3, [r2]
 3134              	.L133:
1299:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Paddr!=0)
 3135              		.loc 1 1299 5
 3136 00c4 04309BE5 		ldr	r3, [fp, #4]
 3137 00c8 000053E3 		cmp	r3, #0
 3138 00cc 0400000A 		beq	.L134
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 79


1300:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
 3139              		.loc 1 1300 11
 3140 00d0 10301BE5 		ldr	r3, [fp, #-16]
 3141 00d4 233AA0E1 		lsr	r3, r3, #20
 3142 00d8 033AA0E1 		lsl	r3, r3, #20
 3143              		.loc 1 1300 10
 3144 00dc 04209BE5 		ldr	r2, [fp, #4]
 3145 00e0 003082E5 		str	r3, [r2]
 3146              	.L134:
1301:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Size_Order!=0)
 3147              		.loc 1 1301 5
 3148 00e4 08309BE5 		ldr	r3, [fp, #8]
 3149 00e8 000053E3 		cmp	r3, #0
 3150 00ec 0200000A 		beq	.L135
1302:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Size_Order=RME_PGT_SIZE_1M;
 3151              		.loc 1 1302 15
 3152 00f0 08309BE5 		ldr	r3, [fp, #8]
 3153 00f4 1420A0E3 		mov	r2, #20
 3154 00f8 002083E5 		str	r2, [r3]
 3155              	.L135:
1303:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Num_Order!=0)
 3156              		.loc 1 1303 5
 3157 00fc 0C309BE5 		ldr	r3, [fp, #12]
 3158 0100 000053E3 		cmp	r3, #0
 3159 0104 0200000A 		beq	.L136
1304:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Num_Order=RME_PGT_NUM_4K;
 3160              		.loc 1 1304 14
 3161 0108 0C309BE5 		ldr	r3, [fp, #12]
 3162 010c 0C20A0E3 		mov	r2, #12
 3163 0110 002083E5 		str	r2, [r3]
 3164              	.L136:
1305:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Flags!=0)
 3165              		.loc 1 1305 5
 3166 0114 10309BE5 		ldr	r3, [fp, #16]
 3167 0118 000053E3 		cmp	r3, #0
 3168 011c 6800000A 		beq	.L137
1306:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
 3169              		.loc 1 1306 11
 3170 0120 10301BE5 		ldr	r3, [fp, #-16]
 3171 0124 2336A0E1 		lsr	r3, r3, #12
 3172 0128 082003E2 		and	r2, r3, #8
 3173 012c 10301BE5 		ldr	r3, [fp, #-16]
 3174 0130 2331A0E1 		lsr	r3, r3, #2
 3175 0134 043003E2 		and	r3, r3, #4
 3176 0138 032082E1 		orr	r2, r2, r3
 3177 013c 10301BE5 		ldr	r3, [fp, #-16]
 3178 0140 2331A0E1 		lsr	r3, r3, #2
 3179 0144 023003E2 		and	r3, r3, #2
 3180 0148 032082E1 		orr	r2, r2, r3
 3181 014c 10301BE5 		ldr	r3, [fp, #-16]
 3182 0150 2331A0E1 		lsr	r3, r3, #2
 3183 0154 013003E2 		and	r3, r3, #1
 3184 0158 032082E1 		orr	r2, r2, r3
 3185 015c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_1M_NAT2RME
 3186 0160 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_1M_NAT2RME
 3187 0164 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3188              		.loc 1 1306 10
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 80


 3189 0168 10309BE5 		ldr	r3, [fp, #16]
 3190 016c 002083E5 		str	r2, [r3]
 3191 0170 530000EA 		b	.L137
 3192              	.L131:
1307:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1308:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1309:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else if((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0)
 3193              		.loc 1 1309 15
 3194 0174 10301BE5 		ldr	r3, [fp, #-16]
 3195 0178 013003E2 		and	r3, r3, #1
 3196              		.loc 1 1309 9
 3197 017c 000053E3 		cmp	r3, #0
 3198 0180 4D00000A 		beq	.L138
1310:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1311:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Table=(rme_ptr_t*)RME_A7A_PA2VA(RME_A7A_MMU_1M_PGT_ADDR(Temp));
 3199              		.loc 1 1311 21
 3200 0184 10301BE5 		ldr	r3, [fp, #-16]
 3201 0188 FF3FC3E3 		bic	r3, r3, #1020
 3202 018c 0330C3E3 		bic	r3, r3, #3
 3203 0190 023183E2 		add	r3, r3, #-2147483648
 3204              		.loc 1 1311 8
 3205 0194 08300BE5 		str	r3, [fp, #-8]
1312:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Calculate where is the entry - always 0 to 256 */
1313:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Pos=(Vaddr>>RME_PGT_SIZE_4K)&0xFFU;
 3206              		.loc 1 1313 13
 3207 0198 1C301BE5 		ldr	r3, [fp, #-28]
 3208 019c 2336A0E1 		lsr	r3, r3, #12
 3209              		.loc 1 1313 6
 3210 01a0 7330EFE6 		uxtb	r3, r3
 3211 01a4 0C300BE5 		str	r3, [fp, #-12]
1314:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Atomic read */
1315:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Temp=Table[Pos];
 3212              		.loc 1 1315 13
 3213 01a8 0C301BE5 		ldr	r3, [fp, #-12]
 3214 01ac 0331A0E1 		lsl	r3, r3, #2
 3215 01b0 08201BE5 		ldr	r2, [fp, #-8]
 3216 01b4 033082E0 		add	r3, r2, r3
 3217              		.loc 1 1315 7
 3218 01b8 003093E5 		ldr	r3, [r3]
 3219 01bc 10300BE5 		str	r3, [fp, #-16]
1316:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1317:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)!=0)
 3220              		.loc 1 1317 11
 3221 01c0 10301BE5 		ldr	r3, [fp, #-16]
 3222 01c4 023003E2 		and	r3, r3, #2
 3223              		.loc 1 1317 5
 3224 01c8 000053E3 		cmp	r3, #0
 3225 01cc 3800000A 		beq	.L139
1318:../../Source/Platform/A7A/rme_platform_a7a.c **** 		{
1319:../../Source/Platform/A7A/rme_platform_a7a.c **** 			/* There is a 4k page */
1320:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Pgt!=0)
 3226              		.loc 1 1320 6
 3227 01d0 20301BE5 		ldr	r3, [fp, #-32]
 3228 01d4 000053E3 		cmp	r3, #0
 3229 01d8 0200000A 		beq	.L140
1321:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Pgt=(rme_ptr_t)Table;
 3230              		.loc 1 1321 10
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 81


 3231 01dc 08201BE5 		ldr	r2, [fp, #-8]
 3232              		.loc 1 1321 9
 3233 01e0 20301BE5 		ldr	r3, [fp, #-32]
 3234 01e4 002083E5 		str	r2, [r3]
 3235              	.L140:
1322:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Map_Vaddr!=0)
 3236              		.loc 1 1322 6
 3237 01e8 24301BE5 		ldr	r3, [fp, #-36]
 3238 01ec 000053E3 		cmp	r3, #0
 3239 01f0 0400000A 		beq	.L141
1323:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_4K);
 3240              		.loc 1 1323 16
 3241 01f4 1C301BE5 		ldr	r3, [fp, #-28]
 3242 01f8 FF3EC3E3 		bic	r3, r3, #4080
 3243 01fc 0F30C3E3 		bic	r3, r3, #15
 3244              		.loc 1 1323 15
 3245 0200 24201BE5 		ldr	r2, [fp, #-36]
 3246 0204 003082E5 		str	r3, [r2]
 3247              	.L141:
1324:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Paddr!=0)
 3248              		.loc 1 1324 6
 3249 0208 04309BE5 		ldr	r3, [fp, #4]
 3250 020c 000053E3 		cmp	r3, #0
 3251 0210 0400000A 		beq	.L142
1325:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
 3252              		.loc 1 1325 12
 3253 0214 10301BE5 		ldr	r3, [fp, #-16]
 3254 0218 FF3EC3E3 		bic	r3, r3, #4080
 3255 021c 0F30C3E3 		bic	r3, r3, #15
 3256              		.loc 1 1325 11
 3257 0220 04209BE5 		ldr	r2, [fp, #4]
 3258 0224 003082E5 		str	r3, [r2]
 3259              	.L142:
1326:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Size_Order!=0)
 3260              		.loc 1 1326 6
 3261 0228 08309BE5 		ldr	r3, [fp, #8]
 3262 022c 000053E3 		cmp	r3, #0
 3263 0230 0200000A 		beq	.L143
1327:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Size_Order=RME_PGT_SIZE_4K;
 3264              		.loc 1 1327 16
 3265 0234 08309BE5 		ldr	r3, [fp, #8]
 3266 0238 0C20A0E3 		mov	r2, #12
 3267 023c 002083E5 		str	r2, [r3]
 3268              	.L143:
1328:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Num_Order!=0)
 3269              		.loc 1 1328 6
 3270 0240 0C309BE5 		ldr	r3, [fp, #12]
 3271 0244 000053E3 		cmp	r3, #0
 3272 0248 0200000A 		beq	.L144
1329:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Num_Order=RME_PGT_NUM_256;
 3273              		.loc 1 1329 15
 3274 024c 0C309BE5 		ldr	r3, [fp, #12]
 3275 0250 0820A0E3 		mov	r2, #8
 3276 0254 002083E5 		str	r2, [r3]
 3277              	.L144:
1330:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Flags!=0)
 3278              		.loc 1 1330 6
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 82


 3279 0258 10309BE5 		ldr	r3, [fp, #16]
 3280 025c 000053E3 		cmp	r3, #0
 3281 0260 1700000A 		beq	.L137
1331:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
 3282              		.loc 1 1331 12
 3283 0264 10301BE5 		ldr	r3, [fp, #-16]
 3284 0268 2333A0E1 		lsr	r3, r3, #6
 3285 026c 082003E2 		and	r2, r3, #8
 3286 0270 10301BE5 		ldr	r3, [fp, #-16]
 3287 0274 A330A0E1 		lsr	r3, r3, #1
 3288 0278 043003E2 		and	r3, r3, #4
 3289 027c 032082E1 		orr	r2, r2, r3
 3290 0280 10301BE5 		ldr	r3, [fp, #-16]
 3291 0284 A330A0E1 		lsr	r3, r3, #1
 3292 0288 023003E2 		and	r3, r3, #2
 3293 028c 032082E1 		orr	r2, r2, r3
 3294 0290 10301BE5 		ldr	r3, [fp, #-16]
 3295 0294 013003E2 		and	r3, r3, #1
 3296 0298 032082E1 		orr	r2, r2, r3
 3297 029c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_4K_NAT2RME
 3298 02a0 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_4K_NAT2RME
 3299 02a4 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3300              		.loc 1 1331 11
 3301 02a8 10309BE5 		ldr	r3, [fp, #16]
 3302 02ac 002083E5 		str	r2, [r3]
 3303 02b0 030000EA 		b	.L137
 3304              	.L139:
1332:../../Source/Platform/A7A/rme_platform_a7a.c **** 		}
1333:../../Source/Platform/A7A/rme_platform_a7a.c **** 		else
1334:../../Source/Platform/A7A/rme_platform_a7a.c **** 			return RME_ERR_HAL_FAIL;
 3305              		.loc 1 1334 11
 3306 02b4 0030E0E3 		mvn	r3, #0
 3307 02b8 020000EA 		b	.L129
 3308              	.L138:
1335:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1336:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else
1337:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return RME_ERR_HAL_FAIL;
 3309              		.loc 1 1337 10
 3310 02bc 0030E0E3 		mvn	r3, #0
 3311 02c0 000000EA 		b	.L129
 3312              	.L137:
1338:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1339:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3313              		.loc 1 1339 12
 3314 02c4 0030A0E3 		mov	r3, #0
 3315              	.L129:
1340:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3316              		.loc 1 1340 1
 3317 02c8 0300A0E1 		mov	r0, r3
 3318 02cc 00D08BE2 		add	sp, fp, #0
 3319              		.cfi_def_cfa_register 13
 3320              		@ sp needed
 3321 02d0 04B09DE4 		ldr	fp, [sp], #4
 3322              		.cfi_restore 11
 3323              		.cfi_def_cfa_offset 0
 3324 02d4 1EFF2FE1 		bx	lr
 3325              		.cfi_endproc
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 83


 3326              	.LFE43:
 3328              		.text
 3329              	.Letext0:
 3330              		.file 2 "../../Include/Platform/A7A/rme_platform_a7a.h"
 3331              		.file 3 "../../Include/Kernel/rme_kernel.h"
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 84


DEFINED SYMBOLS
                            *ABS*:00000000 rme_platform_a7a.c
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:21     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:24     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 RME_A7A_Pgflg_1M_RME2NAT
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:58     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:61     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 RME_A7A_Pgflg_4K_RME2NAT
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:95     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:98     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 RME_A7A_Pgflg_1M_NAT2RME
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:116    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:119    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 RME_A7A_Pgflg_4K_NAT2RME
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:141    .bss.RME_A7A_Timestamp:00000000 RME_A7A_Timestamp
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:138    .bss.RME_A7A_Timestamp:00000000 $d
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:148    .bss.RME_A7A_Local:00000000 RME_A7A_Local
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:145    .bss.RME_A7A_Local:00000000 $d
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:155    .bss.RME_A7A_Kot:00000000 RME_A7A_Kot
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:152    .bss.RME_A7A_Kot:00000000 $d
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:162    .rodata.RME_A7A_Mem_Info:00000000 RME_A7A_Mem_Info
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:159    .rodata.RME_A7A_Mem_Info:00000000 $d
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:193    .bss.RME_A7A_CPU_Cnt:00000000 RME_A7A_CPU_Cnt
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:190    .bss.RME_A7A_CPU_Cnt:00000000 $d
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:196    .text.main:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:201    .text.main:00000000 main
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:224    .text.__RME_Putchar:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:229    .text.__RME_Putchar:00000000 __RME_Putchar
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:272    .rodata:00000000 $d
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:273    .rodata:00000000 .LC0
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:276    .rodata:00000018 .LC1
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:279    .rodata:00000030 .LC2
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:282    .rodata:00000048 .LC3
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:285    .rodata:00000064 .LC4
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:288    .rodata:0000007c .LC5
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:291    .rodata:0000009c .LC6
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:294    .rodata:000000b4 .LC7
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:297    .text.__RME_A7A_Int_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:301    .text.__RME_A7A_Int_Init:00000000 __RME_A7A_Int_Init
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:561    .text.__RME_A7A_Int_Local_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:566    .text.__RME_A7A_Int_Local_Init:00000000 __RME_A7A_Int_Local_Init
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:609    .text.__RME_A7A_Timer_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:613    .text.__RME_A7A_Timer_Init:00000000 __RME_A7A_Timer_Init
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:666    .text.__RME_A7A_Feature_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:671    .text.__RME_A7A_Feature_Get:00000000 __RME_A7A_Feature_Get
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:696    .text.__RME_A7A_Mem_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:701    .text.__RME_A7A_Mem_Init:00000000 __RME_A7A_Mem_Init
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:729    .text.__RME_A7A_SMP_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:734    .text.__RME_A7A_SMP_Init:00000000 __RME_A7A_SMP_Init
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:759    .text.__RME_A7A_SMP_Tick:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:764    .text.__RME_A7A_SMP_Tick:00000000 __RME_A7A_SMP_Tick
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:790    .rodata:000000d8 .LC8
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:793    .rodata:000000ec .LC9
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:796    .text.__RME_Lowlvl_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:801    .text.__RME_Lowlvl_Init:00000000 __RME_Lowlvl_Init
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:853    .text.__RME_Pgt_Kom_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:858    .text.__RME_Pgt_Kom_Init:00000000 __RME_Pgt_Kom_Init
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:885    .text.__RME_SMP_Low_Level_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:890    .text.__RME_SMP_Low_Level_Init:00000000 __RME_SMP_Low_Level_Init
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:918    .rodata:00000100 .LC10
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:921    .rodata:00000110 .LC11
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 85


C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:924    .rodata:00000124 .LC12
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:927    .rodata:0000013c .LC13
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:930    .rodata:00000148 .LC14
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:933    .rodata:00000154 .LC15
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:936    .rodata:00000184 .LC16
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:939    .rodata:0000019c .LC17
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:942    .rodata:000001a8 .LC18
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:945    .text.__RME_Boot:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:950    .text.__RME_Boot:00000000 __RME_Boot
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1138   .text.__RME_Reboot:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1143   .text.__RME_Reboot:00000000 __RME_Reboot
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1168   .text.__RME_Shutdown:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1173   .text.__RME_Shutdown:00000000 __RME_Shutdown
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1198   .text.__RME_Svc_Param_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1203   .text.__RME_Svc_Param_Get:00000000 __RME_Svc_Param_Get
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1271   .text.__RME_Svc_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1276   .text.__RME_Svc_Retval_Set:00000000 __RME_Svc_Retval_Set
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1309   .text.__RME_Thd_Reg_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1314   .text.__RME_Thd_Reg_Init:00000000 __RME_Thd_Reg_Init
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1356   .text.__RME_Thd_Reg_Copy:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1361   .text.__RME_Thd_Reg_Copy:00000000 __RME_Thd_Reg_Copy
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1485   .text.__RME_Thd_Cop_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1490   .text.__RME_Thd_Cop_Init:00000000 __RME_Thd_Cop_Init
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1518   .text.__RME_Thd_Cop_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1523   .text.__RME_Thd_Cop_Save:00000000 __RME_Thd_Cop_Save
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1551   .text.__RME_Thd_Cop_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1556   .text.__RME_Thd_Cop_Restore:00000000 __RME_Thd_Cop_Restore
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1584   .text.__RME_Inv_Reg_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1589   .text.__RME_Inv_Reg_Save:00000000 __RME_Inv_Reg_Save
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1629   .text.__RME_Inv_Reg_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1634   .text.__RME_Inv_Reg_Restore:00000000 __RME_Inv_Reg_Restore
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1674   .text.__RME_Inv_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1679   .text.__RME_Inv_Retval_Set:00000000 __RME_Inv_Retval_Set
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1712   .text.__RME_Set_Inv_Retval:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1717   .text.__RME_Set_Inv_Retval:00000000 __RME_Set_Inv_Retval
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1750   .text.__RME_Thd_Cop_Swap:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1755   .text.__RME_Thd_Cop_Swap:00000000 __RME_Thd_Cop_Swap
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1785   .text.__RME_Kfn_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1790   .text.__RME_Kfn_Handler:00000000 __RME_Kfn_Handler
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1822   .text.__RME_A7A_Undefined_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1827   .text.__RME_A7A_Undefined_Handler:00000000 __RME_A7A_Undefined_Handler
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1848   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1853   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 __RME_A7A_Prefetch_Abort_Handler
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1874   .text.__RME_A7A_Data_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1879   .text.__RME_A7A_Data_Abort_Handler:00000000 __RME_A7A_Data_Abort_Handler
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1901   .rodata:000001b0 .LC19
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1904   .text.__RME_A7A_IRQ_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:1909   .text.__RME_A7A_IRQ_Handler:00000000 __RME_A7A_IRQ_Handler
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2078   .text._RME_A7A_SGI_Handler:00000000 _RME_A7A_SGI_Handler
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2073   .text._RME_A7A_SGI_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2109   .rodata:000001c0 .LC20
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2112   .text.__RME_A7A_Generic_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2117   .text.__RME_A7A_Generic_Handler:00000000 __RME_A7A_Generic_Handler
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2152   .text.__RME_Pgt_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2157   .text.__RME_Pgt_Set:00000000 __RME_Pgt_Set
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2230   .rodata:000001d0 .LC21
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2233   .rodata:000001dc .LC22
ARM GAS  C:\Users\even\AppData\Local\Temp\cc0PbwK0.s 			page 86


C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2236   .text.__RME_Pgt_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2241   .text.__RME_Pgt_Check:00000000 __RME_Pgt_Check
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2341   .text.__RME_Pgt_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2346   .text.__RME_Pgt_Init:00000000 __RME_Pgt_Init
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2464   .text.__RME_Pgt_Del_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2469   .text.__RME_Pgt_Del_Check:00000000 __RME_Pgt_Del_Check
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2499   .rodata:000001ec .LC23
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2502   .rodata:000001fc .LC24
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2505   .text.__RME_Pgt_Page_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2510   .text.__RME_Pgt_Page_Map:00000000 __RME_Pgt_Page_Map
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2642   .text.__RME_Pgt_Page_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2647   .text.__RME_Pgt_Page_Unmap:00000000 __RME_Pgt_Page_Unmap
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2746   .text.__RME_Pgt_Pgdir_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2751   .text.__RME_Pgt_Pgdir_Map:00000000 __RME_Pgt_Pgdir_Map
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2842   .text.__RME_Pgt_Pgdir_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2847   .text.__RME_Pgt_Pgdir_Unmap:00000000 __RME_Pgt_Pgdir_Unmap
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2878   .text.__RME_Pgt_Lookup:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:2883   .text.__RME_Pgt_Lookup:00000000 __RME_Pgt_Lookup
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:3048   .text.__RME_Pgt_Walk:00000000 $a
C:\Users\even\AppData\Local\Temp\cc0PbwK0.s:3053   .text.__RME_Pgt_Walk:00000000 __RME_Pgt_Walk
                           .group:00000000 wm4.0.3b9f63523dc4e8d86e863c7e7e762be7
                           .group:00000000 wm4.rme_platform_a7a.h.12.f1b47b5cf52f8425e79b8a761d5bd676
                           .group:00000000 wm4.rme_platform_xc7z020.h.15.c1d90fcf057b7628b5ac2d33951e63ab
                           .group:00000000 wm4.rme_platform_a7a.h.137.fdc6a038503ac117e4f4f30ba1107f52
                           .group:00000000 wm4.rme_kernel.h.27.716340edb41bad57d522729bf2b8a38a
                           .group:00000000 wm4.rme.h.11.105c42759f88404be372052d8d99e5e6
                           .group:00000000 wm4.rme_kernel.h.185.d02db6497e1a69d04e005d15d216f811
                           .group:00000000 wm4.rme_platform_a7a.h.390.918e282e9d9d990fe491c99e3e90944b
                           .group:00000000 wm4.rme_kernel.h.678.0572fdf2012fb48f701f562b23d175bb
                           .group:00000000 wm4.rme_platform_a7a.h.506.4a48ea2091da768113bc2e603a12de0c
                           .group:00000000 wm4.rme_kernel.h.930.0bcd107bd9a9b6f5fe5bbd4088ddbec4

UNDEFINED SYMBOLS
RME_Kmain
RME_Str_Print
RME_Int_Print
RME_Hex_Print
_RME_CPU_Local_Init
__RME_A7A_Vector_Table
__RME_A7A_VBAR_Set
__RME_A7A_SCR_Get
_RME_Cpt_Boot_Init
RME_Log
_RME_Pgt_Boot_Crt
_RME_Pgt_Boot_Add
_RME_Tim_Handler
__RME_A7A_Kern_Pgt
_RME_Comp_Swap_Single
