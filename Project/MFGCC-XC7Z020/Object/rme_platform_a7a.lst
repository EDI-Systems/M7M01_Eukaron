ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 1


   1              		.cpu cortex-a9
   2              		.arch armv7-a
   3              		.fpu neon-fp16
   4              		.arch_extension mp
   5              		.arch_extension sec
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"rme_platform_a7a.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "../../Source/Platform/A7A/rme_platform_a7a.c"
  20              		.section	.rodata.RME_A7A_Pgflg_1M_RME2NAT,"a"
  21              		.align	2
  24              	RME_A7A_Pgflg_1M_RME2NAT:
  25 0000 11880300 		.word	231441
  26 0004 11880300 		.word	231441
  27 0008 11080300 		.word	198673
  28 000c 11080300 		.word	198673
  29 0010 01880300 		.word	231425
  30 0014 01880300 		.word	231425
  31 0018 01080300 		.word	198657
  32 001c 01080300 		.word	198657
  33 0020 19880300 		.word	231449
  34 0024 19880300 		.word	231449
  35 0028 19080300 		.word	198681
  36 002c 19080300 		.word	198681
  37 0030 09880300 		.word	231433
  38 0034 09880300 		.word	231433
  39 0038 09080300 		.word	198665
  40 003c 09080300 		.word	198665
  41 0040 15880300 		.word	231445
  42 0044 15880300 		.word	231445
  43 0048 15080300 		.word	198677
  44 004c 15080300 		.word	198677
  45 0050 05880300 		.word	231429
  46 0054 05880300 		.word	231429
  47 0058 05080300 		.word	198661
  48 005c 05080300 		.word	198661
  49 0060 1D880300 		.word	231453
  50 0064 1D880300 		.word	231453
  51 0068 1D080300 		.word	198685
  52 006c 1D080300 		.word	198685
  53 0070 0D880300 		.word	231437
  54 0074 0D880300 		.word	231437
  55 0078 0D080300 		.word	198669
  56 007c 0D080300 		.word	198669
  57              		.section	.rodata.RME_A7A_Pgflg_4K_RME2NAT,"a"
  58              		.align	2
  61              	RME_A7A_Pgflg_4K_RME2NAT:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 2


  62 0000 230E0000 		.word	3619
  63 0004 230E0000 		.word	3619
  64 0008 230C0000 		.word	3107
  65 000c 230C0000 		.word	3107
  66 0010 220E0000 		.word	3618
  67 0014 220E0000 		.word	3618
  68 0018 220C0000 		.word	3106
  69 001c 220C0000 		.word	3106
  70 0020 2B0E0000 		.word	3627
  71 0024 2B0E0000 		.word	3627
  72 0028 2B0C0000 		.word	3115
  73 002c 2B0C0000 		.word	3115
  74 0030 2A0E0000 		.word	3626
  75 0034 2A0E0000 		.word	3626
  76 0038 2A0C0000 		.word	3114
  77 003c 2A0C0000 		.word	3114
  78 0040 270E0000 		.word	3623
  79 0044 270E0000 		.word	3623
  80 0048 270C0000 		.word	3111
  81 004c 270C0000 		.word	3111
  82 0050 260E0000 		.word	3622
  83 0054 260E0000 		.word	3622
  84 0058 260C0000 		.word	3110
  85 005c 260C0000 		.word	3110
  86 0060 2F0E0000 		.word	3631
  87 0064 2F0E0000 		.word	3631
  88 0068 2F0C0000 		.word	3119
  89 006c 2F0C0000 		.word	3119
  90 0070 2E0E0000 		.word	3630
  91 0074 2E0E0000 		.word	3630
  92 0078 2E0C0000 		.word	3118
  93 007c 2E0C0000 		.word	3118
  94              		.section	.rodata.RME_A7A_Pgflg_1M_NAT2RME,"a"
  95              		.align	2
  98              	RME_A7A_Pgflg_1M_NAT2RME:
  99 0000 07000000 		.word	7
 100 0004 17000000 		.word	23
 101 0008 0F000000 		.word	15
 102 000c 1F000000 		.word	31
 103 0010 03000000 		.word	3
 104 0014 13000000 		.word	19
 105 0018 0B000000 		.word	11
 106 001c 1B000000 		.word	27
 107 0020 05000000 		.word	5
 108 0024 15000000 		.word	21
 109 0028 0D000000 		.word	13
 110 002c 1D000000 		.word	29
 111 0030 01000000 		.word	1
 112 0034 11000000 		.word	17
 113 0038 09000000 		.word	9
 114 003c 19000000 		.word	25
 115              		.section	.rodata.RME_A7A_Pgflg_4K_NAT2RME,"a"
 116              		.align	2
 119              	RME_A7A_Pgflg_4K_NAT2RME:
 120 0000 07000000 		.word	7
 121 0004 03000000 		.word	3
 122 0008 17000000 		.word	23
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 3


 123 000c 13000000 		.word	19
 124 0010 0F000000 		.word	15
 125 0014 0B000000 		.word	11
 126 0018 1F000000 		.word	31
 127 001c 1B000000 		.word	27
 128 0020 05000000 		.word	5
 129 0024 01000000 		.word	1
 130 0028 15000000 		.word	21
 131 002c 11000000 		.word	17
 132 0030 0D000000 		.word	13
 133 0034 09000000 		.word	9
 134 0038 1D000000 		.word	29
 135 003c 19000000 		.word	25
 136              		.global	RME_A7A_Timestamp
 137              		.section	.bss.RME_A7A_Timestamp,"aw",%nobits
 138              		.align	2
 141              	RME_A7A_Timestamp:
 142 0000 00000000 		.space	4
 143              		.global	RME_A7A_Local
 144              		.section	.bss.RME_A7A_Local,"aw",%nobits
 145              		.align	2
 148              	RME_A7A_Local:
 149 0000 00000000 		.space	276
 149      00000000 
 149      00000000 
 149      00000000 
 149      00000000 
 150              		.global	RME_A7A_Kot
 151              		.section	.bss.RME_A7A_Kot,"aw",%nobits
 152              		.align	2
 155              	RME_A7A_Kot:
 156 0000 00000000 		.space	8388608
 156      00000000 
 156      00000000 
 156      00000000 
 156      00000000 
 157              		.global	RME_A7A_Mem_Info
 158              		.section	.rodata.RME_A7A_Mem_Info,"a"
 159              		.align	2
 162              	RME_A7A_Mem_Info:
 163 0000 19000000 		.word	25
 164 0004 00000000 		.word	0
 165 0008 00000000 		.word	0
 166 000c 00040000 		.word	1024
 167 0010 0E0C0300 		.word	199694
 168 0014 00000040 		.word	1073741824
 169 0018 00000040 		.word	1073741824
 170 001c 00020000 		.word	512
 171 0020 020C0300 		.word	199682
 172 0024 000000E0 		.word	-536870912
 173 0028 00000060 		.word	1610612736
 174 002c 00020000 		.word	512
 175 0030 020C0300 		.word	199682
 176 0034 00000000 		.word	0
 177 0038 00000080 		.word	-2147483648
 178 003c 00040000 		.word	1024
 179 0040 0E040300 		.word	197646
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 4


 180 0044 00000040 		.word	1073741824
 181 0048 000000C0 		.word	-1073741824
 182 004c 00020000 		.word	512
 183 0050 02040300 		.word	197634
 184 0054 000000E0 		.word	-536870912
 185 0058 000000E0 		.word	-536870912
 186 005c 00020000 		.word	512
 187 0060 02040300 		.word	197634
 188              		.global	RME_A7A_CPU_Cnt
 189              		.section	.bss.RME_A7A_CPU_Cnt,"aw",%nobits
 190              		.align	2
 193              	RME_A7A_CPU_Cnt:
 194 0000 00000000 		.space	4
 195              		.section	.text.main,"ax",%progbits
 196              		.align	2
 197              		.global	main
 198              		.syntax unified
 199              		.arm
 201              	main:
 202              	.LFB0:
   1:../../Source/Platform/A7A/rme_platform_a7a.c **** /******************************************************************************
   2:../../Source/Platform/A7A/rme_platform_a7a.c **** Filename    : platform_a7a.c
   3:../../Source/Platform/A7A/rme_platform_a7a.c **** Author      : pry
   4:../../Source/Platform/A7A/rme_platform_a7a.c **** Date        : 01/04/2017
   5:../../Source/Platform/A7A/rme_platform_a7a.c **** Licence     : LGPL v3+; see COPYING for details.
   6:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The hardware abstraction layer for ARMv7-A machines.
   7:../../Source/Platform/A7A/rme_platform_a7a.c ****               1. Interrupt controller
   8:../../Source/Platform/A7A/rme_platform_a7a.c ****               2. Timer
   9:../../Source/Platform/A7A/rme_platform_a7a.c ****               3. Pgt setup
  10:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  11:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  12:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Include *******************************************************************/
  13:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_DEF__
  14:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  15:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  16:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_DEF__
  17:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  18:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_STRUCT__
  19:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  20:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  21:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_STRUCT__
  22:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  23:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Private include */
  24:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  25:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  26:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_PUBLIC__
  27:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  28:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_PUBLIC__
  29:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Include ***************************************************************/
  30:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  31:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:main **************************************************************
  32:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The entrance of the operating system.
  33:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  34:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  35:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : int - This function never returns.
  36:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  37:../../Source/Platform/A7A/rme_platform_a7a.c **** int main(void)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 5


  38:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 203              		.loc 1 38 1
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 0
 206              		@ frame_needed = 1, uses_anonymous_args = 0
 207 0000 00482DE9 		push	{fp, lr}
 208              		.cfi_def_cfa_offset 8
 209              		.cfi_offset 11, -8
 210              		.cfi_offset 14, -4
 211 0004 04B08DE2 		add	fp, sp, #4
 212              		.cfi_def_cfa 11, 4
  39:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_H(__RME_A7A_ID_ISAR0_Get());
  40:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_I(10);
  41:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//while(1);
  42:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('h');
  43:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('e');
  44:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  45:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  46:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  47:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar(' ');
  48:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('w');*/
  49:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  50:../../Source/Platform/A7A/rme_platform_a7a.c ****    /* RME_DBG_S("0123456789\n");
  51:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  52:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  53:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  54:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  55:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  56:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  57:../../Source/Platform/A7A/rme_platform_a7a.c ****     while(1);*/
  58:../../Source/Platform/A7A/rme_platform_a7a.c ****    // __RME_Putchar('h');
  59:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('e');
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  61:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');*/
  62:../../Source/Platform/A7A/rme_platform_a7a.c ****     //__RME_Putchar('o');
  63:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('w');
  64:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  65:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('r');
  66:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  67:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('d');*/
  68:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_Kmain();
 213              		.loc 1 68 5
 214 0008 FEFFFFEB 		bl	RME_Kmain
  69:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  70:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  71:../../Source/Platform/A7A/rme_platform_a7a.c ****     //test
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The main function of the kernel - we will start our kernel boot here */
  73:../../Source/Platform/A7A/rme_platform_a7a.c ****     //_RME_Kmain(RME_KOM_STACK_ADDR);
  74:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  75:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 215              		.loc 1 75 12
 216 000c 0030A0E3 		mov	r3, #0
  76:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 217              		.loc 1 76 1
 218 0010 0300A0E1 		mov	r0, r3
 219 0014 0088BDE8 		pop	{fp, pc}
 220              		.cfi_endproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 6


 221              	.LFE0:
 223              		.section	.text.__RME_Putchar,"ax",%progbits
 224              		.align	2
 225              		.global	__RME_Putchar
 226              		.syntax unified
 227              		.arm
 229              	__RME_Putchar:
 230              	.LFB1:
  77:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
  78:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  79:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Putchar *****************************************************
  80:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Output a character to console. In Cortex-M, under most circumstances, 
  81:../../Source/Platform/A7A/rme_platform_a7a.c ****               we should use the ITM for such outputs.
  82:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : char Char - The character to print.
  83:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  84:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
  85:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  86:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Putchar(char Char)
  87:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 231              		.loc 1 87 1
 232              		.cfi_startproc
 233              		@ args = 0, pretend = 0, frame = 8
 234              		@ frame_needed = 1, uses_anonymous_args = 0
 235              		@ link register save eliminated.
 236 0000 04B02DE5 		str	fp, [sp, #-4]!
 237              		.cfi_def_cfa_offset 4
 238              		.cfi_offset 11, -4
 239 0004 00B08DE2 		add	fp, sp, #0
 240              		.cfi_def_cfa_register 11
 241 0008 0CD04DE2 		sub	sp, sp, #12
 242 000c 0030A0E1 		mov	r3, r0
 243 0010 05304BE5 		strb	r3, [fp, #-5]
 244              	.L4:
  88:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PUTCHAR(Char);
 245              		.loc 1 88 5 discriminator 1
 246 0014 2C3001E3 		movw	r3, #4140
 247 0018 00304EE3 		movt	r3, 57344
 248 001c 003093E5 		ldr	r3, [r3]
 249 0020 083003E2 		and	r3, r3, #8
 250 0024 000053E3 		cmp	r3, #0
 251 0028 F9FFFF0A 		beq	.L4
 252              		.loc 1 88 5 is_stmt 0 discriminator 2
 253 002c 303001E3 		movw	r3, #4144
 254 0030 00304EE3 		movt	r3, 57344
 255 0034 D5205BE1 		ldrsb	r2, [fp, #-5]
 256 0038 002083E5 		str	r2, [r3]
  89:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 257              		.loc 1 89 12 is_stmt 1
 258 003c 0030A0E3 		mov	r3, #0
  90:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 259              		.loc 1 90 1
 260 0040 0300A0E1 		mov	r0, r3
 261 0044 00D08BE2 		add	sp, fp, #0
 262              		.cfi_def_cfa_register 13
 263              		@ sp needed
 264 0048 04B09DE4 		ldr	fp, [sp], #4
 265              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 7


 266              		.cfi_def_cfa_offset 0
 267 004c 1EFF2FE1 		bx	lr
 268              		.cfi_endproc
 269              	.LFE1:
 271              		.section	.rodata
 272              		.align	2
 273              	.LC0:
 274 0000 0D0A4137 		.ascii	"\015\012A7A-GIC: ProductID: \000"
 274      412D4749 
 274      433A2050 
 274      726F6475 
 274      63744944 
 275 0017 00       		.align	2
 276              	.LC1:
 277 0018 0D0A4137 		.ascii	"\015\012A7A-GIC: Variant: \000"
 277      412D4749 
 277      433A2056 
 277      61726961 
 277      6E743A20 
 278 002d 000000   		.align	2
 279              	.LC2:
 280 0030 0D0A4137 		.ascii	"\015\012A7A-GIC: Revision: \000"
 280      412D4749 
 280      433A2052 
 280      65766973 
 280      696F6E3A 
 281 0046 0000     		.align	2
 282              	.LC3:
 283 0048 0D0A4137 		.ascii	"\015\012A7A-GIC: Implementer: 0x\000"
 283      412D4749 
 283      433A2049 
 283      6D706C65 
 283      6D656E74 
 284 0063 00       		.align	2
 285              	.LC4:
 286 0064 0D0A4137 		.ascii	"\015\012A7A-GIC: SPI number: \000"
 286      412D4749 
 286      433A2053 
 286      5049206E 
 286      756D6265 
 287              		.align	2
 288              	.LC5:
 289 007c 0D0A4137 		.ascii	"\015\012A7A-GIC: Security extension: \000"
 289      412D4749 
 289      433A2053 
 289      65637572 
 289      69747920 
 290              		.align	2
 291              	.LC6:
 292 009c 0D0A4137 		.ascii	"\015\012A7A-GIC: CPU number: \000"
 292      412D4749 
 292      433A2043 
 292      5055206E 
 292      756D6265 
 293              		.align	2
 294              	.LC7:
 295 00b4 0D0A4137 		.ascii	"\015\012A7A-GIC: Interrupt line number: \000"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 8


 295      412D4749 
 295      433A2049 
 295      6E746572 
 295      72757074 
 296              		.section	.text.__RME_A7A_Int_Init,"ax",%progbits
 297              		.align	2
 298              		.syntax unified
 299              		.arm
 301              	__RME_A7A_Int_Init:
 302              	.LFB2:
  91:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Putchar ************************************************/
  92:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  93:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_CPU_Local_Get ******************************************
  94:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the CPU-local data structures. This is to identify where we are
  95:../../Source/Platform/A7A/rme_platform_a7a.c ****               executing.
  96:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  97:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  98:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : struct RME_CPU_Local* - The CPU-local data structures.
  99:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 100:../../Source/Platform/A7A/rme_platform_a7a.c **** /*struct RME_CPU_Local* __RME_A7A_CPU_Local_Get(void)
 101:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 102:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return &RME_A7A_Local[__RME_A7A_MPIDR_Get()&0x03];
 103:../../Source/Platform/A7A/rme_platform_a7a.c **** }*/
 104:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_CPU_Local_Get *************************************/
 105:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 106:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Init ***********************************************
 107:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 108:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 109:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 110:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 111:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 112:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 113:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 114:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Init(void)
 115:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 303              		.loc 1 115 1
 304              		.cfi_startproc
 305              		@ args = 0, pretend = 0, frame = 8
 306              		@ frame_needed = 1, uses_anonymous_args = 0
 307 0000 00482DE9 		push	{fp, lr}
 308              		.cfi_def_cfa_offset 8
 309              		.cfi_offset 11, -8
 310              		.cfi_offset 14, -4
 311 0004 04B08DE2 		add	fp, sp, #4
 312              		.cfi_def_cfa 11, 4
 313 0008 08D04DE2 		sub	sp, sp, #8
 116:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
 117:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Lines;
 118:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 119:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Who implemented the GIC, what variant, how many interrupts? */
 120:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_IIDR;
 314              		.loc 1 120 10
 315 000c 083001E3 		movw	r3, #4104
 316 0010 F0384FE3 		movt	r3, 63728
 317              		.loc 1 120 9
 318 0014 003093E5 		ldr	r3, [r3]
 319 0018 08300BE5 		str	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 9


 121:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 320              		.loc 1 121 5
 321 001c 000000E3 		movw	r0, #:lower16:.LC0
 322 0020 000040E3 		movt	r0, #:upper16:.LC0
 323 0024 FEFFFFEB 		bl	RME_Str_Print
 122:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>24);
 324              		.loc 1 122 5
 325 0028 08301BE5 		ldr	r3, [fp, #-8]
 326 002c 233CA0E1 		lsr	r3, r3, #24
 327 0030 0300A0E1 		mov	r0, r3
 328 0034 FEFFFFEB 		bl	RME_Int_Print
 123:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Variant: ");
 329              		.loc 1 123 5
 330 0038 000000E3 		movw	r0, #:lower16:.LC1
 331 003c 000040E3 		movt	r0, #:upper16:.LC1
 332 0040 FEFFFFEB 		bl	RME_Str_Print
 124:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>20)&0xF);
 333              		.loc 1 124 5
 334 0044 08301BE5 		ldr	r3, [fp, #-8]
 335 0048 233AA0E1 		lsr	r3, r3, #20
 336 004c 0F3003E2 		and	r3, r3, #15
 337 0050 0300A0E1 		mov	r0, r3
 338 0054 FEFFFFEB 		bl	RME_Int_Print
 125:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Revision: ");
 339              		.loc 1 125 5
 340 0058 000000E3 		movw	r0, #:lower16:.LC2
 341 005c 000040E3 		movt	r0, #:upper16:.LC2
 342 0060 FEFFFFEB 		bl	RME_Str_Print
 126:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>12)&0xF);
 343              		.loc 1 126 5
 344 0064 08301BE5 		ldr	r3, [fp, #-8]
 345 0068 2336A0E1 		lsr	r3, r3, #12
 346 006c 0F3003E2 		and	r3, r3, #15
 347 0070 0300A0E1 		mov	r0, r3
 348 0074 FEFFFFEB 		bl	RME_Int_Print
 127:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Implementer: 0x");
 349              		.loc 1 127 5
 350 0078 000000E3 		movw	r0, #:lower16:.LC3
 351 007c 000040E3 		movt	r0, #:upper16:.LC3
 352 0080 FEFFFFEB 		bl	RME_Str_Print
 128:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Temp&0xFFF);
 353              		.loc 1 128 5
 354 0084 08301BE5 		ldr	r3, [fp, #-8]
 355 0088 5330EBE7 		ubfx	r3, r3, #0, #12
 356 008c 0300A0E1 		mov	r0, r3
 357 0090 FEFFFFEB 		bl	RME_Hex_Print
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 130:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* How many locked SPIs, security extension enabled or not, number of
 131:../../Source/Platform/A7A/rme_platform_a7a.c ****      * actual CPUs and interrupt lines */
 132:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_TYPER;
 358              		.loc 1 132 10
 359 0094 043001E3 		movw	r3, #4100
 360 0098 F0384FE3 		movt	r3, 63728
 361              		.loc 1 132 9
 362 009c 003093E5 		ldr	r3, [r3]
 363 00a0 08300BE5 		str	r3, [fp, #-8]
 133:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 10


 364              		.loc 1 133 5
 365 00a4 000000E3 		movw	r0, #:lower16:.LC4
 366 00a8 000040E3 		movt	r0, #:upper16:.LC4
 367 00ac FEFFFFEB 		bl	RME_Str_Print
 134:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 368              		.loc 1 134 5
 369 00b0 08301BE5 		ldr	r3, [fp, #-8]
 370 00b4 2338A0E1 		lsr	r3, r3, #16
 371 00b8 0300A0E1 		mov	r0, r3
 372 00bc FEFFFFEB 		bl	RME_Int_Print
 135:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Security extension: ");
 373              		.loc 1 135 5
 374 00c0 000000E3 		movw	r0, #:lower16:.LC5
 375 00c4 000040E3 		movt	r0, #:upper16:.LC5
 376 00c8 FEFFFFEB 		bl	RME_Str_Print
 136:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>10)&0x1);
 377              		.loc 1 136 5
 378 00cc 08301BE5 		ldr	r3, [fp, #-8]
 379 00d0 2335A0E1 		lsr	r3, r3, #10
 380 00d4 013003E2 		and	r3, r3, #1
 381 00d8 0300A0E1 		mov	r0, r3
 382 00dc FEFFFFEB 		bl	RME_Int_Print
 137:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: CPU number: ");
 383              		.loc 1 137 5
 384 00e0 000000E3 		movw	r0, #:lower16:.LC6
 385 00e4 000040E3 		movt	r0, #:upper16:.LC6
 386 00e8 FEFFFFEB 		bl	RME_Str_Print
 138:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(((Temp>>5)&0x7)+1);
 387              		.loc 1 138 5
 388 00ec 08301BE5 		ldr	r3, [fp, #-8]
 389 00f0 A332A0E1 		lsr	r3, r3, #5
 390 00f4 073003E2 		and	r3, r3, #7
 391 00f8 013083E2 		add	r3, r3, #1
 392 00fc 0300A0E1 		mov	r0, r3
 393 0100 FEFFFFEB 		bl	RME_Int_Print
 139:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 394              		.loc 1 139 5
 395 0104 000000E3 		movw	r0, #:lower16:.LC7
 396 0108 000040E3 		movt	r0, #:upper16:.LC7
 397 010c FEFFFFEB 		bl	RME_Str_Print
 140:../../Source/Platform/A7A/rme_platform_a7a.c ****     Lines=((Temp&0x1F)+1)*32;
 398              		.loc 1 140 17
 399 0110 08301BE5 		ldr	r3, [fp, #-8]
 400 0114 1F3003E2 		and	r3, r3, #31
 401              		.loc 1 140 23
 402 0118 013083E2 		add	r3, r3, #1
 403              		.loc 1 140 10
 404 011c 8332A0E1 		lsl	r3, r3, #5
 405 0120 0C300BE5 		str	r3, [fp, #-12]
 141:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 406              		.loc 1 141 5
 407 0124 0C301BE5 		ldr	r3, [fp, #-12]
 408 0128 0300A0E1 		mov	r0, r3
 409 012c FEFFFFEB 		bl	RME_Int_Print
 142:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 143:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 144:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 11


 145:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 0, and disable all */
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/32;Temp++)
 410              		.loc 1 146 10
 411 0130 0030A0E3 		mov	r3, #0
 412 0134 08300BE5 		str	r3, [fp, #-8]
 413              		.loc 1 146 2
 414 0138 1A0000EA 		b	.L7
 415              	.L8:
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 148:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 416              		.loc 1 148 3
 417 013c 08201BE5 		ldr	r2, [fp, #-8]
 418 0140 4A3EA0E3 		mov	r3, #1184
 419 0144 3C3E43E3 		movt	r3, 15932
 420 0148 033082E0 		add	r3, r2, r3
 421 014c 0331A0E1 		lsl	r3, r3, #2
 422 0150 0320A0E1 		mov	r2, r3
 423              		.loc 1 148 29
 424 0154 0030E0E3 		mvn	r3, #0
 425 0158 003082E5 		str	r3, [r2]
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 426              		.loc 1 149 3
 427 015c 08201BE5 		ldr	r2, [fp, #-8]
 428 0160 423EA0E3 		mov	r3, #1056
 429 0164 3C3E43E3 		movt	r3, 15932
 430 0168 033082E0 		add	r3, r2, r3
 431 016c 0331A0E1 		lsl	r3, r3, #2
 432 0170 0320A0E1 		mov	r2, r3
 433              		.loc 1 149 29
 434 0174 0030A0E3 		mov	r3, #0
 435 0178 003082E5 		str	r3, [r2]
 150:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 436              		.loc 1 150 3
 437 017c 08201BE5 		ldr	r2, [fp, #-8]
 438 0180 463EA0E3 		mov	r3, #1120
 439 0184 3C3E43E3 		movt	r3, 15932
 440 0188 033082E0 		add	r3, r2, r3
 441 018c 0331A0E1 		lsl	r3, r3, #2
 442 0190 0320A0E1 		mov	r2, r3
 443              		.loc 1 150 31
 444 0194 0030E0E3 		mvn	r3, #0
 445 0198 003082E5 		str	r3, [r2]
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 446              		.loc 1 146 31 discriminator 3
 447 019c 08301BE5 		ldr	r3, [fp, #-8]
 448 01a0 013083E2 		add	r3, r3, #1
 449 01a4 08300BE5 		str	r3, [fp, #-8]
 450              	.L7:
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 451              		.loc 1 146 23 discriminator 1
 452 01a8 0C301BE5 		ldr	r3, [fp, #-12]
 453 01ac A332A0E1 		lsr	r3, r3, #5
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 454              		.loc 1 146 17 discriminator 1
 455 01b0 08201BE5 		ldr	r2, [fp, #-8]
 456 01b4 030052E1 		cmp	r2, r3
 457 01b8 DFFFFF3A 		bcc	.L8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 12


 151:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 152:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 153:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Set the priority of all such interrupts to the lowest level */
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/4;Temp++)
 458              		.loc 1 154 10
 459 01bc 0030A0E3 		mov	r3, #0
 460 01c0 08300BE5 		str	r3, [fp, #-8]
 461              		.loc 1 154 2
 462 01c4 0B0000EA 		b	.L9
 463              	.L10:
 155:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 464              		.loc 1 155 3
 465 01c8 08201BE5 		ldr	r2, [fp, #-8]
 466 01cc 053CA0E3 		mov	r3, #1280
 467 01d0 3C3E43E3 		movt	r3, 15932
 468 01d4 033082E0 		add	r3, r2, r3
 469 01d8 0331A0E1 		lsl	r3, r3, #2
 470 01dc 0320A0E1 		mov	r2, r3
 471              		.loc 1 155 32
 472 01e0 A0300AE3 		movw	r3, #41120
 473 01e4 A0304AE3 		movt	r3, 41120
 474 01e8 003082E5 		str	r3, [r2]
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 475              		.loc 1 154 30 discriminator 3
 476 01ec 08301BE5 		ldr	r3, [fp, #-8]
 477 01f0 013083E2 		add	r3, r3, #1
 478 01f4 08300BE5 		str	r3, [fp, #-8]
 479              	.L9:
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 480              		.loc 1 154 23 discriminator 1
 481 01f8 0C301BE5 		ldr	r3, [fp, #-12]
 482 01fc 2331A0E1 		lsr	r3, r3, #2
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 483              		.loc 1 154 17 discriminator 1
 484 0200 08201BE5 		ldr	r2, [fp, #-8]
 485 0204 030052E1 		cmp	r2, r3
 486 0208 EEFFFF3A 		bcc	.L10
 156:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts target CPU0 */
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=8;Temp<Lines/4;Temp++)
 487              		.loc 1 158 10
 488 020c 0830A0E3 		mov	r3, #8
 489 0210 08300BE5 		str	r3, [fp, #-8]
 490              		.loc 1 158 2
 491 0214 0B0000EA 		b	.L11
 492              	.L12:
 159:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 493              		.loc 1 159 3
 494 0218 08201BE5 		ldr	r2, [fp, #-8]
 495 021c 063CA0E3 		mov	r3, #1536
 496 0220 3C3E43E3 		movt	r3, 15932
 497 0224 033082E0 		add	r3, r2, r3
 498 0228 0331A0E1 		lsl	r3, r3, #2
 499 022c 0320A0E1 		mov	r2, r3
 500              		.loc 1 159 31
 501 0230 013100E3 		movw	r3, #257
 502 0234 013140E3 		movt	r3, 257
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 13


 503 0238 003082E5 		str	r3, [r2]
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 504              		.loc 1 158 30 discriminator 3
 505 023c 08301BE5 		ldr	r3, [fp, #-8]
 506 0240 013083E2 		add	r3, r3, #1
 507 0244 08300BE5 		str	r3, [fp, #-8]
 508              	.L11:
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 509              		.loc 1 158 23 discriminator 1
 510 0248 0C301BE5 		ldr	r3, [fp, #-12]
 511 024c 2331A0E1 		lsr	r3, r3, #2
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 512              		.loc 1 158 17 discriminator 1
 513 0250 08201BE5 		ldr	r2, [fp, #-8]
 514 0254 030052E1 		cmp	r2, r3
 515 0258 EEFFFF3A 		bcc	.L12
 160:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts are edge triggered, and use 1-N model */
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/16;Temp++)
 516              		.loc 1 162 10
 517 025c 0030A0E3 		mov	r3, #0
 518 0260 08300BE5 		str	r3, [fp, #-8]
 519              		.loc 1 162 2
 520 0264 0B0000EA 		b	.L13
 521              	.L14:
 163:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 522              		.loc 1 163 3
 523 0268 08201BE5 		ldr	r2, [fp, #-8]
 524 026c 073CA0E3 		mov	r3, #1792
 525 0270 3C3E43E3 		movt	r3, 15932
 526 0274 033082E0 		add	r3, r2, r3
 527 0278 0331A0E1 		lsl	r3, r3, #2
 528 027c 0320A0E1 		mov	r2, r3
 529              		.loc 1 163 27
 530 0280 553505E3 		movw	r3, #21845
 531 0284 553545E3 		movt	r3, 21845
 532 0288 003082E5 		str	r3, [r2]
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 533              		.loc 1 162 31 discriminator 3
 534 028c 08301BE5 		ldr	r3, [fp, #-8]
 535 0290 013083E2 		add	r3, r3, #1
 536 0294 08300BE5 		str	r3, [fp, #-8]
 537              	.L13:
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 538              		.loc 1 162 23 discriminator 1
 539 0298 0C301BE5 		ldr	r3, [fp, #-12]
 540 029c 2332A0E1 		lsr	r3, r3, #4
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 541              		.loc 1 162 17 discriminator 1
 542 02a0 08201BE5 		ldr	r2, [fp, #-8]
 543 02a4 030052E1 		cmp	r2, r3
 544 02a8 EEFFFF3A 		bcc	.L14
 164:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable the interrupt controller */
 166:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 545              		.loc 1 166 2
 546 02ac 013AA0E3 		mov	r3, #4096
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 14


 547 02b0 F0384FE3 		movt	r3, 63728
 548              		.loc 1 166 19
 549 02b4 0320A0E3 		mov	r2, #3
 550 02b8 002083E5 		str	r2, [r3]
 167:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 168:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 1, unless otherwise noted, and disable all */
 169:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/32;Temp++)
 170:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 171:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 172:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_IGROUPR(Temp)=0xFFFFFFFFU;
 173:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 174:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 175:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 176:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the priority of all such interrupts to the lowest level*/
 177:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/4;Temp++)
 178:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xE0E0E0E0U;
 179:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 180:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts target CPU0 */
 181:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=8;Temp<Lines/4;Temp++)
 182:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 183:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 184:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts are edge triggered, and use 1-N model */
 185:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/16;Temp++)
 186:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICFGR(Temp)=0xFFFFFFFFU;
 187:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 188:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the interrupt controller */
 189:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 190:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 191:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 551              		.loc 1 191 1
 552 02bc 00F020E3 		nop
 553 02c0 04D04BE2 		sub	sp, fp, #4
 554              		.cfi_def_cfa 13, 8
 555              		@ sp needed
 556 02c4 0088BDE8 		pop	{fp, pc}
 557              		.cfi_endproc
 558              	.LFE2:
 560              		.section	.text.__RME_A7A_Int_Local_Init,"ax",%progbits
 561              		.align	2
 562              		.global	__RME_A7A_Int_Local_Init
 563              		.syntax unified
 564              		.arm
 566              	__RME_A7A_Int_Local_Init:
 567              	.LFB3:
 192:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Init ******************************************/
 193:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 194:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Local_Init *****************************************
 195:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the local CPU interface of the processor.
 196:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 197:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 198:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 199:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 200:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Local_Init(void)
 201:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 568              		.loc 1 201 1
 569              		.cfi_startproc
 570              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 15


 571              		@ frame_needed = 1, uses_anonymous_args = 0
 572              		@ link register save eliminated.
 573 0000 04B02DE5 		str	fp, [sp, #-4]!
 574              		.cfi_def_cfa_offset 4
 575              		.cfi_offset 11, -4
 576 0004 00B08DE2 		add	fp, sp, #0
 577              		.cfi_def_cfa_register 11
 202:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Priority grouping */
 203:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_BPR=RME_A7A_GIC_GROUPING;
 578              		.loc 1 203 2
 579 0008 413FA0E3 		mov	r3, #260
 580 000c F0384FE3 		movt	r3, 63728
 581              		.loc 1 203 18
 582 0010 0020A0E3 		mov	r2, #0
 583 0014 002083E5 		str	r2, [r3]
 204:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 205:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable all interrupts to this interface - FIQ is bypassed, and all
 207:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * interrupts go through the IRQ. The FIQ feature is only available on
 208:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * the standalone FIQ interrupt line */
 209:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_ENABLEGRP0;
 584              		.loc 1 209 2
 585 0018 013CA0E3 		mov	r3, #256
 586 001c F0384FE3 		movt	r3, 63728
 587              		.loc 1 209 19
 588 0020 0120A0E3 		mov	r2, #1
 589 0024 002083E5 		str	r2, [r3]
 210:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 211:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_CBPR|RME_A7A_GICC_FIQEN|
 212:../../Source/Platform/A7A/rme_platform_a7a.c **** 			           RME_A7A_GICC_ENABLEGRP1|RME_A7A_GICC_ENABLEGRP0;
 213:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 214:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 215:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* No interrupts are masked - This must be set at last because enabling
 216:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * will trash the contents of this register if previously set. To maintain
 217:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * compatibility across all possible implementations, no priority level
 218:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * lower than 0xF0 will be considered valid */
 219:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_PMR=0xF0U;
 590              		.loc 1 219 2
 591 0028 413FA0E3 		mov	r3, #260
 592 002c F0384FE3 		movt	r3, 63728
 593              		.loc 1 219 18
 594 0030 F020A0E3 		mov	r2, #240
 595 0034 002083E5 		str	r2, [r3]
 220:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 596              		.loc 1 220 1
 597 0038 00F020E3 		nop
 598 003c 00D08BE2 		add	sp, fp, #0
 599              		.cfi_def_cfa_register 13
 600              		@ sp needed
 601 0040 04B09DE4 		ldr	fp, [sp], #4
 602              		.cfi_restore 11
 603              		.cfi_def_cfa_offset 0
 604 0044 1EFF2FE1 		bx	lr
 605              		.cfi_endproc
 606              	.LFE3:
 608              		.section	.rodata
 609 00d7 00       		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 16


 610              	.LC8:
 611 00d8 0D0A202A 		.ascii	"\015\012 ************** Reached here **************"
 611      2A2A2A2A 
 611      2A2A2A2A 
 611      2A2A2A2A 
 611      2A205265 
 612 0105 2A2A00   		.ascii	"**\000"
 613              		.section	.text.__RME_A7A_Timer_Init,"ax",%progbits
 614              		.align	2
 615              		.syntax unified
 616              		.arm
 618              	__RME_A7A_Timer_Init:
 619              	.LFB4:
 221:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Local_Init ************************************/
 222:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 223:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Timer_Init *********************************************
 224:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 225:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 226:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 227:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 228:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 229:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 230:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 231:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Timer_Init(void)
 232:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 620              		.loc 1 232 1
 621              		.cfi_startproc
 622              		@ args = 0, pretend = 0, frame = 0
 623              		@ frame_needed = 1, uses_anonymous_args = 0
 624 0000 00482DE9 		push	{fp, lr}
 625              		.cfi_def_cfa_offset 8
 626              		.cfi_offset 11, -8
 627              		.cfi_offset 14, -4
 628 0004 04B08DE2 		add	fp, sp, #4
 629              		.cfi_def_cfa 11, 4
 233:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 234:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 235:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Writing this will also write the counter register as well */
 236:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTLR=RME_A7A_SYSTICK_VAL;
 630              		.loc 1 236 5
 631 0008 063CA0E3 		mov	r3, #1536
 632 000c F0384FE3 		movt	r3, 63728
 633              		.loc 1 236 22
 634 0010 782408E3 		movw	r2, #33912
 635 0014 3A2040E3 		movt	r2, 58
 636 0018 002083E5 		str	r2, [r3]
 237:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 238:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTISR=0;
 637              		.loc 1 238 5
 638 001c 0C3600E3 		movw	r3, #1548
 639 0020 F0384FE3 		movt	r3, 63728
 640              		.loc 1 238 23
 641 0024 0020A0E3 		mov	r2, #0
 642 0028 002083E5 		str	r2, [r3]
 239:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 240:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTCTLR=RME_A7A_PTWD_PTCTLR_PRESC(0)|
 643              		.loc 1 240 5
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 17


 644 002c 083600E3 		movw	r3, #1544
 645 0030 F0384FE3 		movt	r3, 63728
 646              		.loc 1 240 24
 647 0034 0720A0E3 		mov	r2, #7
 648 0038 002083E5 		str	r2, [r3]
 241:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 242:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_AUTOREL|
 243:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_TIMEN;
 244:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 245:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the timer interrupt in the GIC */
 246:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_ISENABLER(0)|=1<<29;
 649              		.loc 1 246 5
 650 003c 113CA0E3 		mov	r3, #4352
 651 0040 F0384FE3 		movt	r3, 63728
 652 0044 002093E5 		ldr	r2, [r3]
 653 0048 113CA0E3 		mov	r3, #4352
 654 004c F0384FE3 		movt	r3, 63728
 655              		.loc 1 246 30
 656 0050 022282E3 		orr	r2, r2, #536870912
 657 0054 002083E5 		str	r2, [r3]
 247:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 248:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 249:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\n ************** Reached here ****************");
 658              		.loc 1 249 5
 659 0058 000000E3 		movw	r0, #:lower16:.LC8
 660 005c 000040E3 		movt	r0, #:upper16:.LC8
 661 0060 FEFFFFEB 		bl	RME_Str_Print
 250:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 251:../../Source/Platform/A7A/rme_platform_a7a.c **** 	#error Cortex-A7/8/15/17 is not supported at the moment.
 252:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cortex-A7/15/17 use the new generic timer, and Cortex-A8 does not
 253:../../Source/Platform/A7A/rme_platform_a7a.c **** 	have a processor timer due to very early release dates.
 254:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 255:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 662              		.loc 1 255 1
 663 0064 00F020E3 		nop
 664 0068 0088BDE8 		pop	{fp, pc}
 665              		.cfi_endproc
 666              	.LFE4:
 668              		.section	.text.__RME_A7A_Feature_Get,"ax",%progbits
 669              		.align	2
 670              		.global	__RME_A7A_Feature_Get
 671              		.syntax unified
 672              		.arm
 674              	__RME_A7A_Feature_Get:
 675              	.LFB5:
 256:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Timer_Init ****************************************/
 257:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 258:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Feature_Get ********************************************
 259:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Use the CPUID instruction extensively to get all the processor
 260:../../Source/Platform/A7A/rme_platform_a7a.c ****               information. We assume that all processors installed have the same
 261:../../Source/Platform/A7A/rme_platform_a7a.c ****               features.
 262:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 263:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 264:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 265:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 266:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Feature_Get(void)
 267:../../Source/Platform/A7A/rme_platform_a7a.c **** {
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 18


 676              		.loc 1 267 1
 677              		.cfi_startproc
 678              		@ args = 0, pretend = 0, frame = 0
 679              		@ frame_needed = 1, uses_anonymous_args = 0
 680              		@ link register save eliminated.
 681 0000 04B02DE5 		str	fp, [sp, #-4]!
 682              		.cfi_def_cfa_offset 4
 683              		.cfi_offset 11, -4
 684 0004 00B08DE2 		add	fp, sp, #0
 685              		.cfi_def_cfa_register 11
 268:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 269:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* TODO: Check these flags. If not satisfied, we hang immediately. */
 270:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 686              		.loc 1 270 1
 687 0008 00F020E3 		nop
 688 000c 00D08BE2 		add	sp, fp, #0
 689              		.cfi_def_cfa_register 13
 690              		@ sp needed
 691 0010 04B09DE4 		ldr	fp, [sp], #4
 692              		.cfi_restore 11
 693              		.cfi_def_cfa_offset 0
 694 0014 1EFF2FE1 		bx	lr
 695              		.cfi_endproc
 696              	.LFE5:
 698              		.section	.text.__RME_A7A_Mem_Init,"ax",%progbits
 699              		.align	2
 700              		.global	__RME_A7A_Mem_Init
 701              		.syntax unified
 702              		.arm
 704              	__RME_A7A_Mem_Init:
 705              	.LFB6:
 271:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Feature_Get ***************************************/
 272:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 273:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Mem_Init ***********************************************
 274:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the memory map, and get the size of kernel object
 275:../../Source/Platform/A7A/rme_platform_a7a.c ****               allocation registration table(Kot) and page table reference
 276:../../Source/Platform/A7A/rme_platform_a7a.c ****               count registration table(Pgreg).
 277:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t MMap_Addr - The GRUB multiboot memory map data address.
 278:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t MMap_Length - The GRUB multiboot memory map data length.
 279:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 280:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 281:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 282:../../Source/Platform/A7A/rme_platform_a7a.c **** const rme_ptr_t RME_A7A_Mem_Info[RME_A7A_MEM_ENTRIES]={RME_A7A_MEM_CONTENTS};
 283:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Mem_Init(rme_ptr_t MMap_Addr, rme_ptr_t MMap_Length)
 284:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 706              		.loc 1 284 1
 707              		.cfi_startproc
 708              		@ args = 0, pretend = 0, frame = 8
 709              		@ frame_needed = 1, uses_anonymous_args = 0
 710              		@ link register save eliminated.
 711 0000 04B02DE5 		str	fp, [sp, #-4]!
 712              		.cfi_def_cfa_offset 4
 713              		.cfi_offset 11, -4
 714 0004 00B08DE2 		add	fp, sp, #0
 715              		.cfi_def_cfa_register 11
 716 0008 0CD04DE2 		sub	sp, sp, #12
 717 000c 08000BE5 		str	r0, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 19


 718 0010 0C100BE5 		str	r1, [fp, #-12]
 285:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 286:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 719              		.loc 1 286 1
 720 0014 00F020E3 		nop
 721 0018 00D08BE2 		add	sp, fp, #0
 722              		.cfi_def_cfa_register 13
 723              		@ sp needed
 724 001c 04B09DE4 		ldr	fp, [sp], #4
 725              		.cfi_restore 11
 726              		.cfi_def_cfa_offset 0
 727 0020 1EFF2FE1 		bx	lr
 728              		.cfi_endproc
 729              	.LFE6:
 731              		.section	.text.__RME_A7A_SMP_Init,"ax",%progbits
 732              		.align	2
 733              		.global	__RME_A7A_SMP_Init
 734              		.syntax unified
 735              		.arm
 737              	__RME_A7A_SMP_Init:
 738              	.LFB7:
 287:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Mem_Init ******************************************/
 288:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 289:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Init ***********************************************
 290:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Start all other processors, one by one.
 291:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 292:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 293:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 294:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 295:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Init(void)
 296:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 739              		.loc 1 296 1
 740              		.cfi_startproc
 741              		@ args = 0, pretend = 0, frame = 0
 742              		@ frame_needed = 1, uses_anonymous_args = 0
 743              		@ link register save eliminated.
 744 0000 04B02DE5 		str	fp, [sp, #-4]!
 745              		.cfi_def_cfa_offset 4
 746              		.cfi_offset 11, -4
 747 0004 00B08DE2 		add	fp, sp, #0
 748              		.cfi_def_cfa_register 11
 297:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 298:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 749              		.loc 1 298 1
 750 0008 00F020E3 		nop
 751 000c 00D08BE2 		add	sp, fp, #0
 752              		.cfi_def_cfa_register 13
 753              		@ sp needed
 754 0010 04B09DE4 		ldr	fp, [sp], #4
 755              		.cfi_restore 11
 756              		.cfi_def_cfa_offset 0
 757 0014 1EFF2FE1 		bx	lr
 758              		.cfi_endproc
 759              	.LFE7:
 761              		.section	.text.__RME_A7A_SMP_Tick,"ax",%progbits
 762              		.align	2
 763              		.global	__RME_A7A_SMP_Tick
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 20


 764              		.syntax unified
 765              		.arm
 767              	__RME_A7A_SMP_Tick:
 768              	.LFB8:
 299:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Init ******************************************/
 300:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 301:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Tick ***********************************************
 302:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Send IPI to all other cores,to run their handler on the time.
 303:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 304:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 305:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 306:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 307:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Tick(void)
 308:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 769              		.loc 1 308 1
 770              		.cfi_startproc
 771              		@ args = 0, pretend = 0, frame = 0
 772              		@ frame_needed = 1, uses_anonymous_args = 0
 773              		@ link register save eliminated.
 774 0000 04B02DE5 		str	fp, [sp, #-4]!
 775              		.cfi_def_cfa_offset 4
 776              		.cfi_offset 11, -4
 777 0004 00B08DE2 		add	fp, sp, #0
 778              		.cfi_def_cfa_register 11
 309:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 310:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 779              		.loc 1 310 1
 780 0008 00F020E3 		nop
 781 000c 00D08BE2 		add	sp, fp, #0
 782              		.cfi_def_cfa_register 13
 783              		@ sp needed
 784 0010 04B09DE4 		ldr	fp, [sp], #4
 785              		.cfi_restore 11
 786              		.cfi_def_cfa_offset 0
 787 0014 1EFF2FE1 		bx	lr
 788              		.cfi_endproc
 789              	.LFE8:
 791              		.section	.rodata
 792              		.align	2
 793              	.LC9:
 794 0108 0D0A4137 		.ascii	"\015\012A7A-Vector: 0x\000"
 794      412D5665 
 794      63746F72 
 794      3A203078 
 794      00
 795 0119 000000   		.align	2
 796              	.LC10:
 797 011c 0D0A4137 		.ascii	"\015\012A7A-Non-Secure: \000"
 797      412D4E6F 
 797      6E2D5365 
 797      63757265 
 797      3A2000
 798              		.section	.text.__RME_Lowlvl_Init,"ax",%progbits
 799              		.align	2
 800              		.global	__RME_Lowlvl_Init
 801              		.syntax unified
 802              		.arm
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 21


 804              	__RME_Lowlvl_Init:
 805              	.LFB9:
 311:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Tick *******************************************/
 312:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 313:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Lowlvl_Init **********************************************
 314:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the low-level hardware. This assumes that we are already
 315:../../Source/Platform/A7A/rme_platform_a7a.c ****               in Supervisor (SVC) mode.
 316:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 317:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 318:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 319:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 320:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Lowlvl_Init(void)
 321:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 806              		.loc 1 321 1
 807              		.cfi_startproc
 808              		@ args = 0, pretend = 0, frame = 0
 809              		@ frame_needed = 1, uses_anonymous_args = 0
 810 0000 00482DE9 		push	{fp, lr}
 811              		.cfi_def_cfa_offset 8
 812              		.cfi_offset 11, -8
 813              		.cfi_offset 14, -4
 814 0004 04B08DE2 		add	fp, sp, #4
 815              		.cfi_def_cfa 11, 4
 322:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 323:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_LOW_LEVEL_INIT();
 324:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 325:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local data structure */
 326:../../Source/Platform/A7A/rme_platform_a7a.c ****     _RME_CPU_Local_Init(&RME_A7A_Local,0);
 816              		.loc 1 326 5
 817 0008 0010A0E3 		mov	r1, #0
 818 000c 000000E3 		movw	r0, #:lower16:RME_A7A_Local
 819 0010 000040E3 		movt	r0, #:upper16:RME_A7A_Local
 820 0014 FEFFFFEB 		bl	_RME_CPU_Local_Init
 327:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 328:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the interrupt controller */
 329:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_Int_Init();
 821              		.loc 1 329 5
 822 0018 FEFFFFEB 		bl	__RME_A7A_Int_Init
 330:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 331:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize CPU-local interrupt resources */
 332:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Int_Local_Init();
 823              		.loc 1 332 2
 824 001c FEFFFFEB 		bl	__RME_A7A_Int_Local_Init
 333:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 334:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the vector table */
 335:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Vector: 0x");
 825              		.loc 1 335 5
 826 0020 000000E3 		movw	r0, #:lower16:.LC9
 827 0024 000040E3 		movt	r0, #:upper16:.LC9
 828 0028 FEFFFFEB 		bl	RME_Str_Print
 336:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H((rme_ptr_t)&__RME_A7A_Vector_Table);
 829              		.loc 1 336 5
 830 002c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 831 0030 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 832 0034 0300A0E1 		mov	r0, r3
 833 0038 FEFFFFEB 		bl	RME_Hex_Print
 337:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_VBAR_Set((rme_ptr_t)&__RME_A7A_Vector_Table);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 22


 834              		.loc 1 337 5
 835 003c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 836 0040 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 837 0044 0300A0E1 		mov	r0, r3
 838 0048 FEFFFFEB 		bl	__RME_A7A_VBAR_Set
 338:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 339:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Non-Secure: ");
 839              		.loc 1 339 5
 840 004c 000000E3 		movw	r0, #:lower16:.LC10
 841 0050 000040E3 		movt	r0, #:upper16:.LC10
 842 0054 FEFFFFEB 		bl	RME_Str_Print
 340:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(__RME_A7A_SCR_Get());
 843              		.loc 1 340 5
 844 0058 FEFFFFEB 		bl	__RME_A7A_SCR_Get
 845 005c 0030A0E1 		mov	r3, r0
 846              		.loc 1 340 5 is_stmt 0 discriminator 1
 847 0060 0300A0E1 		mov	r0, r3
 848 0064 FEFFFFEB 		bl	RME_Hex_Print
 341:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 849              		.loc 1 341 1 is_stmt 1
 850 0068 00F020E3 		nop
 851 006c 0088BDE8 		pop	{fp, pc}
 852              		.cfi_endproc
 853              	.LFE9:
 855              		.section	.text.__RME_Pgt_Kom_Init,"ax",%progbits
 856              		.align	2
 857              		.global	__RME_Pgt_Kom_Init
 858              		.syntax unified
 859              		.arm
 861              	__RME_Pgt_Kom_Init:
 862              	.LFB10:
 342:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Lowlvl_Init *****************************************/
 343:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 344:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Kom_Init *********************************************
 345:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the kernel mapping tables, so it can be added to all the
 346:../../Source/Platform/A7A/rme_platform_a7a.c ****               top-level page tables. Currently this have no consideration for >1TB
 347:../../Source/Platform/A7A/rme_platform_a7a.c ****               RAM, and is not NUMA-aware.
 348:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 349:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 350:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 351:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 352:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Kom_Init(void)
 353:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 863              		.loc 1 353 1
 864              		.cfi_startproc
 865              		@ args = 0, pretend = 0, frame = 0
 866              		@ frame_needed = 1, uses_anonymous_args = 0
 867              		@ link register save eliminated.
 868 0000 04B02DE5 		str	fp, [sp, #-4]!
 869              		.cfi_def_cfa_offset 4
 870              		.cfi_offset 11, -4
 871 0004 00B08DE2 		add	fp, sp, #0
 872              		.cfi_def_cfa_register 11
 354:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Use initial page table here instead for kernel, which is sufficient */
 355:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 356:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 873              		.loc 1 356 12
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 23


 874 0008 0030A0E3 		mov	r3, #0
 357:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 875              		.loc 1 357 1
 876 000c 0300A0E1 		mov	r0, r3
 877 0010 00D08BE2 		add	sp, fp, #0
 878              		.cfi_def_cfa_register 13
 879              		@ sp needed
 880 0014 04B09DE4 		ldr	fp, [sp], #4
 881              		.cfi_restore 11
 882              		.cfi_def_cfa_offset 0
 883 0018 1EFF2FE1 		bx	lr
 884              		.cfi_endproc
 885              	.LFE10:
 887              		.section	.text.__RME_SMP_Low_Level_Init,"ax",%progbits
 888              		.align	2
 889              		.global	__RME_SMP_Low_Level_Init
 890              		.syntax unified
 891              		.arm
 893              	__RME_SMP_Low_Level_Init:
 894              	.LFB11:
 358:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Kom_Init ****************************************/
 359:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 360:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_SMP_Low_Level_Init ******************************************
 361:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Low-level initialization for all other cores.
 362:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 363:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 364:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 365:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 366:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_SMP_Low_Level_Init(void)
 367:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 895              		.loc 1 367 1
 896              		.cfi_startproc
 897              		@ args = 0, pretend = 0, frame = 0
 898              		@ frame_needed = 1, uses_anonymous_args = 0
 899              		@ link register save eliminated.
 900 0000 04B02DE5 		str	fp, [sp, #-4]!
 901              		.cfi_def_cfa_offset 4
 902              		.cfi_offset 11, -4
 903 0004 00B08DE2 		add	fp, sp, #0
 904              		.cfi_def_cfa_register 11
 368:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 369:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_SMP_LOW_LEVEL_INIT();
 370:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local variables */
 371:../../Source/Platform/A7A/rme_platform_a7a.c ****    // _RME_CPU_Local_Init(&RME_A7A_Local[RME_A7A_CPU_Cnt],RME_A7A_CPU_Cnt);
 372:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 905              		.loc 1 372 12
 906 0008 0030A0E3 		mov	r3, #0
 373:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 907              		.loc 1 373 1
 908 000c 0300A0E1 		mov	r0, r3
 909 0010 00D08BE2 		add	sp, fp, #0
 910              		.cfi_def_cfa_register 13
 911              		@ sp needed
 912 0014 04B09DE4 		ldr	fp, [sp], #4
 913              		.cfi_restore 11
 914              		.cfi_def_cfa_offset 0
 915 0018 1EFF2FE1 		bx	lr
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 24


 916              		.cfi_endproc
 917              	.LFE11:
 919              		.section	.text.__RME_Boot,"ax",%progbits
 920              		.align	2
 921              		.global	__RME_Boot
 922              		.syntax unified
 923              		.arm
 925              	__RME_Boot:
 926              	.LFB12:
 374:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_SMP_Low_Level_Init *************************************/
 375:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 376:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Boot ********************************************************
 377:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Boot the first process in the system.
 378:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 379:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 380:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 381:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 382:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Boot(void)
 383:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 927              		.loc 1 383 1
 928              		.cfi_startproc
 929              		@ args = 0, pretend = 0, frame = 0
 930              		@ frame_needed = 1, uses_anonymous_args = 0
 931 0000 00482DE9 		push	{fp, lr}
 932              		.cfi_def_cfa_offset 8
 933              		.cfi_offset 11, -8
 934              		.cfi_offset 14, -4
 935 0004 04B08DE2 		add	fp, sp, #4
 936              		.cfi_def_cfa 11, 4
 384:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize timer */
 385:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Timer_Init();
 937              		.loc 1 385 2
 938 0008 FEFFFFEB 		bl	__RME_A7A_Timer_Init
 386:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Int_Enable();
 939              		.loc 1 386 5
 940 000c FEFFFFEB 		bl	__RME_Int_Enable
 941              	.L27:
 387:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 942              		.loc 1 387 7
 943 0010 FEFFFFEA 		b	.L27
 944              		.cfi_endproc
 945              	.LFE12:
 947              		.section	.text.__RME_Reboot,"ax",%progbits
 948              		.align	2
 949              		.global	__RME_Reboot
 950              		.syntax unified
 951              		.arm
 953              	__RME_Reboot:
 954              	.LFB13:
 388:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 389:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Boot ***************************************************/
 390:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 391:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Reboot ******************************************************
 392:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Reboot the machine, abandon all operating system states.
 393:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 394:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 395:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 25


 396:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 397:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Reboot(void)
 398:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 955              		.loc 1 398 1
 956              		.cfi_startproc
 957              		@ args = 0, pretend = 0, frame = 0
 958              		@ frame_needed = 1, uses_anonymous_args = 0
 959              		@ link register save eliminated.
 960 0000 04B02DE5 		str	fp, [sp, #-4]!
 961              		.cfi_def_cfa_offset 4
 962              		.cfi_offset 11, -4
 963 0004 00B08DE2 		add	fp, sp, #0
 964              		.cfi_def_cfa_register 11
 399:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 400:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 965              		.loc 1 400 1
 966 0008 00F020E3 		nop
 967 000c 00D08BE2 		add	sp, fp, #0
 968              		.cfi_def_cfa_register 13
 969              		@ sp needed
 970 0010 04B09DE4 		ldr	fp, [sp], #4
 971              		.cfi_restore 11
 972              		.cfi_def_cfa_offset 0
 973 0014 1EFF2FE1 		bx	lr
 974              		.cfi_endproc
 975              	.LFE13:
 977              		.section	.text.__RME_Shutdown,"ax",%progbits
 978              		.align	2
 979              		.global	__RME_Shutdown
 980              		.syntax unified
 981              		.arm
 983              	__RME_Shutdown:
 984              	.LFB14:
 401:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Reboot *************************************************/
 402:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 403:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Shutdown ****************************************************
 404:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Shutdown the machine, abandon all operating system states.
 405:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 406:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 407:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 408:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 409:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Shutdown(void)
 410:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 985              		.loc 1 410 1
 986              		.cfi_startproc
 987              		@ args = 0, pretend = 0, frame = 0
 988              		@ frame_needed = 1, uses_anonymous_args = 0
 989              		@ link register save eliminated.
 990 0000 04B02DE5 		str	fp, [sp, #-4]!
 991              		.cfi_def_cfa_offset 4
 992              		.cfi_offset 11, -4
 993 0004 00B08DE2 		add	fp, sp, #0
 994              		.cfi_def_cfa_register 11
 411:../../Source/Platform/A7A/rme_platform_a7a.c ****    // RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 412:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 995              		.loc 1 412 1
 996 0008 00F020E3 		nop
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 26


 997 000c 00D08BE2 		add	sp, fp, #0
 998              		.cfi_def_cfa_register 13
 999              		@ sp needed
 1000 0010 04B09DE4 		ldr	fp, [sp], #4
 1001              		.cfi_restore 11
 1002              		.cfi_def_cfa_offset 0
 1003 0014 1EFF2FE1 		bx	lr
 1004              		.cfi_endproc
 1005              	.LFE14:
 1007              		.section	.text.__RME_Svc_Param_Get,"ax",%progbits
 1008              		.align	2
 1009              		.global	__RME_Svc_Param_Get
 1010              		.syntax unified
 1011              		.arm
 1013              	__RME_Svc_Param_Get:
 1014              	.LFB15:
 413:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Shutdown ***********************************************/
 414:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 415:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Get_Syscall_Param *******************************************
 416:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the system call parameters from the stack frame.
 417:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 418:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Svc - The system service number.
 419:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Capid - The capability ID number.
 420:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Param - The parameters.
 421:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 422:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 423:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Param_Get(struct RME_Reg_Struct* Reg,rme_ptr_t* Svc,rme_ptr_t* Capid,rme_ptr_t* Para
 424:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1015              		.loc 1 424 1
 1016              		.cfi_startproc
 1017              		@ args = 0, pretend = 0, frame = 16
 1018              		@ frame_needed = 1, uses_anonymous_args = 0
 1019              		@ link register save eliminated.
 1020 0000 04B02DE5 		str	fp, [sp, #-4]!
 1021              		.cfi_def_cfa_offset 4
 1022              		.cfi_offset 11, -4
 1023 0004 00B08DE2 		add	fp, sp, #0
 1024              		.cfi_def_cfa_register 11
 1025 0008 14D04DE2 		sub	sp, sp, #20
 1026 000c 08000BE5 		str	r0, [fp, #-8]
 1027 0010 0C100BE5 		str	r1, [fp, #-12]
 1028 0014 10200BE5 		str	r2, [fp, #-16]
 1029 0018 14300BE5 		str	r3, [fp, #-20]
 425:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Svc=(Reg->R0)>>16;
 1030              		.loc 1 425 14
 1031 001c 08301BE5 		ldr	r3, [fp, #-8]
 1032 0020 043093E5 		ldr	r3, [r3, #4]
 1033              		.loc 1 425 19
 1034 0024 2328A0E1 		lsr	r2, r3, #16
 1035              		.loc 1 425 9
 1036 0028 0C301BE5 		ldr	r3, [fp, #-12]
 1037 002c 002083E5 		str	r2, [r3]
 426:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Capid=(Reg->R0)&0xFFFF;
 1038              		.loc 1 426 16
 1039 0030 08301BE5 		ldr	r3, [fp, #-8]
 1040 0034 043093E5 		ldr	r3, [r3, #4]
 1041              		.loc 1 426 21
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 27


 1042 0038 7320FFE6 		uxth	r2, r3
 1043              		.loc 1 426 11
 1044 003c 10301BE5 		ldr	r3, [fp, #-16]
 1045 0040 002083E5 		str	r2, [r3]
 427:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[0]=Reg->R1;
 1046              		.loc 1 427 17
 1047 0044 08301BE5 		ldr	r3, [fp, #-8]
 1048 0048 082093E5 		ldr	r2, [r3, #8]
 1049              		.loc 1 427 13
 1050 004c 14301BE5 		ldr	r3, [fp, #-20]
 1051 0050 002083E5 		str	r2, [r3]
 428:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[1]=Reg->R2;
 1052              		.loc 1 428 10
 1053 0054 14301BE5 		ldr	r3, [fp, #-20]
 1054 0058 043083E2 		add	r3, r3, #4
 1055              		.loc 1 428 17
 1056 005c 08201BE5 		ldr	r2, [fp, #-8]
 1057 0060 0C2092E5 		ldr	r2, [r2, #12]
 1058              		.loc 1 428 13
 1059 0064 002083E5 		str	r2, [r3]
 429:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[2]=Reg->R3;
 1060              		.loc 1 429 10
 1061 0068 14301BE5 		ldr	r3, [fp, #-20]
 1062 006c 083083E2 		add	r3, r3, #8
 1063              		.loc 1 429 17
 1064 0070 08201BE5 		ldr	r2, [fp, #-8]
 1065 0074 102092E5 		ldr	r2, [r2, #16]
 1066              		.loc 1 429 13
 1067 0078 002083E5 		str	r2, [r3]
 430:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1068              		.loc 1 430 1
 1069 007c 00F020E3 		nop
 1070 0080 00D08BE2 		add	sp, fp, #0
 1071              		.cfi_def_cfa_register 13
 1072              		@ sp needed
 1073 0084 04B09DE4 		ldr	fp, [sp], #4
 1074              		.cfi_restore 11
 1075              		.cfi_def_cfa_offset 0
 1076 0088 1EFF2FE1 		bx	lr
 1077              		.cfi_endproc
 1078              	.LFE15:
 1080              		.section	.text.__RME_Svc_Retval_Set,"ax",%progbits
 1081              		.align	2
 1082              		.global	__RME_Svc_Retval_Set
 1083              		.syntax unified
 1084              		.arm
 1086              	__RME_Svc_Retval_Set:
 1087              	.LFB16:
 431:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Get_Syscall_Param **************************************/
 432:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 433:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Syscall_Retval ******************************************
 434:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the system call return value to the stack frame. This function 
 435:../../Source/Platform/A7A/rme_platform_a7a.c ****               may carry up to 4 return values. If the last 3 is not needed, just set
 436:../../Source/Platform/A7A/rme_platform_a7a.c ****               them to zero.
 437:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 438:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 439:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 28


 440:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 441:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Retval_Set(struct RME_Reg_Struct* Reg,rme_ret_t Retval)
 442:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1088              		.loc 1 442 1
 1089              		.cfi_startproc
 1090              		@ args = 0, pretend = 0, frame = 8
 1091              		@ frame_needed = 1, uses_anonymous_args = 0
 1092              		@ link register save eliminated.
 1093 0000 04B02DE5 		str	fp, [sp, #-4]!
 1094              		.cfi_def_cfa_offset 4
 1095              		.cfi_offset 11, -4
 1096 0004 00B08DE2 		add	fp, sp, #0
 1097              		.cfi_def_cfa_register 11
 1098 0008 0CD04DE2 		sub	sp, sp, #12
 1099 000c 08000BE5 		str	r0, [fp, #-8]
 1100 0010 0C100BE5 		str	r1, [fp, #-12]
 443:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=(rme_ptr_t)Retval;
 1101              		.loc 1 443 13
 1102 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1103              		.loc 1 443 12
 1104 0018 08301BE5 		ldr	r3, [fp, #-8]
 1105 001c 042083E5 		str	r2, [r3, #4]
 444:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1106              		.loc 1 444 1
 1107 0020 00F020E3 		nop
 1108 0024 00D08BE2 		add	sp, fp, #0
 1109              		.cfi_def_cfa_register 13
 1110              		@ sp needed
 1111 0028 04B09DE4 		ldr	fp, [sp], #4
 1112              		.cfi_restore 11
 1113              		.cfi_def_cfa_offset 0
 1114 002c 1EFF2FE1 		bx	lr
 1115              		.cfi_endproc
 1116              	.LFE16:
 1118              		.section	.text.__RME_Thd_Reg_Init,"ax",%progbits
 1119              		.align	2
 1120              		.global	__RME_Thd_Reg_Init
 1121              		.syntax unified
 1122              		.arm
 1124              	__RME_Thd_Reg_Init:
 1125              	.LFB17:
 445:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Syscall_Retval *************************************/
 446:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 447:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Init ************************************************
 448:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the register set for the thread.
 449:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Entry - The thread entry address.
 450:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Stack - The thread stack address.
 451:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param - The parameter to pass to it.
 452:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set content generated.
 453:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 454:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 455:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Init(rme_ptr_t Attr,rme_ptr_t Entry,rme_ptr_t Stack,rme_ptr_t Param,
 456:../../Source/Platform/A7A/rme_platform_a7a.c ****                                        struct RME_Reg_Struct* Reg)
 457:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1126              		.loc 1 457 1
 1127              		.cfi_startproc
 1128              		@ args = 4, pretend = 0, frame = 16
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 29


 1129              		@ frame_needed = 1, uses_anonymous_args = 0
 1130              		@ link register save eliminated.
 1131 0000 04B02DE5 		str	fp, [sp, #-4]!
 1132              		.cfi_def_cfa_offset 4
 1133              		.cfi_offset 11, -4
 1134 0004 00B08DE2 		add	fp, sp, #0
 1135              		.cfi_def_cfa_register 11
 1136 0008 14D04DE2 		sub	sp, sp, #20
 1137 000c 08000BE5 		str	r0, [fp, #-8]
 1138 0010 0C100BE5 		str	r1, [fp, #-12]
 1139 0014 10200BE5 		str	r2, [fp, #-16]
 1140 0018 14300BE5 		str	r3, [fp, #-20]
 458:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the entry and stack */
 459:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Entry;
 1141              		.loc 1 459 12
 1142 001c 04309BE5 		ldr	r3, [fp, #4]
 1143 0020 0C201BE5 		ldr	r2, [fp, #-12]
 1144 0024 3C2083E5 		str	r2, [r3, #60]
 460:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Stack;
 1145              		.loc 1 460 12
 1146 0028 04309BE5 		ldr	r3, [fp, #4]
 1147 002c 10201BE5 		ldr	r2, [fp, #-16]
 1148 0030 342083E5 		str	r2, [r3, #52]
 461:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the parameter */
 462:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=Param;
 1149              		.loc 1 462 12
 1150 0034 04309BE5 		ldr	r3, [fp, #4]
 1151 0038 14201BE5 		ldr	r2, [fp, #-20]
 1152 003c 042083E5 		str	r2, [r3, #4]
 463:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1153              		.loc 1 463 1
 1154 0040 00F020E3 		nop
 1155 0044 00D08BE2 		add	sp, fp, #0
 1156              		.cfi_def_cfa_register 13
 1157              		@ sp needed
 1158 0048 04B09DE4 		ldr	fp, [sp], #4
 1159              		.cfi_restore 11
 1160              		.cfi_def_cfa_offset 0
 1161 004c 1EFF2FE1 		bx	lr
 1162              		.cfi_endproc
 1163              	.LFE17:
 1165              		.section	.text.__RME_Thd_Reg_Copy,"ax",%progbits
 1166              		.align	2
 1167              		.global	__RME_Thd_Reg_Copy
 1168              		.syntax unified
 1169              		.arm
 1171              	__RME_Thd_Reg_Copy:
 1172              	.LFB18:
 464:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Init *******************************************/
 465:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 466:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Copy ************************************************
 467:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Copy one set of registers into another.
 468:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Src - The source register set.
 469:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Dst - The destination register set.
 470:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 471:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 472:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Copy(struct RME_Reg_Struct* Dst, struct RME_Reg_Struct* Src)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 30


 473:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1173              		.loc 1 473 1
 1174              		.cfi_startproc
 1175              		@ args = 0, pretend = 0, frame = 8
 1176              		@ frame_needed = 1, uses_anonymous_args = 0
 1177              		@ link register save eliminated.
 1178 0000 04B02DE5 		str	fp, [sp, #-4]!
 1179              		.cfi_def_cfa_offset 4
 1180              		.cfi_offset 11, -4
 1181 0004 00B08DE2 		add	fp, sp, #0
 1182              		.cfi_def_cfa_register 11
 1183 0008 0CD04DE2 		sub	sp, sp, #12
 1184 000c 08000BE5 		str	r0, [fp, #-8]
 1185 0010 0C100BE5 		str	r1, [fp, #-12]
 474:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that the ordering is the same so the compiler can optimize */
 475:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->CPSR=Src->CPSR;
 1186              		.loc 1 475 18
 1187 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1188 0018 002093E5 		ldr	r2, [r3]
 1189              		.loc 1 475 14
 1190 001c 08301BE5 		ldr	r3, [fp, #-8]
 1191 0020 002083E5 		str	r2, [r3]
 476:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R0=Src->R0;
 1192              		.loc 1 476 16
 1193 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1194 0028 042093E5 		ldr	r2, [r3, #4]
 1195              		.loc 1 476 12
 1196 002c 08301BE5 		ldr	r3, [fp, #-8]
 1197 0030 042083E5 		str	r2, [r3, #4]
 477:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R1=Src->R1;
 1198              		.loc 1 477 16
 1199 0034 0C301BE5 		ldr	r3, [fp, #-12]
 1200 0038 082093E5 		ldr	r2, [r3, #8]
 1201              		.loc 1 477 12
 1202 003c 08301BE5 		ldr	r3, [fp, #-8]
 1203 0040 082083E5 		str	r2, [r3, #8]
 478:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R2=Src->R2;
 1204              		.loc 1 478 16
 1205 0044 0C301BE5 		ldr	r3, [fp, #-12]
 1206 0048 0C2093E5 		ldr	r2, [r3, #12]
 1207              		.loc 1 478 12
 1208 004c 08301BE5 		ldr	r3, [fp, #-8]
 1209 0050 0C2083E5 		str	r2, [r3, #12]
 479:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R3=Src->R3;
 1210              		.loc 1 479 16
 1211 0054 0C301BE5 		ldr	r3, [fp, #-12]
 1212 0058 102093E5 		ldr	r2, [r3, #16]
 1213              		.loc 1 479 12
 1214 005c 08301BE5 		ldr	r3, [fp, #-8]
 1215 0060 102083E5 		str	r2, [r3, #16]
 480:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R4=Src->R4;
 1216              		.loc 1 480 16
 1217 0064 0C301BE5 		ldr	r3, [fp, #-12]
 1218 0068 142093E5 		ldr	r2, [r3, #20]
 1219              		.loc 1 480 12
 1220 006c 08301BE5 		ldr	r3, [fp, #-8]
 1221 0070 142083E5 		str	r2, [r3, #20]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 31


 481:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R5=Src->R5;
 1222              		.loc 1 481 16
 1223 0074 0C301BE5 		ldr	r3, [fp, #-12]
 1224 0078 182093E5 		ldr	r2, [r3, #24]
 1225              		.loc 1 481 12
 1226 007c 08301BE5 		ldr	r3, [fp, #-8]
 1227 0080 182083E5 		str	r2, [r3, #24]
 482:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R6=Src->R6;
 1228              		.loc 1 482 16
 1229 0084 0C301BE5 		ldr	r3, [fp, #-12]
 1230 0088 1C2093E5 		ldr	r2, [r3, #28]
 1231              		.loc 1 482 12
 1232 008c 08301BE5 		ldr	r3, [fp, #-8]
 1233 0090 1C2083E5 		str	r2, [r3, #28]
 483:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R7=Src->R7;
 1234              		.loc 1 483 16
 1235 0094 0C301BE5 		ldr	r3, [fp, #-12]
 1236 0098 202093E5 		ldr	r2, [r3, #32]
 1237              		.loc 1 483 12
 1238 009c 08301BE5 		ldr	r3, [fp, #-8]
 1239 00a0 202083E5 		str	r2, [r3, #32]
 484:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R8=Src->R8;
 1240              		.loc 1 484 16
 1241 00a4 0C301BE5 		ldr	r3, [fp, #-12]
 1242 00a8 242093E5 		ldr	r2, [r3, #36]
 1243              		.loc 1 484 12
 1244 00ac 08301BE5 		ldr	r3, [fp, #-8]
 1245 00b0 242083E5 		str	r2, [r3, #36]
 485:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R9=Src->R9;
 1246              		.loc 1 485 16
 1247 00b4 0C301BE5 		ldr	r3, [fp, #-12]
 1248 00b8 282093E5 		ldr	r2, [r3, #40]
 1249              		.loc 1 485 12
 1250 00bc 08301BE5 		ldr	r3, [fp, #-8]
 1251 00c0 282083E5 		str	r2, [r3, #40]
 486:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R10=Src->R10;
 1252              		.loc 1 486 17
 1253 00c4 0C301BE5 		ldr	r3, [fp, #-12]
 1254 00c8 2C2093E5 		ldr	r2, [r3, #44]
 1255              		.loc 1 486 13
 1256 00cc 08301BE5 		ldr	r3, [fp, #-8]
 1257 00d0 2C2083E5 		str	r2, [r3, #44]
 487:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R11=Src->R11;
 1258              		.loc 1 487 17
 1259 00d4 0C301BE5 		ldr	r3, [fp, #-12]
 1260 00d8 302093E5 		ldr	r2, [r3, #48]
 1261              		.loc 1 487 13
 1262 00dc 08301BE5 		ldr	r3, [fp, #-8]
 1263 00e0 302083E5 		str	r2, [r3, #48]
 488:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->SP=Src->SP;
 1264              		.loc 1 488 16
 1265 00e4 0C301BE5 		ldr	r3, [fp, #-12]
 1266 00e8 342093E5 		ldr	r2, [r3, #52]
 1267              		.loc 1 488 12
 1268 00ec 08301BE5 		ldr	r3, [fp, #-8]
 1269 00f0 342083E5 		str	r2, [r3, #52]
 489:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->LR=Src->LR;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 32


 1270              		.loc 1 489 16
 1271 00f4 0C301BE5 		ldr	r3, [fp, #-12]
 1272 00f8 382093E5 		ldr	r2, [r3, #56]
 1273              		.loc 1 489 12
 1274 00fc 08301BE5 		ldr	r3, [fp, #-8]
 1275 0100 382083E5 		str	r2, [r3, #56]
 490:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->PC=Src->PC;
 1276              		.loc 1 490 16
 1277 0104 0C301BE5 		ldr	r3, [fp, #-12]
 1278 0108 3C2093E5 		ldr	r2, [r3, #60]
 1279              		.loc 1 490 12
 1280 010c 08301BE5 		ldr	r3, [fp, #-8]
 1281 0110 3C2083E5 		str	r2, [r3, #60]
 491:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1282              		.loc 1 491 1
 1283 0114 00F020E3 		nop
 1284 0118 00D08BE2 		add	sp, fp, #0
 1285              		.cfi_def_cfa_register 13
 1286              		@ sp needed
 1287 011c 04B09DE4 		ldr	fp, [sp], #4
 1288              		.cfi_restore 11
 1289              		.cfi_def_cfa_offset 0
 1290 0120 1EFF2FE1 		bx	lr
 1291              		.cfi_endproc
 1292              	.LFE18:
 1294              		.section	.text.__RME_Thd_Cop_Init,"ax",%progbits
 1295              		.align	2
 1296              		.global	__RME_Thd_Cop_Init
 1297              		.syntax unified
 1298              		.arm
 1300              	__RME_Thd_Cop_Init:
 1301              	.LFB19:
 492:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Copy *******************************************/
 493:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 494:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Init ************************************************
 495:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the coprocessor register set for the thread.
 496:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register struct to help initialize the coprocessor.
 497:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Cop_Struct* Cop_Reg - The register set content generated.
 498:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 499:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 500:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Init(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 501:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1302              		.loc 1 501 1
 1303              		.cfi_startproc
 1304              		@ args = 0, pretend = 0, frame = 8
 1305              		@ frame_needed = 1, uses_anonymous_args = 0
 1306              		@ link register save eliminated.
 1307 0000 04B02DE5 		str	fp, [sp, #-4]!
 1308              		.cfi_def_cfa_offset 4
 1309              		.cfi_offset 11, -4
 1310 0004 00B08DE2 		add	fp, sp, #0
 1311              		.cfi_def_cfa_register 11
 1312 0008 0CD04DE2 		sub	sp, sp, #12
 1313 000c 08000BE5 		str	r0, [fp, #-8]
 1314 0010 0C100BE5 		str	r1, [fp, #-12]
 502:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Empty function, return immediately. The FPU contents is not predictable */
 503:../../Source/Platform/A7A/rme_platform_a7a.c **** }
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 33


 1315              		.loc 1 503 1
 1316 0014 00F020E3 		nop
 1317 0018 00D08BE2 		add	sp, fp, #0
 1318              		.cfi_def_cfa_register 13
 1319              		@ sp needed
 1320 001c 04B09DE4 		ldr	fp, [sp], #4
 1321              		.cfi_restore 11
 1322              		.cfi_def_cfa_offset 0
 1323 0020 1EFF2FE1 		bx	lr
 1324              		.cfi_endproc
 1325              	.LFE19:
 1327              		.section	.text.__RME_Thd_Cop_Save,"ax",%progbits
 1328              		.align	2
 1329              		.global	__RME_Thd_Cop_Save
 1330              		.syntax unified
 1331              		.arm
 1333              	__RME_Thd_Cop_Save:
 1334              	.LFB20:
 504:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Reg_Init ***************************************/
 505:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 506:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Save ************************************************
 507:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the co-op register sets. This operation is flexible - If the
 508:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save its context.
 509:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 510:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 511:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 512:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 513:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 514:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Save(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 515:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1335              		.loc 1 515 1
 1336              		.cfi_startproc
 1337              		@ args = 0, pretend = 0, frame = 8
 1338              		@ frame_needed = 1, uses_anonymous_args = 0
 1339              		@ link register save eliminated.
 1340 0000 04B02DE5 		str	fp, [sp, #-4]!
 1341              		.cfi_def_cfa_offset 4
 1342              		.cfi_offset 11, -4
 1343 0004 00B08DE2 		add	fp, sp, #0
 1344              		.cfi_def_cfa_register 11
 1345 0008 0CD04DE2 		sub	sp, sp, #12
 1346 000c 08000BE5 		str	r0, [fp, #-8]
 1347 0010 0C100BE5 		str	r1, [fp, #-12]
 516:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 517:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1348              		.loc 1 517 1
 1349 0014 00F020E3 		nop
 1350 0018 00D08BE2 		add	sp, fp, #0
 1351              		.cfi_def_cfa_register 13
 1352              		@ sp needed
 1353 001c 04B09DE4 		ldr	fp, [sp], #4
 1354              		.cfi_restore 11
 1355              		.cfi_def_cfa_offset 0
 1356 0020 1EFF2FE1 		bx	lr
 1357              		.cfi_endproc
 1358              	.LFE20:
 1360              		.section	.text.__RME_Thd_Cop_Restore,"ax",%progbits
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 34


 1361              		.align	2
 1362              		.global	__RME_Thd_Cop_Restore
 1363              		.syntax unified
 1364              		.arm
 1366              	__RME_Thd_Cop_Restore:
 1367              	.LFB21:
 518:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Save *******************************************/
 519:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 520:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Restore *********************************************
 521:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the co-op register sets. This operation is flexible - If the
 522:../../Source/Platform/A7A/rme_platform_a7a.c ****               FPU is not used, we do not restore its context.
 523:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 524:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 525:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 526:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 527:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 528:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Restore(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 529:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1368              		.loc 1 529 1
 1369              		.cfi_startproc
 1370              		@ args = 0, pretend = 0, frame = 8
 1371              		@ frame_needed = 1, uses_anonymous_args = 0
 1372              		@ link register save eliminated.
 1373 0000 04B02DE5 		str	fp, [sp, #-4]!
 1374              		.cfi_def_cfa_offset 4
 1375              		.cfi_offset 11, -4
 1376 0004 00B08DE2 		add	fp, sp, #0
 1377              		.cfi_def_cfa_register 11
 1378 0008 0CD04DE2 		sub	sp, sp, #12
 1379 000c 08000BE5 		str	r0, [fp, #-8]
 1380 0010 0C100BE5 		str	r1, [fp, #-12]
 530:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 531:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1381              		.loc 1 531 1
 1382 0014 00F020E3 		nop
 1383 0018 00D08BE2 		add	sp, fp, #0
 1384              		.cfi_def_cfa_register 13
 1385              		@ sp needed
 1386 001c 04B09DE4 		ldr	fp, [sp], #4
 1387              		.cfi_restore 11
 1388              		.cfi_def_cfa_offset 0
 1389 0020 1EFF2FE1 		bx	lr
 1390              		.cfi_endproc
 1391              	.LFE21:
 1393              		.section	.text.__RME_Inv_Reg_Save,"ax",%progbits
 1394              		.align	2
 1395              		.global	__RME_Inv_Reg_Save
 1396              		.syntax unified
 1397              		.arm
 1399              	__RME_Inv_Reg_Save:
 1400              	.LFB22:
 532:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Restore ****************************************/
 533:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 534:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Save ************************************************
 535:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the necessary registers on invocation for returning. Only the
 536:../../Source/Platform/A7A/rme_platform_a7a.c ****               registers that will influence program control flow will be saved.
 537:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 35


 538:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Iret_Struct* Ret - The invocation return register context.
 539:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 540:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 541:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Save(struct RME_Iret_Struct* Ret, struct RME_Reg_Struct* Reg)
 542:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1401              		.loc 1 542 1
 1402              		.cfi_startproc
 1403              		@ args = 0, pretend = 0, frame = 8
 1404              		@ frame_needed = 1, uses_anonymous_args = 0
 1405              		@ link register save eliminated.
 1406 0000 04B02DE5 		str	fp, [sp, #-4]!
 1407              		.cfi_def_cfa_offset 4
 1408              		.cfi_offset 11, -4
 1409 0004 00B08DE2 		add	fp, sp, #0
 1410              		.cfi_def_cfa_register 11
 1411 0008 0CD04DE2 		sub	sp, sp, #12
 1412 000c 08000BE5 		str	r0, [fp, #-8]
 1413 0010 0C100BE5 		str	r1, [fp, #-12]
 543:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->PC=Reg->PC;
 1414              		.loc 1 543 16
 1415 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1416 0018 3C2093E5 		ldr	r2, [r3, #60]
 1417              		.loc 1 543 12
 1418 001c 08301BE5 		ldr	r3, [fp, #-8]
 1419 0020 002083E5 		str	r2, [r3]
 544:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->SP=Reg->SP;
 1420              		.loc 1 544 16
 1421 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1422 0028 342093E5 		ldr	r2, [r3, #52]
 1423              		.loc 1 544 12
 1424 002c 08301BE5 		ldr	r3, [fp, #-8]
 1425 0030 042083E5 		str	r2, [r3, #4]
 545:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1426              		.loc 1 545 1
 1427 0034 00F020E3 		nop
 1428 0038 00D08BE2 		add	sp, fp, #0
 1429              		.cfi_def_cfa_register 13
 1430              		@ sp needed
 1431 003c 04B09DE4 		ldr	fp, [sp], #4
 1432              		.cfi_restore 11
 1433              		.cfi_def_cfa_offset 0
 1434 0040 1EFF2FE1 		bx	lr
 1435              		.cfi_endproc
 1436              	.LFE22:
 1438              		.section	.text.__RME_Inv_Reg_Restore,"ax",%progbits
 1439              		.align	2
 1440              		.global	__RME_Inv_Reg_Restore
 1441              		.syntax unified
 1442              		.arm
 1444              	__RME_Inv_Reg_Restore:
 1445              	.LFB23:
 546:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Save *******************************************/
 547:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 548:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Restore *********************************************
 549:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the necessary registers for returning from an invocation.
 550:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Iret_Struct* Ret - The invocation return register context.
 551:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 36


 552:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 553:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 554:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Restore(struct RME_Reg_Struct* Reg, struct RME_Iret_Struct* Ret)
 555:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1446              		.loc 1 555 1
 1447              		.cfi_startproc
 1448              		@ args = 0, pretend = 0, frame = 8
 1449              		@ frame_needed = 1, uses_anonymous_args = 0
 1450              		@ link register save eliminated.
 1451 0000 04B02DE5 		str	fp, [sp, #-4]!
 1452              		.cfi_def_cfa_offset 4
 1453              		.cfi_offset 11, -4
 1454 0004 00B08DE2 		add	fp, sp, #0
 1455              		.cfi_def_cfa_register 11
 1456 0008 0CD04DE2 		sub	sp, sp, #12
 1457 000c 08000BE5 		str	r0, [fp, #-8]
 1458 0010 0C100BE5 		str	r1, [fp, #-12]
 556:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Ret->PC;
 1459              		.loc 1 556 16
 1460 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1461 0018 002093E5 		ldr	r2, [r3]
 1462              		.loc 1 556 12
 1463 001c 08301BE5 		ldr	r3, [fp, #-8]
 1464 0020 3C2083E5 		str	r2, [r3, #60]
 557:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Ret->SP;
 1465              		.loc 1 557 16
 1466 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1467 0028 042093E5 		ldr	r2, [r3, #4]
 1468              		.loc 1 557 12
 1469 002c 08301BE5 		ldr	r3, [fp, #-8]
 1470 0030 342083E5 		str	r2, [r3, #52]
 558:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1471              		.loc 1 558 1
 1472 0034 00F020E3 		nop
 1473 0038 00D08BE2 		add	sp, fp, #0
 1474              		.cfi_def_cfa_register 13
 1475              		@ sp needed
 1476 003c 04B09DE4 		ldr	fp, [sp], #4
 1477              		.cfi_restore 11
 1478              		.cfi_def_cfa_offset 0
 1479 0040 1EFF2FE1 		bx	lr
 1480              		.cfi_endproc
 1481              	.LFE23:
 1483              		.section	.text.__RME_Inv_Retval_Set,"ax",%progbits
 1484              		.align	2
 1485              		.global	__RME_Inv_Retval_Set
 1486              		.syntax unified
 1487              		.arm
 1489              	__RME_Inv_Retval_Set:
 1490              	.LFB24:
 559:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Restore ****************************************/
 560:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 561:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Retval_Set **********************************************
 562:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 563:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 564:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 565:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 37


 566:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 567:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Retval_Set(struct RME_Reg_Struct* Reg,
 568:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ret_t Retval)
 569:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1491              		.loc 1 569 1
 1492              		.cfi_startproc
 1493              		@ args = 0, pretend = 0, frame = 8
 1494              		@ frame_needed = 1, uses_anonymous_args = 0
 1495              		@ link register save eliminated.
 1496 0000 04B02DE5 		str	fp, [sp, #-4]!
 1497              		.cfi_def_cfa_offset 4
 1498              		.cfi_offset 11, -4
 1499 0004 00B08DE2 		add	fp, sp, #0
 1500              		.cfi_def_cfa_register 11
 1501 0008 0CD04DE2 		sub	sp, sp, #12
 1502 000c 08000BE5 		str	r0, [fp, #-8]
 1503 0010 0C100BE5 		str	r1, [fp, #-12]
 570:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R5=(rme_ptr_t)Retval;
 1504              		.loc 1 570 13
 1505 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1506              		.loc 1 570 12
 1507 0018 08301BE5 		ldr	r3, [fp, #-8]
 1508 001c 182083E5 		str	r2, [r3, #24]
 571:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1509              		.loc 1 571 1
 1510 0020 00F020E3 		nop
 1511 0024 00D08BE2 		add	sp, fp, #0
 1512              		.cfi_def_cfa_register 13
 1513              		@ sp needed
 1514 0028 04B09DE4 		ldr	fp, [sp], #4
 1515              		.cfi_restore 11
 1516              		.cfi_def_cfa_offset 0
 1517 002c 1EFF2FE1 		bx	lr
 1518              		.cfi_endproc
 1519              	.LFE24:
 1521              		.section	.text.__RME_Set_Inv_Retval,"ax",%progbits
 1522              		.align	2
 1523              		.global	__RME_Set_Inv_Retval
 1524              		.syntax unified
 1525              		.arm
 1527              	__RME_Set_Inv_Retval:
 1528              	.LFB25:
 572:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Retval_Set *****************************************/
 573:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 574:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Inv_Retval **********************************************
 575:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 576:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 577:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 578:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 579:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 580:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Set_Inv_Retval(struct RME_Reg_Struct* Reg, rme_ret_t Retval)
 581:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1529              		.loc 1 581 1
 1530              		.cfi_startproc
 1531              		@ args = 0, pretend = 0, frame = 8
 1532              		@ frame_needed = 1, uses_anonymous_args = 0
 1533              		@ link register save eliminated.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 38


 1534 0000 04B02DE5 		str	fp, [sp, #-4]!
 1535              		.cfi_def_cfa_offset 4
 1536              		.cfi_offset 11, -4
 1537 0004 00B08DE2 		add	fp, sp, #0
 1538              		.cfi_def_cfa_register 11
 1539 0008 0CD04DE2 		sub	sp, sp, #12
 1540 000c 08000BE5 		str	r0, [fp, #-8]
 1541 0010 0C100BE5 		str	r1, [fp, #-12]
 582:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R1=(rme_ptr_t)Retval;
 1542              		.loc 1 582 13
 1543 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1544              		.loc 1 582 12
 1545 0018 08301BE5 		ldr	r3, [fp, #-8]
 1546 001c 082083E5 		str	r2, [r3, #8]
 583:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1547              		.loc 1 583 1
 1548 0020 00F020E3 		nop
 1549 0024 00D08BE2 		add	sp, fp, #0
 1550              		.cfi_def_cfa_register 13
 1551              		@ sp needed
 1552 0028 04B09DE4 		ldr	fp, [sp], #4
 1553              		.cfi_restore 11
 1554              		.cfi_def_cfa_offset 0
 1555 002c 1EFF2FE1 		bx	lr
 1556              		.cfi_endproc
 1557              	.LFE25:
 1559              		.section	.text.__RME_Thd_Cop_Swap,"ax",%progbits
 1560              		.align	2
 1561              		.global	__RME_Thd_Cop_Swap
 1562              		.syntax unified
 1563              		.arm
 1565              	__RME_Thd_Cop_Swap:
 1566              	.LFB26:
 584:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Inv_Retval *****************************************/
 585:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 586:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Swap ************************************************
 587:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Swap the cop register sets. This operation is flexible - If the
 588:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save/restore its context.
 589:../../Source/Platform/A7A/rme_platform_a7a.c ****               We do not need to turn off lazy stacking, because even if a fault
 590:../../Source/Platform/A7A/rme_platform_a7a.c ****               occurs, it (1) tails the execution of activates the will get dropped
 591:../../Source/Platform/A7A/rme_platform_a7a.c ****               by our handler deliberately and will not cause wrong attribution.
 592:../../Source/Platform/A7A/rme_platform_a7a.c ****               They can be alternatively disabled as well if you wish.
 593:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Attr_New - The attribute of the context to switch to.
 594:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_New - Whether the context to switch to is a
 595:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 596:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_New - The context to switch to.
 597:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Attr_Cur - The attribute of the context to switch from.
 598:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_Cur - Whether the context to switch from is a
 599:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 600:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_Cur - The context to switch from.
 601:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : void* Cop_New - The coprocessor context to switch to.
 602:../../Source/Platform/A7A/rme_platform_a7a.c ****               void* Cop_Cur - The coprocessor context to switch from.
 603:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 604:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 605:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Swap(rme_ptr_t Attr_New,
 606:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_New,
 607:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_New,
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 39


 608:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_New,
 609:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Attr_Cur,
 610:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_Cur,
 611:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_Cur,
 612:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_Cur)
 613:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1567              		.loc 1 613 1
 1568              		.cfi_startproc
 1569              		@ args = 16, pretend = 0, frame = 16
 1570              		@ frame_needed = 1, uses_anonymous_args = 0
 1571              		@ link register save eliminated.
 1572 0000 04B02DE5 		str	fp, [sp, #-4]!
 1573              		.cfi_def_cfa_offset 4
 1574              		.cfi_offset 11, -4
 1575 0004 00B08DE2 		add	fp, sp, #0
 1576              		.cfi_def_cfa_register 11
 1577 0008 14D04DE2 		sub	sp, sp, #20
 1578 000c 08000BE5 		str	r0, [fp, #-8]
 1579 0010 0C100BE5 		str	r1, [fp, #-12]
 1580 0014 10200BE5 		str	r2, [fp, #-16]
 1581 0018 14300BE5 		str	r3, [fp, #-20]
 614:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 615:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1582              		.loc 1 615 1
 1583 001c 00F020E3 		nop
 1584 0020 00D08BE2 		add	sp, fp, #0
 1585              		.cfi_def_cfa_register 13
 1586              		@ sp needed
 1587 0024 04B09DE4 		ldr	fp, [sp], #4
 1588              		.cfi_restore 11
 1589              		.cfi_def_cfa_offset 0
 1590 0028 1EFF2FE1 		bx	lr
 1591              		.cfi_endproc
 1592              	.LFE26:
 1594              		.section	.text.__RME_Kfn_Handler,"ax",%progbits
 1595              		.align	2
 1596              		.global	__RME_Kfn_Handler
 1597              		.syntax unified
 1598              		.arm
 1600              	__RME_Kfn_Handler:
 1601              	.LFB27:
 616:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Swap *******************************************/
 617:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 618:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Kern_Func_Handler *******************************************
 619:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Handle kernel function calls.
 620:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The current register set.
 621:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Func_ID - The function ID.
 622:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Sub_ID - The sub function ID.
 623:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param1 - The first parameter.
 624:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param2 - The second parameter.
 625:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 626:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - The value that the function returned.
 627:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 628:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Kfn_Handler(struct RME_Cap_Cpt* Cpt,
 629:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            struct RME_Reg_Struct* Reg,
 630:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Func_ID,
 631:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Sub_ID,
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 40


 632:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param1,
 633:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param2)
 634:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1602              		.loc 1 634 1
 1603              		.cfi_startproc
 1604              		@ args = 8, pretend = 0, frame = 16
 1605              		@ frame_needed = 1, uses_anonymous_args = 0
 1606              		@ link register save eliminated.
 1607 0000 04B02DE5 		str	fp, [sp, #-4]!
 1608              		.cfi_def_cfa_offset 4
 1609              		.cfi_offset 11, -4
 1610 0004 00B08DE2 		add	fp, sp, #0
 1611              		.cfi_def_cfa_register 11
 1612 0008 14D04DE2 		sub	sp, sp, #20
 1613 000c 08000BE5 		str	r0, [fp, #-8]
 1614 0010 0C100BE5 		str	r1, [fp, #-12]
 1615 0014 10200BE5 		str	r2, [fp, #-16]
 1616 0018 14300BE5 		str	r3, [fp, #-20]
 635:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Currently no kernel function implemented */
 636:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 1617              		.loc 1 636 12
 1618 001c 0030A0E3 		mov	r3, #0
 637:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1619              		.loc 1 637 1
 1620 0020 0300A0E1 		mov	r0, r3
 1621 0024 00D08BE2 		add	sp, fp, #0
 1622              		.cfi_def_cfa_register 13
 1623              		@ sp needed
 1624 0028 04B09DE4 		ldr	fp, [sp], #4
 1625              		.cfi_restore 11
 1626              		.cfi_def_cfa_offset 0
 1627 002c 1EFF2FE1 		bx	lr
 1628              		.cfi_endproc
 1629              	.LFE27:
 1631              		.section	.text.__RME_A7A_Undefined_Handler,"ax",%progbits
 1632              		.align	2
 1633              		.global	__RME_A7A_Undefined_Handler
 1634              		.syntax unified
 1635              		.arm
 1637              	__RME_A7A_Undefined_Handler:
 1638              	.LFB28:
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Kern_Func_Handler **************************************/
 639:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 640:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Undefined_Handler **************************************
 641:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The undefined instruction vector handler of RME.
 642:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 643:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 644:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 645:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 646:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Undefined_Handler(struct RME_Reg_Struct* Reg)
 647:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1639              		.loc 1 647 1
 1640              		.cfi_startproc
 1641              		@ args = 0, pretend = 0, frame = 8
 1642              		@ frame_needed = 1, uses_anonymous_args = 0
 1643              		@ link register save eliminated.
 1644 0000 04B02DE5 		str	fp, [sp, #-4]!
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 41


 1645              		.cfi_def_cfa_offset 4
 1646              		.cfi_offset 11, -4
 1647 0004 00B08DE2 		add	fp, sp, #0
 1648              		.cfi_def_cfa_register 11
 1649 0008 0CD04DE2 		sub	sp, sp, #12
 1650 000c 08000BE5 		str	r0, [fp, #-8]
 1651              	.L45:
 648:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle undefined instructions now */
 649:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1652              		.loc 1 649 7
 1653 0010 FEFFFFEA 		b	.L45
 1654              		.cfi_endproc
 1655              	.LFE28:
 1657              		.section	.text.__RME_A7A_Prefetch_Abort_Handler,"ax",%progbits
 1658              		.align	2
 1659              		.global	__RME_A7A_Prefetch_Abort_Handler
 1660              		.syntax unified
 1661              		.arm
 1663              	__RME_A7A_Prefetch_Abort_Handler:
 1664              	.LFB29:
 650:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 651:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Undefined_Handler *********************************/
 652:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 653:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Prefetch_Abort_Handler *********************************
 654:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The prefetch abort vector handler of RME.
 655:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 656:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 657:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 658:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 659:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Prefetch_Abort_Handler(struct RME_Reg_Struct* Reg)
 660:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1665              		.loc 1 660 1
 1666              		.cfi_startproc
 1667              		@ args = 0, pretend = 0, frame = 8
 1668              		@ frame_needed = 1, uses_anonymous_args = 0
 1669              		@ link register save eliminated.
 1670 0000 04B02DE5 		str	fp, [sp, #-4]!
 1671              		.cfi_def_cfa_offset 4
 1672              		.cfi_offset 11, -4
 1673 0004 00B08DE2 		add	fp, sp, #0
 1674              		.cfi_def_cfa_register 11
 1675 0008 0CD04DE2 		sub	sp, sp, #12
 1676 000c 08000BE5 		str	r0, [fp, #-8]
 1677              	.L47:
 661:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle prefetch aborts now */
 662:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1678              		.loc 1 662 7
 1679 0010 FEFFFFEA 		b	.L47
 1680              		.cfi_endproc
 1681              	.LFE29:
 1683              		.section	.text.__RME_A7A_Data_Abort_Handler,"ax",%progbits
 1684              		.align	2
 1685              		.global	__RME_A7A_Data_Abort_Handler
 1686              		.syntax unified
 1687              		.arm
 1689              	__RME_A7A_Data_Abort_Handler:
 1690              	.LFB30:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 42


 663:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Prefetch_Abort_Handler ****************************/
 665:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 666:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Data_Abort_Handler *************************************
 667:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The data abort vector handler of RME.
 668:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 669:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 670:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 671:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 672:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Data_Abort_Handler(struct RME_Reg_Struct* Reg)
 673:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1691              		.loc 1 673 1
 1692              		.cfi_startproc
 1693              		@ args = 0, pretend = 0, frame = 8
 1694              		@ frame_needed = 1, uses_anonymous_args = 0
 1695              		@ link register save eliminated.
 1696 0000 04B02DE5 		str	fp, [sp, #-4]!
 1697              		.cfi_def_cfa_offset 4
 1698              		.cfi_offset 11, -4
 1699 0004 00B08DE2 		add	fp, sp, #0
 1700              		.cfi_def_cfa_register 11
 1701 0008 0CD04DE2 		sub	sp, sp, #12
 1702 000c 08000BE5 		str	r0, [fp, #-8]
 1703              	.L49:
 674:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle data aborts now */
 675:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1704              		.loc 1 675 7
 1705 0010 FEFFFFEA 		b	.L49
 1706              		.cfi_endproc
 1707              	.LFE30:
 1709              		.section	.rodata
 1710 012f 00       		.align	2
 1711              	.LC11:
 1712 0130 0D0A494E 		.ascii	"\015\012INT_ID is \000"
 1712      545F4944 
 1712      20697320 
 1712      00
 1713 013d 000000   		.align	2
 1714              	.LC12:
 1715 0140 32323A30 		.ascii	"22:03:27\000"
 1715      333A3237 
 1715      00
 1716 0149 000000   		.align	2
 1717              	.LC13:
 1718 014c 46656220 		.ascii	"Feb 27 2025\000"
 1718      32372032 
 1718      30323500 
 1719              		.align	2
 1720              	.LC14:
 1721 0158 2E2E2F2E 		.ascii	"../../Source/Platform/A7A/rme_platform_a7a.c\000"
 1721      2E2F536F 
 1721      75726365 
 1721      2F506C61 
 1721      74666F72 
 1722              		.section	.text.__RME_A7A_IRQ_Handler,"ax",%progbits
 1723              		.align	2
 1724              		.global	__RME_A7A_IRQ_Handler
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 43


 1725              		.syntax unified
 1726              		.arm
 1728              	__RME_A7A_IRQ_Handler:
 1729              	.LFB31:
 676:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 677:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Data_Abort_Handler ********************************/
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 679:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_IRQ_Handler ********************************************
 680:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The regular interrupt vector handler of RME.
 681:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 682:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 683:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 684:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 685:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_IRQ_Handler(struct RME_Reg_Struct* Reg)
 686:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1730              		.loc 1 686 1
 1731              		.cfi_startproc
 1732              		@ args = 0, pretend = 0, frame = 16
 1733              		@ frame_needed = 1, uses_anonymous_args = 0
 1734 0000 00482DE9 		push	{fp, lr}
 1735              		.cfi_def_cfa_offset 8
 1736              		.cfi_offset 11, -8
 1737              		.cfi_offset 14, -4
 1738 0004 04B08DE2 		add	fp, sp, #4
 1739              		.cfi_def_cfa 11, 4
 1740 0008 10D04DE2 		sub	sp, sp, #16
 1741 000c 10000BE5 		str	r0, [fp, #-16]
 687:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t Int_ID;
 688:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t CPUID;
 689:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 690:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* What interrupt is this? */
 691:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID=RME_A7A_GICC_IAR;
 1742              		.loc 1 691 9
 1743 0010 433FA0E3 		mov	r3, #268
 1744 0014 F0384FE3 		movt	r3, 63728
 1745              		.loc 1 691 8
 1746 0018 003093E5 		ldr	r3, [r3]
 1747 001c 08300BE5 		str	r3, [fp, #-8]
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 1748              		.loc 1 692 7
 1749 0020 08301BE5 		ldr	r3, [fp, #-8]
 1750 0024 2335A0E1 		lsr	r3, r3, #10
 1751 0028 0C300BE5 		str	r3, [fp, #-12]
 693:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID&=0x3FFU;
 1752              		.loc 1 693 8
 1753 002c 08301BE5 		ldr	r3, [fp, #-8]
 1754 0030 5330E9E7 		ubfx	r3, r3, #0, #10
 1755 0034 08300BE5 		str	r3, [fp, #-8]
 694:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nINT_ID is ");
 1756              		.loc 1 694 5
 1757 0038 000000E3 		movw	r0, #:lower16:.LC11
 1758 003c 000040E3 		movt	r0, #:upper16:.LC11
 1759 0040 FEFFFFEB 		bl	RME_Str_Print
 695:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_I(Int_ID);
 1760              		.loc 1 695 2
 1761 0044 08301BE5 		ldr	r3, [fp, #-8]
 1762 0048 0300A0E1 		mov	r0, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 44


 1763 004c FEFFFFEB 		bl	RME_Int_Print
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 697:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 698:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a spurious interrupt? (Can't be 1022 because GICv1 don't have group1) */
 699:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(Int_ID!=1022);
 1764              		.loc 1 699 2
 1765 0050 08301BE5 		ldr	r3, [fp, #-8]
 1766 0054 FE2300E3 		movw	r2, #1022
 1767 0058 020053E1 		cmp	r3, r2
 1768 005c 0800001A 		bne	.L51
 1769              		.loc 1 699 2 is_stmt 0 discriminator 1
 1770 0060 003000E3 		movw	r3, #:lower16:.LC12
 1771 0064 003040E3 		movt	r3, #:upper16:.LC12
 1772 0068 002000E3 		movw	r2, #:lower16:.LC13
 1773 006c 002040E3 		movt	r2, #:upper16:.LC13
 1774 0070 BB1200E3 		movw	r1, #699
 1775 0074 000000E3 		movw	r0, #:lower16:.LC14
 1776 0078 000040E3 		movt	r0, #:upper16:.LC14
 1777 007c FEFFFFEB 		bl	RME_Log
 1778              	.L52:
 1779              		.loc 1 699 2
 1780 0080 FEFFFFEA 		b	.L52
 1781              	.L51:
 700:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1782              		.loc 1 700 4 is_stmt 1
 1783 0084 08301BE5 		ldr	r3, [fp, #-8]
 1784 0088 FF2300E3 		movw	r2, #1023
 1785 008c 020053E1 		cmp	r3, r2
 1786 0090 3D00000A 		beq	.L61
 701:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 702:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 703:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 704:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 705:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is is an timer interrupt? (we know that it is at 29) */
 706:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==29)
 1787              		.loc 1 706 4
 1788 0094 08301BE5 		ldr	r3, [fp, #-8]
 1789 0098 1D0053E3 		cmp	r3, #29
 1790 009c 0B00001A 		bne	.L55
 707:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 708:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Clear the interrupt flag */
 709:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    RME_A7A_PTWD_PTISR=0;
 1791              		.loc 1 709 6
 1792 00a0 0C3600E3 		movw	r3, #1548
 1793 00a4 F0384FE3 		movt	r3, 63728
 1794              		.loc 1 709 24
 1795 00a8 0020A0E3 		mov	r2, #0
 1796 00ac 002083E5 		str	r2, [r3]
 710:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 711:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    _RME_Tim_Handler(Reg,1);
 1797              		.loc 1 711 6
 1798 00b0 0110A0E3 		mov	r1, #1
 1799 00b4 10001BE5 		ldr	r0, [fp, #-16]
 1800 00b8 FEFFFFEB 		bl	_RME_Tim_Handler
 712:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Send interrupt to all other processors to notify them about this */
 713:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 714:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 45


 1801              		.loc 1 714 3
 1802 00bc 113EA0E3 		mov	r3, #272
 1803 00c0 F0384FE3 		movt	r3, 63728
 1804              		.loc 1 714 20
 1805 00c4 08201BE5 		ldr	r2, [fp, #-8]
 1806 00c8 002083E5 		str	r2, [r3]
 715:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1807              		.loc 1 715 3
 1808 00cc 2F0000EA 		b	.L50
 1809              	.L55:
 716:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 717:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 718:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 719:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 720:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 721:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 722:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 723:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a coprocessor timer interrupt? (We use interrupt number 0 for these) */
 725:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==0)
 1810              		.loc 1 725 4
 1811 00d0 08301BE5 		ldr	r3, [fp, #-8]
 1812 00d4 000053E3 		cmp	r3, #0
 1813 00d8 1000001A 		bne	.L56
 726:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 727:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* This must have originated from interface 0 */
 728:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(CPUID==0);
 1814              		.loc 1 728 3
 1815 00dc 0C301BE5 		ldr	r3, [fp, #-12]
 1816 00e0 000053E3 		cmp	r3, #0
 1817 00e4 0800000A 		beq	.L57
 1818              		.loc 1 728 3 is_stmt 0 discriminator 1
 1819 00e8 003000E3 		movw	r3, #:lower16:.LC12
 1820 00ec 003040E3 		movt	r3, #:upper16:.LC12
 1821 00f0 002000E3 		movw	r2, #:lower16:.LC13
 1822 00f4 002040E3 		movt	r2, #:upper16:.LC13
 1823 00f8 B61FA0E3 		mov	r1, #728
 1824 00fc 000000E3 		movw	r0, #:lower16:.LC14
 1825 0100 000040E3 		movt	r0, #:upper16:.LC14
 1826 0104 FEFFFFEB 		bl	RME_Log
 1827              	.L58:
 1828              		.loc 1 728 3
 1829 0108 FEFFFFEA 		b	.L58
 1830              	.L57:
 729:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 730:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 731:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 1831              		.loc 1 731 3 is_stmt 1
 1832 010c 113EA0E3 		mov	r3, #272
 1833 0110 F0384FE3 		movt	r3, 63728
 1834              		.loc 1 731 20
 1835 0114 08201BE5 		ldr	r2, [fp, #-8]
 1836 0118 002083E5 		str	r2, [r3]
 732:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1837              		.loc 1 732 3
 1838 011c 1B0000EA 		b	.L50
 1839              	.L56:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 46


 733:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 734:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 735:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an other IPI? (All the rest of the SGIs are these) */
 736:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID<16)
 1840              		.loc 1 736 4
 1841 0120 08301BE5 		ldr	r3, [fp, #-8]
 1842 0124 0F0053E3 		cmp	r3, #15
 1843 0128 0B00008A 		bhi	.L59
 737:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 738:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_A7A_SGI_Handler(Reg,CPUID,Int_ID);
 1844              		.loc 1 738 3
 1845 012c 08201BE5 		ldr	r2, [fp, #-8]
 1846 0130 0C101BE5 		ldr	r1, [fp, #-12]
 1847 0134 10001BE5 		ldr	r0, [fp, #-16]
 1848 0138 FEFFFFEB 		bl	_RME_A7A_SGI_Handler
 739:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 740:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=(CPUID<<10U)|Int_ID;
 1849              		.loc 1 740 27
 1850 013c 0C301BE5 		ldr	r3, [fp, #-12]
 1851 0140 0315A0E1 		lsl	r1, r3, #10
 1852              		.loc 1 740 3
 1853 0144 113EA0E3 		mov	r3, #272
 1854 0148 F0384FE3 		movt	r3, 63728
 1855              		.loc 1 740 33
 1856 014c 08201BE5 		ldr	r2, [fp, #-8]
 1857 0150 022081E1 		orr	r2, r1, r2
 1858              		.loc 1 740 20
 1859 0154 002083E5 		str	r2, [r3]
 741:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1860              		.loc 1 741 3
 1861 0158 0C0000EA 		b	.L50
 1862              	.L59:
 742:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 743:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 744:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an casual interrupt? */
 745:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(CPUID==0);
 1863              		.loc 1 745 2
 1864 015c 0C301BE5 		ldr	r3, [fp, #-12]
 1865 0160 000053E3 		cmp	r3, #0
 1866 0164 0900000A 		beq	.L50
 1867              		.loc 1 745 2 is_stmt 0 discriminator 1
 1868 0168 003000E3 		movw	r3, #:lower16:.LC12
 1869 016c 003040E3 		movt	r3, #:upper16:.LC12
 1870 0170 002000E3 		movw	r2, #:lower16:.LC13
 1871 0174 002040E3 		movt	r2, #:upper16:.LC13
 1872 0178 E91200E3 		movw	r1, #745
 1873 017c 000000E3 		movw	r0, #:lower16:.LC14
 1874 0180 000040E3 		movt	r0, #:upper16:.LC14
 1875 0184 FEFFFFEB 		bl	RME_Log
 1876              	.L60:
 1877              		.loc 1 745 2
 1878 0188 FEFFFFEA 		b	.L60
 1879              	.L61:
 701:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 1880              		.loc 1 701 3 is_stmt 1
 1881 018c 00F020E3 		nop
 1882              	.L50:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 47


 746:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 747:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1883              		.loc 1 747 1
 1884 0190 04D04BE2 		sub	sp, fp, #4
 1885              		.cfi_def_cfa 13, 8
 1886              		@ sp needed
 1887 0194 0088BDE8 		pop	{fp, pc}
 1888              		.cfi_endproc
 1889              	.LFE31:
 1891              		.section	.text._RME_A7A_SGI_Handler,"ax",%progbits
 1892              		.align	2
 1893              		.global	_RME_A7A_SGI_Handler
 1894              		.syntax unified
 1895              		.arm
 1897              	_RME_A7A_SGI_Handler:
 1898              	.LFB32:
 748:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_IRQ_Handler ***************************************/
 749:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 750:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:_RME_A7A_SGI_Handler *********************************************
 751:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for x64.
 752:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 753:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t CPUID - The ID of the sender CPU.
 754:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_ID - The ID of the SGI.
 755:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 756:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 757:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 758:../../Source/Platform/A7A/rme_platform_a7a.c **** void _RME_A7A_SGI_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t CPUID, rme_ptr_t Int_ID)
 759:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1899              		.loc 1 759 1
 1900              		.cfi_startproc
 1901              		@ args = 0, pretend = 0, frame = 16
 1902              		@ frame_needed = 1, uses_anonymous_args = 0
 1903              		@ link register save eliminated.
 1904 0000 04B02DE5 		str	fp, [sp, #-4]!
 1905              		.cfi_def_cfa_offset 4
 1906              		.cfi_offset 11, -4
 1907 0004 00B08DE2 		add	fp, sp, #0
 1908              		.cfi_def_cfa_register 11
 1909 0008 14D04DE2 		sub	sp, sp, #20
 1910 000c 08000BE5 		str	r0, [fp, #-8]
 1911 0010 0C100BE5 		str	r1, [fp, #-12]
 1912 0014 10200BE5 		str	r2, [fp, #-16]
 760:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Not handling SGIs */
 761:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return;
 1913              		.loc 1 761 2
 1914 0018 00F020E3 		nop
 762:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1915              		.loc 1 762 1
 1916 001c 00D08BE2 		add	sp, fp, #0
 1917              		.cfi_def_cfa_register 13
 1918              		@ sp needed
 1919 0020 04B09DE4 		ldr	fp, [sp], #4
 1920              		.cfi_restore 11
 1921              		.cfi_def_cfa_offset 0
 1922 0024 1EFF2FE1 		bx	lr
 1923              		.cfi_endproc
 1924              	.LFE32:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 48


 1926              		.section	.rodata
 1927 0185 000000   		.align	2
 1928              	.LC15:
 1929 0188 0D0A4765 		.ascii	"\015\012General int:\000"
 1929      6E657261 
 1929      6C20696E 
 1929      743A00
 1930              		.section	.text.__RME_A7A_Generic_Handler,"ax",%progbits
 1931              		.align	2
 1932              		.global	__RME_A7A_Generic_Handler
 1933              		.syntax unified
 1934              		.arm
 1936              	__RME_A7A_Generic_Handler:
 1937              	.LFB33:
 763:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:_RME_A7A_SGI_Handler ****************************************/
 764:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 765:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Generic_Handler ****************************************
 766:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for Cortex-A (ARMv7).
 767:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 768:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_Num - The interrupt number.
 769:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 770:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 771:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 772:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Generic_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t Int_Num)
 773:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1938              		.loc 1 773 1
 1939              		.cfi_startproc
 1940              		@ args = 0, pretend = 0, frame = 8
 1941              		@ frame_needed = 1, uses_anonymous_args = 0
 1942 0000 00482DE9 		push	{fp, lr}
 1943              		.cfi_def_cfa_offset 8
 1944              		.cfi_offset 11, -8
 1945              		.cfi_offset 14, -4
 1946 0004 04B08DE2 		add	fp, sp, #4
 1947              		.cfi_def_cfa 11, 4
 1948 0008 08D04DE2 		sub	sp, sp, #8
 1949 000c 08000BE5 		str	r0, [fp, #-8]
 1950 0010 0C100BE5 		str	r1, [fp, #-12]
 774:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 775:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nGeneral int:");
 1951              		.loc 1 775 5
 1952 0014 000000E3 		movw	r0, #:lower16:.LC15
 1953 0018 000040E3 		movt	r0, #:upper16:.LC15
 1954 001c FEFFFFEB 		bl	RME_Str_Print
 776:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 1955              		.loc 1 776 5
 1956 0020 0C301BE5 		ldr	r3, [fp, #-12]
 1957 0024 0300A0E1 		mov	r0, r3
 1958 0028 FEFFFFEB 		bl	RME_Int_Print
 777:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 778:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling anything */
 779:../../Source/Platform/A7A/rme_platform_a7a.c ****     switch(Int_Num)
 780:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 781:../../Source/Platform/A7A/rme_platform_a7a.c ****         default:break;
 1959              		.loc 1 781 17
 1960 002c 00F020E3 		nop
 782:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 49


 783:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Remember to perform context switch after any kernel sends */
 784:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1961              		.loc 1 784 1
 1962 0030 00F020E3 		nop
 1963 0034 04D04BE2 		sub	sp, fp, #4
 1964              		.cfi_def_cfa 13, 8
 1965              		@ sp needed
 1966 0038 0088BDE8 		pop	{fp, pc}
 1967              		.cfi_endproc
 1968              	.LFE33:
 1970              		.section	.text.__RME_Pgt_Set,"ax",%progbits
 1971              		.align	2
 1972              		.global	__RME_Pgt_Set
 1973              		.syntax unified
 1974              		.arm
 1976              	__RME_Pgt_Set:
 1977              	.LFB34:
 785:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Generic_Handler ***********************************/
 786:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 787:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Set ***************************************************
 788:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the processor's page table.
 789:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Pgt - The virtual address of the page table.
 790:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 791:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 792:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 793:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Pgt_Set(struct RME_Cap_Pgt* Pgt)
 794:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1978              		.loc 1 794 1
 1979              		.cfi_startproc
 1980              		@ args = 0, pretend = 0, frame = 8
 1981              		@ frame_needed = 1, uses_anonymous_args = 0
 1982              		@ link register save eliminated.
 1983 0000 04B02DE5 		str	fp, [sp, #-4]!
 1984              		.cfi_def_cfa_offset 4
 1985              		.cfi_offset 11, -4
 1986 0004 00B08DE2 		add	fp, sp, #0
 1987              		.cfi_def_cfa_register 11
 1988 0008 0CD04DE2 		sub	sp, sp, #12
 1989 000c 08000BE5 		str	r0, [fp, #-8]
 795:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 796:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1990              		.loc 1 796 1
 1991 0010 00F020E3 		nop
 1992 0014 00D08BE2 		add	sp, fp, #0
 1993              		.cfi_def_cfa_register 13
 1994              		@ sp needed
 1995 0018 04B09DE4 		ldr	fp, [sp], #4
 1996              		.cfi_restore 11
 1997              		.cfi_def_cfa_offset 0
 1998 001c 1EFF2FE1 		bx	lr
 1999              		.cfi_endproc
 2000              	.LFE34:
 2002              		.section	.text.__RME_Pgt_Check,"ax",%progbits
 2003              		.align	2
 2004              		.global	__RME_Pgt_Check
 2005              		.syntax unified
 2006              		.arm
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 50


 2008              	__RME_Pgt_Check:
 2009              	.LFB35:
 797:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Set **********************************************/
 798:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 799:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Check *************************************************
 800:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table parameters are feasible, according to the
 801:../../Source/Platform/A7A/rme_platform_a7a.c ****               parameters. This is only used in page table creation. The following
 802:../../Source/Platform/A7A/rme_platform_a7a.c ****               restrictions apply:
 803:../../Source/Platform/A7A/rme_platform_a7a.c **** 1. PAE is not supported by this port: if you have that much memory, use the Cortex-A
 804:../../Source/Platform/A7A/rme_platform_a7a.c ****    64-bit port instead. The translation scheme here is always:
 805:../../Source/Platform/A7A/rme_platform_a7a.c ****    4GB VA -> {Supersection, Section} -> {Large Page, Small Page}.
 806:../../Source/Platform/A7A/rme_platform_a7a.c ****    The supersection is described in ARMv7-AR ARM as optional, but is implemented on
 807:../../Source/Platform/A7A/rme_platform_a7a.c ****    all known ARMv7-A processors.
 808:../../Source/Platform/A7A/rme_platform_a7a.c ****    We only user TTBR0 here and we set value N to 0 as always. Using TTBR1 is nonsense
 809:../../Source/Platform/A7A/rme_platform_a7a.c ****    in our context, as it gives little benefit.
 810:../../Source/Platform/A7A/rme_platform_a7a.c **** 2. The ARM page tables have idiosyncrasy that allow two page size mappings to exist
 811:../../Source/Platform/A7A/rme_platform_a7a.c ****    in the same page table.
 812:../../Source/Platform/A7A/rme_platform_a7a.c **** 3. ARM page tables use repetition when it comes to supersections and large pages.
 813:../../Source/Platform/A7A/rme_platform_a7a.c ****    This breaks our numorder-sizeorder assumption, and for this reason, we do not
 814:../../Source/Platform/A7A/rme_platform_a7a.c ****    support these two page sizes explicitly. These two sizes are supported by kernel
 815:../../Source/Platform/A7A/rme_platform_a7a.c ****    functions instead, and the kernel function always maps/unmaps the pages as needed
 816:../../Source/Platform/A7A/rme_platform_a7a.c ****    without checking for any permissions; this can be viewed as a hack, and require
 817:../../Source/Platform/A7A/rme_platform_a7a.c ****    some caution when we are mapping pages in.
 818:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Start_Addr - The start mapping address.
 819:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Top - The top-level flag,
 820:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Size_Order - The size order of the page directory.
 821:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Num_Order - The number order of the page directory.
 822:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address of the page directory.
 823:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 824:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 825:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 826:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Check(rme_ptr_t Start_Addr, rme_ptr_t Is_Top,
 827:../../Source/Platform/A7A/rme_platform_a7a.c ****                             rme_ptr_t Size_Order, rme_ptr_t Num_Order, rme_ptr_t Vaddr)
 828:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2010              		.loc 1 828 1
 2011              		.cfi_startproc
 2012              		@ args = 4, pretend = 0, frame = 16
 2013              		@ frame_needed = 1, uses_anonymous_args = 0
 2014              		@ link register save eliminated.
 2015 0000 04B02DE5 		str	fp, [sp, #-4]!
 2016              		.cfi_def_cfa_offset 4
 2017              		.cfi_offset 11, -4
 2018 0004 00B08DE2 		add	fp, sp, #0
 2019              		.cfi_def_cfa_register 11
 2020 0008 14D04DE2 		sub	sp, sp, #20
 2021 000c 08000BE5 		str	r0, [fp, #-8]
 2022 0010 0C100BE5 		str	r1, [fp, #-12]
 2023 0014 10200BE5 		str	r2, [fp, #-16]
 2024 0018 14300BE5 		str	r3, [fp, #-20]
 829:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Top-level - 1MB pages, 4096 entries, 16kB alignment */
 830:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Is_Top!=0)
 2025              		.loc 1 830 7
 2026 001c 0C301BE5 		ldr	r3, [fp, #-12]
 2027 0020 000053E3 		cmp	r3, #0
 2028 0024 0F00000A 		beq	.L67
 831:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 832:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_1M)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 51


 2029              		.loc 1 832 11
 2030 0028 10301BE5 		ldr	r3, [fp, #-16]
 2031 002c 140053E3 		cmp	r3, #20
 2032 0030 0100000A 		beq	.L68
 833:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2033              		.loc 1 833 20
 2034 0034 0030E0E3 		mvn	r3, #0
 2035 0038 1B0000EA 		b	.L69
 2036              	.L68:
 834:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_4K)
 2037              		.loc 1 834 11
 2038 003c 14301BE5 		ldr	r3, [fp, #-20]
 2039 0040 0C0053E3 		cmp	r3, #12
 2040 0044 0100000A 		beq	.L70
 835:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2041              		.loc 1 835 20
 2042 0048 0030E0E3 		mvn	r3, #0
 2043 004c 160000EA 		b	.L69
 2044              	.L70:
 836:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 2045              		.loc 1 836 18
 2046 0050 04309BE5 		ldr	r3, [fp, #4]
 2047 0054 5330EDE7 		ubfx	r3, r3, #0, #14
 2048              		.loc 1 836 11
 2049 0058 000053E3 		cmp	r3, #0
 2050 005c 1100000A 		beq	.L71
 837:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2051              		.loc 1 837 20
 2052 0060 0030E0E3 		mvn	r3, #0
 2053 0064 100000EA 		b	.L69
 2054              	.L67:
 838:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 839:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Second-level - 1MB pages, 4096 entries, 16kB alignment */
 840:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 841:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 842:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_64K)
 2055              		.loc 1 842 11
 2056 0068 10301BE5 		ldr	r3, [fp, #-16]
 2057 006c 100053E3 		cmp	r3, #16
 2058 0070 0100000A 		beq	.L72
 843:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2059              		.loc 1 843 20
 2060 0074 0030E0E3 		mvn	r3, #0
 2061 0078 0B0000EA 		b	.L69
 2062              	.L72:
 844:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_1K)
 2063              		.loc 1 844 11
 2064 007c 14301BE5 		ldr	r3, [fp, #-20]
 2065 0080 0A0053E3 		cmp	r3, #10
 2066 0084 0100000A 		beq	.L73
 845:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2067              		.loc 1 845 20
 2068 0088 0030E0E3 		mvn	r3, #0
 2069 008c 060000EA 		b	.L69
 2070              	.L73:
 846:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FF)!=0)
 2071              		.loc 1 846 18
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 52


 2072 0090 04309BE5 		ldr	r3, [fp, #4]
 2073 0094 5330E9E7 		ubfx	r3, r3, #0, #10
 2074              		.loc 1 846 11
 2075 0098 000053E3 		cmp	r3, #0
 2076 009c 0100000A 		beq	.L71
 847:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2077              		.loc 1 847 20
 2078 00a0 0030E0E3 		mvn	r3, #0
 2079 00a4 000000EA 		b	.L69
 2080              	.L71:
 848:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 849:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 850:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2081              		.loc 1 850 12
 2082 00a8 0030A0E3 		mov	r3, #0
 2083              	.L69:
 851:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2084              		.loc 1 851 1
 2085 00ac 0300A0E1 		mov	r0, r3
 2086 00b0 00D08BE2 		add	sp, fp, #0
 2087              		.cfi_def_cfa_register 13
 2088              		@ sp needed
 2089 00b4 04B09DE4 		ldr	fp, [sp], #4
 2090              		.cfi_restore 11
 2091              		.cfi_def_cfa_offset 0
 2092 00b8 1EFF2FE1 		bx	lr
 2093              		.cfi_endproc
 2094              	.LFE35:
 2096              		.section	.text.__RME_Pgt_Init,"ax",%progbits
 2097              		.align	2
 2098              		.global	__RME_Pgt_Init
 2099              		.syntax unified
 2100              		.arm
 2102              	__RME_Pgt_Init:
 2103              	.LFB36:
 852:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Check ********************************************/
 853:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 854:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Init **************************************************
 855:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the page table data structure, according to the capability.
 856:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
 857:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 858:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 859:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 860:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Init(struct RME_Cap_Pgt* Pgt_Op)
 861:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2104              		.loc 1 861 1
 2105              		.cfi_startproc
 2106              		@ args = 0, pretend = 0, frame = 8
 2107              		@ frame_needed = 1, uses_anonymous_args = 0
 2108              		@ link register save eliminated.
 2109 0000 04B02DE5 		str	fp, [sp, #-4]!
 2110              		.cfi_def_cfa_offset 4
 2111              		.cfi_offset 11, -4
 2112 0004 00B08DE2 		add	fp, sp, #0
 2113              		.cfi_def_cfa_register 11
 2114 0008 0CD04DE2 		sub	sp, sp, #12
 2115 000c 08000BE5 		str	r0, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 53


 862:../../Source/Platform/A7A/rme_platform_a7a.c **** #if 0
 863:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_cnt_t Count;
 864:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
 865:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 866:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the actual table */
 867:../../Source/Platform/A7A/rme_platform_a7a.c ****     //Ptr=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 868:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 869:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a first-level or a second-level? */
 870:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)
 871:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 872:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* First-level - clean up the first half and map in the second half as kernel entries */
 873:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<2048;Count++)
 874:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 875:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 876:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(;Count<4096;Count++)
 877:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 878:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 879:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 880:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 881:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Second-level - just clean it up to all zeros */
 882:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<256;Count++)
 883:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 884:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 885:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 886:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PGREG_POS(Ptr).Parent_Cnt=0;
 887:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PGREG_POS(Ptr).ASID_Child_Cnt=0;
 888:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 889:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 890:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2116              		.loc 1 890 1
 2117 0010 00F020E3 		nop
 2118 0014 0300A0E1 		mov	r0, r3
 2119 0018 00D08BE2 		add	sp, fp, #0
 2120              		.cfi_def_cfa_register 13
 2121              		@ sp needed
 2122 001c 04B09DE4 		ldr	fp, [sp], #4
 2123              		.cfi_restore 11
 2124              		.cfi_def_cfa_offset 0
 2125 0020 1EFF2FE1 		bx	lr
 2126              		.cfi_endproc
 2127              	.LFE36:
 2129              		.section	.text.__RME_Pgt_Del_Check,"ax",%progbits
 2130              		.align	2
 2131              		.global	__RME_Pgt_Del_Check
 2132              		.syntax unified
 2133              		.arm
 2135              	__RME_Pgt_Del_Check:
 2136              	.LFB37:
 891:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Init *********************************************/
 892:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 893:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Del_Check *********************************************
 894:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table can be deleted.
 895:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt Pgt_Op* - The capability to the page table to operate on.
 896:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 897:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If can be deleted, 0; else RME_ERR_HAL_FAIL.
 898:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 899:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Del_Check(struct RME_Cap_Pgt* Pgt_Op)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 54


 900:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2137              		.loc 1 900 1
 2138              		.cfi_startproc
 2139              		@ args = 0, pretend = 0, frame = 8
 2140              		@ frame_needed = 1, uses_anonymous_args = 0
 2141              		@ link register save eliminated.
 2142 0000 04B02DE5 		str	fp, [sp, #-4]!
 2143              		.cfi_def_cfa_offset 4
 2144              		.cfi_offset 11, -4
 2145 0004 00B08DE2 		add	fp, sp, #0
 2146              		.cfi_def_cfa_register 11
 2147 0008 0CD04DE2 		sub	sp, sp, #12
 2148 000c 08000BE5 		str	r0, [fp, #-8]
 901:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 902:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 903:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 904:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 905:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 906:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* See if this is a top-level. If yes, we only check child count */
 907:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)
 908:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 909:../../Source/Platform/A7A/rme_platform_a7a.c ****     	if(((RME_A7A_PGREG_POS(Table).ASID_Child_Cnt)&0xFFFF)==0)
 910:../../Source/Platform/A7A/rme_platform_a7a.c ****     		return 0;
 911:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 912:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 913:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 914:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Must be the second-level. We only check parent count because it can't have child anymore */
 915:../../Source/Platform/A7A/rme_platform_a7a.c ****     	if(RME_A7A_PGREG_POS(Table).Parent_Cnt==0)
 916:../../Source/Platform/A7A/rme_platform_a7a.c ****     	        return 0;
 917:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 918:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 919:../../Source/Platform/A7A/rme_platform_a7a.c ****     return RME_ERR_HAL_FAIL;
 920:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
 921:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2149              		.loc 1 921 1
 2150 0010 00F020E3 		nop
 2151 0014 0300A0E1 		mov	r0, r3
 2152 0018 00D08BE2 		add	sp, fp, #0
 2153              		.cfi_def_cfa_register 13
 2154              		@ sp needed
 2155 001c 04B09DE4 		ldr	fp, [sp], #4
 2156              		.cfi_restore 11
 2157              		.cfi_def_cfa_offset 0
 2158 0020 1EFF2FE1 		bx	lr
 2159              		.cfi_endproc
 2160              	.LFE37:
 2162              		.section	.text.__RME_Pgt_Page_Map,"ax",%progbits
 2163              		.align	2
 2164              		.global	__RME_Pgt_Page_Map
 2165              		.syntax unified
 2166              		.arm
 2168              	__RME_Pgt_Page_Map:
 2169              	.LFB38:
 922:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Del_Check ****************************************/
 923:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 924:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Map **********************************************
 925:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page into the page table. This architecture requires that the
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 55


 926:../../Source/Platform/A7A/rme_platform_a7a.c ****               mapping is always at least readable. The Cortex-A's super pages are
 927:../../Source/Platform/A7A/rme_platform_a7a.c ****               not supported by this. Also, RME dfoesn't use the domain model; all
 928:../../Source/Platform/A7A/rme_platform_a7a.c ****               page tables' domain is always client, which means that the permission
 929:../../Source/Platform/A7A/rme_platform_a7a.c ****               flags will always be checked.
 930:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The cap ability to the page table to operate on.
 931:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Paddr - The physical address to map to. If we are unmapping,
 932:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 this have no effect.
 933:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
 934:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard page attributes. Need to translate
 935:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 them into architecture specific page table's settings.
 936:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 937:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 938:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 939:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Map(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Paddr, rme_ptr_t Pos, rme_ptr_t 
 940:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2170              		.loc 1 940 1
 2171              		.cfi_startproc
 2172              		@ args = 0, pretend = 0, frame = 16
 2173              		@ frame_needed = 1, uses_anonymous_args = 0
 2174              		@ link register save eliminated.
 2175 0000 04B02DE5 		str	fp, [sp, #-4]!
 2176              		.cfi_def_cfa_offset 4
 2177              		.cfi_offset 11, -4
 2178 0004 00B08DE2 		add	fp, sp, #0
 2179              		.cfi_def_cfa_register 11
 2180 0008 14D04DE2 		sub	sp, sp, #20
 2181 000c 08000BE5 		str	r0, [fp, #-8]
 2182 0010 0C100BE5 		str	r1, [fp, #-12]
 2183 0014 10200BE5 		str	r2, [fp, #-16]
 2184 0018 14300BE5 		str	r3, [fp, #-20]
 941:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 942:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 943:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
 944:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 945:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
 946:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 947:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 948:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 949:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
 950:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
 951:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 952:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 953:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
 954:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 955:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 956:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate flags */
 957:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)==RME_PGT_SIZE_4K)
 958:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_1M_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_1M_RME2NAT(Flags);
 959:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 960:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_4K_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_4K_RME2NAT(Flags);
 961:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 962:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in */
 963:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),0,A7A_Flags)==0)
 964:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 965:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 966:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 967:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 56


 968:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2185              		.loc 1 968 1
 2186 001c 00F020E3 		nop
 2187 0020 0300A0E1 		mov	r0, r3
 2188 0024 00D08BE2 		add	sp, fp, #0
 2189              		.cfi_def_cfa_register 13
 2190              		@ sp needed
 2191 0028 04B09DE4 		ldr	fp, [sp], #4
 2192              		.cfi_restore 11
 2193              		.cfi_def_cfa_offset 0
 2194 002c 1EFF2FE1 		bx	lr
 2195              		.cfi_endproc
 2196              	.LFE38:
 2198              		.section	.text.__RME_Pgt_Page_Unmap,"ax",%progbits
 2199              		.align	2
 2200              		.global	__RME_Pgt_Page_Unmap
 2201              		.syntax unified
 2202              		.arm
 2204              	__RME_Pgt_Page_Unmap:
 2205              	.LFB39:
 969:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Map *****************************************/
 970:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 971:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Unmap ********************************************
 972:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page from the page table.
 973:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
 974:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
 975:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 976:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 977:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 978:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Unmap(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos)
 979:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2206              		.loc 1 979 1
 2207              		.cfi_startproc
 2208              		@ args = 0, pretend = 0, frame = 8
 2209              		@ frame_needed = 1, uses_anonymous_args = 0
 2210              		@ link register save eliminated.
 2211 0000 04B02DE5 		str	fp, [sp, #-4]!
 2212              		.cfi_def_cfa_offset 4
 2213              		.cfi_offset 11, -4
 2214 0004 00B08DE2 		add	fp, sp, #0
 2215              		.cfi_def_cfa_register 11
 2216 0008 0CD04DE2 		sub	sp, sp, #12
 2217 000c 08000BE5 		str	r0, [fp, #-8]
 2218 0010 0C100BE5 		str	r1, [fp, #-12]
 980:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 981:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 982:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
 983:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 984:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to unmap the kernel space on the top level? */
 985:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
 986:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 987:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 988:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
 989:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 990:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 991:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that there is something */
 992:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 57


 993:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Temp==0)
 994:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 995:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 996:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a page directory? We cannot unmap page directories like this */
 997:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)!=RME_PGT_SIZE_4K)&&((Temp&RME_A7A_MMU_1M_PGDIR_PRES
 998:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 999:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1000:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to unmap it. Use CAS just in case */
1001:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),Temp,0)==0)
1002:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1003:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1004:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1005:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1006:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2219              		.loc 1 1006 1
 2220 0014 00F020E3 		nop
 2221 0018 0300A0E1 		mov	r0, r3
 2222 001c 00D08BE2 		add	sp, fp, #0
 2223              		.cfi_def_cfa_register 13
 2224              		@ sp needed
 2225 0020 04B09DE4 		ldr	fp, [sp], #4
 2226              		.cfi_restore 11
 2227              		.cfi_def_cfa_offset 0
 2228 0024 1EFF2FE1 		bx	lr
 2229              		.cfi_endproc
 2230              	.LFE39:
 2232              		.section	.text.__RME_Pgt_Pgdir_Map,"ax",%progbits
 2233              		.align	2
 2234              		.global	__RME_Pgt_Pgdir_Map
 2235              		.syntax unified
 2236              		.arm
 2238              	__RME_Pgt_Pgdir_Map:
 2239              	.LFB40:
1007:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Unmap ***************************************/
1008:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1009:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Map *********************************************
1010:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page directory into the page table. It is surprising that
1011:../../Source/Platform/A7A/rme_platform_a7a.c ****               Cortex-A (ARMv7) does not support any kind of page directory flags.
1012:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Parent - The parent page table.
1013:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Cap_Pgt* Pgt_Child - The child page table.
1014:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the destination page table.
1015:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard flags for the child page table.
1016:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1017:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1018:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1019:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Pgdir_Map(struct RME_Cap_Pgt* Pgt_Parent, rme_ptr_t Pos,
1020:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 struct RME_Cap_Pgt* Pgt_Child, rme_ptr_t Flags)
1021:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2240              		.loc 1 1021 1
 2241              		.cfi_startproc
 2242              		@ args = 0, pretend = 0, frame = 16
 2243              		@ frame_needed = 1, uses_anonymous_args = 0
 2244              		@ link register save eliminated.
 2245 0000 04B02DE5 		str	fp, [sp, #-4]!
 2246              		.cfi_def_cfa_offset 4
 2247              		.cfi_offset 11, -4
 2248 0004 00B08DE2 		add	fp, sp, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 58


 2249              		.cfi_def_cfa_register 11
 2250 0008 14D04DE2 		sub	sp, sp, #20
 2251 000c 08000BE5 		str	r0, [fp, #-8]
 2252 0010 0C100BE5 		str	r1, [fp, #-12]
 2253 0014 10200BE5 		str	r2, [fp, #-16]
 2254 0018 14300BE5 		str	r3, [fp, #-20]
1022:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
1023:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Parent_Table;
1024:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Child_Table;
1025:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1026:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1027:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
1028:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
1029:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1030:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1031:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1032:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Parent->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
1033:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1034:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1035:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1036:../../Source/Platform/A7A/rme_platform_a7a.c ****     Parent_Table=RME_CAP_GETOBJ(Pgt_Parent,rme_ptr_t*);
1037:../../Source/Platform/A7A/rme_platform_a7a.c ****     Child_Table=RME_CAP_GETOBJ(Pgt_Child,rme_ptr_t*);
1038:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1039:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate the content */
1040:../../Source/Platform/A7A/rme_platform_a7a.c ****     A7A_Flags=RME_A7A_MMU_1M_PGT_ADDR(RME_A7A_VA2PA(Child_Table))|RME_A7A_MMU_1M_PGDIR_PRESENT;
1041:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1042:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in - may need to increase some count */
1043:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Parent_Table[Pos]),0,A7A_Flags)==0)
1044:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1045:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1046:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Map complete, increase reference count for both page tables */
1047:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_FETCH_ADD((rme_ptr_t*)&(RME_A7A_PGREG_POS(Child_Table).Parent_Cnt),1);
1048:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_FETCH_ADD((rme_ptr_t*)&(RME_A7A_PGREG_POS(Parent_Table).ASID_Child_Cnt),1);
1049:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1050:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1051:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1052:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2255              		.loc 1 1052 1
 2256 001c 00F020E3 		nop
 2257 0020 0300A0E1 		mov	r0, r3
 2258 0024 00D08BE2 		add	sp, fp, #0
 2259              		.cfi_def_cfa_register 13
 2260              		@ sp needed
 2261 0028 04B09DE4 		ldr	fp, [sp], #4
 2262              		.cfi_restore 11
 2263              		.cfi_def_cfa_offset 0
 2264 002c 1EFF2FE1 		bx	lr
 2265              		.cfi_endproc
 2266              	.LFE40:
 2268              		.section	.text.__RME_Pgt_Pgdir_Unmap,"ax",%progbits
 2269              		.align	2
 2270              		.global	__RME_Pgt_Pgdir_Unmap
 2271              		.syntax unified
 2272              		.arm
 2274              	__RME_Pgt_Pgdir_Unmap:
 2275              	.LFB41:
1053:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Map ****************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 59


1054:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1055:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Unmap *******************************************
1056:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page directory from the page table.
1057:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to operate on.
1058:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1059:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1060:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1061:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1062:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Pgt_Pgdir_Unmap(struct RME_Cap_Pgt* Pgt_Parent,rme_ptr_t Pos,
1063:../../Source/Platform/A7A/rme_platform_a7a.c ****                                                struct RME_Cap_Pgt* Pgt_Child)
1064:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2276              		.loc 1 1064 1
 2277              		.cfi_startproc
 2278              		@ args = 0, pretend = 0, frame = 16
 2279              		@ frame_needed = 1, uses_anonymous_args = 0
 2280              		@ link register save eliminated.
 2281 0000 04B02DE5 		str	fp, [sp, #-4]!
 2282              		.cfi_def_cfa_offset 4
 2283              		.cfi_offset 11, -4
 2284 0004 00B08DE2 		add	fp, sp, #0
 2285              		.cfi_def_cfa_register 11
 2286 0008 14D04DE2 		sub	sp, sp, #20
 2287 000c 08000BE5 		str	r0, [fp, #-8]
 2288 0010 0C100BE5 		str	r1, [fp, #-12]
 2289 0014 10200BE5 		str	r2, [fp, #-16]
1065:../../Source/Platform/A7A/rme_platform_a7a.c ****    return 0;
 2290              		.loc 1 1065 11
 2291 0018 0030A0E3 		mov	r3, #0
1066:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2292              		.loc 1 1066 1
 2293 001c 0300A0E1 		mov	r0, r3
 2294 0020 00D08BE2 		add	sp, fp, #0
 2295              		.cfi_def_cfa_register 13
 2296              		@ sp needed
 2297 0024 04B09DE4 		ldr	fp, [sp], #4
 2298              		.cfi_restore 11
 2299              		.cfi_def_cfa_offset 0
 2300 0028 1EFF2FE1 		bx	lr
 2301              		.cfi_endproc
 2302              	.LFE41:
 2304              		.section	.text.__RME_Pgt_Lookup,"ax",%progbits
 2305              		.align	2
 2306              		.global	__RME_Pgt_Lookup
 2307              		.syntax unified
 2308              		.arm
 2310              	__RME_Pgt_Lookup:
 2311              	.LFB42:
1067:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Unmap **************************************/
1068:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1069:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Lookup **************************************************
1070:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Lookup a page entry in a page directory. This function cannot deal
1071:../../Source/Platform/A7A/rme_platform_a7a.c ****               with large pages and super sections - it is the user's responsibility
1072:../../Source/Platform/A7A/rme_platform_a7a.c ****               to avoid this.
1073:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page directory to lookup.
1074:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position to look up.
1075:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Paddr - The physical address of the page.
1076:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 60


1077:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1078:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1079:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Lookup(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos, rme_ptr_t* Paddr, rme_ptr_t* 
1080:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2312              		.loc 1 1080 1
 2313              		.cfi_startproc
 2314              		@ args = 0, pretend = 0, frame = 16
 2315              		@ frame_needed = 1, uses_anonymous_args = 0
 2316              		@ link register save eliminated.
 2317 0000 04B02DE5 		str	fp, [sp, #-4]!
 2318              		.cfi_def_cfa_offset 4
 2319              		.cfi_offset 11, -4
 2320 0004 00B08DE2 		add	fp, sp, #0
 2321              		.cfi_def_cfa_register 11
 2322 0008 14D04DE2 		sub	sp, sp, #20
 2323 000c 08000BE5 		str	r0, [fp, #-8]
 2324 0010 0C100BE5 		str	r1, [fp, #-12]
 2325 0014 10200BE5 		str	r2, [fp, #-16]
 2326 0018 14300BE5 		str	r3, [fp, #-20]
1081:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
1082:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1083:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1084:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1085:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if the position is within the range of this page table */
1086:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pos>>RME_PGT_NUMORD(Pgt_Op->Size_Num_Order))!=0)
1087:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1088:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1089:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1090:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
1091:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the position requested - atomic read */
1092:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
1093:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1094:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start lookup - is this a terminal page, or? */
1095:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)==RME_PGT_SIZE_4K)
1096:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1097:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)==0)
1098:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
1099:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1100:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a small page. Return the physical address and flags */
1101:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
1102:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
1103:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
1104:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
1105:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1106:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1107:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1108:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)==0)
1109:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
1110:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1111:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a section. Return the physical address and flags */
1112:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
1113:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
1114:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
1115:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
1116:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1117:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1118:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 61


1119:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1120:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2327              		.loc 1 1120 1
 2328 001c 00F020E3 		nop
 2329 0020 0300A0E1 		mov	r0, r3
 2330 0024 00D08BE2 		add	sp, fp, #0
 2331              		.cfi_def_cfa_register 13
 2332              		@ sp needed
 2333 0028 04B09DE4 		ldr	fp, [sp], #4
 2334              		.cfi_restore 11
 2335              		.cfi_def_cfa_offset 0
 2336 002c 1EFF2FE1 		bx	lr
 2337              		.cfi_endproc
 2338              	.LFE42:
 2340              		.section	.text.__RME_Pgt_Walk,"ax",%progbits
 2341              		.align	2
 2342              		.global	__RME_Pgt_Walk
 2343              		.syntax unified
 2344              		.arm
 2346              	__RME_Pgt_Walk:
 2347              	.LFB43:
1121:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Lookup *******************************************/
1122:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1123:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Walk **************************************************
1124:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Walking function for the page table. This function just does page
1125:../../Source/Platform/A7A/rme_platform_a7a.c ****               table lookups. The page table that is being walked must be the top-
1126:../../Source/Platform/A7A/rme_platform_a7a.c ****               level page table. The output values are optional; only pass in pointers
1127:../../Source/Platform/A7A/rme_platform_a7a.c ****               when you need that value.
1128:../../Source/Platform/A7A/rme_platform_a7a.c ****               Walking kernel page tables is prohibited.
1129:../../Source/Platform/A7A/rme_platform_a7a.c ****               This function also does not support large pages and super sections.
1130:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to walk.
1131:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address to look up.
1132:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Pgt - The pointer to the page table level.
1133:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Map_Vaddr - The virtual address that starts mapping.
1134:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Paddr - The physical address of the page.
1135:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Size_Order - The size order of the page.
1136:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Num_Order - The entry order of the page.
1137:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1138:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1139:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1140:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Walk(struct RME_Cap_Pgt* Pgt_Op, 
1141:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t Vaddr, 
1142:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t* Pgt,
1143:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Map_Vaddr, 
1144:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Paddr, 
1145:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Size_Order, 
1146:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Num_Order, 
1147:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Flags)
1148:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2348              		.loc 1 1148 1
 2349              		.cfi_startproc
 2350              		@ args = 16, pretend = 0, frame = 16
 2351              		@ frame_needed = 1, uses_anonymous_args = 0
 2352              		@ link register save eliminated.
 2353 0000 04B02DE5 		str	fp, [sp, #-4]!
 2354              		.cfi_def_cfa_offset 4
 2355              		.cfi_offset 11, -4
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 62


 2356 0004 00B08DE2 		add	fp, sp, #0
 2357              		.cfi_def_cfa_register 11
 2358 0008 14D04DE2 		sub	sp, sp, #20
 2359 000c 08000BE5 		str	r0, [fp, #-8]
 2360 0010 0C100BE5 		str	r1, [fp, #-12]
 2361 0014 10200BE5 		str	r2, [fp, #-16]
 2362 0018 14300BE5 		str	r3, [fp, #-20]
1149:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
1150:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1151:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Pos;
1152:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1153:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1154:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if this is the top-level page table */
1155:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr)&RME_PGT_TOP)==0)
1156:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1157:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1158:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we attempting a kernel or non-canonical lookup? If yes, stop immediately */
1159:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Vaddr>=0x7FFFFFFFU)
1160:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1161:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1162:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table and start lookup - We know that there are only 2 levels */
1163:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op, rme_ptr_t*);
1164:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1165:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Calculate where is the entry - always 0 to 4096 */
1166:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Pos=(Vaddr>>RME_PGT_SIZE_1M)&0xFFFU;
1167:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Atomic read */
1168:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Temp=Table[Pos];
1169:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1170:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Find the position of the entry - Is there a page, a directory, or nothing? */
1171:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)!=0)
1172:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1173:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* There is a 1M page */
1174:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Pgt!=0)
1175:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Pgt=(rme_ptr_t)Table;
1176:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Map_Vaddr!=0)
1177:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_1M);
1178:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Paddr!=0)
1179:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
1180:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Size_Order!=0)
1181:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Size_Order=RME_PGT_SIZE_1M;
1182:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Num_Order!=0)
1183:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Num_Order=RME_PGT_NUM_4K;
1184:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Flags!=0)
1185:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
1186:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1187:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1188:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else if((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0)
1189:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1190:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Table=(rme_ptr_t*)RME_A7A_PA2VA(RME_A7A_MMU_1M_PGT_ADDR(Temp));
1191:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Calculate where is the entry - always 0 to 256 */
1192:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Pos=(Vaddr>>RME_PGT_SIZE_4K)&0xFFU;
1193:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Atomic read */
1194:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Temp=Table[Pos];
1195:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1196:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)!=0)
1197:../../Source/Platform/A7A/rme_platform_a7a.c **** 		{
1198:../../Source/Platform/A7A/rme_platform_a7a.c **** 			/* There is a 4k page */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 63


1199:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Pgt!=0)
1200:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Pgt=(rme_ptr_t)Table;
1201:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Map_Vaddr!=0)
1202:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_4K);
1203:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Paddr!=0)
1204:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
1205:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Size_Order!=0)
1206:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Size_Order=RME_PGT_SIZE_4K;
1207:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Num_Order!=0)
1208:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Num_Order=RME_PGT_NUM_256;
1209:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Flags!=0)
1210:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
1211:../../Source/Platform/A7A/rme_platform_a7a.c **** 		}
1212:../../Source/Platform/A7A/rme_platform_a7a.c **** 		else
1213:../../Source/Platform/A7A/rme_platform_a7a.c **** 			return RME_ERR_HAL_FAIL;
1214:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1215:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else
1216:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return RME_ERR_HAL_FAIL;
1217:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1218:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1219:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1220:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2363              		.loc 1 1220 1
 2364 001c 00F020E3 		nop
 2365 0020 0300A0E1 		mov	r0, r3
 2366 0024 00D08BE2 		add	sp, fp, #0
 2367              		.cfi_def_cfa_register 13
 2368              		@ sp needed
 2369 0028 04B09DE4 		ldr	fp, [sp], #4
 2370              		.cfi_restore 11
 2371              		.cfi_def_cfa_offset 0
 2372 002c 1EFF2FE1 		bx	lr
 2373              		.cfi_endproc
 2374              	.LFE43:
 2376              		.text
 2377              	.Letext0:
 2378              		.file 2 "../../Include/Platform/A7A/rme_platform_a7a.h"
 2379              		.file 3 "../../Include/Kernel/rme_kernel.h"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 64


DEFINED SYMBOLS
                            *ABS*:00000000 rme_platform_a7a.c
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:21     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:24     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 RME_A7A_Pgflg_1M_RME2NAT
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:58     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:61     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 RME_A7A_Pgflg_4K_RME2NAT
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:95     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:98     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 RME_A7A_Pgflg_1M_NAT2RME
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:116    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:119    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 RME_A7A_Pgflg_4K_NAT2RME
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:141    .bss.RME_A7A_Timestamp:00000000 RME_A7A_Timestamp
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:138    .bss.RME_A7A_Timestamp:00000000 $d
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:148    .bss.RME_A7A_Local:00000000 RME_A7A_Local
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:145    .bss.RME_A7A_Local:00000000 $d
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:155    .bss.RME_A7A_Kot:00000000 RME_A7A_Kot
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:152    .bss.RME_A7A_Kot:00000000 $d
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:162    .rodata.RME_A7A_Mem_Info:00000000 RME_A7A_Mem_Info
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:159    .rodata.RME_A7A_Mem_Info:00000000 $d
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:193    .bss.RME_A7A_CPU_Cnt:00000000 RME_A7A_CPU_Cnt
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:190    .bss.RME_A7A_CPU_Cnt:00000000 $d
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:196    .text.main:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:201    .text.main:00000000 main
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:224    .text.__RME_Putchar:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:229    .text.__RME_Putchar:00000000 __RME_Putchar
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:272    .rodata:00000000 $d
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:273    .rodata:00000000 .LC0
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:276    .rodata:00000018 .LC1
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:279    .rodata:00000030 .LC2
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:282    .rodata:00000048 .LC3
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:285    .rodata:00000064 .LC4
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:288    .rodata:0000007c .LC5
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:291    .rodata:0000009c .LC6
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:294    .rodata:000000b4 .LC7
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:297    .text.__RME_A7A_Int_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:301    .text.__RME_A7A_Int_Init:00000000 __RME_A7A_Int_Init
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:561    .text.__RME_A7A_Int_Local_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:566    .text.__RME_A7A_Int_Local_Init:00000000 __RME_A7A_Int_Local_Init
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:610    .rodata:000000d8 .LC8
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:614    .text.__RME_A7A_Timer_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:618    .text.__RME_A7A_Timer_Init:00000000 __RME_A7A_Timer_Init
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:669    .text.__RME_A7A_Feature_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:674    .text.__RME_A7A_Feature_Get:00000000 __RME_A7A_Feature_Get
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:699    .text.__RME_A7A_Mem_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:704    .text.__RME_A7A_Mem_Init:00000000 __RME_A7A_Mem_Init
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:732    .text.__RME_A7A_SMP_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:737    .text.__RME_A7A_SMP_Init:00000000 __RME_A7A_SMP_Init
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:762    .text.__RME_A7A_SMP_Tick:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:767    .text.__RME_A7A_SMP_Tick:00000000 __RME_A7A_SMP_Tick
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:793    .rodata:00000108 .LC9
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:796    .rodata:0000011c .LC10
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:799    .text.__RME_Lowlvl_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:804    .text.__RME_Lowlvl_Init:00000000 __RME_Lowlvl_Init
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:856    .text.__RME_Pgt_Kom_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:861    .text.__RME_Pgt_Kom_Init:00000000 __RME_Pgt_Kom_Init
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:888    .text.__RME_SMP_Low_Level_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:893    .text.__RME_SMP_Low_Level_Init:00000000 __RME_SMP_Low_Level_Init
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:920    .text.__RME_Boot:00000000 $a
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 65


C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:925    .text.__RME_Boot:00000000 __RME_Boot
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:948    .text.__RME_Reboot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:953    .text.__RME_Reboot:00000000 __RME_Reboot
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:978    .text.__RME_Shutdown:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:983    .text.__RME_Shutdown:00000000 __RME_Shutdown
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1008   .text.__RME_Svc_Param_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1013   .text.__RME_Svc_Param_Get:00000000 __RME_Svc_Param_Get
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1081   .text.__RME_Svc_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1086   .text.__RME_Svc_Retval_Set:00000000 __RME_Svc_Retval_Set
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1119   .text.__RME_Thd_Reg_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1124   .text.__RME_Thd_Reg_Init:00000000 __RME_Thd_Reg_Init
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1166   .text.__RME_Thd_Reg_Copy:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1171   .text.__RME_Thd_Reg_Copy:00000000 __RME_Thd_Reg_Copy
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1295   .text.__RME_Thd_Cop_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1300   .text.__RME_Thd_Cop_Init:00000000 __RME_Thd_Cop_Init
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1328   .text.__RME_Thd_Cop_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1333   .text.__RME_Thd_Cop_Save:00000000 __RME_Thd_Cop_Save
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1361   .text.__RME_Thd_Cop_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1366   .text.__RME_Thd_Cop_Restore:00000000 __RME_Thd_Cop_Restore
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1394   .text.__RME_Inv_Reg_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1399   .text.__RME_Inv_Reg_Save:00000000 __RME_Inv_Reg_Save
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1439   .text.__RME_Inv_Reg_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1444   .text.__RME_Inv_Reg_Restore:00000000 __RME_Inv_Reg_Restore
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1484   .text.__RME_Inv_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1489   .text.__RME_Inv_Retval_Set:00000000 __RME_Inv_Retval_Set
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1522   .text.__RME_Set_Inv_Retval:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1527   .text.__RME_Set_Inv_Retval:00000000 __RME_Set_Inv_Retval
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1560   .text.__RME_Thd_Cop_Swap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1565   .text.__RME_Thd_Cop_Swap:00000000 __RME_Thd_Cop_Swap
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1595   .text.__RME_Kfn_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1600   .text.__RME_Kfn_Handler:00000000 __RME_Kfn_Handler
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1632   .text.__RME_A7A_Undefined_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1637   .text.__RME_A7A_Undefined_Handler:00000000 __RME_A7A_Undefined_Handler
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1658   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1663   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 __RME_A7A_Prefetch_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1684   .text.__RME_A7A_Data_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1689   .text.__RME_A7A_Data_Abort_Handler:00000000 __RME_A7A_Data_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1711   .rodata:00000130 .LC11
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1714   .rodata:00000140 .LC12
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1717   .rodata:0000014c .LC13
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1720   .rodata:00000158 .LC14
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1723   .text.__RME_A7A_IRQ_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1728   .text.__RME_A7A_IRQ_Handler:00000000 __RME_A7A_IRQ_Handler
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1897   .text._RME_A7A_SGI_Handler:00000000 _RME_A7A_SGI_Handler
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1892   .text._RME_A7A_SGI_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1928   .rodata:00000188 .LC15
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1931   .text.__RME_A7A_Generic_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1936   .text.__RME_A7A_Generic_Handler:00000000 __RME_A7A_Generic_Handler
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1971   .text.__RME_Pgt_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:1976   .text.__RME_Pgt_Set:00000000 __RME_Pgt_Set
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2003   .text.__RME_Pgt_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2008   .text.__RME_Pgt_Check:00000000 __RME_Pgt_Check
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2097   .text.__RME_Pgt_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2102   .text.__RME_Pgt_Init:00000000 __RME_Pgt_Init
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2130   .text.__RME_Pgt_Del_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2135   .text.__RME_Pgt_Del_Check:00000000 __RME_Pgt_Del_Check
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2163   .text.__RME_Pgt_Page_Map:00000000 $a
ARM GAS  C:\Users\even\AppData\Local\Temp\ccOl8Csh.s 			page 66


C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2168   .text.__RME_Pgt_Page_Map:00000000 __RME_Pgt_Page_Map
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2199   .text.__RME_Pgt_Page_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2204   .text.__RME_Pgt_Page_Unmap:00000000 __RME_Pgt_Page_Unmap
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2233   .text.__RME_Pgt_Pgdir_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2238   .text.__RME_Pgt_Pgdir_Map:00000000 __RME_Pgt_Pgdir_Map
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2269   .text.__RME_Pgt_Pgdir_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2274   .text.__RME_Pgt_Pgdir_Unmap:00000000 __RME_Pgt_Pgdir_Unmap
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2305   .text.__RME_Pgt_Lookup:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2310   .text.__RME_Pgt_Lookup:00000000 __RME_Pgt_Lookup
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2341   .text.__RME_Pgt_Walk:00000000 $a
C:\Users\even\AppData\Local\Temp\ccOl8Csh.s:2346   .text.__RME_Pgt_Walk:00000000 __RME_Pgt_Walk
                           .group:00000000 wm4.0.3b9f63523dc4e8d86e863c7e7e762be7
                           .group:00000000 wm4.rme_platform_a7a.h.12.4ea7c3e7cd5be5689682b56f61920b43
                           .group:00000000 wm4.rme_platform_xc7z020.h.15.439a86713387cac48fb920c2c501913e
                           .group:00000000 wm4.rme_platform_a7a.h.136.4a0faa042aee30814e6d83fdc3818dd9
                           .group:00000000 wm4.rme_kernel.h.27.716340edb41bad57d522729bf2b8a38a
                           .group:00000000 wm4.rme.h.11.9832b5e30070a0fa5589a615f357d92d
                           .group:00000000 wm4.rme_kernel.h.185.3974182bb1c1d44bb740025d2e899ec7
                           .group:00000000 wm4.rme_platform_a7a.h.393.7eab80424ec01c7c054622820ea1dfa1
                           .group:00000000 wm4.rme_kernel.h.679.5cba0ca852965e732f79ab9e9cae51eb
                           .group:00000000 wm4.rme_platform_a7a.h.509.3a87267ca40020cc6371d66068d169d1
                           .group:00000000 wm4.rme_kernel.h.931.ec71bd25af7f487c8cb7f50ed1922251

UNDEFINED SYMBOLS
RME_Kmain
RME_Str_Print
RME_Int_Print
RME_Hex_Print
_RME_CPU_Local_Init
__RME_A7A_Vector_Table
__RME_A7A_VBAR_Set
__RME_A7A_SCR_Get
__RME_Int_Enable
RME_Log
_RME_Tim_Handler
