ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 1


   1              		.cpu cortex-a7
   2              		.arch armv7-a
   3              		.arch_extension virt
   4              		.arch_extension idiv
   5              		.arch_extension sec
   6              		.arch_extension mp
   7              		.fpu neon-fp16
   8              		.eabi_attribute 20, 1
   9              		.eabi_attribute 21, 1
  10              		.eabi_attribute 23, 3
  11              		.eabi_attribute 24, 1
  12              		.eabi_attribute 25, 1
  13              		.eabi_attribute 26, 1
  14              		.eabi_attribute 30, 2
  15              		.eabi_attribute 34, 1
  16              		.eabi_attribute 18, 4
  17              		.file	"rme_platform_a7a.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.startup.main,"ax",%progbits
  22              		.align	2
  23              		.global	main
  24              		.syntax unified
  25              		.arm
  27              	main:
  28              	.LFB0:
  29              		.file 1 "../../Source/Platform/A7A/rme_platform_a7a.c"
   1:../../Source/Platform/A7A/rme_platform_a7a.c **** /******************************************************************************
   2:../../Source/Platform/A7A/rme_platform_a7a.c **** Filename    : platform_a7a.c
   3:../../Source/Platform/A7A/rme_platform_a7a.c **** Author      : pry
   4:../../Source/Platform/A7A/rme_platform_a7a.c **** Date        : 01/04/2017
   5:../../Source/Platform/A7A/rme_platform_a7a.c **** Licence     : LGPL v3+; see COPYING for details.
   6:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The hardware abstraction layer for ARMv7-A machines.
   7:../../Source/Platform/A7A/rme_platform_a7a.c ****               1. Interrupt controller
   8:../../Source/Platform/A7A/rme_platform_a7a.c ****               2. Timer
   9:../../Source/Platform/A7A/rme_platform_a7a.c ****               3. Pgt setup
  10:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  11:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  12:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Include *******************************************************************/
  13:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_DEF__
  14:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  15:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  16:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_DEF__
  17:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  18:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_STRUCT__
  19:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  20:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  21:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_STRUCT__
  22:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  23:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Private include */
  24:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  25:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  26:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_PUBLIC__
  27:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  28:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_PUBLIC__
  29:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Include ***************************************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 2


  30:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  31:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:main **************************************************************
  32:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The entrance of the operating system.
  33:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  34:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  35:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : int - This function never returns.
  36:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  37:../../Source/Platform/A7A/rme_platform_a7a.c **** int main(void)
  38:../../Source/Platform/A7A/rme_platform_a7a.c **** {
  30              		.loc 1 38 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  39:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The main function of the kernel - we will start our kernel boot here */
  40:../../Source/Platform/A7A/rme_platform_a7a.c ****     _RME_Kmain(RME_KOM_STACK_ADDR);
  34              		.loc 1 40 5 view .LVU1
  35 0000 0C009FE5 		ldr	r0, .L4
  38:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The main function of the kernel - we will start our kernel boot here */
  36              		.loc 1 38 1 is_stmt 0 view .LVU2
  37 0004 10402DE9 		push	{r4, lr}
  38              		.cfi_def_cfa_offset 8
  39              		.cfi_offset 4, -8
  40              		.cfi_offset 14, -4
  41              		.loc 1 40 5 view .LVU3
  42 0008 FEFFFFEB 		bl	_RME_Kmain
  43              	.LVL0:
  41:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  42:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
  44              		.loc 1 42 5 is_stmt 1 view .LVU4
  43:../../Source/Platform/A7A/rme_platform_a7a.c **** }
  45              		.loc 1 43 1 is_stmt 0 view .LVU5
  46 000c 0000A0E3 		mov	r0, #0
  47 0010 1080BDE8 		pop	{r4, pc}
  48              	.L5:
  49              		.align	2
  50              	.L4:
  51 0014 00000100 		.word	__RME_A7A_Stack_Start+65536
  52              		.cfi_endproc
  53              	.LFE0:
  55              		.section	.text.__RME_A7A_Comp_Swap,"ax",%progbits
  56              		.align	2
  57              		.global	__RME_A7A_Comp_Swap
  58              		.syntax unified
  59              		.arm
  61              	__RME_A7A_Comp_Swap:
  62              	.LVL1:
  63              	.LFB1:
  44:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
  45:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  46:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Comp_Swap **********************************************
  47:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : 
  48:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : 
  49:../../Source/Platform/A7A/rme_platform_a7a.c ****                      
  50:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : 
  51:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : ****************************************************************/
  52:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_A7A_Comp_Swap(rme_ptr_t* Ptr, rme_ptr_t Old, rme_ptr_t New)
  53:../../Source/Platform/A7A/rme_platform_a7a.c **** {
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 3


  64              		.loc 1 53 1 is_stmt 1 view -0
  65              		.cfi_startproc
  66              		@ args = 0, pretend = 0, frame = 0
  67              		@ frame_needed = 0, uses_anonymous_args = 0
  68              		@ link register save eliminated.
  54:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  55:../../Source/Platform/A7A/rme_platform_a7a.c **** }
  69              		.loc 1 55 1 view .LVU7
  70              	.LVL2:
  71              		.loc 1 55 1 is_stmt 0 view .LVU8
  72 0000 1EFF2FE1 		bx	lr
  73              		.cfi_endproc
  74              	.LFE1:
  76              		.section	.text.__RME_Putchar,"ax",%progbits
  77              		.align	2
  78              		.global	__RME_Putchar
  79              		.syntax unified
  80              		.arm
  82              	__RME_Putchar:
  83              	.LVL3:
  84              	.LFB2:
  56:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Comp_Swap *****************************************/
  57:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  58:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Putchar *****************************************************
  59:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Output a character to console. In Cortex-M, under most circumstances, 
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****               we should use the ITM for such outputs.
  61:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : char Char - The character to print.
  62:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  63:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
  64:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  65:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Putchar(char Char)
  66:../../Source/Platform/A7A/rme_platform_a7a.c **** {
  85              		.loc 1 66 1 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  89              		@ link register save eliminated.
  67:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PUTCHAR(Char);
  90              		.loc 1 67 5 view .LVU10
  91              		.loc 1 67 5 view .LVU11
  92 0000 012AA0E3 		mov	r2, #4096
  93 0004 00204EE3 		movt	r2, 57344
  94              	.L8:
  95              		.loc 1 67 5 discriminator 1 view .LVU12
  96              		.loc 1 67 5 discriminator 1 view .LVU13
  97 0008 2C3092E5 		ldr	r3, [r2, #44]
  98 000c 080013E3 		tst	r3, #8
  99 0010 FCFFFF0A 		beq	.L8
 100              		.loc 1 67 5 discriminator 2 view .LVU14
 101 0014 300082E5 		str	r0, [r2, #48]
 102              		.loc 1 67 5 discriminator 2 view .LVU15
  68:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 103              		.loc 1 68 5 discriminator 2 view .LVU16
  69:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 104              		.loc 1 69 1 is_stmt 0 discriminator 2 view .LVU17
 105 0018 0000A0E3 		mov	r0, #0
 106              	.LVL4:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 4


 107              		.loc 1 69 1 discriminator 2 view .LVU18
 108 001c 1EFF2FE1 		bx	lr
 109              		.cfi_endproc
 110              	.LFE2:
 112              		.section	.text.__RME_A7A_Int_Local_Init,"ax",%progbits
 113              		.align	2
 114              		.global	__RME_A7A_Int_Local_Init
 115              		.syntax unified
 116              		.arm
 118              	__RME_A7A_Int_Local_Init:
 119              	.LFB4:
  70:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Putchar ************************************************/
  71:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  72:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_CPU_Local_Get ******************************************
  73:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the CPU-local data structures. This is to identify where we are
  74:../../Source/Platform/A7A/rme_platform_a7a.c ****               executing.
  75:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  76:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  77:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : struct RME_CPU_Local* - The CPU-local data structures.
  78:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  79:../../Source/Platform/A7A/rme_platform_a7a.c **** /*struct RME_CPU_Local* __RME_A7A_CPU_Local_Get(void)
  80:../../Source/Platform/A7A/rme_platform_a7a.c **** {
  81:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return &RME_A7A_Local[__RME_A7A_MPIDR_Get()&0x03];
  82:../../Source/Platform/A7A/rme_platform_a7a.c **** }*/
  83:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_CPU_Local_Get *************************************/
  84:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  85:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Init ***********************************************
  86:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
  87:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
  88:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
  89:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  90:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  91:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
  92:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  93:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Init(void)
  94:../../Source/Platform/A7A/rme_platform_a7a.c **** {
  95:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
  96:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Lines;
  97:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  98:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Who implemented the GIC, what variant, how many interrupts? */
  99:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_IIDR;
 100:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 101:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>24);
 102:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Variant: ");
 103:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>20)&0xF);
 104:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Revision: ");
 105:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>12)&0xF);
 106:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Implementer: 0x");
 107:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_U(Temp&0xFFF);
 108:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 109:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* How many locked SPIs, security extension enabled or not, number of
 110:../../Source/Platform/A7A/rme_platform_a7a.c ****      * actual CPUs and interrupt lines */
 111:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_TYPER;
 112:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
 113:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 114:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Security extension: ");
 115:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>10)&0x1);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 5


 116:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: CPU number: ");
 117:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(((Temp>>5)&0x7)+1);
 118:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 119:../../Source/Platform/A7A/rme_platform_a7a.c ****     Lines=((Temp&0x1F)+1)*32;
 120:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 121:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 122:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 123:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 0, and disable all */
 124:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/32;Temp++)
 125:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 126:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 127:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 128:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 130:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 131:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Set the priority of all such interrupts to the lowest level */
 132:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/4;Temp++)
 133:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 134:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 135:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts target CPU0 */
 136:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=8;Temp<Lines/4;Temp++)
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 138:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 139:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts are edge triggered, and use 1-N model */
 140:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/16;Temp++)
 141:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 142:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 143:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable the interrupt controller */
 144:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 145:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 146:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 1, unless otherwise noted, and disable all */
 147:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/32;Temp++)
 148:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 149:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 150:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_IGROUPR(Temp)=0xFFFFFFFFU;
 151:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 152:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 153:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 154:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the priority of all such interrupts to the lowest level*/
 155:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/4;Temp++)
 156:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xE0E0E0E0U;
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 158:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts target CPU0 */
 159:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=8;Temp<Lines/4;Temp++)
 160:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 162:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts are edge triggered, and use 1-N model */
 163:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/16;Temp++)
 164:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICFGR(Temp)=0xFFFFFFFFU;
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 166:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the interrupt controller */
 167:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 168:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 169:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 170:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Init ******************************************/
 171:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 172:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Local_Init *****************************************
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 6


 173:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the local CPU interface of the processor.
 174:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 175:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 176:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 177:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 178:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Local_Init(void)
 179:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 120              		.loc 1 179 1 is_stmt 1 view -0
 121              		.cfi_startproc
 122              		@ args = 0, pretend = 0, frame = 0
 123              		@ frame_needed = 0, uses_anonymous_args = 0
 124              		@ link register save eliminated.
 180:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Priority grouping */
 181:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_BPR=RME_A7A_GIC_GROUPING;
 125              		.loc 1 181 2 view .LVU20
 126              		.loc 1 181 18 is_stmt 0 view .LVU21
 127 0000 0030A0E3 		mov	r3, #0
 182:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 183:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 184:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable all interrupts to this interface - FIQ is bypassed, and all
 185:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * interrupts go through the IRQ. The FIQ feature is only available on
 186:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * the stabdalone FIQ interrupt line */
 187:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_ENABLEGRP0;
 128              		.loc 1 187 19 view .LVU22
 129 0004 0110A0E3 		mov	r1, #1
 181:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 130              		.loc 1 181 18 view .LVU23
 131 0008 0320A0E1 		mov	r2, r3
 132 000c F0384FE3 		movt	r3, 63728
 133 0010 042183E5 		str	r2, [r3, #260]
 134              		.loc 1 187 2 is_stmt 1 view .LVU24
 188:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 189:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_CBPR|RME_A7A_GICC_FIQEN|
 190:../../Source/Platform/A7A/rme_platform_a7a.c **** 			           RME_A7A_GICC_ENABLEGRP1|RME_A7A_GICC_ENABLEGRP0;
 191:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 192:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 193:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* No interrupts are masked - This must be set at last because enabling
 194:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * will trash the contents of this register if previously set. To maintain
 195:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * compatibility across all possible implementations, no priority level
 196:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * lower than 0xF0 will be considered valid */
 197:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_PMR=0xF0U;
 135              		.loc 1 197 18 is_stmt 0 view .LVU25
 136 0014 F020A0E3 		mov	r2, #240
 187:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 137              		.loc 1 187 19 view .LVU26
 138 0018 001183E5 		str	r1, [r3, #256]
 139              		.loc 1 197 2 is_stmt 1 view .LVU27
 140              		.loc 1 197 18 is_stmt 0 view .LVU28
 141 001c 042183E5 		str	r2, [r3, #260]
 198:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 142              		.loc 1 198 1 view .LVU29
 143 0020 1EFF2FE1 		bx	lr
 144              		.cfi_endproc
 145              	.LFE4:
 147              		.section	.text.__RME_A7A_Feature_Get,"ax",%progbits
 148              		.align	2
 149              		.global	__RME_A7A_Feature_Get
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 7


 150              		.syntax unified
 151              		.arm
 153              	__RME_A7A_Feature_Get:
 154              	.LFB47:
 155              		.cfi_startproc
 156              		@ args = 0, pretend = 0, frame = 0
 157              		@ frame_needed = 0, uses_anonymous_args = 0
 158              		@ link register save eliminated.
 159 0000 1EFF2FE1 		bx	lr
 160              		.cfi_endproc
 161              	.LFE47:
 163              		.section	.text.__RME_A7A_Mem_Init,"ax",%progbits
 164              		.align	2
 165              		.global	__RME_A7A_Mem_Init
 166              		.syntax unified
 167              		.arm
 169              	__RME_A7A_Mem_Init:
 170              	.LVL5:
 171              	.LFB7:
 199:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Local_Init ************************************/
 200:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 201:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Timer_Init *********************************************
 202:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 203:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 204:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 205:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 207:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 208:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 209:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Timer_Init(void)
 210:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 211:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 212:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 213:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Writing this will also write the counter register as well */
 214:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTLR=RME_A7A_SYSTICK_VAL;
 215:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 216:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTISR=0;
 217:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 218:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTCTLR=RME_A7A_PTWD_PTCTLR_PRESC(0)|
 219:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 220:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_AUTOREL|
 221:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_TIMEN;
 222:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 223:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the timer interrupt in the GIC */
 224:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_ISENABLER(0)|=1<<29;
 225:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 226:../../Source/Platform/A7A/rme_platform_a7a.c **** 	#error Cortex-A7/8/15/17 is not supported at the moment.
 227:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cortex-A7/15/17 use the new generic timer, and Cortex-A8 does not
 228:../../Source/Platform/A7A/rme_platform_a7a.c **** 	have a processor timer due to very early release dates.
 229:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 230:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 231:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Timer_Init ****************************************/
 232:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 233:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Feature_Get ********************************************
 234:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Use the CPUID instruction extensively to get all the processor
 235:../../Source/Platform/A7A/rme_platform_a7a.c ****               information. We assume that all processors installed have the same
 236:../../Source/Platform/A7A/rme_platform_a7a.c ****               features.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 8


 237:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 238:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 239:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 240:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 241:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Feature_Get(void)
 242:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 243:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 244:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* TODO: Check these flags. If not satisfied, we hang immediately. */
 245:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 246:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Feature_Get ***************************************/
 247:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 248:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Mem_Init ***********************************************
 249:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the memory map, and get the size of kernel object
 250:../../Source/Platform/A7A/rme_platform_a7a.c ****               allocation registration table(Kot) and page table reference
 251:../../Source/Platform/A7A/rme_platform_a7a.c ****               count registration table(Pgreg).
 252:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t MMap_Addr - The GRUB multiboot memory map data address.
 253:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t MMap_Length - The GRUB multiboot memory map data length.
 254:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 255:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 256:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 257:../../Source/Platform/A7A/rme_platform_a7a.c **** const rme_ptr_t RME_A7A_Mem_Info[RME_A7A_MEM_ENTRIES]={RME_A7A_MEM_CONTENTS};
 258:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Mem_Init(rme_ptr_t MMap_Addr, rme_ptr_t MMap_Length)
 259:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 172              		.loc 1 259 1 is_stmt 1 view -0
 173              		.cfi_startproc
 174              		@ args = 0, pretend = 0, frame = 0
 175              		@ frame_needed = 0, uses_anonymous_args = 0
 176              		@ link register save eliminated.
 260:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 261:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 177              		.loc 1 261 1 view .LVU31
 178 0000 1EFF2FE1 		bx	lr
 179              		.cfi_endproc
 180              	.LFE7:
 182              		.section	.text.__RME_A7A_SMP_Init,"ax",%progbits
 183              		.align	2
 184              		.global	__RME_A7A_SMP_Init
 185              		.syntax unified
 186              		.arm
 188              	__RME_A7A_SMP_Init:
 189              	.LFB49:
 190              		.cfi_startproc
 191              		@ args = 0, pretend = 0, frame = 0
 192              		@ frame_needed = 0, uses_anonymous_args = 0
 193              		@ link register save eliminated.
 194 0000 1EFF2FE1 		bx	lr
 195              		.cfi_endproc
 196              	.LFE49:
 198              		.section	.text.__RME_A7A_SMP_Tick,"ax",%progbits
 199              		.align	2
 200              		.global	__RME_A7A_SMP_Tick
 201              		.syntax unified
 202              		.arm
 204              	__RME_A7A_SMP_Tick:
 205              	.LFB51:
 206              		.cfi_startproc
 207              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 9


 208              		@ frame_needed = 0, uses_anonymous_args = 0
 209              		@ link register save eliminated.
 210 0000 1EFF2FE1 		bx	lr
 211              		.cfi_endproc
 212              	.LFE51:
 214              		.section	.rodata.__RME_Lowlvl_Init.str1.4,"aMS",%progbits,1
 215              		.align	2
 216              	.LC0:
 217 0000 0D0A4137 		.ascii	"\015\012A7A-GIC: ProductID: \000"
 217      412D4749 
 217      433A2050 
 217      726F6475 
 217      63744944 
 218 0017 00       		.align	2
 219              	.LC1:
 220 0018 0D0A4137 		.ascii	"\015\012A7A-GIC: Variant: \000"
 220      412D4749 
 220      433A2056 
 220      61726961 
 220      6E743A20 
 221 002d 000000   		.align	2
 222              	.LC2:
 223 0030 0D0A4137 		.ascii	"\015\012A7A-GIC: Revision: \000"
 223      412D4749 
 223      433A2052 
 223      65766973 
 223      696F6E3A 
 224 0046 0000     		.align	2
 225              	.LC3:
 226 0048 0D0A4137 		.ascii	"\015\012A7A-GIC: Implementer: 0x\000"
 226      412D4749 
 226      433A2049 
 226      6D706C65 
 226      6D656E74 
 227 0063 00       		.align	2
 228              	.LC4:
 229 0064 0D0A4137 		.ascii	"\015\012A7A-GIC: SPI number: \000"
 229      412D4749 
 229      433A2053 
 229      5049206E 
 229      756D6265 
 230              		.align	2
 231              	.LC5:
 232 007c 0D0A4137 		.ascii	"\015\012A7A-GIC: Security extension: \000"
 232      412D4749 
 232      433A2053 
 232      65637572 
 232      69747920 
 233              		.align	2
 234              	.LC6:
 235 009c 0D0A4137 		.ascii	"\015\012A7A-GIC: CPU number: \000"
 235      412D4749 
 235      433A2043 
 235      5055206E 
 235      756D6265 
 236              		.align	2
 237              	.LC7:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 10


 238 00b4 0D0A4137 		.ascii	"\015\012A7A-GIC: Interrupt line number: \000"
 238      412D4749 
 238      433A2049 
 238      6E746572 
 238      72757074 
 239 00d7 00       		.align	2
 240              	.LC8:
 241 00d8 0D0A4137 		.ascii	"\015\012A7A-Vector: 0x\000"
 241      412D5665 
 241      63746F72 
 241      3A203078 
 241      00
 242 00e9 000000   		.align	2
 243              	.LC9:
 244 00ec 0D0A4137 		.ascii	"\015\012A7A-Non-Secure: \000"
 244      412D4E6F 
 244      6E2D5365 
 244      63757265 
 244      3A2000
 245              		.section	.text.__RME_Lowlvl_Init,"ax",%progbits
 246              		.align	2
 247              		.global	__RME_Lowlvl_Init
 248              		.syntax unified
 249              		.arm
 251              	__RME_Lowlvl_Init:
 252              	.LFB10:
 262:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Mem_Init ******************************************/
 263:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 264:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Init ***********************************************
 265:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Start all other processors, one by one.
 266:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 267:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 268:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 269:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 270:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Init(void)
 271:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 272:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 273:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 274:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Init ******************************************/
 275:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 276:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Tick ***********************************************
 277:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Send IPI to all other cores,to run their handler on the time.
 278:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 279:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 280:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 281:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 282:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Tick(void)
 283:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 284:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 285:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 286:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Tick *******************************************/
 287:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 288:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Lowlvl_Init **********************************************
 289:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the low-level hardware. This assumes that we are already
 290:../../Source/Platform/A7A/rme_platform_a7a.c ****               in Supervisor (SVC) mode.
 291:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 292:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 11


 293:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 294:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 295:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Lowlvl_Init(void)
 296:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 253              		.loc 1 296 1 view -0
 254              		.cfi_startproc
 255              		@ args = 0, pretend = 0, frame = 0
 256              		@ frame_needed = 0, uses_anonymous_args = 0
 297:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 298:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_LOW_LEVEL_INIT();
 257              		.loc 1 298 5 view .LVU33
 258              		.loc 1 298 5 view .LVU34
 259              		.loc 1 298 5 view .LVU35
 299:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 300:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local data structure */
 301:../../Source/Platform/A7A/rme_platform_a7a.c ****     _RME_CPU_Local_Init(&RME_A7A_Local,0);
 260              		.loc 1 301 5 view .LVU36
 296:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 261              		.loc 1 296 1 is_stmt 0 view .LVU37
 262 0000 70402DE9 		push	{r4, r5, r6, lr}
 263              		.cfi_def_cfa_offset 16
 264              		.cfi_offset 4, -16
 265              		.cfi_offset 5, -12
 266              		.cfi_offset 6, -8
 267              		.cfi_offset 14, -4
 268              	.LBB14:
 269              	.LBB15:
  99:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 270              		.loc 1 99 9 view .LVU38
 271 0004 015AA0E3 		mov	r5, #4096
 272 0008 F0584FE3 		movt	r5, 63728
 273              	.LBE15:
 274              	.LBE14:
 275              		.loc 1 301 5 view .LVU39
 276 000c 000000E3 		movw	r0, #:lower16:.LANCHOR0
 277 0010 000040E3 		movt	r0, #:upper16:.LANCHOR0
 278 0014 0010A0E3 		mov	r1, #0
 279 0018 FEFFFFEB 		bl	_RME_CPU_Local_Init
 280              	.LVL6:
 302:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 303:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the interrupt controller */
 304:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_Int_Init();
 281              		.loc 1 304 5 is_stmt 1 view .LVU40
 282              	.LBB19:
 283              	.LBI14:
  93:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 284              		.loc 1 93 6 view .LVU41
 285              	.LBB16:
  95:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Lines;
 286              		.loc 1 95 5 view .LVU42
  96:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 287              		.loc 1 96 5 view .LVU43
  99:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 288              		.loc 1 99 5 view .LVU44
  99:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 289              		.loc 1 99 9 is_stmt 0 view .LVU45
 290 001c 084095E5 		ldr	r4, [r5, #8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 12


 291              	.LVL7:
 100:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>24);
 292              		.loc 1 100 5 is_stmt 1 view .LVU46
 293 0020 000000E3 		movw	r0, #:lower16:.LC0
 294 0024 000040E3 		movt	r0, #:upper16:.LC0
 295 0028 FEFFFFEB 		bl	RME_Str_Print
 296              	.LVL8:
 101:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Variant: ");
 297              		.loc 1 101 5 view .LVU47
 298 002c 240CA0E1 		lsr	r0, r4, #24
 299 0030 FEFFFFEB 		bl	RME_Int_Print
 300              	.LVL9:
 102:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>20)&0xF);
 301              		.loc 1 102 5 view .LVU48
 302 0034 000000E3 		movw	r0, #:lower16:.LC1
 303 0038 000040E3 		movt	r0, #:upper16:.LC1
 304 003c FEFFFFEB 		bl	RME_Str_Print
 305              	.LVL10:
 103:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Revision: ");
 306              		.loc 1 103 5 view .LVU49
 307 0040 540AE3E7 		ubfx	r0, r4, #20, #4
 308 0044 FEFFFFEB 		bl	RME_Int_Print
 309              	.LVL11:
 104:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>12)&0xF);
 310              		.loc 1 104 5 view .LVU50
 311 0048 000000E3 		movw	r0, #:lower16:.LC2
 312 004c 000040E3 		movt	r0, #:upper16:.LC2
 313 0050 FEFFFFEB 		bl	RME_Str_Print
 314              	.LVL12:
 105:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Implementer: 0x");
 315              		.loc 1 105 5 view .LVU51
 316 0054 5406E3E7 		ubfx	r0, r4, #12, #4
 317 0058 FEFFFFEB 		bl	RME_Int_Print
 318              	.LVL13:
 106:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_U(Temp&0xFFF);
 319              		.loc 1 106 5 view .LVU52
 320 005c 000000E3 		movw	r0, #:lower16:.LC3
 321 0060 000040E3 		movt	r0, #:upper16:.LC3
 322 0064 FEFFFFEB 		bl	RME_Str_Print
 323              	.LVL14:
 107:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 324              		.loc 1 107 5 view .LVU53
 325 0068 5400EBE7 		ubfx	r0, r4, #0, #12
 326 006c FEFFFFEB 		bl	RME_DBG_U
 327              	.LVL15:
 111:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
 328              		.loc 1 111 5 view .LVU54
 111:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
 329              		.loc 1 111 9 is_stmt 0 view .LVU55
 330 0070 044095E5 		ldr	r4, [r5, #4]
 331              	.LVL16:
 112:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 332              		.loc 1 112 5 is_stmt 1 view .LVU56
 333 0074 000000E3 		movw	r0, #:lower16:.LC4
 334 0078 000040E3 		movt	r0, #:upper16:.LC4
 119:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 335              		.loc 1 119 17 is_stmt 0 view .LVU57
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 13


 336 007c 1F5004E2 		and	r5, r4, #31
 112:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 337              		.loc 1 112 5 view .LVU58
 338 0080 FEFFFFEB 		bl	RME_Str_Print
 339              	.LVL17:
 113:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Security extension: ");
 340              		.loc 1 113 5 is_stmt 1 view .LVU59
 341 0084 2408A0E1 		lsr	r0, r4, #16
 342 0088 FEFFFFEB 		bl	RME_Int_Print
 343              	.LVL18:
 114:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>10)&0x1);
 344              		.loc 1 114 5 view .LVU60
 345 008c 000000E3 		movw	r0, #:lower16:.LC5
 346 0090 000040E3 		movt	r0, #:upper16:.LC5
 347 0094 FEFFFFEB 		bl	RME_Str_Print
 348              	.LVL19:
 115:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: CPU number: ");
 349              		.loc 1 115 5 view .LVU61
 350 0098 5405E0E7 		ubfx	r0, r4, #10, #1
 351 009c FEFFFFEB 		bl	RME_Int_Print
 352              	.LVL20:
 116:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(((Temp>>5)&0x7)+1);
 353              		.loc 1 116 5 view .LVU62
 354 00a0 000000E3 		movw	r0, #:lower16:.LC6
 355 00a4 000040E3 		movt	r0, #:upper16:.LC6
 356 00a8 FEFFFFEB 		bl	RME_Str_Print
 357              	.LVL21:
 117:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 358              		.loc 1 117 5 view .LVU63
 359 00ac D402E2E7 		ubfx	r0, r4, #5, #3
 119:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 360              		.loc 1 119 23 is_stmt 0 view .LVU64
 361 00b0 014085E2 		add	r4, r5, #1
 362              	.LVL22:
 117:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 363              		.loc 1 117 5 view .LVU65
 364 00b4 010080E2 		add	r0, r0, #1
 119:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 365              		.loc 1 119 10 view .LVU66
 366 00b8 8442A0E1 		lsl	r4, r4, #5
 117:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 367              		.loc 1 117 5 view .LVU67
 368 00bc FEFFFFEB 		bl	RME_Int_Print
 369              	.LVL23:
 118:../../Source/Platform/A7A/rme_platform_a7a.c ****     Lines=((Temp&0x1F)+1)*32;
 370              		.loc 1 118 5 is_stmt 1 view .LVU68
 371 00c0 000000E3 		movw	r0, #:lower16:.LC7
 372 00c4 000040E3 		movt	r0, #:upper16:.LC7
 373 00c8 FEFFFFEB 		bl	RME_Str_Print
 374              	.LVL24:
 119:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 375              		.loc 1 119 5 view .LVU69
 120:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 376              		.loc 1 120 5 view .LVU70
 377 00cc 0400A0E1 		mov	r0, r4
 378 00d0 FEFFFFEB 		bl	RME_Int_Print
 379              	.LVL25:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 14


 124:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 380              		.loc 1 124 2 view .LVU71
 124:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 381              		.loc 1 124 13 view .LVU72
 382 00d4 A11400E3 		movw	r1, #1185
 120:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 383              		.loc 1 120 5 is_stmt 0 view .LVU73
 384 00d8 4A3DA0E3 		mov	r3, #4736
 385 00dc 3C1E43E3 		movt	r1, 15932
 126:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 386              		.loc 1 126 29 view .LVU74
 387 00e0 0020E0E3 		mvn	r2, #0
 388 00e4 011085E0 		add	r1, r5, r1
 127:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 389              		.loc 1 127 29 view .LVU75
 390 00e8 0000A0E3 		mov	r0, #0
 120:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 391              		.loc 1 120 5 view .LVU76
 392 00ec F0384FE3 		movt	r3, 63728
 393 00f0 0111A0E1 		lsl	r1, r1, #2
 394              	.LVL26:
 395              	.L17:
 126:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 396              		.loc 1 126 3 is_stmt 1 view .LVU77
 126:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 397              		.loc 1 126 29 is_stmt 0 view .LVU78
 398 00f4 002083E5 		str	r2, [r3]
 127:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 399              		.loc 1 127 3 is_stmt 1 view .LVU79
 124:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 400              		.loc 1 124 2 is_stmt 0 view .LVU80
 401 00f8 043083E2 		add	r3, r3, #4
 127:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 402              		.loc 1 127 29 view .LVU81
 403 00fc 040203E5 		str	r0, [r3, #-516]
 128:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 404              		.loc 1 128 3 is_stmt 1 view .LVU82
 128:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 405              		.loc 1 128 31 is_stmt 0 view .LVU83
 406 0100 042103E5 		str	r2, [r3, #-260]
 124:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 407              		.loc 1 124 27 is_stmt 1 view .LVU84
 124:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 408              		.loc 1 124 13 view .LVU85
 124:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 409              		.loc 1 124 2 is_stmt 0 view .LVU86
 410 0104 030051E1 		cmp	r1, r3
 411 0108 F9FFFF1A 		bne	.L17
 412              	.LVL27:
 132:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 413              		.loc 1 132 13 is_stmt 1 view .LVU87
 414 010c 052BA0E3 		mov	r2, #5120
 133:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 415              		.loc 1 133 32 is_stmt 0 view .LVU88
 416 0110 A0100AE3 		movw	r1, #41120
 417 0114 A0104AE3 		movt	r1, 41120
 132:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 15


 418              		.loc 1 132 23 view .LVU89
 419 0118 0230A0E1 		mov	r3, r2
 420 011c F0284FE3 		movt	r2, 63728
 421 0120 2401A0E1 		lsr	r0, r4, #2
 422 0124 022084E0 		add	r2, r4, r2
 423 0128 F0384FE3 		movt	r3, 63728
 424              	.LVL28:
 425              	.L18:
 133:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 426              		.loc 1 133 3 is_stmt 1 view .LVU90
 133:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 427              		.loc 1 133 32 is_stmt 0 view .LVU91
 428 012c 041083E4 		str	r1, [r3], #4
 132:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 429              		.loc 1 132 26 is_stmt 1 view .LVU92
 132:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 430              		.loc 1 132 13 view .LVU93
 132:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 431              		.loc 1 132 2 is_stmt 0 view .LVU94
 432 0130 030052E1 		cmp	r2, r3
 433 0134 FCFFFF1A 		bne	.L18
 434              	.LVL29:
 136:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 435              		.loc 1 136 13 is_stmt 1 view .LVU95
 136:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 436              		.loc 1 136 2 is_stmt 0 view .LVU96
 437 0138 080050E3 		cmp	r0, #8
 438 013c 0700000A 		beq	.L19
 439 0140 203801E3 		movw	r3, #6176
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 440              		.loc 1 137 31 view .LVU97
 441 0144 011100E3 		movw	r1, #257
 136:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 442              		.loc 1 136 2 view .LVU98
 443 0148 F0384FE3 		movt	r3, 63728
 444 014c 012B82E2 		add	r2, r2, #1024
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 445              		.loc 1 137 31 view .LVU99
 446 0150 011140E3 		movt	r1, 257
 447              	.LVL30:
 448              	.L20:
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 449              		.loc 1 137 3 is_stmt 1 view .LVU100
 137:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 450              		.loc 1 137 31 is_stmt 0 view .LVU101
 451 0154 041083E4 		str	r1, [r3], #4
 136:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 452              		.loc 1 136 26 is_stmt 1 view .LVU102
 136:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 453              		.loc 1 136 13 view .LVU103
 136:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 454              		.loc 1 136 2 is_stmt 0 view .LVU104
 455 0158 030052E1 		cmp	r2, r3
 456 015c FCFFFF1A 		bne	.L20
 457              	.L19:
 458              	.LVL31:
 140:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 16


 459              		.loc 1 140 13 is_stmt 1 view .LVU105
 460 0160 072BA0E3 		mov	r2, #7168
 140:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 461              		.loc 1 140 23 is_stmt 0 view .LVU106
 462 0164 073BA0E3 		mov	r3, #7168
 463 0168 2441A0E1 		lsr	r4, r4, #2
 464              	.LVL32:
 141:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 465              		.loc 1 141 27 view .LVU107
 466 016c 551505E3 		movw	r1, #21845
 467 0170 F0284FE3 		movt	r2, 63728
 468 0174 022084E0 		add	r2, r4, r2
 140:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 469              		.loc 1 140 23 view .LVU108
 470 0178 F0384FE3 		movt	r3, 63728
 141:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 471              		.loc 1 141 27 view .LVU109
 472 017c 551545E3 		movt	r1, 21845
 473              	.LVL33:
 474              	.L21:
 141:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 475              		.loc 1 141 3 is_stmt 1 view .LVU110
 141:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 476              		.loc 1 141 27 is_stmt 0 view .LVU111
 477 0180 041083E4 		str	r1, [r3], #4
 140:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 478              		.loc 1 140 27 is_stmt 1 view .LVU112
 140:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 479              		.loc 1 140 13 view .LVU113
 140:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 480              		.loc 1 140 2 is_stmt 0 view .LVU114
 481 0184 030052E1 		cmp	r2, r3
 482 0188 FCFFFF1A 		bne	.L21
 144:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 483              		.loc 1 144 2 is_stmt 1 view .LVU115
 144:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 484              		.loc 1 144 19 is_stmt 0 view .LVU116
 485 018c 012AA0E3 		mov	r2, #4096
 486              	.LBE16:
 487              	.LBE19:
 488              	.LBB20:
 489              	.LBB21:
 181:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 490              		.loc 1 181 18 view .LVU117
 491 0190 0030A0E3 		mov	r3, #0
 492              	.LBE21:
 493              	.LBE20:
 494              	.LBB25:
 495              	.LBB17:
 144:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 496              		.loc 1 144 19 view .LVU118
 497 0194 F0284FE3 		movt	r2, 63728
 498 0198 0310A0E3 		mov	r1, #3
 499              	.LBE17:
 500              	.LBE25:
 501              	.LBB26:
 502              	.LBB22:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 17


 181:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 503              		.loc 1 181 18 view .LVU119
 504 019c F0384FE3 		movt	r3, 63728
 505 01a0 0040A0E3 		mov	r4, #0
 506              	.LBE22:
 507              	.LBE26:
 508              	.LBB27:
 509              	.LBB18:
 144:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 510              		.loc 1 144 19 view .LVU120
 511 01a4 001082E5 		str	r1, [r2]
 512              	.LVL34:
 144:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 513              		.loc 1 144 19 view .LVU121
 514              	.LBE18:
 515              	.LBE27:
 305:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 306:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize CPU-local interrupt resources */
 307:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Int_Local_Init();
 516              		.loc 1 307 2 is_stmt 1 view .LVU122
 517              	.LBB28:
 518              	.LBI20:
 178:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 519              		.loc 1 178 6 view .LVU123
 520              	.LBB23:
 181:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 521              		.loc 1 181 2 view .LVU124
 522              	.LBE23:
 523              	.LBE28:
 308:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 309:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the vector table */
 310:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Vector: 0x");
 524              		.loc 1 310 5 is_stmt 0 view .LVU125
 525 01a8 000000E3 		movw	r0, #:lower16:.LC8
 526              	.LBB29:
 527              	.LBB24:
 181:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 528              		.loc 1 181 18 view .LVU126
 529 01ac 044183E5 		str	r4, [r3, #260]
 187:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 530              		.loc 1 187 2 is_stmt 1 view .LVU127
 187:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 531              		.loc 1 187 19 is_stmt 0 view .LVU128
 532 01b0 0110A0E3 		mov	r1, #1
 533 01b4 001183E5 		str	r1, [r3, #256]
 197:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 534              		.loc 1 197 2 is_stmt 1 view .LVU129
 197:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 535              		.loc 1 197 18 is_stmt 0 view .LVU130
 536 01b8 F020A0E3 		mov	r2, #240
 537 01bc 042183E5 		str	r2, [r3, #260]
 538              	.LBE24:
 539              	.LBE29:
 540              		.loc 1 310 5 is_stmt 1 view .LVU131
 541 01c0 000040E3 		movt	r0, #:upper16:.LC8
 542 01c4 FEFFFFEB 		bl	RME_Str_Print
 543              	.LVL35:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 18


 311:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_U((rme_ptr_t)&__RME_A7A_Vector_Table);
 544              		.loc 1 311 5 view .LVU132
 545 01c8 000000E3 		movw	r0, #:lower16:__RME_A7A_Vector_Table
 546 01cc 000040E3 		movt	r0, #:upper16:__RME_A7A_Vector_Table
 547 01d0 FEFFFFEB 		bl	RME_DBG_U
 548              	.LVL36:
 312:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_VBAR_Set((rme_ptr_t)&__RME_A7A_Vector_Table);
 549              		.loc 1 312 5 view .LVU133
 550 01d4 000000E3 		movw	r0, #:lower16:__RME_A7A_Vector_Table
 551 01d8 000040E3 		movt	r0, #:upper16:__RME_A7A_Vector_Table
 552 01dc FEFFFFEB 		bl	__RME_A7A_VBAR_Set
 553              	.LVL37:
 313:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 314:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Non-Secure: ");
 554              		.loc 1 314 5 view .LVU134
 555 01e0 000000E3 		movw	r0, #:lower16:.LC9
 556 01e4 000040E3 		movt	r0, #:upper16:.LC9
 557 01e8 FEFFFFEB 		bl	RME_Str_Print
 558              	.LVL38:
 315:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_U(__RME_A7A_SCR_Get());
 559              		.loc 1 315 5 view .LVU135
 560 01ec FEFFFFEB 		bl	__RME_A7A_SCR_Get
 561              	.LVL39:
 562 01f0 FEFFFFEB 		bl	RME_DBG_U
 563              	.LVL40:
 316:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 317:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 564              		.loc 1 317 5 view .LVU136
 318:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 565              		.loc 1 318 1 is_stmt 0 view .LVU137
 566 01f4 0400A0E1 		mov	r0, r4
 567 01f8 7080BDE8 		pop	{r4, r5, r6, pc}
 568              		.cfi_endproc
 569              	.LFE10:
 571              		.section	.text.__RME_Pgt_Kom_Init,"ax",%progbits
 572              		.align	2
 573              		.global	__RME_Pgt_Kom_Init
 574              		.syntax unified
 575              		.arm
 577              	__RME_Pgt_Kom_Init:
 578              	.LFB11:
 319:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Lowlvl_Init *****************************************/
 320:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 321:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Kom_Init *********************************************
 322:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the kernel mapping tables, so it can be added to all the
 323:../../Source/Platform/A7A/rme_platform_a7a.c ****               top-level page tables. Currently this have no consideration for >1TB
 324:../../Source/Platform/A7A/rme_platform_a7a.c ****               RAM, and is not NUMA-aware.
 325:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 326:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 327:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 328:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 329:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Kom_Init(void)
 330:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 579              		.loc 1 330 1 is_stmt 1 view -0
 580              		.cfi_startproc
 581              		@ args = 0, pretend = 0, frame = 0
 582              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 19


 583              		@ link register save eliminated.
 331:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 332:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 584              		.loc 1 332 5 view .LVU139
 333:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 585              		.loc 1 333 1 is_stmt 0 view .LVU140
 586 0000 0000A0E3 		mov	r0, #0
 587 0004 1EFF2FE1 		bx	lr
 588              		.cfi_endproc
 589              	.LFE11:
 591              		.section	.text.__RME_SMP_Low_Level_Init,"ax",%progbits
 592              		.align	2
 593              		.global	__RME_SMP_Low_Level_Init
 594              		.syntax unified
 595              		.arm
 597              	__RME_SMP_Low_Level_Init:
 598              	.LFB59:
 599              		.cfi_startproc
 600              		@ args = 0, pretend = 0, frame = 0
 601              		@ frame_needed = 0, uses_anonymous_args = 0
 602              		@ link register save eliminated.
 603 0000 0000A0E3 		mov	r0, #0
 604 0004 1EFF2FE1 		bx	lr
 605              		.cfi_endproc
 606              	.LFE59:
 608              		.section	.text.__RME_Boot,"ax",%progbits
 609              		.align	2
 610              		.global	__RME_Boot
 611              		.syntax unified
 612              		.arm
 614              	__RME_Boot:
 615              	.LFB13:
 334:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Kom_Init ****************************************/
 335:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 336:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_SMP_Low_Level_Init ******************************************
 337:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Low-level initialization for all other cores.
 338:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 339:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 340:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 341:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 342:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_SMP_Low_Level_Init(void)
 343:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 344:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 345:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_SMP_LOW_LEVEL_INIT();
 346:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local variables */
 347:../../Source/Platform/A7A/rme_platform_a7a.c ****    // _RME_CPU_Local_Init(&RME_A7A_Local[RME_A7A_CPU_Cnt],RME_A7A_CPU_Cnt);
 348:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 349:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 350:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_SMP_Low_Level_Init *************************************/
 351:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 352:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Boot ********************************************************
 353:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Boot the first process in the system.
 354:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 355:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 356:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 357:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 358:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Boot(void)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 20


 359:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 616              		.loc 1 359 1 is_stmt 1 view -0
 617              		.cfi_startproc
 618              		@ Volatile: function does not return.
 619              		@ args = 0, pretend = 0, frame = 0
 620              		@ frame_needed = 0, uses_anonymous_args = 0
 360:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize timer */
 361:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Timer_Init();
 621              		.loc 1 361 2 view .LVU142
 622              	.LBB30:
 623              	.LBI30:
 209:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 624              		.loc 1 209 6 view .LVU143
 625              	.LBB31:
 214:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 626              		.loc 1 214 5 view .LVU144
 214:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 627              		.loc 1 214 22 is_stmt 0 view .LVU145
 628 0000 0030A0E3 		mov	r3, #0
 224:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 629              		.loc 1 224 30 view .LVU146
 630 0004 012AA0E3 		mov	r2, #4096
 214:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 631              		.loc 1 214 22 view .LVU147
 632 0008 F0384FE3 		movt	r3, 63728
 633 000c 781408E3 		movw	r1, #33912
 224:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 634              		.loc 1 224 30 view .LVU148
 635 0010 F0284FE3 		movt	r2, 63728
 216:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 636              		.loc 1 216 23 view .LVU149
 637 0014 00C0A0E3 		mov	ip, #0
 214:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 638              		.loc 1 214 22 view .LVU150
 639 0018 3A1040E3 		movt	r1, 58
 218:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 640              		.loc 1 218 24 view .LVU151
 641 001c 0700A0E3 		mov	r0, #7
 642              	.LBE31:
 643              	.LBE30:
 359:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize timer */
 644              		.loc 1 359 1 view .LVU152
 645 0020 10402DE9 		push	{r4, lr}
 646              		.cfi_def_cfa_offset 8
 647              		.cfi_offset 4, -8
 648              		.cfi_offset 14, -4
 649              	.LBB33:
 650              	.LBB32:
 214:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 651              		.loc 1 214 22 view .LVU153
 652 0024 001683E5 		str	r1, [r3, #1536]
 216:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 653              		.loc 1 216 5 is_stmt 1 view .LVU154
 216:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 654              		.loc 1 216 23 is_stmt 0 view .LVU155
 655 0028 0CC683E5 		str	ip, [r3, #1548]
 218:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 21


 656              		.loc 1 218 5 is_stmt 1 view .LVU156
 218:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 657              		.loc 1 218 24 is_stmt 0 view .LVU157
 658 002c 080683E5 		str	r0, [r3, #1544]
 224:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 659              		.loc 1 224 5 is_stmt 1 view .LVU158
 224:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 660              		.loc 1 224 30 is_stmt 0 view .LVU159
 661 0030 003192E5 		ldr	r3, [r2, #256]
 662 0034 023283E3 		orr	r3, r3, #536870912
 663 0038 003182E5 		str	r3, [r2, #256]
 664              	.LBE32:
 665              	.LBE33:
 362:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Enable_Int();
 666              		.loc 1 362 5 is_stmt 1 view .LVU160
 667 003c FEFFFFEB 		bl	__RME_Enable_Int
 668              	.LVL41:
 669              	.L33:
 363:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 670              		.loc 1 363 2 discriminator 1 view .LVU161
 671              		.loc 1 363 10 discriminator 1 view .LVU162
 672              		.loc 1 363 7 discriminator 1 view .LVU163
 673              		.loc 1 363 2 discriminator 1 view .LVU164
 674              		.loc 1 363 10 discriminator 1 view .LVU165
 675              		.loc 1 363 7 discriminator 1 view .LVU166
 676 0040 FEFFFFEA 		b	.L33
 677              		.cfi_endproc
 678              	.LFE13:
 680              		.section	.text.__RME_Reboot,"ax",%progbits
 681              		.align	2
 682              		.global	__RME_Reboot
 683              		.syntax unified
 684              		.arm
 686              	__RME_Reboot:
 687              	.LFB14:
 364:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 365:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 366:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Boot ***************************************************/
 367:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 368:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Reboot ******************************************************
 369:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Reboot the machine, abandon all operating system states.
 370:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 371:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 372:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 373:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 374:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Reboot(void)
 375:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 688              		.loc 1 375 1 view -0
 689              		.cfi_startproc
 690              		@ args = 0, pretend = 0, frame = 0
 691              		@ frame_needed = 0, uses_anonymous_args = 0
 692              		@ link register save eliminated.
 376:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 377:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 693              		.loc 1 377 1 view .LVU168
 694 0000 1EFF2FE1 		bx	lr
 695              		.cfi_endproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 22


 696              	.LFE14:
 698              		.section	.text.__RME_Shutdown,"ax",%progbits
 699              		.align	2
 700              		.global	__RME_Shutdown
 701              		.syntax unified
 702              		.arm
 704              	__RME_Shutdown:
 705              	.LFB45:
 706              		.cfi_startproc
 707              		@ args = 0, pretend = 0, frame = 0
 708              		@ frame_needed = 0, uses_anonymous_args = 0
 709              		@ link register save eliminated.
 710 0000 1EFF2FE1 		bx	lr
 711              		.cfi_endproc
 712              	.LFE45:
 714              		.section	.text.__RME_Get_Syscall_Param,"ax",%progbits
 715              		.align	2
 716              		.global	__RME_Get_Syscall_Param
 717              		.syntax unified
 718              		.arm
 720              	__RME_Get_Syscall_Param:
 721              	.LVL42:
 722              	.LFB16:
 378:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Reboot *************************************************/
 379:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 380:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Shutdown ****************************************************
 381:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Shutdown the machine, abandon all operating system states.
 382:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 383:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 384:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 385:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 386:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Shutdown(void)
 387:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 388:../../Source/Platform/A7A/rme_platform_a7a.c ****    // RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 389:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 390:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Shutdown ***********************************************/
 391:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 392:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Get_Syscall_Param *******************************************
 393:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the system call parameters from the stack frame.
 394:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 395:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Svc - The system service number.
 396:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Capid - The capability ID number.
 397:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Param - The parameters.
 398:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 399:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 400:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Get_Syscall_Param(struct RME_Reg_Struct* Reg, rme_ptr_t* Svc, rme_ptr_t* Capid, rme_ptr_
 401:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 723              		.loc 1 401 1 view -0
 724              		.cfi_startproc
 725              		@ args = 0, pretend = 0, frame = 0
 726              		@ frame_needed = 0, uses_anonymous_args = 0
 727              		@ link register save eliminated.
 402:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Svc=(Reg->R0)>>16;
 728              		.loc 1 402 5 view .LVU170
 729              		.loc 1 402 19 is_stmt 0 view .LVU171
 730 0000 B6C0D0E1 		ldrh	ip, [r0, #6]
 731              		.loc 1 402 9 view .LVU172
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 23


 732 0004 00C081E5 		str	ip, [r1]
 403:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Capid=(Reg->R0)&0xFFFF;
 733              		.loc 1 403 5 is_stmt 1 view .LVU173
 734              		.loc 1 403 21 is_stmt 0 view .LVU174
 735 0008 B410D0E1 		ldrh	r1, [r0, #4]
 736              	.LVL43:
 737              		.loc 1 403 11 view .LVU175
 738 000c 001082E5 		str	r1, [r2]
 404:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[0]=Reg->R1;
 739              		.loc 1 404 5 is_stmt 1 view .LVU176
 740              		.loc 1 404 17 is_stmt 0 view .LVU177
 741 0010 082090E5 		ldr	r2, [r0, #8]
 742              	.LVL44:
 743              		.loc 1 404 13 view .LVU178
 744 0014 002083E5 		str	r2, [r3]
 405:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[1]=Reg->R2;
 745              		.loc 1 405 5 is_stmt 1 view .LVU179
 746              		.loc 1 405 17 is_stmt 0 view .LVU180
 747 0018 0C2090E5 		ldr	r2, [r0, #12]
 748              		.loc 1 405 13 view .LVU181
 749 001c 042083E5 		str	r2, [r3, #4]
 406:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[2]=Reg->R3;
 750              		.loc 1 406 5 is_stmt 1 view .LVU182
 751              		.loc 1 406 17 is_stmt 0 view .LVU183
 752 0020 102090E5 		ldr	r2, [r0, #16]
 753              		.loc 1 406 13 view .LVU184
 754 0024 082083E5 		str	r2, [r3, #8]
 407:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 755              		.loc 1 407 1 view .LVU185
 756 0028 1EFF2FE1 		bx	lr
 757              		.cfi_endproc
 758              	.LFE16:
 760              		.section	.text.__RME_Set_Syscall_Retval,"ax",%progbits
 761              		.align	2
 762              		.global	__RME_Set_Syscall_Retval
 763              		.syntax unified
 764              		.arm
 766              	__RME_Set_Syscall_Retval:
 767              	.LVL45:
 768              	.LFB17:
 408:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Get_Syscall_Param **************************************/
 409:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 410:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Syscall_Retval ******************************************
 411:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the system call return value to the stack frame. This function 
 412:../../Source/Platform/A7A/rme_platform_a7a.c ****               may carry up to 4 return values. If the last 3 is not needed, just set
 413:../../Source/Platform/A7A/rme_platform_a7a.c ****               them to zero.
 414:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 415:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 416:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 417:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 418:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Set_Syscall_Retval(struct RME_Reg_Struct* Reg, rme_ret_t Retval)
 419:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 769              		.loc 1 419 1 is_stmt 1 view -0
 770              		.cfi_startproc
 771              		@ args = 0, pretend = 0, frame = 0
 772              		@ frame_needed = 0, uses_anonymous_args = 0
 773              		@ link register save eliminated.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 24


 420:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=(rme_ptr_t)Retval;
 774              		.loc 1 420 5 view .LVU187
 775              		.loc 1 420 12 is_stmt 0 view .LVU188
 776 0000 041080E5 		str	r1, [r0, #4]
 421:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 777              		.loc 1 421 1 view .LVU189
 778 0004 1EFF2FE1 		bx	lr
 779              		.cfi_endproc
 780              	.LFE17:
 782              		.section	.text.__RME_Thd_Reg_Init,"ax",%progbits
 783              		.align	2
 784              		.global	__RME_Thd_Reg_Init
 785              		.syntax unified
 786              		.arm
 788              	__RME_Thd_Reg_Init:
 789              	.LVL46:
 790              	.LFB18:
 422:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Syscall_Retval *************************************/
 423:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 424:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Init ************************************************
 425:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the register set for the thread.
 426:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Entry - The thread entry address.
 427:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Stack - The thread stack address.
 428:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param - The parameter to pass to it.
 429:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set content generated.
 430:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 431:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 432:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Init(rme_ptr_t Attr,rme_ptr_t Entry,rme_ptr_t Stack,rme_ptr_t Param,
 433:../../Source/Platform/A7A/rme_platform_a7a.c ****                                        struct RME_Reg_Struct* Reg)
 434:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 791              		.loc 1 434 1 is_stmt 1 view -0
 792              		.cfi_startproc
 793              		@ args = 4, pretend = 0, frame = 0
 794              		@ frame_needed = 0, uses_anonymous_args = 0
 795              		@ link register save eliminated.
 435:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the entry and stack */
 436:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Entry;
 796              		.loc 1 436 5 view .LVU191
 434:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the entry and stack */
 797              		.loc 1 434 1 is_stmt 0 view .LVU192
 798 0000 00009DE5 		ldr	r0, [sp]
 799              	.LVL47:
 800              		.loc 1 436 12 view .LVU193
 801 0004 3C1080E5 		str	r1, [r0, #60]
 437:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Stack;
 802              		.loc 1 437 5 is_stmt 1 view .LVU194
 803              		.loc 1 437 12 is_stmt 0 view .LVU195
 804 0008 342080E5 		str	r2, [r0, #52]
 438:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the parameter */
 439:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=Param;
 805              		.loc 1 439 5 is_stmt 1 view .LVU196
 806              		.loc 1 439 12 is_stmt 0 view .LVU197
 807 000c 043080E5 		str	r3, [r0, #4]
 440:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 808              		.loc 1 440 1 view .LVU198
 809 0010 1EFF2FE1 		bx	lr
 810              		.cfi_endproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 25


 811              	.LFE18:
 813              		.section	.text.__RME_Thd_Reg_Copy,"ax",%progbits
 814              		.align	2
 815              		.global	__RME_Thd_Reg_Copy
 816              		.syntax unified
 817              		.arm
 819              	__RME_Thd_Reg_Copy:
 820              	.LVL48:
 821              	.LFB19:
 441:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Init *******************************************/
 442:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 443:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Copy ************************************************
 444:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Copy one set of registers into another.
 445:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Src - The source register set.
 446:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Dst - The destination register set.
 447:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 448:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 449:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Copy(struct RME_Reg_Struct* Dst, struct RME_Reg_Struct* Src)
 450:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 822              		.loc 1 450 1 is_stmt 1 view -0
 823              		.cfi_startproc
 824              		@ args = 0, pretend = 0, frame = 0
 825              		@ frame_needed = 0, uses_anonymous_args = 0
 826              		@ link register save eliminated.
 451:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that the ordering is the same so the compiler can optimize */
 452:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->CPSR=Src->CPSR;
 827              		.loc 1 452 5 view .LVU200
 828              		.loc 1 452 18 is_stmt 0 view .LVU201
 829 0000 003091E5 		ldr	r3, [r1]
 830              		.loc 1 452 14 view .LVU202
 831 0004 003080E5 		str	r3, [r0]
 453:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R0=Src->R0;
 832              		.loc 1 453 5 is_stmt 1 view .LVU203
 833              		.loc 1 453 16 is_stmt 0 view .LVU204
 834 0008 043091E5 		ldr	r3, [r1, #4]
 835              		.loc 1 453 12 view .LVU205
 836 000c 043080E5 		str	r3, [r0, #4]
 454:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R1=Src->R1;
 837              		.loc 1 454 5 is_stmt 1 view .LVU206
 838              		.loc 1 454 16 is_stmt 0 view .LVU207
 839 0010 083091E5 		ldr	r3, [r1, #8]
 840              		.loc 1 454 12 view .LVU208
 841 0014 083080E5 		str	r3, [r0, #8]
 455:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R2=Src->R2;
 842              		.loc 1 455 5 is_stmt 1 view .LVU209
 843              		.loc 1 455 16 is_stmt 0 view .LVU210
 844 0018 0C3091E5 		ldr	r3, [r1, #12]
 845              		.loc 1 455 12 view .LVU211
 846 001c 0C3080E5 		str	r3, [r0, #12]
 456:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R3=Src->R3;
 847              		.loc 1 456 5 is_stmt 1 view .LVU212
 848              		.loc 1 456 16 is_stmt 0 view .LVU213
 849 0020 103091E5 		ldr	r3, [r1, #16]
 850              		.loc 1 456 12 view .LVU214
 851 0024 103080E5 		str	r3, [r0, #16]
 457:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R4=Src->R4;
 852              		.loc 1 457 5 is_stmt 1 view .LVU215
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 26


 853              		.loc 1 457 16 is_stmt 0 view .LVU216
 854 0028 143091E5 		ldr	r3, [r1, #20]
 855              		.loc 1 457 12 view .LVU217
 856 002c 143080E5 		str	r3, [r0, #20]
 458:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R5=Src->R5;
 857              		.loc 1 458 5 is_stmt 1 view .LVU218
 858              		.loc 1 458 16 is_stmt 0 view .LVU219
 859 0030 183091E5 		ldr	r3, [r1, #24]
 860              		.loc 1 458 12 view .LVU220
 861 0034 183080E5 		str	r3, [r0, #24]
 459:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R6=Src->R6;
 862              		.loc 1 459 5 is_stmt 1 view .LVU221
 863              		.loc 1 459 16 is_stmt 0 view .LVU222
 864 0038 1C3091E5 		ldr	r3, [r1, #28]
 865              		.loc 1 459 12 view .LVU223
 866 003c 1C3080E5 		str	r3, [r0, #28]
 460:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R7=Src->R7;
 867              		.loc 1 460 5 is_stmt 1 view .LVU224
 868              		.loc 1 460 16 is_stmt 0 view .LVU225
 869 0040 203091E5 		ldr	r3, [r1, #32]
 870              		.loc 1 460 12 view .LVU226
 871 0044 203080E5 		str	r3, [r0, #32]
 461:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R8=Src->R8;
 872              		.loc 1 461 5 is_stmt 1 view .LVU227
 873              		.loc 1 461 16 is_stmt 0 view .LVU228
 874 0048 243091E5 		ldr	r3, [r1, #36]
 875              		.loc 1 461 12 view .LVU229
 876 004c 243080E5 		str	r3, [r0, #36]
 462:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R9=Src->R9;
 877              		.loc 1 462 5 is_stmt 1 view .LVU230
 878              		.loc 1 462 16 is_stmt 0 view .LVU231
 879 0050 283091E5 		ldr	r3, [r1, #40]
 880              		.loc 1 462 12 view .LVU232
 881 0054 283080E5 		str	r3, [r0, #40]
 463:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R10=Src->R10;
 882              		.loc 1 463 5 is_stmt 1 view .LVU233
 883              		.loc 1 463 17 is_stmt 0 view .LVU234
 884 0058 2C3091E5 		ldr	r3, [r1, #44]
 885              		.loc 1 463 13 view .LVU235
 886 005c 2C3080E5 		str	r3, [r0, #44]
 464:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R11=Src->R11;
 887              		.loc 1 464 5 is_stmt 1 view .LVU236
 888              		.loc 1 464 17 is_stmt 0 view .LVU237
 889 0060 303091E5 		ldr	r3, [r1, #48]
 890              		.loc 1 464 13 view .LVU238
 891 0064 303080E5 		str	r3, [r0, #48]
 465:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->SP=Src->SP;
 892              		.loc 1 465 5 is_stmt 1 view .LVU239
 893              		.loc 1 465 16 is_stmt 0 view .LVU240
 894 0068 343091E5 		ldr	r3, [r1, #52]
 895              		.loc 1 465 12 view .LVU241
 896 006c 343080E5 		str	r3, [r0, #52]
 466:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->LR=Src->LR;
 897              		.loc 1 466 5 is_stmt 1 view .LVU242
 898              		.loc 1 466 16 is_stmt 0 view .LVU243
 899 0070 383091E5 		ldr	r3, [r1, #56]
 900              		.loc 1 466 12 view .LVU244
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 27


 901 0074 383080E5 		str	r3, [r0, #56]
 467:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->PC=Src->PC;
 902              		.loc 1 467 5 is_stmt 1 view .LVU245
 903              		.loc 1 467 16 is_stmt 0 view .LVU246
 904 0078 3C3091E5 		ldr	r3, [r1, #60]
 905              		.loc 1 467 12 view .LVU247
 906 007c 3C3080E5 		str	r3, [r0, #60]
 468:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 907              		.loc 1 468 1 view .LVU248
 908 0080 1EFF2FE1 		bx	lr
 909              		.cfi_endproc
 910              	.LFE19:
 912              		.section	.text.__RME_Thd_Cop_Init,"ax",%progbits
 913              		.align	2
 914              		.global	__RME_Thd_Cop_Init
 915              		.syntax unified
 916              		.arm
 918              	__RME_Thd_Cop_Init:
 919              	.LVL49:
 920              	.LFB20:
 469:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Copy *******************************************/
 470:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 471:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Init ************************************************
 472:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the coprocessor register set for the thread.
 473:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register struct to help initialize the coprocessor.
 474:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Cop_Struct* Cop_Reg - The register set content generated.
 475:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 476:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 477:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Init(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 478:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 921              		.loc 1 478 1 is_stmt 1 view -0
 922              		.cfi_startproc
 923              		@ args = 0, pretend = 0, frame = 0
 924              		@ frame_needed = 0, uses_anonymous_args = 0
 925              		@ link register save eliminated.
 479:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Empty function, return immediately. The FPU contents is not predictable */
 480:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 926              		.loc 1 480 1 view .LVU250
 927 0000 1EFF2FE1 		bx	lr
 928              		.cfi_endproc
 929              	.LFE20:
 931              		.section	.text.__RME_Thd_Cop_Save,"ax",%progbits
 932              		.align	2
 933              		.global	__RME_Thd_Cop_Save
 934              		.syntax unified
 935              		.arm
 937              	__RME_Thd_Cop_Save:
 938              	.LFB53:
 939              		.cfi_startproc
 940              		@ args = 0, pretend = 0, frame = 0
 941              		@ frame_needed = 0, uses_anonymous_args = 0
 942              		@ link register save eliminated.
 943 0000 1EFF2FE1 		bx	lr
 944              		.cfi_endproc
 945              	.LFE53:
 947              		.section	.text.__RME_Thd_Cop_Restore,"ax",%progbits
 948              		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 28


 949              		.global	__RME_Thd_Cop_Restore
 950              		.syntax unified
 951              		.arm
 953              	__RME_Thd_Cop_Restore:
 954              	.LFB55:
 955              		.cfi_startproc
 956              		@ args = 0, pretend = 0, frame = 0
 957              		@ frame_needed = 0, uses_anonymous_args = 0
 958              		@ link register save eliminated.
 959 0000 1EFF2FE1 		bx	lr
 960              		.cfi_endproc
 961              	.LFE55:
 963              		.section	.text.__RME_Inv_Reg_Save,"ax",%progbits
 964              		.align	2
 965              		.global	__RME_Inv_Reg_Save
 966              		.syntax unified
 967              		.arm
 969              	__RME_Inv_Reg_Save:
 970              	.LVL50:
 971              	.LFB23:
 481:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Reg_Init ***************************************/
 482:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 483:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Save ************************************************
 484:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the co-op register sets. This operation is flexible - If the
 485:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save its context.
 486:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 487:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 488:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 489:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 490:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 491:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Save(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 492:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 493:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 494:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 495:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Save *******************************************/
 496:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 497:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Restore *********************************************
 498:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the co-op register sets. This operation is flexible - If the
 499:../../Source/Platform/A7A/rme_platform_a7a.c ****               FPU is not used, we do not restore its context.
 500:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 501:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 502:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 503:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 504:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 505:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Restore(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 506:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 507:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 508:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 509:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Restore ****************************************/
 510:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 511:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Save ************************************************
 512:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the necessary registers on invocation for returning. Only the
 513:../../Source/Platform/A7A/rme_platform_a7a.c ****               registers that will influence program control flow will be saved.
 514:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 515:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Iret_Struct* Ret - The invocation return register context.
 516:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 517:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 29


 518:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Save(struct RME_Iret_Struct* Ret, struct RME_Reg_Struct* Reg)
 519:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 972              		.loc 1 519 1 view -0
 973              		.cfi_startproc
 974              		@ args = 0, pretend = 0, frame = 0
 975              		@ frame_needed = 0, uses_anonymous_args = 0
 976              		@ link register save eliminated.
 520:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->PC=Reg->PC;
 977              		.loc 1 520 5 view .LVU252
 978              		.loc 1 520 16 is_stmt 0 view .LVU253
 979 0000 3C3091E5 		ldr	r3, [r1, #60]
 980              		.loc 1 520 12 view .LVU254
 981 0004 003080E5 		str	r3, [r0]
 521:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->SP=Reg->SP;
 982              		.loc 1 521 5 is_stmt 1 view .LVU255
 983              		.loc 1 521 16 is_stmt 0 view .LVU256
 984 0008 343091E5 		ldr	r3, [r1, #52]
 985              		.loc 1 521 12 view .LVU257
 986 000c 043080E5 		str	r3, [r0, #4]
 522:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 987              		.loc 1 522 1 view .LVU258
 988 0010 1EFF2FE1 		bx	lr
 989              		.cfi_endproc
 990              	.LFE23:
 992              		.section	.text.__RME_Inv_Reg_Restore,"ax",%progbits
 993              		.align	2
 994              		.global	__RME_Inv_Reg_Restore
 995              		.syntax unified
 996              		.arm
 998              	__RME_Inv_Reg_Restore:
 999              	.LVL51:
 1000              	.LFB24:
 523:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Save *******************************************/
 524:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 525:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Restore *********************************************
 526:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the necessary registers for returning from an invocation.
 527:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Iret_Struct* Ret - The invocation return register context.
 528:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 529:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 530:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 531:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Restore(struct RME_Reg_Struct* Reg, struct RME_Iret_Struct* Ret)
 532:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1001              		.loc 1 532 1 is_stmt 1 view -0
 1002              		.cfi_startproc
 1003              		@ args = 0, pretend = 0, frame = 0
 1004              		@ frame_needed = 0, uses_anonymous_args = 0
 1005              		@ link register save eliminated.
 533:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Ret->PC;
 1006              		.loc 1 533 5 view .LVU260
 1007              		.loc 1 533 16 is_stmt 0 view .LVU261
 1008 0000 003091E5 		ldr	r3, [r1]
 1009              		.loc 1 533 12 view .LVU262
 1010 0004 3C3080E5 		str	r3, [r0, #60]
 534:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Ret->SP;
 1011              		.loc 1 534 5 is_stmt 1 view .LVU263
 1012              		.loc 1 534 16 is_stmt 0 view .LVU264
 1013 0008 043091E5 		ldr	r3, [r1, #4]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 30


 1014              		.loc 1 534 12 view .LVU265
 1015 000c 343080E5 		str	r3, [r0, #52]
 535:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1016              		.loc 1 535 1 view .LVU266
 1017 0010 1EFF2FE1 		bx	lr
 1018              		.cfi_endproc
 1019              	.LFE24:
 1021              		.section	.text.__RME_Inv_Retval_Set,"ax",%progbits
 1022              		.align	2
 1023              		.global	__RME_Inv_Retval_Set
 1024              		.syntax unified
 1025              		.arm
 1027              	__RME_Inv_Retval_Set:
 1028              	.LVL52:
 1029              	.LFB25:
 536:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Restore ****************************************/
 537:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 538:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Retval_Set **********************************************
 539:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 540:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 541:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 542:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 543:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 544:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Retval_Set(struct RME_Reg_Struct* Reg,
 545:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ret_t Retval)
 546:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1030              		.loc 1 546 1 is_stmt 1 view -0
 1031              		.cfi_startproc
 1032              		@ args = 0, pretend = 0, frame = 0
 1033              		@ frame_needed = 0, uses_anonymous_args = 0
 1034              		@ link register save eliminated.
 547:../../Source/Platform/A7A/rme_platform_a7a.c ****     //Reg->R5=(rme_ptr_t)Retval;
 548:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1035              		.loc 1 548 1 view .LVU268
 1036 0000 1EFF2FE1 		bx	lr
 1037              		.cfi_endproc
 1038              	.LFE25:
 1040              		.section	.text.__RME_Set_Inv_Retval,"ax",%progbits
 1041              		.align	2
 1042              		.global	__RME_Set_Inv_Retval
 1043              		.syntax unified
 1044              		.arm
 1046              	__RME_Set_Inv_Retval:
 1047              	.LVL53:
 1048              	.LFB26:
 549:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Retval_Set *****************************************/
 550:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 551:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Inv_Retval **********************************************
 552:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 553:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 554:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 555:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 556:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 557:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Set_Inv_Retval(struct RME_Reg_Struct* Reg, rme_ret_t Retval)
 558:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1049              		.loc 1 558 1 view -0
 1050              		.cfi_startproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 31


 1051              		@ args = 0, pretend = 0, frame = 0
 1052              		@ frame_needed = 0, uses_anonymous_args = 0
 1053              		@ link register save eliminated.
 559:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R1=(rme_ptr_t)Retval;
 1054              		.loc 1 559 5 view .LVU270
 1055              		.loc 1 559 12 is_stmt 0 view .LVU271
 1056 0000 081080E5 		str	r1, [r0, #8]
 560:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1057              		.loc 1 560 1 view .LVU272
 1058 0004 1EFF2FE1 		bx	lr
 1059              		.cfi_endproc
 1060              	.LFE26:
 1062              		.section	.text.__RME_Kern_Func_Handler,"ax",%progbits
 1063              		.align	2
 1064              		.global	__RME_Kern_Func_Handler
 1065              		.syntax unified
 1066              		.arm
 1068              	__RME_Kern_Func_Handler:
 1069              	.LVL54:
 1070              	.LFB27:
 561:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Inv_Retval *****************************************/
 562:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 563:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Kern_Func_Handler *******************************************
 564:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Handle kernel function calls.
 565:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The current register set.
 566:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Func_ID - The function ID.
 567:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Sub_ID - The sub function ID.
 568:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param1 - The first parameter.
 569:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param2 - The second parameter.
 570:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 571:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - The value that the function returned.
 572:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 573:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Kern_Func_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t Func_ID,
 574:../../Source/Platform/A7A/rme_platform_a7a.c ****                                   rme_ptr_t Sub_ID, rme_ptr_t Param1, rme_ptr_t Param2)
 575:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1071              		.loc 1 575 1 is_stmt 1 view -0
 1072              		.cfi_startproc
 1073              		@ args = 4, pretend = 0, frame = 0
 1074              		@ frame_needed = 0, uses_anonymous_args = 0
 1075              		@ link register save eliminated.
 576:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Currently no kernel function implemented */
 577:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 1076              		.loc 1 577 5 view .LVU274
 578:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1077              		.loc 1 578 1 is_stmt 0 view .LVU275
 1078 0000 0000A0E3 		mov	r0, #0
 1079              	.LVL55:
 1080              		.loc 1 578 1 view .LVU276
 1081 0004 1EFF2FE1 		bx	lr
 1082              		.cfi_endproc
 1083              	.LFE27:
 1085              		.section	.text.__RME_A7A_Undefined_Handler,"ax",%progbits
 1086              		.align	2
 1087              		.global	__RME_A7A_Undefined_Handler
 1088              		.syntax unified
 1089              		.arm
 1091              	__RME_A7A_Undefined_Handler:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 32


 1092              	.LFB28:
 579:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Kern_Func_Handler **************************************/
 580:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 581:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Undefined_Handler **************************************
 582:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The undefined instruction vector handler of RME.
 583:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 584:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 585:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 586:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 587:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Undefined_Handler(struct RME_Reg_Struct* Reg)
 588:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1093              		.loc 1 588 1 is_stmt 1 view -0
 1094              		.cfi_startproc
 1095              		@ Volatile: function does not return.
 1096              		@ args = 0, pretend = 0, frame = 0
 1097              		@ frame_needed = 0, uses_anonymous_args = 0
 1098              		@ link register save eliminated.
 1099              	.LVL56:
 1100              	.L50:
 589:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle undefined instructions now */
 590:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1101              		.loc 1 590 2 discriminator 1 view .LVU278
 1102              		.loc 1 590 10 discriminator 1 view .LVU279
 1103              		.loc 1 590 7 discriminator 1 view .LVU280
 1104 0000 FEFFFFEA 		b	.L50
 1105              		.cfi_endproc
 1106              	.LFE28:
 1108              		.section	.text.__RME_A7A_Prefetch_Abort_Handler,"ax",%progbits
 1109              		.align	2
 1110              		.global	__RME_A7A_Prefetch_Abort_Handler
 1111              		.syntax unified
 1112              		.arm
 1114              	__RME_A7A_Prefetch_Abort_Handler:
 1115              	.LFB29:
 591:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 592:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Undefined_Handler *********************************/
 593:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 594:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Prefetch_Abort_Handler *********************************
 595:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The prefetch abort vector handler of RME.
 596:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 597:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 598:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 599:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 600:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Prefetch_Abort_Handler(struct RME_Reg_Struct* Reg)
 601:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1116              		.loc 1 601 1 view -0
 1117              		.cfi_startproc
 1118              		@ Volatile: function does not return.
 1119              		@ args = 0, pretend = 0, frame = 0
 1120              		@ frame_needed = 0, uses_anonymous_args = 0
 1121              		@ link register save eliminated.
 1122              	.LVL57:
 1123              	.L52:
 602:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle prefetch aborts now */
 603:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1124              		.loc 1 603 2 discriminator 1 view .LVU282
 1125              		.loc 1 603 10 discriminator 1 view .LVU283
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 33


 1126              		.loc 1 603 7 discriminator 1 view .LVU284
 1127 0000 FEFFFFEA 		b	.L52
 1128              		.cfi_endproc
 1129              	.LFE29:
 1131              		.section	.text.__RME_A7A_Data_Abort_Handler,"ax",%progbits
 1132              		.align	2
 1133              		.global	__RME_A7A_Data_Abort_Handler
 1134              		.syntax unified
 1135              		.arm
 1137              	__RME_A7A_Data_Abort_Handler:
 1138              	.LFB30:
 604:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 605:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Prefetch_Abort_Handler ****************************/
 606:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 607:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Data_Abort_Handler *************************************
 608:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The data abort vector handler of RME.
 609:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 610:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 611:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 612:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 613:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Data_Abort_Handler(struct RME_Reg_Struct* Reg)
 614:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1139              		.loc 1 614 1 view -0
 1140              		.cfi_startproc
 1141              		@ Volatile: function does not return.
 1142              		@ args = 0, pretend = 0, frame = 0
 1143              		@ frame_needed = 0, uses_anonymous_args = 0
 1144              		@ link register save eliminated.
 1145              	.LVL58:
 1146              	.L54:
 615:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle data aborts now */
 616:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1147              		.loc 1 616 2 discriminator 1 view .LVU286
 1148              		.loc 1 616 10 discriminator 1 view .LVU287
 1149              		.loc 1 616 7 discriminator 1 view .LVU288
 1150 0000 FEFFFFEA 		b	.L54
 1151              		.cfi_endproc
 1152              	.LFE30:
 1154              		.section	.rodata.__RME_A7A_IRQ_Handler.str1.4,"aMS",%progbits,1
 1155              		.align	2
 1156              	.LC10:
 1157 0000 30303A32 		.ascii	"00:22:16\000"
 1157      323A3136 
 1157      00
 1158 0009 000000   		.align	2
 1159              	.LC11:
 1160 000c 4A616E20 		.ascii	"Jan 29 2025\000"
 1160      32392032 
 1160      30323500 
 1161              		.align	2
 1162              	.LC12:
 1163 0018 2E2E2F2E 		.ascii	"../../Source/Platform/A7A/rme_platform_a7a.c\000"
 1163      2E2F536F 
 1163      75726365 
 1163      2F506C61 
 1163      74666F72 
 1164              		.section	.text.__RME_A7A_IRQ_Handler,"ax",%progbits
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 34


 1165              		.align	2
 1166              		.global	__RME_A7A_IRQ_Handler
 1167              		.syntax unified
 1168              		.arm
 1170              	__RME_A7A_IRQ_Handler:
 1171              	.LVL59:
 1172              	.LFB31:
 617:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 618:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Data_Abort_Handler ********************************/
 619:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 620:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_IRQ_Handler ********************************************
 621:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The regular interrupt vector handler of RME.
 622:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 623:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 624:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 625:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 626:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_IRQ_Handler(struct RME_Reg_Struct* Reg)
 627:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1173              		.loc 1 627 1 view -0
 1174              		.cfi_startproc
 1175              		@ args = 0, pretend = 0, frame = 0
 1176              		@ frame_needed = 0, uses_anonymous_args = 0
 628:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t Int_ID;
 1177              		.loc 1 628 2 view .LVU290
 629:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t CPUID;
 1178              		.loc 1 629 2 view .LVU291
 630:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 631:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* What interrupt is this? */
 632:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID=RME_A7A_GICC_IAR;
 1179              		.loc 1 632 2 view .LVU292
 627:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t Int_ID;
 1180              		.loc 1 627 1 is_stmt 0 view .LVU293
 1181 0000 70402DE9 		push	{r4, r5, r6, lr}
 1182              		.cfi_def_cfa_offset 16
 1183              		.cfi_offset 4, -16
 1184              		.cfi_offset 5, -12
 1185              		.cfi_offset 6, -8
 1186              		.cfi_offset 14, -4
 1187              		.loc 1 632 8 view .LVU294
 1188 0004 0050A0E3 		mov	r5, #0
 1189 0008 F0584FE3 		movt	r5, 63728
 633:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 634:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID&=0x3FFU;
 635:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 636:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 637:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a spurious interrupt? (Can't be 1022 because GICv1 don't have group1) */
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(Int_ID!=1022);
 1190              		.loc 1 638 2 view .LVU295
 1191 000c FE2300E3 		movw	r2, #1022
 632:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 1192              		.loc 1 632 8 view .LVU296
 1193 0010 0C3195E5 		ldr	r3, [r5, #268]
 1194              	.LVL60:
 633:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 1195              		.loc 1 633 2 is_stmt 1 view .LVU297
 634:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 1196              		.loc 1 634 2 view .LVU298
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 35


 634:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 1197              		.loc 1 634 8 is_stmt 0 view .LVU299
 1198 0014 5340E9E7 		ubfx	r4, r3, #0, #10
 1199              	.LVL61:
 1200              		.loc 1 638 2 is_stmt 1 view .LVU300
 1201              		.loc 1 638 2 view .LVU301
 1202 0018 020054E1 		cmp	r4, r2
 1203 001c 1F00000A 		beq	.L69
 1204 0020 FF1300E3 		movw	r1, #1023
 1205              		.loc 1 638 2 discriminator 2 view .LVU302
 639:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1206              		.loc 1 639 2 discriminator 2 view .LVU303
 1207              		.loc 1 639 4 is_stmt 0 discriminator 2 view .LVU304
 1208 0024 010054E1 		cmp	r4, r1
 1209 0028 7080BD08 		popeq	{r4, r5, r6, pc}
 640:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 641:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 642:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 643:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 644:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is is an timer interrupt? (we know that it is at 29) */
 645:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==29)
 1210              		.loc 1 645 2 is_stmt 1 view .LVU305
 1211              		.loc 1 645 4 is_stmt 0 view .LVU306
 1212 002c 1D0054E3 		cmp	r4, #29
 1213 0030 2900000A 		beq	.L70
 633:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID&=0x3FFU;
 1214              		.loc 1 633 7 view .LVU307
 1215 0034 2365A0E1 		lsr	r6, r3, #10
 1216              	.LVL62:
 646:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 647:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Clear the interrupt flag */
 648:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    RME_A7A_PTWD_PTISR=0;
 649:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_Tick_Handler(Reg);
 650:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Send interrupt to all other processors to notify them about this */
 651:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 652:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 653:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 654:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 655:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 656:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 657:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 658:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 659:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 660:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 661:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 662:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a coprocessor timer interrupt? (We use interrupt number 0 for these) */
 663:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==0)
 1217              		.loc 1 663 2 is_stmt 1 view .LVU308
 1218              		.loc 1 663 4 is_stmt 0 view .LVU309
 1219 0038 000054E3 		cmp	r4, #0
 1220 003c 0A00001A 		bne	.L60
 1221              	.LBB34:
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 665:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* This must have originated from interface 0 */
 666:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(CPUID==0);
 1222              		.loc 1 666 3 is_stmt 1 view .LVU310
 1223              		.loc 1 666 3 view .LVU311
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 36


 1224 0040 000056E3 		cmp	r6, #0
 1225 0044 2100000A 		beq	.L61
 1226              		.loc 1 666 3 discriminator 1 view .LVU312
 1227 0048 003000E3 		movw	r3, #:lower16:.LC10
 1228 004c 002000E3 		movw	r2, #:lower16:.LC11
 1229 0050 003040E3 		movt	r3, #:upper16:.LC10
 1230 0054 000000E3 		movw	r0, #:lower16:.LC12
 1231              	.LVL63:
 1232              		.loc 1 666 3 is_stmt 0 discriminator 1 view .LVU313
 1233 0058 002040E3 		movt	r2, #:upper16:.LC11
 1234 005c 9A1200E3 		movw	r1, #666
 1235 0060 000040E3 		movt	r0, #:upper16:.LC12
 1236 0064 FEFFFFEB 		bl	RME_Log
 1237              	.LVL64:
 1238              	.L62:
 1239              		.loc 1 666 3 is_stmt 1 discriminator 2 view .LVU314
 1240              		.loc 1 666 3 discriminator 2 view .LVU315
 1241              		.loc 1 666 3 discriminator 2 view .LVU316
 1242              		.loc 1 666 3 discriminator 2 view .LVU317
 1243              		.loc 1 666 3 discriminator 2 view .LVU318
 1244              		.loc 1 666 3 discriminator 2 view .LVU319
 1245              		.loc 1 666 3 discriminator 2 view .LVU320
 1246              		.loc 1 666 3 discriminator 2 view .LVU321
 1247 0068 FEFFFFEA 		b	.L62
 1248              	.LVL65:
 1249              	.L60:
 1250              		.loc 1 666 3 is_stmt 0 discriminator 2 view .LVU322
 1251              	.LBE34:
 667:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_Tick_SMP_Handler(Reg);
 668:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 669:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 670:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 671:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 672:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 673:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an other IPI? (All the rest of the SGIs are these) */
 674:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID<16)
 1252              		.loc 1 674 2 is_stmt 1 view .LVU323
 1253              		.loc 1 674 4 is_stmt 0 view .LVU324
 1254 006c 3F0E13E3 		tst	r3, #1008
 1255 0070 1300000A 		beq	.L71
 675:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 676:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_A7A_SGI_Handler(Reg,CPUID,Int_ID);
 677:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=(CPUID<<10U)|Int_ID;
 679:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 680:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 681:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 682:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an casual interrupt? */
 683:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(CPUID==0);
 1256              		.loc 1 683 2 is_stmt 1 view .LVU325
 1257              		.loc 1 683 2 view .LVU326
 1258 0074 000056E3 		cmp	r6, #0
 1259 0078 7080BD08 		popeq	{r4, r5, r6, pc}
 1260              		.loc 1 683 2 discriminator 1 view .LVU327
 1261 007c 003000E3 		movw	r3, #:lower16:.LC10
 1262 0080 002000E3 		movw	r2, #:lower16:.LC11
 1263 0084 003040E3 		movt	r3, #:upper16:.LC10
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 37


 1264 0088 000000E3 		movw	r0, #:lower16:.LC12
 1265              	.LVL66:
 1266              		.loc 1 683 2 is_stmt 0 discriminator 1 view .LVU328
 1267 008c 002040E3 		movt	r2, #:upper16:.LC11
 1268 0090 AB1200E3 		movw	r1, #683
 1269 0094 000040E3 		movt	r0, #:upper16:.LC12
 1270 0098 FEFFFFEB 		bl	RME_Log
 1271              	.LVL67:
 1272              	.L64:
 1273              		.loc 1 683 2 is_stmt 1 discriminator 3 view .LVU329
 1274              		.loc 1 683 2 discriminator 3 view .LVU330
 1275              		.loc 1 683 2 discriminator 3 view .LVU331
 1276              		.loc 1 683 2 discriminator 3 view .LVU332
 1277              		.loc 1 683 2 discriminator 3 view .LVU333
 1278              		.loc 1 683 2 discriminator 3 view .LVU334
 1279              		.loc 1 683 2 discriminator 3 view .LVU335
 1280              		.loc 1 683 2 discriminator 3 view .LVU336
 1281 009c FEFFFFEA 		b	.L64
 1282              	.LVL68:
 1283              	.L69:
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1284              		.loc 1 638 2 discriminator 1 view .LVU337
 1285 00a0 003000E3 		movw	r3, #:lower16:.LC10
 1286              	.LVL69:
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1287              		.loc 1 638 2 is_stmt 0 discriminator 1 view .LVU338
 1288 00a4 002000E3 		movw	r2, #:lower16:.LC11
 1289 00a8 003040E3 		movt	r3, #:upper16:.LC10
 1290 00ac 000000E3 		movw	r0, #:lower16:.LC12
 1291              	.LVL70:
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1292              		.loc 1 638 2 discriminator 1 view .LVU339
 1293 00b0 002040E3 		movt	r2, #:upper16:.LC11
 1294 00b4 7E1200E3 		movw	r1, #638
 1295 00b8 000040E3 		movt	r0, #:upper16:.LC12
 1296 00bc FEFFFFEB 		bl	RME_Log
 1297              	.LVL71:
 1298              	.L57:
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1299              		.loc 1 638 2 is_stmt 1 discriminator 1 view .LVU340
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1300              		.loc 1 638 2 discriminator 1 view .LVU341
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1301              		.loc 1 638 2 discriminator 1 view .LVU342
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1302              		.loc 1 638 2 discriminator 1 view .LVU343
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1303              		.loc 1 638 2 discriminator 1 view .LVU344
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1304              		.loc 1 638 2 discriminator 1 view .LVU345
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1305              		.loc 1 638 2 discriminator 1 view .LVU346
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1306              		.loc 1 638 2 discriminator 1 view .LVU347
 1307 00c0 FEFFFFEA 		b	.L57
 1308              	.LVL72:
 1309              	.L71:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 38


 676:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 1310              		.loc 1 676 3 view .LVU348
 684:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 685:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 686:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_IRQ_Handler ***************************************/
 687:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 688:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:_RME_A7A_SGI_Handler *********************************************
 689:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for x64.
 690:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 691:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t CPUID - The ID of the sender CPU.
 692:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_ID - The ID of the SGI.
 693:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 694:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 695:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** void _RME_A7A_SGI_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t CPUID, rme_ptr_t Int_ID)
 697:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 698:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Not handling SGIs */
 699:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return;
 1311              		.loc 1 699 2 view .LVU349
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1312              		.loc 1 678 3 view .LVU350
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1313              		.loc 1 678 33 is_stmt 0 view .LVU351
 1314 00c4 064584E1 		orr	r4, r4, r6, lsl #10
 1315              	.LVL73:
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1316              		.loc 1 678 20 view .LVU352
 1317 00c8 104185E5 		str	r4, [r5, #272]
 679:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 1318              		.loc 1 679 3 is_stmt 1 view .LVU353
 1319 00cc 7080BDE8 		pop	{r4, r5, r6, pc}
 1320              	.LVL74:
 1321              	.L61:
 1322              	.LBB35:
 666:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_Tick_SMP_Handler(Reg);
 1323              		.loc 1 666 3 discriminator 2 view .LVU354
 667:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 1324              		.loc 1 667 3 discriminator 2 view .LVU355
 1325 00d0 FEFFFFEB 		bl	_RME_Tick_SMP_Handler
 1326              	.LVL75:
 669:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1327              		.loc 1 669 3 discriminator 2 view .LVU356
 669:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1328              		.loc 1 669 20 is_stmt 0 discriminator 2 view .LVU357
 1329 00d4 106185E5 		str	r6, [r5, #272]
 670:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 1330              		.loc 1 670 3 is_stmt 1 discriminator 2 view .LVU358
 1331 00d8 7080BDE8 		pop	{r4, r5, r6, pc}
 1332              	.LVL76:
 1333              	.L70:
 670:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 1334              		.loc 1 670 3 is_stmt 0 discriminator 2 view .LVU359
 1335              	.LBE35:
 1336              	.LBB36:
 648:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_Tick_Handler(Reg);
 1337              		.loc 1 648 6 is_stmt 1 view .LVU360
 648:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_Tick_Handler(Reg);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 39


 1338              		.loc 1 648 24 is_stmt 0 view .LVU361
 1339 00dc 0030A0E3 		mov	r3, #0
 1340              	.LVL77:
 648:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_Tick_Handler(Reg);
 1341              		.loc 1 648 24 view .LVU362
 1342 00e0 0C3685E5 		str	r3, [r5, #1548]
 649:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Send interrupt to all other processors to notify them about this */
 1343              		.loc 1 649 3 is_stmt 1 view .LVU363
 1344 00e4 FEFFFFEB 		bl	_RME_Tick_Handler
 1345              	.LVL78:
 652:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1346              		.loc 1 652 3 view .LVU364
 652:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1347              		.loc 1 652 20 is_stmt 0 view .LVU365
 1348 00e8 104185E5 		str	r4, [r5, #272]
 653:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 1349              		.loc 1 653 3 is_stmt 1 view .LVU366
 1350 00ec 7080BDE8 		pop	{r4, r5, r6, pc}
 1351              	.LBE36:
 1352              		.cfi_endproc
 1353              	.LFE31:
 1355              		.section	.text._RME_A7A_SGI_Handler,"ax",%progbits
 1356              		.align	2
 1357              		.global	_RME_A7A_SGI_Handler
 1358              		.syntax unified
 1359              		.arm
 1361              	_RME_A7A_SGI_Handler:
 1362              	.LVL79:
 1363              	.LFB32:
 697:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Not handling SGIs */
 1364              		.loc 1 697 1 view -0
 1365              		.cfi_startproc
 1366              		@ args = 0, pretend = 0, frame = 0
 1367              		@ frame_needed = 0, uses_anonymous_args = 0
 1368              		@ link register save eliminated.
 1369              		.loc 1 699 2 view .LVU368
 700:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1370              		.loc 1 700 1 is_stmt 0 view .LVU369
 1371 0000 1EFF2FE1 		bx	lr
 1372              		.cfi_endproc
 1373              	.LFE32:
 1375              		.section	.rodata.__RME_A7A_Generic_Handler.str1.4,"aMS",%progbits,1
 1376              		.align	2
 1377              	.LC13:
 1378 0000 0D0A4765 		.ascii	"\015\012General int:\000"
 1378      6E657261 
 1378      6C20696E 
 1378      743A00
 1379              		.section	.text.__RME_A7A_Generic_Handler,"ax",%progbits
 1380              		.align	2
 1381              		.global	__RME_A7A_Generic_Handler
 1382              		.syntax unified
 1383              		.arm
 1385              	__RME_A7A_Generic_Handler:
 1386              	.LVL80:
 1387              	.LFB33:
 701:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:_RME_A7A_SGI_Handler ****************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 40


 702:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 703:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Generic_Handler ****************************************
 704:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for Cortex-A (ARMv7).
 705:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 706:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_Num - The interrupt number.
 707:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 708:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 709:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 710:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Generic_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t Int_Num)
 711:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1388              		.loc 1 711 1 is_stmt 1 view -0
 1389              		.cfi_startproc
 1390              		@ args = 0, pretend = 0, frame = 0
 1391              		@ frame_needed = 0, uses_anonymous_args = 0
 712:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 713:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nGeneral int:");
 1392              		.loc 1 713 5 view .LVU371
 1393 0000 000000E3 		movw	r0, #:lower16:.LC13
 1394              	.LVL81:
 711:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 1395              		.loc 1 711 1 is_stmt 0 view .LVU372
 1396 0004 10402DE9 		push	{r4, lr}
 1397              		.cfi_def_cfa_offset 8
 1398              		.cfi_offset 4, -8
 1399              		.cfi_offset 14, -4
 711:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 1400              		.loc 1 711 1 view .LVU373
 1401 0008 0140A0E1 		mov	r4, r1
 1402              		.loc 1 713 5 view .LVU374
 1403 000c 000040E3 		movt	r0, #:upper16:.LC13
 1404 0010 FEFFFFEB 		bl	RME_Str_Print
 1405              	.LVL82:
 714:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 1406              		.loc 1 714 5 is_stmt 1 view .LVU375
 1407 0014 0400A0E1 		mov	r0, r4
 715:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 716:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling anything */
 717:../../Source/Platform/A7A/rme_platform_a7a.c ****     switch(Int_Num)
 718:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 719:../../Source/Platform/A7A/rme_platform_a7a.c ****         default:break;
 720:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 721:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Remember to perform context switch after any kernel sends */
 722:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1408              		.loc 1 722 1 is_stmt 0 view .LVU376
 1409 0018 1040BDE8 		pop	{r4, lr}
 1410              		.cfi_restore 14
 1411              		.cfi_restore 4
 1412              		.cfi_def_cfa_offset 0
 1413              	.LVL83:
 714:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 1414              		.loc 1 714 5 view .LVU377
 1415 001c FEFFFFEA 		b	RME_Int_Print
 1416              	.LVL84:
 714:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 1417              		.loc 1 714 5 view .LVU378
 1418              		.cfi_endproc
 1419              	.LFE33:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 41


 1421              		.section	.text.__RME_Pgt_Set,"ax",%progbits
 1422              		.align	2
 1423              		.global	__RME_Pgt_Set
 1424              		.syntax unified
 1425              		.arm
 1427              	__RME_Pgt_Set:
 1428              	.LVL85:
 1429              	.LFB34:
 723:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Generic_Handler ***********************************/
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 725:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Set ***************************************************
 726:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the processor's page table.
 727:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Pgt - The virtual address of the page table.
 728:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 729:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 730:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 731:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Pgt_Set(rme_ptr_t Pgt)
 732:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1430              		.loc 1 732 1 is_stmt 1 view -0
 1431              		.cfi_startproc
 1432              		@ args = 0, pretend = 0, frame = 0
 1433              		@ frame_needed = 0, uses_anonymous_args = 0
 1434              		@ link register save eliminated.
 733:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 734:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1435              		.loc 1 734 1 view .LVU380
 1436 0000 1EFF2FE1 		bx	lr
 1437              		.cfi_endproc
 1438              	.LFE34:
 1440              		.section	.text.__RME_Pgt_Check,"ax",%progbits
 1441              		.align	2
 1442              		.global	__RME_Pgt_Check
 1443              		.syntax unified
 1444              		.arm
 1446              	__RME_Pgt_Check:
 1447              	.LVL86:
 1448              	.LFB35:
 735:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Set **********************************************/
 736:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 737:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Check *************************************************
 738:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table parameters are feasible, according to the
 739:../../Source/Platform/A7A/rme_platform_a7a.c ****               parameters. This is only used in page table creation. The following
 740:../../Source/Platform/A7A/rme_platform_a7a.c ****               restrictions apply:
 741:../../Source/Platform/A7A/rme_platform_a7a.c **** 1. PAE is not supported by this port: if you have that much memory, use the Cortex-A
 742:../../Source/Platform/A7A/rme_platform_a7a.c ****    64-bit port instead. The translation scheme here is always:
 743:../../Source/Platform/A7A/rme_platform_a7a.c ****    4GB VA -> {Supersection, Section} -> {Large Page, Small Page}.
 744:../../Source/Platform/A7A/rme_platform_a7a.c ****    The supersection is described in ARMv7-AR ARM as optional, but is implemented on
 745:../../Source/Platform/A7A/rme_platform_a7a.c ****    all known ARMv7-A processors.
 746:../../Source/Platform/A7A/rme_platform_a7a.c ****    We only user TTBR0 here and we set value N to 0 as always. Using TTBR1 is nonsense
 747:../../Source/Platform/A7A/rme_platform_a7a.c ****    in our context, as it gives little benefit.
 748:../../Source/Platform/A7A/rme_platform_a7a.c **** 2. The ARM page tables have idiosyncrasy that allow two page size mappings to exist
 749:../../Source/Platform/A7A/rme_platform_a7a.c ****    in the same page table.
 750:../../Source/Platform/A7A/rme_platform_a7a.c **** 3. ARM page tables use repetition when it comes to supersections and large pages.
 751:../../Source/Platform/A7A/rme_platform_a7a.c ****    This breaks our numorder-sizeorder assumption, and for this reason, we do not
 752:../../Source/Platform/A7A/rme_platform_a7a.c ****    support these two page sizes explicitly. These two sizes are supported by kernel
 753:../../Source/Platform/A7A/rme_platform_a7a.c ****    functions instead, and the kernel function always maps/unmaps the pages as needed
 754:../../Source/Platform/A7A/rme_platform_a7a.c ****    without checking for any permissions; this can be viewed as a hack, and require
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 42


 755:../../Source/Platform/A7A/rme_platform_a7a.c ****    some caution when we are mapping pages in.
 756:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Start_Addr - The start mapping address.
 757:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Top - The top-level flag,
 758:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Size_Order - The size order of the page directory.
 759:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Num_Order - The number order of the page directory.
 760:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address of the page directory.
 761:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 762:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 763:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 764:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Check(rme_ptr_t Start_Addr, rme_ptr_t Is_Top,
 765:../../Source/Platform/A7A/rme_platform_a7a.c ****                             rme_ptr_t Size_Order, rme_ptr_t Num_Order, rme_ptr_t Vaddr)
 766:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1449              		.loc 1 766 1 view -0
 1450              		.cfi_startproc
 1451              		@ args = 4, pretend = 0, frame = 0
 1452              		@ frame_needed = 0, uses_anonymous_args = 0
 1453              		@ link register save eliminated.
 767:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Top-level - 1MB pages, 4096 entries, 16kB alignment */
 768:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Is_Top!=0)
 1454              		.loc 1 768 5 view .LVU382
 1455              		.loc 1 768 7 is_stmt 0 view .LVU383
 1456 0000 000051E3 		cmp	r1, #0
 1457 0004 0A00000A 		beq	.L77
 769:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 770:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_1M)
 1458              		.loc 1 770 9 is_stmt 1 view .LVU384
 771:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 772:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_4K)
 1459              		.loc 1 772 9 view .LVU385
 1460              		.loc 1 772 11 is_stmt 0 view .LVU386
 1461 0008 140052E3 		cmp	r2, #20
 1462 000c 0C005303 		cmpeq	r3, #12
 1463 0010 0100000A 		beq	.L81
 1464              	.L80:
 773:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1465              		.loc 1 773 20 view .LVU387
 1466 0014 0000E0E3 		mvn	r0, #0
 1467              	.LVL87:
 774:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 775:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 776:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 777:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Second-level - 1MB pages, 4096 entries, 16kB alignment */
 778:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 779:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 780:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_64K)
 781:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 782:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_1K)
 783:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 784:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FF)!=0)
 785:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 786:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 787:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 788:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 789:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1468              		.loc 1 789 1 view .LVU388
 1469 0018 1EFF2FE1 		bx	lr
 1470              	.LVL88:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 43


 1471              	.L81:
 774:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 1472              		.loc 1 774 9 is_stmt 1 view .LVU389
 774:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 1473              		.loc 1 774 18 is_stmt 0 view .LVU390
 1474 001c 00309DE5 		ldr	r3, [sp]
 1475              	.LVL89:
 774:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 1476              		.loc 1 774 18 view .LVU391
 1477 0020 5300EDE7 		ubfx	r0, r3, #0, #14
 1478              	.LVL90:
 774:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 1479              		.loc 1 774 11 view .LVU392
 1480 0024 000050E2 		subs	r0, r0, #0
 1481 0028 0100A013 		movne	r0, #1
 1482 002c 000060E2 		rsb	r0, r0, #0
 1483 0030 1EFF2FE1 		bx	lr
 1484              	.LVL91:
 1485              	.L77:
 780:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1486              		.loc 1 780 9 is_stmt 1 view .LVU393
 782:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1487              		.loc 1 782 9 view .LVU394
 782:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1488              		.loc 1 782 11 is_stmt 0 view .LVU395
 1489 0034 100052E3 		cmp	r2, #16
 1490 0038 0A005303 		cmpeq	r3, #10
 1491 003c F4FFFF1A 		bne	.L80
 784:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1492              		.loc 1 784 9 is_stmt 1 view .LVU396
 784:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1493              		.loc 1 784 18 is_stmt 0 view .LVU397
 1494 0040 00309DE5 		ldr	r3, [sp]
 1495              	.LVL92:
 784:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1496              		.loc 1 784 18 view .LVU398
 1497 0044 5300E9E7 		ubfx	r0, r3, #0, #10
 1498              	.LVL93:
 784:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1499              		.loc 1 784 11 view .LVU399
 1500 0048 000050E2 		subs	r0, r0, #0
 1501 004c 0100A013 		movne	r0, #1
 1502 0050 000060E2 		rsb	r0, r0, #0
 1503 0054 1EFF2FE1 		bx	lr
 1504              		.cfi_endproc
 1505              	.LFE35:
 1507              		.section	.text.__RME_Pgt_Init,"ax",%progbits
 1508              		.align	2
 1509              		.global	__RME_Pgt_Init
 1510              		.syntax unified
 1511              		.arm
 1513              	__RME_Pgt_Init:
 1514              	.LVL94:
 1515              	.LFB36:
 790:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Check ********************************************/
 791:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 792:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Init **************************************************
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 44


 793:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the page table data structure, according to the capability.
 794:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
 795:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 796:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 797:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 798:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Init(struct RME_Cap_Pgt* Pgt_Op)
 799:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1516              		.loc 1 799 1 is_stmt 1 view -0
 1517              		.cfi_startproc
 1518              		@ args = 0, pretend = 0, frame = 0
 1519              		@ frame_needed = 0, uses_anonymous_args = 0
 1520              		@ link register save eliminated.
 800:../../Source/Platform/A7A/rme_platform_a7a.c **** #if 0
 801:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_cnt_t Count;
 802:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
 803:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 804:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the actual table */
 805:../../Source/Platform/A7A/rme_platform_a7a.c ****     //Ptr=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 806:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 807:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a first-level or a second-level? */
 808:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)
 809:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 810:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* First-level - clean up the first half and map in the second half as kernel entries */
 811:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<2048;Count++)
 812:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 813:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 814:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(;Count<4096;Count++)
 815:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 816:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 817:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 818:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 819:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Second-level - just clean it up to all zeros */
 820:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<256;Count++)
 821:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 822:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 823:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 824:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PGREG_POS(Ptr).Parent_Cnt=0;
 825:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PGREG_POS(Ptr).ASID_Child_Cnt=0;
 826:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 827:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 828:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1521              		.loc 1 828 1 view .LVU401
 1522              	.LVL95:
 1523              		.loc 1 828 1 is_stmt 0 view .LVU402
 1524 0000 1EFF2FE1 		bx	lr
 1525              		.cfi_endproc
 1526              	.LFE36:
 1528              		.section	.text.__RME_Pgt_Del_Check,"ax",%progbits
 1529              		.align	2
 1530              		.global	__RME_Pgt_Del_Check
 1531              		.syntax unified
 1532              		.arm
 1534              	__RME_Pgt_Del_Check:
 1535              	.LFB57:
 1536              		.cfi_startproc
 1537              		@ args = 0, pretend = 0, frame = 0
 1538              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 45


 1539              		@ link register save eliminated.
 1540 0000 0000A0E3 		mov	r0, #0
 1541 0004 1EFF2FE1 		bx	lr
 1542              		.cfi_endproc
 1543              	.LFE57:
 1545              		.section	.text.__RME_Pgt_Page_Map,"ax",%progbits
 1546              		.align	2
 1547              		.global	__RME_Pgt_Page_Map
 1548              		.syntax unified
 1549              		.arm
 1551              	__RME_Pgt_Page_Map:
 1552              	.LVL96:
 1553              	.LFB38:
 829:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Init *********************************************/
 830:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 831:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Del_Check *********************************************
 832:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table can be deleted.
 833:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt Pgt_Op* - The capability to the page table to operate on.
 834:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 835:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If can be deleted, 0; else RME_ERR_HAL_FAIL.
 836:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 837:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Del_Check(struct RME_Cap_Pgt* Pgt_Op)
 838:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 839:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 840:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 841:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 842:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 843:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 844:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* See if this is a top-level. If yes, we only check child count */
 845:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)
 846:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 847:../../Source/Platform/A7A/rme_platform_a7a.c ****     	if(((RME_A7A_PGREG_POS(Table).ASID_Child_Cnt)&0xFFFF)==0)
 848:../../Source/Platform/A7A/rme_platform_a7a.c ****     		return 0;
 849:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 850:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 851:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 852:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Must be the second-level. We only check parent count because it can't have child anymore */
 853:../../Source/Platform/A7A/rme_platform_a7a.c ****     	if(RME_A7A_PGREG_POS(Table).Parent_Cnt==0)
 854:../../Source/Platform/A7A/rme_platform_a7a.c ****     	        return 0;
 855:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 856:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 857:../../Source/Platform/A7A/rme_platform_a7a.c ****     return RME_ERR_HAL_FAIL;
 858:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
 859:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 860:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Del_Check ****************************************/
 861:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 862:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Map **********************************************
 863:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page into the page table. This architecture requires that the
 864:../../Source/Platform/A7A/rme_platform_a7a.c ****               mapping is always at least readable. The Cortex-A's super pages are
 865:../../Source/Platform/A7A/rme_platform_a7a.c ****               not supported by this. Also, RME dfoesn't use the domain model; all
 866:../../Source/Platform/A7A/rme_platform_a7a.c ****               page tables' domain is always client, which means that the permission
 867:../../Source/Platform/A7A/rme_platform_a7a.c ****               flags will always be checked.
 868:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The cap ability to the page table to operate on.
 869:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Paddr - The physical address to map to. If we are unmapping,
 870:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 this have no effect.
 871:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
 872:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard page attributes. Need to translate
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 46


 873:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 them into architecture specific page table's settings.
 874:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 875:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 876:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 877:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Map(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Paddr, rme_ptr_t Pos, rme_ptr_t 
 878:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1554              		.loc 1 878 1 is_stmt 1 view -0
 1555              		.cfi_startproc
 1556              		@ args = 0, pretend = 0, frame = 0
 1557              		@ frame_needed = 0, uses_anonymous_args = 0
 1558              		@ link register save eliminated.
 879:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 880:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 881:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
 882:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 883:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
 884:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 885:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 886:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 887:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
 888:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
 889:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 890:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 891:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
 892:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 893:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 894:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate flags */
 895:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)==RME_PGT_SIZE_4K)
 896:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_1M_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_1M_RME2NAT(Flags);
 897:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 898:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_4K_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_4K_RME2NAT(Flags);
 899:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 900:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in */
 901:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),0,A7A_Flags)==0)
 902:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 903:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 904:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 905:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
 906:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1559              		.loc 1 906 1 view .LVU404
 1560              	.LVL97:
 1561              		.loc 1 906 1 is_stmt 0 view .LVU405
 1562 0000 1EFF2FE1 		bx	lr
 1563              		.cfi_endproc
 1564              	.LFE38:
 1566              		.section	.text.__RME_Pgt_Page_Unmap,"ax",%progbits
 1567              		.align	2
 1568              		.global	__RME_Pgt_Page_Unmap
 1569              		.syntax unified
 1570              		.arm
 1572              	__RME_Pgt_Page_Unmap:
 1573              	.LVL98:
 1574              	.LFB39:
 907:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Map *****************************************/
 908:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 909:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Unmap ********************************************
 910:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page from the page table.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 47


 911:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
 912:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
 913:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 914:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 915:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 916:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Unmap(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos)
 917:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1575              		.loc 1 917 1 is_stmt 1 view -0
 1576              		.cfi_startproc
 1577              		@ args = 0, pretend = 0, frame = 0
 1578              		@ frame_needed = 0, uses_anonymous_args = 0
 1579              		@ link register save eliminated.
 918:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 919:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 920:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
 921:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 922:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to unmap the kernel space on the top level? */
 923:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
 924:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 925:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 926:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
 927:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 928:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 929:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that there is something */
 930:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 931:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Temp==0)
 932:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 933:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 934:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a page directory? We cannot unmap page directories like this */
 935:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)!=RME_PGT_SIZE_4K)&&((Temp&RME_A7A_MMU_1M_PGDIR_PRES
 936:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 937:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 938:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to unmap it. Use CAS just in case */
 939:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),Temp,0)==0)
 940:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 941:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 942:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 943:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
 944:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1580              		.loc 1 944 1 view .LVU407
 1581              	.LVL99:
 1582              		.loc 1 944 1 is_stmt 0 view .LVU408
 1583 0000 1EFF2FE1 		bx	lr
 1584              		.cfi_endproc
 1585              	.LFE39:
 1587              		.section	.text.__RME_Pgt_Pgdir_Map,"ax",%progbits
 1588              		.align	2
 1589              		.global	__RME_Pgt_Pgdir_Map
 1590              		.syntax unified
 1591              		.arm
 1593              	__RME_Pgt_Pgdir_Map:
 1594              	.LVL100:
 1595              	.LFB40:
 945:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Unmap ***************************************/
 946:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 947:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Map *********************************************
 948:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page directory into the page table. It is surprising that
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 48


 949:../../Source/Platform/A7A/rme_platform_a7a.c ****               Cortex-A (ARMv7) does not support any kind of page directory flags.
 950:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Parent - The parent page table.
 951:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Cap_Pgt* Pgt_Child - The child page table.
 952:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the destination page table.
 953:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard flags for the child page table.
 954:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 955:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 956:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 957:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Pgdir_Map(struct RME_Cap_Pgt* Pgt_Parent, rme_ptr_t Pos,
 958:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 struct RME_Cap_Pgt* Pgt_Child, rme_ptr_t Flags)
 959:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1596              		.loc 1 959 1 is_stmt 1 view -0
 1597              		.cfi_startproc
 1598              		@ args = 0, pretend = 0, frame = 0
 1599              		@ frame_needed = 0, uses_anonymous_args = 0
 1600              		@ link register save eliminated.
 960:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 961:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Parent_Table;
 962:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Child_Table;
 963:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
 964:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 965:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
 966:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 967:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 968:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 969:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
 970:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Parent->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
 971:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 972:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 973:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
 974:../../Source/Platform/A7A/rme_platform_a7a.c ****     Parent_Table=RME_CAP_GETOBJ(Pgt_Parent,rme_ptr_t*);
 975:../../Source/Platform/A7A/rme_platform_a7a.c ****     Child_Table=RME_CAP_GETOBJ(Pgt_Child,rme_ptr_t*);
 976:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 977:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate the content */
 978:../../Source/Platform/A7A/rme_platform_a7a.c ****     A7A_Flags=RME_A7A_MMU_1M_PGT_ADDR(RME_A7A_VA2PA(Child_Table))|RME_A7A_MMU_1M_PGDIR_PRESENT;
 979:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 980:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in - may need to increase some count */
 981:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Parent_Table[Pos]),0,A7A_Flags)==0)
 982:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 983:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 984:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Map complete, increase reference count for both page tables */
 985:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_FETCH_ADD((rme_ptr_t*)&(RME_A7A_PGREG_POS(Child_Table).Parent_Cnt),1);
 986:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_FETCH_ADD((rme_ptr_t*)&(RME_A7A_PGREG_POS(Parent_Table).ASID_Child_Cnt),1);
 987:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 988:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 989:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
 990:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1601              		.loc 1 990 1 view .LVU410
 1602              	.LVL101:
 1603              		.loc 1 990 1 is_stmt 0 view .LVU411
 1604 0000 1EFF2FE1 		bx	lr
 1605              		.cfi_endproc
 1606              	.LFE40:
 1608              		.section	.text.__RME_Pgt_Pgdir_Unmap,"ax",%progbits
 1609              		.align	2
 1610              		.global	__RME_Pgt_Pgdir_Unmap
 1611              		.syntax unified
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 49


 1612              		.arm
 1614              	__RME_Pgt_Pgdir_Unmap:
 1615              	.LVL102:
 1616              	.LFB41:
 991:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Map ****************************************/
 992:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 993:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Unmap *******************************************
 994:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page directory from the page table.
 995:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to operate on.
 996:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
 997:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 998:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 999:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1000:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Pgt_Pgdir_Unmap(struct RME_Cap_Pgt* Pgt_Parent,rme_ptr_t Pos,
1001:../../Source/Platform/A7A/rme_platform_a7a.c ****                                                struct RME_Cap_Pgt* Pgt_Child)
1002:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1617              		.loc 1 1002 1 is_stmt 1 view -0
 1618              		.cfi_startproc
 1619              		@ args = 0, pretend = 0, frame = 0
 1620              		@ frame_needed = 0, uses_anonymous_args = 0
 1621              		@ link register save eliminated.
1003:../../Source/Platform/A7A/rme_platform_a7a.c ****    return 0;
 1622              		.loc 1 1003 4 view .LVU413
1004:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1623              		.loc 1 1004 1 is_stmt 0 view .LVU414
 1624 0000 0000A0E3 		mov	r0, #0
 1625              	.LVL103:
 1626              		.loc 1 1004 1 view .LVU415
 1627 0004 1EFF2FE1 		bx	lr
 1628              		.cfi_endproc
 1629              	.LFE41:
 1631              		.section	.text.__RME_Pgt_Lookup,"ax",%progbits
 1632              		.align	2
 1633              		.global	__RME_Pgt_Lookup
 1634              		.syntax unified
 1635              		.arm
 1637              	__RME_Pgt_Lookup:
 1638              	.LVL104:
 1639              	.LFB42:
1005:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Unmap **************************************/
1006:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1007:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Lookup **************************************************
1008:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Lookup a page entry in a page directory. This function cannot deal
1009:../../Source/Platform/A7A/rme_platform_a7a.c ****               with large pages and super sections - it is the user's responsibility
1010:../../Source/Platform/A7A/rme_platform_a7a.c ****               to avoid this.
1011:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page directory to lookup.
1012:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position to look up.
1013:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Paddr - The physical address of the page.
1014:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1015:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1016:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1017:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Lookup(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos, rme_ptr_t* Paddr, rme_ptr_t* 
1018:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1640              		.loc 1 1018 1 is_stmt 1 view -0
 1641              		.cfi_startproc
 1642              		@ args = 0, pretend = 0, frame = 0
 1643              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 50


 1644              		@ link register save eliminated.
1019:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
1020:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1021:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1022:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1023:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if the position is within the range of this page table */
1024:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pos>>RME_PGT_NUMORD(Pgt_Op->Size_Num_Order))!=0)
1025:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1026:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1027:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1028:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
1029:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the position requested - atomic read */
1030:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
1031:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1032:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start lookup - is this a terminal page, or? */
1033:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)==RME_PGT_SIZE_4K)
1034:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1035:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)==0)
1036:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
1037:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1038:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a small page. Return the physical address and flags */
1039:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
1040:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
1041:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
1042:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
1043:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1044:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1045:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1046:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)==0)
1047:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
1048:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1049:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a section. Return the physical address and flags */
1050:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
1051:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
1052:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
1053:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
1054:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1055:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1056:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1057:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1058:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1645              		.loc 1 1058 1 view .LVU417
 1646              	.LVL105:
 1647              		.loc 1 1058 1 is_stmt 0 view .LVU418
 1648 0000 1EFF2FE1 		bx	lr
 1649              		.cfi_endproc
 1650              	.LFE42:
 1652              		.section	.text.__RME_Pgt_Walk,"ax",%progbits
 1653              		.align	2
 1654              		.global	__RME_Pgt_Walk
 1655              		.syntax unified
 1656              		.arm
 1658              	__RME_Pgt_Walk:
 1659              	.LVL106:
 1660              	.LFB43:
1059:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Lookup *******************************************/
1060:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 51


1061:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Walk **************************************************
1062:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Walking function for the page table. This function just does page
1063:../../Source/Platform/A7A/rme_platform_a7a.c ****               table lookups. The page table that is being walked must be the top-
1064:../../Source/Platform/A7A/rme_platform_a7a.c ****               level page table. The output values are optional; only pass in pointers
1065:../../Source/Platform/A7A/rme_platform_a7a.c ****               when you need that value.
1066:../../Source/Platform/A7A/rme_platform_a7a.c ****               Walking kernel page tables is prohibited.
1067:../../Source/Platform/A7A/rme_platform_a7a.c ****               This function also does not support large pages and super sections.
1068:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to walk.
1069:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address to look up.
1070:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Pgt - The pointer to the page table level.
1071:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Map_Vaddr - The virtual address that starts mapping.
1072:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Paddr - The physical address of the page.
1073:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Size_Order - The size order of the page.
1074:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Num_Order - The entry order of the page.
1075:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1076:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1077:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1078:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Walk(struct RME_Cap_Pgt* Pgt_Op, 
1079:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t Vaddr, 
1080:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t* Pgt,
1081:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Map_Vaddr, 
1082:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Paddr, 
1083:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Size_Order, 
1084:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Num_Order, 
1085:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Flags)
1086:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1661              		.loc 1 1086 1 is_stmt 1 view -0
 1662              		.cfi_startproc
 1663              		@ args = 16, pretend = 0, frame = 0
 1664              		@ frame_needed = 0, uses_anonymous_args = 0
 1665              		@ link register save eliminated.
1087:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
1088:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1089:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Pos;
1090:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1091:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1092:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if this is the top-level page table */
1093:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr)&RME_PGT_TOP)==0)
1094:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1095:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1096:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we attempting a kernel or non-canonical lookup? If yes, stop immediately */
1097:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Vaddr>=0x7FFFFFFFU)
1098:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1099:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1100:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table and start lookup - We know that there are only 2 levels */
1101:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op, rme_ptr_t*);
1102:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1103:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Calculate where is the entry - always 0 to 4096 */
1104:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Pos=(Vaddr>>RME_PGT_SIZE_1M)&0xFFFU;
1105:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Atomic read */
1106:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Temp=Table[Pos];
1107:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1108:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Find the position of the entry - Is there a page, a directory, or nothing? */
1109:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)!=0)
1110:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1111:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* There is a 1M page */
1112:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Pgt!=0)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 52


1113:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Pgt=(rme_ptr_t)Table;
1114:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Map_Vaddr!=0)
1115:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_1M);
1116:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Paddr!=0)
1117:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
1118:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Size_Order!=0)
1119:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Size_Order=RME_PGT_SIZE_1M;
1120:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Num_Order!=0)
1121:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Num_Order=RME_PGT_NUM_4K;
1122:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Flags!=0)
1123:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
1124:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1125:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1126:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else if((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0)
1127:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1128:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Table=(rme_ptr_t*)RME_A7A_PA2VA(RME_A7A_MMU_1M_PGT_ADDR(Temp));
1129:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Calculate where is the entry - always 0 to 256 */
1130:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Pos=(Vaddr>>RME_PGT_SIZE_4K)&0xFFU;
1131:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Atomic read */
1132:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Temp=Table[Pos];
1133:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1134:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)!=0)
1135:../../Source/Platform/A7A/rme_platform_a7a.c **** 		{
1136:../../Source/Platform/A7A/rme_platform_a7a.c **** 			/* There is a 4k page */
1137:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Pgt!=0)
1138:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Pgt=(rme_ptr_t)Table;
1139:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Map_Vaddr!=0)
1140:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_4K);
1141:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Paddr!=0)
1142:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
1143:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Size_Order!=0)
1144:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Size_Order=RME_PGT_SIZE_4K;
1145:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Num_Order!=0)
1146:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Num_Order=RME_PGT_NUM_256;
1147:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Flags!=0)
1148:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
1149:../../Source/Platform/A7A/rme_platform_a7a.c **** 		}
1150:../../Source/Platform/A7A/rme_platform_a7a.c **** 		else
1151:../../Source/Platform/A7A/rme_platform_a7a.c **** 			return RME_ERR_HAL_FAIL;
1152:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1153:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else
1154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return RME_ERR_HAL_FAIL;
1155:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1156:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1157:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1158:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1666              		.loc 1 1158 1 view .LVU420
 1667              	.LVL107:
 1668              		.loc 1 1158 1 is_stmt 0 view .LVU421
 1669 0000 1EFF2FE1 		bx	lr
 1670              		.cfi_endproc
 1671              	.LFE43:
 1673              		.global	RME_A7A_CPU_Cnt
 1674              		.global	RME_A7A_Mem_Info
 1675              		.global	RME_A7A_Kot
 1676              		.global	RME_A7A_Local
 1677              		.global	RME_A7A_Timestamp
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 53


 1678              		.section	.bss.RME_A7A_CPU_Cnt,"aw",%nobits
 1679              		.align	2
 1682              	RME_A7A_CPU_Cnt:
 1683 0000 00000000 		.space	4
 1684              		.section	.bss.RME_A7A_Kot,"aw",%nobits
 1685              		.align	3
 1688              	RME_A7A_Kot:
 1689 0000 00000000 		.space	8388608
 1689      00000000 
 1689      00000000 
 1689      00000000 
 1689      00000000 
 1690              		.section	.bss.RME_A7A_Local,"aw",%nobits
 1691              		.align	2
 1692              		.set	.LANCHOR0,. + 0
 1695              	RME_A7A_Local:
 1696 0000 00000000 		.space	276
 1696      00000000 
 1696      00000000 
 1696      00000000 
 1696      00000000 
 1697              		.section	.bss.RME_A7A_Timestamp,"aw",%nobits
 1698              		.align	2
 1701              	RME_A7A_Timestamp:
 1702 0000 00000000 		.space	4
 1703              		.section	.rodata.RME_A7A_Mem_Info,"a"
 1704              		.align	3
 1707              	RME_A7A_Mem_Info:
 1708 0000 21000000 		.word	33
 1709 0004 00000001 		.word	16777216
 1710 0008 00000001 		.word	16777216
 1711 000c F0030000 		.word	1008
 1712 0010 0D080300 		.word	198669
 1713 0014 0000F0FF 		.word	-1048576
 1714 0018 00000000 		.word	0
 1715 001c 01000000 		.word	1
 1716 0020 0D080300 		.word	198669
 1717 0024 00000040 		.word	1073741824
 1718 0028 00000040 		.word	1073741824
 1719 002c 00020000 		.word	512
 1720 0030 0D080300 		.word	198669
 1721 0034 000000E0 		.word	-536870912
 1722 0038 00000060 		.word	1610612736
 1723 003c 00020000 		.word	512
 1724 0040 0D080300 		.word	198669
 1725 0044 00000000 		.word	0
 1726 0048 00000080 		.word	-2147483648
 1727 004c 00040000 		.word	1024
 1728 0050 0D000300 		.word	196621
 1729 0054 00000000 		.word	0
 1730 0058 000000C0 		.word	-1073741824
 1731 005c 01000000 		.word	1
 1732 0060 0D000300 		.word	196621
 1733 0064 00001040 		.word	1074790400
 1734 0068 000010C0 		.word	-1072693248
 1735 006c FF010000 		.word	511
 1736 0070 01000300 		.word	196609
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 54


 1737 0074 000000E0 		.word	-536870912
 1738 0078 000000E0 		.word	-536870912
 1739 007c 00020000 		.word	512
 1740 0080 01000300 		.word	196609
 1741              		.text
 1742              	.Letext0:
 1743              		.file 2 "../../Include/Platform/A7A/rme_platform_a7a.h"
 1744              		.file 3 "../../Include/Kernel/rme_kernel.h"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 55


DEFINED SYMBOLS
                            *ABS*:00000000 rme_platform_a7a.c
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:22     .text.startup.main:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:27     .text.startup.main:00000000 main
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:51     .text.startup.main:00000014 $d
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:56     .text.__RME_A7A_Comp_Swap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:61     .text.__RME_A7A_Comp_Swap:00000000 __RME_A7A_Comp_Swap
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:77     .text.__RME_Putchar:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:82     .text.__RME_Putchar:00000000 __RME_Putchar
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:113    .text.__RME_A7A_Int_Local_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:118    .text.__RME_A7A_Int_Local_Init:00000000 __RME_A7A_Int_Local_Init
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:148    .text.__RME_A7A_Feature_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:153    .text.__RME_A7A_Feature_Get:00000000 __RME_A7A_Feature_Get
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:164    .text.__RME_A7A_Mem_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:169    .text.__RME_A7A_Mem_Init:00000000 __RME_A7A_Mem_Init
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:183    .text.__RME_A7A_SMP_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:188    .text.__RME_A7A_SMP_Init:00000000 __RME_A7A_SMP_Init
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:199    .text.__RME_A7A_SMP_Tick:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:204    .text.__RME_A7A_SMP_Tick:00000000 __RME_A7A_SMP_Tick
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:215    .rodata.__RME_Lowlvl_Init.str1.4:00000000 $d
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:216    .rodata.__RME_Lowlvl_Init.str1.4:00000000 .LC0
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:219    .rodata.__RME_Lowlvl_Init.str1.4:00000018 .LC1
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:222    .rodata.__RME_Lowlvl_Init.str1.4:00000030 .LC2
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:225    .rodata.__RME_Lowlvl_Init.str1.4:00000048 .LC3
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:228    .rodata.__RME_Lowlvl_Init.str1.4:00000064 .LC4
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:231    .rodata.__RME_Lowlvl_Init.str1.4:0000007c .LC5
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:234    .rodata.__RME_Lowlvl_Init.str1.4:0000009c .LC6
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:237    .rodata.__RME_Lowlvl_Init.str1.4:000000b4 .LC7
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:240    .rodata.__RME_Lowlvl_Init.str1.4:000000d8 .LC8
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:243    .rodata.__RME_Lowlvl_Init.str1.4:000000ec .LC9
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:246    .text.__RME_Lowlvl_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:251    .text.__RME_Lowlvl_Init:00000000 __RME_Lowlvl_Init
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1692   .bss.RME_A7A_Local:00000000 .LANCHOR0
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:572    .text.__RME_Pgt_Kom_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:577    .text.__RME_Pgt_Kom_Init:00000000 __RME_Pgt_Kom_Init
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:592    .text.__RME_SMP_Low_Level_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:597    .text.__RME_SMP_Low_Level_Init:00000000 __RME_SMP_Low_Level_Init
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:609    .text.__RME_Boot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:614    .text.__RME_Boot:00000000 __RME_Boot
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:681    .text.__RME_Reboot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:686    .text.__RME_Reboot:00000000 __RME_Reboot
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:699    .text.__RME_Shutdown:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:704    .text.__RME_Shutdown:00000000 __RME_Shutdown
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:715    .text.__RME_Get_Syscall_Param:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:720    .text.__RME_Get_Syscall_Param:00000000 __RME_Get_Syscall_Param
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:761    .text.__RME_Set_Syscall_Retval:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:766    .text.__RME_Set_Syscall_Retval:00000000 __RME_Set_Syscall_Retval
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:783    .text.__RME_Thd_Reg_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:788    .text.__RME_Thd_Reg_Init:00000000 __RME_Thd_Reg_Init
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:814    .text.__RME_Thd_Reg_Copy:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:819    .text.__RME_Thd_Reg_Copy:00000000 __RME_Thd_Reg_Copy
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:913    .text.__RME_Thd_Cop_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:918    .text.__RME_Thd_Cop_Init:00000000 __RME_Thd_Cop_Init
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:932    .text.__RME_Thd_Cop_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:937    .text.__RME_Thd_Cop_Save:00000000 __RME_Thd_Cop_Save
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:948    .text.__RME_Thd_Cop_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:953    .text.__RME_Thd_Cop_Restore:00000000 __RME_Thd_Cop_Restore
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 56


C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:964    .text.__RME_Inv_Reg_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:969    .text.__RME_Inv_Reg_Save:00000000 __RME_Inv_Reg_Save
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:993    .text.__RME_Inv_Reg_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:998    .text.__RME_Inv_Reg_Restore:00000000 __RME_Inv_Reg_Restore
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1022   .text.__RME_Inv_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1027   .text.__RME_Inv_Retval_Set:00000000 __RME_Inv_Retval_Set
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1041   .text.__RME_Set_Inv_Retval:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1046   .text.__RME_Set_Inv_Retval:00000000 __RME_Set_Inv_Retval
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1063   .text.__RME_Kern_Func_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1068   .text.__RME_Kern_Func_Handler:00000000 __RME_Kern_Func_Handler
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1086   .text.__RME_A7A_Undefined_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1091   .text.__RME_A7A_Undefined_Handler:00000000 __RME_A7A_Undefined_Handler
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1109   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1114   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 __RME_A7A_Prefetch_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1132   .text.__RME_A7A_Data_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1137   .text.__RME_A7A_Data_Abort_Handler:00000000 __RME_A7A_Data_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1155   .rodata.__RME_A7A_IRQ_Handler.str1.4:00000000 $d
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1156   .rodata.__RME_A7A_IRQ_Handler.str1.4:00000000 .LC10
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1159   .rodata.__RME_A7A_IRQ_Handler.str1.4:0000000c .LC11
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1162   .rodata.__RME_A7A_IRQ_Handler.str1.4:00000018 .LC12
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1165   .text.__RME_A7A_IRQ_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1170   .text.__RME_A7A_IRQ_Handler:00000000 __RME_A7A_IRQ_Handler
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1356   .text._RME_A7A_SGI_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1361   .text._RME_A7A_SGI_Handler:00000000 _RME_A7A_SGI_Handler
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1376   .rodata.__RME_A7A_Generic_Handler.str1.4:00000000 $d
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1377   .rodata.__RME_A7A_Generic_Handler.str1.4:00000000 .LC13
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1380   .text.__RME_A7A_Generic_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1385   .text.__RME_A7A_Generic_Handler:00000000 __RME_A7A_Generic_Handler
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1422   .text.__RME_Pgt_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1427   .text.__RME_Pgt_Set:00000000 __RME_Pgt_Set
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1441   .text.__RME_Pgt_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1446   .text.__RME_Pgt_Check:00000000 __RME_Pgt_Check
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1508   .text.__RME_Pgt_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1513   .text.__RME_Pgt_Init:00000000 __RME_Pgt_Init
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1529   .text.__RME_Pgt_Del_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1534   .text.__RME_Pgt_Del_Check:00000000 __RME_Pgt_Del_Check
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1546   .text.__RME_Pgt_Page_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1551   .text.__RME_Pgt_Page_Map:00000000 __RME_Pgt_Page_Map
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1567   .text.__RME_Pgt_Page_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1572   .text.__RME_Pgt_Page_Unmap:00000000 __RME_Pgt_Page_Unmap
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1588   .text.__RME_Pgt_Pgdir_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1593   .text.__RME_Pgt_Pgdir_Map:00000000 __RME_Pgt_Pgdir_Map
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1609   .text.__RME_Pgt_Pgdir_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1614   .text.__RME_Pgt_Pgdir_Unmap:00000000 __RME_Pgt_Pgdir_Unmap
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1632   .text.__RME_Pgt_Lookup:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1637   .text.__RME_Pgt_Lookup:00000000 __RME_Pgt_Lookup
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1653   .text.__RME_Pgt_Walk:00000000 $a
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1658   .text.__RME_Pgt_Walk:00000000 __RME_Pgt_Walk
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1682   .bss.RME_A7A_CPU_Cnt:00000000 RME_A7A_CPU_Cnt
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1707   .rodata.RME_A7A_Mem_Info:00000000 RME_A7A_Mem_Info
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1688   .bss.RME_A7A_Kot:00000000 RME_A7A_Kot
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1695   .bss.RME_A7A_Local:00000000 RME_A7A_Local
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1701   .bss.RME_A7A_Timestamp:00000000 RME_A7A_Timestamp
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1679   .bss.RME_A7A_CPU_Cnt:00000000 $d
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1685   .bss.RME_A7A_Kot:00000000 $d
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1691   .bss.RME_A7A_Local:00000000 $d
C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1698   .bss.RME_A7A_Timestamp:00000000 $d
ARM GAS  C:\Users\even\AppData\Local\Temp\ccqGPvg8.s 			page 57


C:\Users\even\AppData\Local\Temp\ccqGPvg8.s:1704   .rodata.RME_A7A_Mem_Info:00000000 $d
                           .group:00000000 wm4.0.fe3c9ee3fdfbed0fcc0e8dc47e87fbb2
                           .group:00000000 wm4.rme_platform_a7a.h.12.8f8c1a9c16a36858a0695f6301ef3974
                           .group:00000000 wm4.rme_platform_xc7z020.h.15.b641e16cd0eea43c871ede6ca7cc50b1
                           .group:00000000 wm4.rme_platform_a7a.h.136.3fbf02c166445c335d4427cc87227d3a
                           .group:00000000 wm4.rme_kernel.h.27.716340edb41bad57d522729bf2b8a38a
                           .group:00000000 wm4.rme.h.11.9832b5e30070a0fa5589a615f357d92d
                           .group:00000000 wm4.rme_kernel.h.185.3974182bb1c1d44bb740025d2e899ec7
                           .group:00000000 wm4.rme_platform_a7a.h.390.918e282e9d9d990fe491c99e3e90944b
                           .group:00000000 wm4.rme_kernel.h.679.5cba0ca852965e732f79ab9e9cae51eb
                           .group:00000000 wm4.rme_platform_a7a.h.507.8db5107616a3304d0fa815a386b1930f
                           .group:00000000 wm4.rme_kernel.h.931.ec71bd25af7f487c8cb7f50ed1922251

UNDEFINED SYMBOLS
_RME_Kmain
__RME_A7A_Stack_Start
_RME_CPU_Local_Init
RME_Str_Print
RME_Int_Print
RME_DBG_U
__RME_A7A_Vector_Table
__RME_A7A_VBAR_Set
__RME_A7A_SCR_Get
__RME_Enable_Int
RME_Log
_RME_Tick_SMP_Handler
_RME_Tick_Handler
