ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 1


   1              		.cpu cortex-a9
   2              		.arch armv7-a
   3              		.fpu neon-fp16
   4              		.arch_extension mp
   5              		.arch_extension sec
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"rme_platform_a7a.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "../../Source/Platform/A7A/rme_platform_a7a.c"
  20              		.section	.rodata.RME_A7A_Pgflg_1M_RME2NAT,"a"
  21              		.align	2
  24              	RME_A7A_Pgflg_1M_RME2NAT:
  25 0000 11880300 		.word	231441
  26 0004 11880300 		.word	231441
  27 0008 11080300 		.word	198673
  28 000c 11080300 		.word	198673
  29 0010 01880300 		.word	231425
  30 0014 01880300 		.word	231425
  31 0018 01080300 		.word	198657
  32 001c 01080300 		.word	198657
  33 0020 19880300 		.word	231449
  34 0024 19880300 		.word	231449
  35 0028 19080300 		.word	198681
  36 002c 19080300 		.word	198681
  37 0030 09880300 		.word	231433
  38 0034 09880300 		.word	231433
  39 0038 09080300 		.word	198665
  40 003c 09080300 		.word	198665
  41 0040 15880300 		.word	231445
  42 0044 15880300 		.word	231445
  43 0048 15080300 		.word	198677
  44 004c 15080300 		.word	198677
  45 0050 05880300 		.word	231429
  46 0054 05880300 		.word	231429
  47 0058 05080300 		.word	198661
  48 005c 05080300 		.word	198661
  49 0060 1D880300 		.word	231453
  50 0064 1D880300 		.word	231453
  51 0068 1D080300 		.word	198685
  52 006c 1D080300 		.word	198685
  53 0070 0D880300 		.word	231437
  54 0074 0D880300 		.word	231437
  55 0078 0D080300 		.word	198669
  56 007c 0D080300 		.word	198669
  57              		.section	.rodata.RME_A7A_Pgflg_4K_RME2NAT,"a"
  58              		.align	2
  61              	RME_A7A_Pgflg_4K_RME2NAT:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 2


  62 0000 230E0000 		.word	3619
  63 0004 230E0000 		.word	3619
  64 0008 230C0000 		.word	3107
  65 000c 230C0000 		.word	3107
  66 0010 220E0000 		.word	3618
  67 0014 220E0000 		.word	3618
  68 0018 220C0000 		.word	3106
  69 001c 220C0000 		.word	3106
  70 0020 2B0E0000 		.word	3627
  71 0024 2B0E0000 		.word	3627
  72 0028 2B0C0000 		.word	3115
  73 002c 2B0C0000 		.word	3115
  74 0030 2A0E0000 		.word	3626
  75 0034 2A0E0000 		.word	3626
  76 0038 2A0C0000 		.word	3114
  77 003c 2A0C0000 		.word	3114
  78 0040 270E0000 		.word	3623
  79 0044 270E0000 		.word	3623
  80 0048 270C0000 		.word	3111
  81 004c 270C0000 		.word	3111
  82 0050 260E0000 		.word	3622
  83 0054 260E0000 		.word	3622
  84 0058 260C0000 		.word	3110
  85 005c 260C0000 		.word	3110
  86 0060 2F0E0000 		.word	3631
  87 0064 2F0E0000 		.word	3631
  88 0068 2F0C0000 		.word	3119
  89 006c 2F0C0000 		.word	3119
  90 0070 2E0E0000 		.word	3630
  91 0074 2E0E0000 		.word	3630
  92 0078 2E0C0000 		.word	3118
  93 007c 2E0C0000 		.word	3118
  94              		.section	.rodata.RME_A7A_Pgflg_1M_NAT2RME,"a"
  95              		.align	2
  98              	RME_A7A_Pgflg_1M_NAT2RME:
  99 0000 07000000 		.word	7
 100 0004 17000000 		.word	23
 101 0008 0F000000 		.word	15
 102 000c 1F000000 		.word	31
 103 0010 03000000 		.word	3
 104 0014 13000000 		.word	19
 105 0018 0B000000 		.word	11
 106 001c 1B000000 		.word	27
 107 0020 05000000 		.word	5
 108 0024 15000000 		.word	21
 109 0028 0D000000 		.word	13
 110 002c 1D000000 		.word	29
 111 0030 01000000 		.word	1
 112 0034 11000000 		.word	17
 113 0038 09000000 		.word	9
 114 003c 19000000 		.word	25
 115              		.section	.rodata.RME_A7A_Pgflg_4K_NAT2RME,"a"
 116              		.align	2
 119              	RME_A7A_Pgflg_4K_NAT2RME:
 120 0000 07000000 		.word	7
 121 0004 03000000 		.word	3
 122 0008 17000000 		.word	23
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 3


 123 000c 13000000 		.word	19
 124 0010 0F000000 		.word	15
 125 0014 0B000000 		.word	11
 126 0018 1F000000 		.word	31
 127 001c 1B000000 		.word	27
 128 0020 05000000 		.word	5
 129 0024 01000000 		.word	1
 130 0028 15000000 		.word	21
 131 002c 11000000 		.word	17
 132 0030 0D000000 		.word	13
 133 0034 09000000 		.word	9
 134 0038 1D000000 		.word	29
 135 003c 19000000 		.word	25
 136              		.global	RME_A7A_Timestamp
 137              		.section	.bss.RME_A7A_Timestamp,"aw",%nobits
 138              		.align	2
 141              	RME_A7A_Timestamp:
 142 0000 00000000 		.space	4
 143              		.global	RME_A7A_Local
 144              		.section	.bss.RME_A7A_Local,"aw",%nobits
 145              		.align	2
 148              	RME_A7A_Local:
 149 0000 00000000 		.space	276
 149      00000000 
 149      00000000 
 149      00000000 
 149      00000000 
 150              		.global	RME_A7A_Kot
 151              		.section	.bss.RME_A7A_Kot,"aw",%nobits
 152              		.align	2
 155              	RME_A7A_Kot:
 156 0000 00000000 		.space	8388608
 156      00000000 
 156      00000000 
 156      00000000 
 156      00000000 
 157              		.global	RME_A7A_Mem_Info
 158              		.section	.rodata.RME_A7A_Mem_Info,"a"
 159              		.align	2
 162              	RME_A7A_Mem_Info:
 163 0000 19000000 		.word	25
 164 0004 00000000 		.word	0
 165 0008 00000000 		.word	0
 166 000c 00040000 		.word	1024
 167 0010 0E0C0300 		.word	199694
 168 0014 00000040 		.word	1073741824
 169 0018 00000040 		.word	1073741824
 170 001c 00020000 		.word	512
 171 0020 020C0300 		.word	199682
 172 0024 000000E0 		.word	-536870912
 173 0028 00000060 		.word	1610612736
 174 002c 00020000 		.word	512
 175 0030 020C0300 		.word	199682
 176 0034 00000000 		.word	0
 177 0038 00000080 		.word	-2147483648
 178 003c 00040000 		.word	1024
 179 0040 0E040300 		.word	197646
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 4


 180 0044 00000040 		.word	1073741824
 181 0048 000000C0 		.word	-1073741824
 182 004c 00020000 		.word	512
 183 0050 02040300 		.word	197634
 184 0054 000000E0 		.word	-536870912
 185 0058 000000E0 		.word	-536870912
 186 005c 00020000 		.word	512
 187 0060 02040300 		.word	197634
 188              		.global	RME_A7A_CPU_Cnt
 189              		.section	.bss.RME_A7A_CPU_Cnt,"aw",%nobits
 190              		.align	2
 193              	RME_A7A_CPU_Cnt:
 194 0000 00000000 		.space	4
 195              		.section	.text.main,"ax",%progbits
 196              		.align	2
 197              		.global	main
 198              		.syntax unified
 199              		.arm
 201              	main:
 202              	.LFB0:
   1:../../Source/Platform/A7A/rme_platform_a7a.c **** /******************************************************************************
   2:../../Source/Platform/A7A/rme_platform_a7a.c **** Filename    : platform_a7a.c
   3:../../Source/Platform/A7A/rme_platform_a7a.c **** Author      : pry
   4:../../Source/Platform/A7A/rme_platform_a7a.c **** Date        : 01/04/2017
   5:../../Source/Platform/A7A/rme_platform_a7a.c **** Licence     : LGPL v3+; see COPYING for details.
   6:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The hardware abstraction layer for ARMv7-A machines.
   7:../../Source/Platform/A7A/rme_platform_a7a.c ****               1. Interrupt controller
   8:../../Source/Platform/A7A/rme_platform_a7a.c ****               2. Timer
   9:../../Source/Platform/A7A/rme_platform_a7a.c ****               3. Pgt setup
  10:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  11:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  12:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Include *******************************************************************/
  13:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_DEF__
  14:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  15:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  16:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_DEF__
  17:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  18:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_STRUCT__
  19:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  20:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  21:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_STRUCT__
  22:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  23:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Private include */
  24:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  25:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  26:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_PUBLIC__
  27:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  28:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_PUBLIC__
  29:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Include ***************************************************************/
  30:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  31:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:main **************************************************************
  32:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The entrance of the operating system.
  33:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  34:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  35:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : int - This function never returns.
  36:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  37:../../Source/Platform/A7A/rme_platform_a7a.c **** int main(void)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 5


  38:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 203              		.loc 1 38 1
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 0
 206              		@ frame_needed = 1, uses_anonymous_args = 0
 207 0000 00482DE9 		push	{fp, lr}
 208              		.cfi_def_cfa_offset 8
 209              		.cfi_offset 11, -8
 210              		.cfi_offset 14, -4
 211 0004 04B08DE2 		add	fp, sp, #4
 212              		.cfi_def_cfa 11, 4
  39:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_H(__RME_A7A_ID_ISAR0_Get());
  40:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_I(10);
  41:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//while(1);
  42:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('h');
  43:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('e');
  44:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  45:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  46:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  47:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar(' ');
  48:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('w');*/
  49:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  50:../../Source/Platform/A7A/rme_platform_a7a.c ****    /* RME_DBG_S("0123456789\n");
  51:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  52:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  53:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  54:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  55:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  56:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  57:../../Source/Platform/A7A/rme_platform_a7a.c ****     while(1);*/
  58:../../Source/Platform/A7A/rme_platform_a7a.c ****    // __RME_Putchar('h');
  59:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('e');
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  61:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');*/
  62:../../Source/Platform/A7A/rme_platform_a7a.c ****     //__RME_Putchar('o');
  63:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('w');
  64:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  65:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('r');
  66:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  67:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('d');*/
  68:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_Kmain();
 213              		.loc 1 68 5
 214 0008 FEFFFFEB 		bl	RME_Kmain
  69:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  70:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  71:../../Source/Platform/A7A/rme_platform_a7a.c ****     //test
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The main function of the kernel - we will start our kernel boot here */
  73:../../Source/Platform/A7A/rme_platform_a7a.c ****     //_RME_Kmain(RME_KOM_STACK_ADDR);
  74:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  75:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 215              		.loc 1 75 12
 216 000c 0030A0E3 		mov	r3, #0
  76:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 217              		.loc 1 76 1
 218 0010 0300A0E1 		mov	r0, r3
 219 0014 0088BDE8 		pop	{fp, pc}
 220              		.cfi_endproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 6


 221              	.LFE0:
 223              		.section	.text.__RME_Putchar,"ax",%progbits
 224              		.align	2
 225              		.global	__RME_Putchar
 226              		.syntax unified
 227              		.arm
 229              	__RME_Putchar:
 230              	.LFB1:
  77:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
  78:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  79:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Putchar *****************************************************
  80:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Output a character to console. In Cortex-M, under most circumstances, 
  81:../../Source/Platform/A7A/rme_platform_a7a.c ****               we should use the ITM for such outputs.
  82:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : char Char - The character to print.
  83:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  84:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
  85:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  86:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Putchar(char Char)
  87:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 231              		.loc 1 87 1
 232              		.cfi_startproc
 233              		@ args = 0, pretend = 0, frame = 8
 234              		@ frame_needed = 1, uses_anonymous_args = 0
 235              		@ link register save eliminated.
 236 0000 04B02DE5 		str	fp, [sp, #-4]!
 237              		.cfi_def_cfa_offset 4
 238              		.cfi_offset 11, -4
 239 0004 00B08DE2 		add	fp, sp, #0
 240              		.cfi_def_cfa_register 11
 241 0008 0CD04DE2 		sub	sp, sp, #12
 242 000c 0030A0E1 		mov	r3, r0
 243 0010 05304BE5 		strb	r3, [fp, #-5]
 244              	.L4:
  88:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PUTCHAR(Char);
 245              		.loc 1 88 5 discriminator 1
 246 0014 2C3001E3 		movw	r3, #4140
 247 0018 00304EE3 		movt	r3, 57344
 248 001c 003093E5 		ldr	r3, [r3]
 249 0020 083003E2 		and	r3, r3, #8
 250 0024 000053E3 		cmp	r3, #0
 251 0028 F9FFFF0A 		beq	.L4
 252              		.loc 1 88 5 is_stmt 0 discriminator 2
 253 002c 303001E3 		movw	r3, #4144
 254 0030 00304EE3 		movt	r3, 57344
 255 0034 D5205BE1 		ldrsb	r2, [fp, #-5]
 256 0038 002083E5 		str	r2, [r3]
  89:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 257              		.loc 1 89 12 is_stmt 1
 258 003c 0030A0E3 		mov	r3, #0
  90:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 259              		.loc 1 90 1
 260 0040 0300A0E1 		mov	r0, r3
 261 0044 00D08BE2 		add	sp, fp, #0
 262              		.cfi_def_cfa_register 13
 263              		@ sp needed
 264 0048 04B09DE4 		ldr	fp, [sp], #4
 265              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 7


 266              		.cfi_def_cfa_offset 0
 267 004c 1EFF2FE1 		bx	lr
 268              		.cfi_endproc
 269              	.LFE1:
 271              		.section	.rodata
 272              		.align	2
 273              	.LC0:
 274 0000 0D0A4137 		.ascii	"\015\012A7A-GIC: ProductID: \000"
 274      412D4749 
 274      433A2050 
 274      726F6475 
 274      63744944 
 275 0017 00       		.align	2
 276              	.LC1:
 277 0018 0D0A4137 		.ascii	"\015\012A7A-GIC: Variant: \000"
 277      412D4749 
 277      433A2056 
 277      61726961 
 277      6E743A20 
 278 002d 000000   		.align	2
 279              	.LC2:
 280 0030 0D0A4137 		.ascii	"\015\012A7A-GIC: Revision: \000"
 280      412D4749 
 280      433A2052 
 280      65766973 
 280      696F6E3A 
 281 0046 0000     		.align	2
 282              	.LC3:
 283 0048 0D0A4137 		.ascii	"\015\012A7A-GIC: Implementer: 0x\000"
 283      412D4749 
 283      433A2049 
 283      6D706C65 
 283      6D656E74 
 284 0063 00       		.align	2
 285              	.LC4:
 286 0064 0D0A4137 		.ascii	"\015\012A7A-GIC: SPI number: \000"
 286      412D4749 
 286      433A2053 
 286      5049206E 
 286      756D6265 
 287              		.align	2
 288              	.LC5:
 289 007c 0D0A4137 		.ascii	"\015\012A7A-GIC: Security extension: \000"
 289      412D4749 
 289      433A2053 
 289      65637572 
 289      69747920 
 290              		.align	2
 291              	.LC6:
 292 009c 0D0A4137 		.ascii	"\015\012A7A-GIC: CPU number: \000"
 292      412D4749 
 292      433A2043 
 292      5055206E 
 292      756D6265 
 293              		.align	2
 294              	.LC7:
 295 00b4 0D0A4137 		.ascii	"\015\012A7A-GIC: Interrupt line number: \000"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 8


 295      412D4749 
 295      433A2049 
 295      6E746572 
 295      72757074 
 296              		.section	.text.__RME_A7A_Int_Init,"ax",%progbits
 297              		.align	2
 298              		.syntax unified
 299              		.arm
 301              	__RME_A7A_Int_Init:
 302              	.LFB2:
  91:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Putchar ************************************************/
  92:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  93:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_CPU_Local_Get ******************************************
  94:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the CPU-local data structures. This is to identify where we are
  95:../../Source/Platform/A7A/rme_platform_a7a.c ****               executing.
  96:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  97:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  98:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : struct RME_CPU_Local* - The CPU-local data structures.
  99:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 100:../../Source/Platform/A7A/rme_platform_a7a.c **** /*struct RME_CPU_Local* __RME_A7A_CPU_Local_Get(void)
 101:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 102:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return &RME_A7A_Local[__RME_A7A_MPIDR_Get()&0x03];
 103:../../Source/Platform/A7A/rme_platform_a7a.c **** }*/
 104:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_CPU_Local_Get *************************************/
 105:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 106:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Init ***********************************************
 107:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 108:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 109:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 110:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 111:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 112:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 113:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 114:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Init(void)
 115:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 303              		.loc 1 115 1
 304              		.cfi_startproc
 305              		@ args = 0, pretend = 0, frame = 8
 306              		@ frame_needed = 1, uses_anonymous_args = 0
 307 0000 00482DE9 		push	{fp, lr}
 308              		.cfi_def_cfa_offset 8
 309              		.cfi_offset 11, -8
 310              		.cfi_offset 14, -4
 311 0004 04B08DE2 		add	fp, sp, #4
 312              		.cfi_def_cfa 11, 4
 313 0008 08D04DE2 		sub	sp, sp, #8
 116:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
 117:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Lines;
 118:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 119:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Who implemented the GIC, what variant, how many interrupts? */
 120:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_IIDR;
 314              		.loc 1 120 10
 315 000c 083001E3 		movw	r3, #4104
 316 0010 F0384FE3 		movt	r3, 63728
 317              		.loc 1 120 9
 318 0014 003093E5 		ldr	r3, [r3]
 319 0018 08300BE5 		str	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 9


 121:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 320              		.loc 1 121 5
 321 001c 000000E3 		movw	r0, #:lower16:.LC0
 322 0020 000040E3 		movt	r0, #:upper16:.LC0
 323 0024 FEFFFFEB 		bl	RME_Str_Print
 122:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>24);
 324              		.loc 1 122 5
 325 0028 08301BE5 		ldr	r3, [fp, #-8]
 326 002c 233CA0E1 		lsr	r3, r3, #24
 327 0030 0300A0E1 		mov	r0, r3
 328 0034 FEFFFFEB 		bl	RME_Int_Print
 123:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Variant: ");
 329              		.loc 1 123 5
 330 0038 000000E3 		movw	r0, #:lower16:.LC1
 331 003c 000040E3 		movt	r0, #:upper16:.LC1
 332 0040 FEFFFFEB 		bl	RME_Str_Print
 124:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>20)&0xF);
 333              		.loc 1 124 5
 334 0044 08301BE5 		ldr	r3, [fp, #-8]
 335 0048 233AA0E1 		lsr	r3, r3, #20
 336 004c 0F3003E2 		and	r3, r3, #15
 337 0050 0300A0E1 		mov	r0, r3
 338 0054 FEFFFFEB 		bl	RME_Int_Print
 125:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Revision: ");
 339              		.loc 1 125 5
 340 0058 000000E3 		movw	r0, #:lower16:.LC2
 341 005c 000040E3 		movt	r0, #:upper16:.LC2
 342 0060 FEFFFFEB 		bl	RME_Str_Print
 126:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>12)&0xF);
 343              		.loc 1 126 5
 344 0064 08301BE5 		ldr	r3, [fp, #-8]
 345 0068 2336A0E1 		lsr	r3, r3, #12
 346 006c 0F3003E2 		and	r3, r3, #15
 347 0070 0300A0E1 		mov	r0, r3
 348 0074 FEFFFFEB 		bl	RME_Int_Print
 127:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Implementer: 0x");
 349              		.loc 1 127 5
 350 0078 000000E3 		movw	r0, #:lower16:.LC3
 351 007c 000040E3 		movt	r0, #:upper16:.LC3
 352 0080 FEFFFFEB 		bl	RME_Str_Print
 128:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Temp&0xFFF);
 353              		.loc 1 128 5
 354 0084 08301BE5 		ldr	r3, [fp, #-8]
 355 0088 5330EBE7 		ubfx	r3, r3, #0, #12
 356 008c 0300A0E1 		mov	r0, r3
 357 0090 FEFFFFEB 		bl	RME_Hex_Print
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 130:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* How many locked SPIs, security extension enabled or not, number of
 131:../../Source/Platform/A7A/rme_platform_a7a.c ****      * actual CPUs and interrupt lines */
 132:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_TYPER;
 358              		.loc 1 132 10
 359 0094 043001E3 		movw	r3, #4100
 360 0098 F0384FE3 		movt	r3, 63728
 361              		.loc 1 132 9
 362 009c 003093E5 		ldr	r3, [r3]
 363 00a0 08300BE5 		str	r3, [fp, #-8]
 133:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 10


 364              		.loc 1 133 5
 365 00a4 000000E3 		movw	r0, #:lower16:.LC4
 366 00a8 000040E3 		movt	r0, #:upper16:.LC4
 367 00ac FEFFFFEB 		bl	RME_Str_Print
 134:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 368              		.loc 1 134 5
 369 00b0 08301BE5 		ldr	r3, [fp, #-8]
 370 00b4 2338A0E1 		lsr	r3, r3, #16
 371 00b8 0300A0E1 		mov	r0, r3
 372 00bc FEFFFFEB 		bl	RME_Int_Print
 135:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Security extension: ");
 373              		.loc 1 135 5
 374 00c0 000000E3 		movw	r0, #:lower16:.LC5
 375 00c4 000040E3 		movt	r0, #:upper16:.LC5
 376 00c8 FEFFFFEB 		bl	RME_Str_Print
 136:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>10)&0x1);
 377              		.loc 1 136 5
 378 00cc 08301BE5 		ldr	r3, [fp, #-8]
 379 00d0 2335A0E1 		lsr	r3, r3, #10
 380 00d4 013003E2 		and	r3, r3, #1
 381 00d8 0300A0E1 		mov	r0, r3
 382 00dc FEFFFFEB 		bl	RME_Int_Print
 137:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: CPU number: ");
 383              		.loc 1 137 5
 384 00e0 000000E3 		movw	r0, #:lower16:.LC6
 385 00e4 000040E3 		movt	r0, #:upper16:.LC6
 386 00e8 FEFFFFEB 		bl	RME_Str_Print
 138:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(((Temp>>5)&0x7)+1);
 387              		.loc 1 138 5
 388 00ec 08301BE5 		ldr	r3, [fp, #-8]
 389 00f0 A332A0E1 		lsr	r3, r3, #5
 390 00f4 073003E2 		and	r3, r3, #7
 391 00f8 013083E2 		add	r3, r3, #1
 392 00fc 0300A0E1 		mov	r0, r3
 393 0100 FEFFFFEB 		bl	RME_Int_Print
 139:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 394              		.loc 1 139 5
 395 0104 000000E3 		movw	r0, #:lower16:.LC7
 396 0108 000040E3 		movt	r0, #:upper16:.LC7
 397 010c FEFFFFEB 		bl	RME_Str_Print
 140:../../Source/Platform/A7A/rme_platform_a7a.c ****     Lines=((Temp&0x1F)+1)*32;
 398              		.loc 1 140 17
 399 0110 08301BE5 		ldr	r3, [fp, #-8]
 400 0114 1F3003E2 		and	r3, r3, #31
 401              		.loc 1 140 23
 402 0118 013083E2 		add	r3, r3, #1
 403              		.loc 1 140 10
 404 011c 8332A0E1 		lsl	r3, r3, #5
 405 0120 0C300BE5 		str	r3, [fp, #-12]
 141:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 406              		.loc 1 141 5
 407 0124 0C301BE5 		ldr	r3, [fp, #-12]
 408 0128 0300A0E1 		mov	r0, r3
 409 012c FEFFFFEB 		bl	RME_Int_Print
 142:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 143:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 144:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 11


 145:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 0, and disable all */
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/32;Temp++)
 410              		.loc 1 146 10
 411 0130 0030A0E3 		mov	r3, #0
 412 0134 08300BE5 		str	r3, [fp, #-8]
 413              		.loc 1 146 2
 414 0138 1A0000EA 		b	.L7
 415              	.L8:
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 148:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 416              		.loc 1 148 3
 417 013c 08201BE5 		ldr	r2, [fp, #-8]
 418 0140 4A3EA0E3 		mov	r3, #1184
 419 0144 3C3E43E3 		movt	r3, 15932
 420 0148 033082E0 		add	r3, r2, r3
 421 014c 0331A0E1 		lsl	r3, r3, #2
 422 0150 0320A0E1 		mov	r2, r3
 423              		.loc 1 148 29
 424 0154 0030E0E3 		mvn	r3, #0
 425 0158 003082E5 		str	r3, [r2]
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 426              		.loc 1 149 3
 427 015c 08201BE5 		ldr	r2, [fp, #-8]
 428 0160 423EA0E3 		mov	r3, #1056
 429 0164 3C3E43E3 		movt	r3, 15932
 430 0168 033082E0 		add	r3, r2, r3
 431 016c 0331A0E1 		lsl	r3, r3, #2
 432 0170 0320A0E1 		mov	r2, r3
 433              		.loc 1 149 29
 434 0174 0030A0E3 		mov	r3, #0
 435 0178 003082E5 		str	r3, [r2]
 150:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 436              		.loc 1 150 3
 437 017c 08201BE5 		ldr	r2, [fp, #-8]
 438 0180 463EA0E3 		mov	r3, #1120
 439 0184 3C3E43E3 		movt	r3, 15932
 440 0188 033082E0 		add	r3, r2, r3
 441 018c 0331A0E1 		lsl	r3, r3, #2
 442 0190 0320A0E1 		mov	r2, r3
 443              		.loc 1 150 31
 444 0194 0030E0E3 		mvn	r3, #0
 445 0198 003082E5 		str	r3, [r2]
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 446              		.loc 1 146 31 discriminator 3
 447 019c 08301BE5 		ldr	r3, [fp, #-8]
 448 01a0 013083E2 		add	r3, r3, #1
 449 01a4 08300BE5 		str	r3, [fp, #-8]
 450              	.L7:
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 451              		.loc 1 146 23 discriminator 1
 452 01a8 0C301BE5 		ldr	r3, [fp, #-12]
 453 01ac A332A0E1 		lsr	r3, r3, #5
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 454              		.loc 1 146 17 discriminator 1
 455 01b0 08201BE5 		ldr	r2, [fp, #-8]
 456 01b4 030052E1 		cmp	r2, r3
 457 01b8 DFFFFF3A 		bcc	.L8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 12


 151:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 152:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 153:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Set the priority of all such interrupts to the lowest level */
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/4;Temp++)
 458              		.loc 1 154 10
 459 01bc 0030A0E3 		mov	r3, #0
 460 01c0 08300BE5 		str	r3, [fp, #-8]
 461              		.loc 1 154 2
 462 01c4 0B0000EA 		b	.L9
 463              	.L10:
 155:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 464              		.loc 1 155 3
 465 01c8 08201BE5 		ldr	r2, [fp, #-8]
 466 01cc 053CA0E3 		mov	r3, #1280
 467 01d0 3C3E43E3 		movt	r3, 15932
 468 01d4 033082E0 		add	r3, r2, r3
 469 01d8 0331A0E1 		lsl	r3, r3, #2
 470 01dc 0320A0E1 		mov	r2, r3
 471              		.loc 1 155 32
 472 01e0 A0300AE3 		movw	r3, #41120
 473 01e4 A0304AE3 		movt	r3, 41120
 474 01e8 003082E5 		str	r3, [r2]
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 475              		.loc 1 154 30 discriminator 3
 476 01ec 08301BE5 		ldr	r3, [fp, #-8]
 477 01f0 013083E2 		add	r3, r3, #1
 478 01f4 08300BE5 		str	r3, [fp, #-8]
 479              	.L9:
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 480              		.loc 1 154 23 discriminator 1
 481 01f8 0C301BE5 		ldr	r3, [fp, #-12]
 482 01fc 2331A0E1 		lsr	r3, r3, #2
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 483              		.loc 1 154 17 discriminator 1
 484 0200 08201BE5 		ldr	r2, [fp, #-8]
 485 0204 030052E1 		cmp	r2, r3
 486 0208 EEFFFF3A 		bcc	.L10
 156:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts target CPU0 */
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=8;Temp<Lines/4;Temp++)
 487              		.loc 1 158 10
 488 020c 0830A0E3 		mov	r3, #8
 489 0210 08300BE5 		str	r3, [fp, #-8]
 490              		.loc 1 158 2
 491 0214 0B0000EA 		b	.L11
 492              	.L12:
 159:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 493              		.loc 1 159 3
 494 0218 08201BE5 		ldr	r2, [fp, #-8]
 495 021c 063CA0E3 		mov	r3, #1536
 496 0220 3C3E43E3 		movt	r3, 15932
 497 0224 033082E0 		add	r3, r2, r3
 498 0228 0331A0E1 		lsl	r3, r3, #2
 499 022c 0320A0E1 		mov	r2, r3
 500              		.loc 1 159 31
 501 0230 013100E3 		movw	r3, #257
 502 0234 013140E3 		movt	r3, 257
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 13


 503 0238 003082E5 		str	r3, [r2]
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 504              		.loc 1 158 30 discriminator 3
 505 023c 08301BE5 		ldr	r3, [fp, #-8]
 506 0240 013083E2 		add	r3, r3, #1
 507 0244 08300BE5 		str	r3, [fp, #-8]
 508              	.L11:
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 509              		.loc 1 158 23 discriminator 1
 510 0248 0C301BE5 		ldr	r3, [fp, #-12]
 511 024c 2331A0E1 		lsr	r3, r3, #2
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 512              		.loc 1 158 17 discriminator 1
 513 0250 08201BE5 		ldr	r2, [fp, #-8]
 514 0254 030052E1 		cmp	r2, r3
 515 0258 EEFFFF3A 		bcc	.L12
 160:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts are edge triggered, and use 1-N model */
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/16;Temp++)
 516              		.loc 1 162 10
 517 025c 0030A0E3 		mov	r3, #0
 518 0260 08300BE5 		str	r3, [fp, #-8]
 519              		.loc 1 162 2
 520 0264 0B0000EA 		b	.L13
 521              	.L14:
 163:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 522              		.loc 1 163 3
 523 0268 08201BE5 		ldr	r2, [fp, #-8]
 524 026c 073CA0E3 		mov	r3, #1792
 525 0270 3C3E43E3 		movt	r3, 15932
 526 0274 033082E0 		add	r3, r2, r3
 527 0278 0331A0E1 		lsl	r3, r3, #2
 528 027c 0320A0E1 		mov	r2, r3
 529              		.loc 1 163 27
 530 0280 553505E3 		movw	r3, #21845
 531 0284 553545E3 		movt	r3, 21845
 532 0288 003082E5 		str	r3, [r2]
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 533              		.loc 1 162 31 discriminator 3
 534 028c 08301BE5 		ldr	r3, [fp, #-8]
 535 0290 013083E2 		add	r3, r3, #1
 536 0294 08300BE5 		str	r3, [fp, #-8]
 537              	.L13:
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 538              		.loc 1 162 23 discriminator 1
 539 0298 0C301BE5 		ldr	r3, [fp, #-12]
 540 029c 2332A0E1 		lsr	r3, r3, #4
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 541              		.loc 1 162 17 discriminator 1
 542 02a0 08201BE5 		ldr	r2, [fp, #-8]
 543 02a4 030052E1 		cmp	r2, r3
 544 02a8 EEFFFF3A 		bcc	.L14
 164:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable the interrupt controller */
 166:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 545              		.loc 1 166 2
 546 02ac 013AA0E3 		mov	r3, #4096
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 14


 547 02b0 F0384FE3 		movt	r3, 63728
 548              		.loc 1 166 19
 549 02b4 0320A0E3 		mov	r2, #3
 550 02b8 002083E5 		str	r2, [r3]
 167:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 168:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 1, unless otherwise noted, and disable all */
 169:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/32;Temp++)
 170:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 171:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 172:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_IGROUPR(Temp)=0xFFFFFFFFU;
 173:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 174:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 175:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 176:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the priority of all such interrupts to the lowest level*/
 177:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/4;Temp++)
 178:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xE0E0E0E0U;
 179:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 180:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts target CPU0 */
 181:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=8;Temp<Lines/4;Temp++)
 182:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 183:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 184:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts are edge triggered, and use 1-N model */
 185:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/16;Temp++)
 186:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICFGR(Temp)=0xFFFFFFFFU;
 187:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 188:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the interrupt controller */
 189:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 190:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 191:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 551              		.loc 1 191 1
 552 02bc 00F020E3 		nop
 553 02c0 04D04BE2 		sub	sp, fp, #4
 554              		.cfi_def_cfa 13, 8
 555              		@ sp needed
 556 02c4 0088BDE8 		pop	{fp, pc}
 557              		.cfi_endproc
 558              	.LFE2:
 560              		.section	.text.__RME_A7A_Int_Local_Init,"ax",%progbits
 561              		.align	2
 562              		.global	__RME_A7A_Int_Local_Init
 563              		.syntax unified
 564              		.arm
 566              	__RME_A7A_Int_Local_Init:
 567              	.LFB3:
 192:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Init ******************************************/
 193:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 194:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Local_Init *****************************************
 195:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the local CPU interface of the processor.
 196:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 197:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 198:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 199:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 200:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Local_Init(void)
 201:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 568              		.loc 1 201 1
 569              		.cfi_startproc
 570              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 15


 571              		@ frame_needed = 1, uses_anonymous_args = 0
 572              		@ link register save eliminated.
 573 0000 04B02DE5 		str	fp, [sp, #-4]!
 574              		.cfi_def_cfa_offset 4
 575              		.cfi_offset 11, -4
 576 0004 00B08DE2 		add	fp, sp, #0
 577              		.cfi_def_cfa_register 11
 202:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Priority grouping */
 203:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_BPR=RME_A7A_GIC_GROUPING;
 578              		.loc 1 203 2
 579 0008 413FA0E3 		mov	r3, #260
 580 000c F0384FE3 		movt	r3, 63728
 581              		.loc 1 203 18
 582 0010 0020A0E3 		mov	r2, #0
 583 0014 002083E5 		str	r2, [r3]
 204:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 205:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable all interrupts to this interface - FIQ is bypassed, and all
 207:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * interrupts go through the IRQ. The FIQ feature is only available on
 208:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * the standalone FIQ interrupt line */
 209:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_ENABLEGRP0;
 584              		.loc 1 209 2
 585 0018 013CA0E3 		mov	r3, #256
 586 001c F0384FE3 		movt	r3, 63728
 587              		.loc 1 209 19
 588 0020 0120A0E3 		mov	r2, #1
 589 0024 002083E5 		str	r2, [r3]
 210:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 211:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_CBPR|RME_A7A_GICC_FIQEN|
 212:../../Source/Platform/A7A/rme_platform_a7a.c **** 			           RME_A7A_GICC_ENABLEGRP1|RME_A7A_GICC_ENABLEGRP0;
 213:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 214:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 215:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* No interrupts are masked - This must be set at last because enabling
 216:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * will trash the contents of this register if previously set. To maintain
 217:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * compatibility across all possible implementations, no priority level
 218:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * lower than 0xF0 will be considered valid */
 219:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_PMR=0xF0U;
 590              		.loc 1 219 2
 591 0028 413FA0E3 		mov	r3, #260
 592 002c F0384FE3 		movt	r3, 63728
 593              		.loc 1 219 18
 594 0030 F020A0E3 		mov	r2, #240
 595 0034 002083E5 		str	r2, [r3]
 220:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 596              		.loc 1 220 1
 597 0038 00F020E3 		nop
 598 003c 00D08BE2 		add	sp, fp, #0
 599              		.cfi_def_cfa_register 13
 600              		@ sp needed
 601 0040 04B09DE4 		ldr	fp, [sp], #4
 602              		.cfi_restore 11
 603              		.cfi_def_cfa_offset 0
 604 0044 1EFF2FE1 		bx	lr
 605              		.cfi_endproc
 606              	.LFE3:
 608              		.section	.text.__RME_A7A_Timer_Init,"ax",%progbits
 609              		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 16


 610              		.syntax unified
 611              		.arm
 613              	__RME_A7A_Timer_Init:
 614              	.LFB4:
 221:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Local_Init ************************************/
 222:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 223:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Timer_Init *********************************************
 224:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 225:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 226:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 227:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 228:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 229:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 230:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 231:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Timer_Init(void)
 232:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 615              		.loc 1 232 1
 616              		.cfi_startproc
 617              		@ args = 0, pretend = 0, frame = 0
 618              		@ frame_needed = 1, uses_anonymous_args = 0
 619              		@ link register save eliminated.
 620 0000 04B02DE5 		str	fp, [sp, #-4]!
 621              		.cfi_def_cfa_offset 4
 622              		.cfi_offset 11, -4
 623 0004 00B08DE2 		add	fp, sp, #0
 624              		.cfi_def_cfa_register 11
 233:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 234:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 235:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Writing this will also write the counter register as well */
 236:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTLR=RME_A7A_SYSTICK_VAL;
 625              		.loc 1 236 5
 626 0008 063CA0E3 		mov	r3, #1536
 627 000c F0384FE3 		movt	r3, 63728
 628              		.loc 1 236 22
 629 0010 782408E3 		movw	r2, #33912
 630 0014 3A2040E3 		movt	r2, 58
 631 0018 002083E5 		str	r2, [r3]
 237:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 238:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTISR=0;
 632              		.loc 1 238 5
 633 001c 0C3600E3 		movw	r3, #1548
 634 0020 F0384FE3 		movt	r3, 63728
 635              		.loc 1 238 23
 636 0024 0020A0E3 		mov	r2, #0
 637 0028 002083E5 		str	r2, [r3]
 239:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 240:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTCTLR=RME_A7A_PTWD_PTCTLR_PRESC(0)|
 638              		.loc 1 240 5
 639 002c 083600E3 		movw	r3, #1544
 640 0030 F0384FE3 		movt	r3, 63728
 641              		.loc 1 240 24
 642 0034 0720A0E3 		mov	r2, #7
 643 0038 002083E5 		str	r2, [r3]
 241:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 242:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_AUTOREL|
 243:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_TIMEN;
 244:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 17


 245:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the timer interrupt in the GIC */
 246:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_ISENABLER(0)|=1<<29;
 644              		.loc 1 246 5
 645 003c 113CA0E3 		mov	r3, #4352
 646 0040 F0384FE3 		movt	r3, 63728
 647 0044 002093E5 		ldr	r2, [r3]
 648 0048 113CA0E3 		mov	r3, #4352
 649 004c F0384FE3 		movt	r3, 63728
 650              		.loc 1 246 30
 651 0050 022282E3 		orr	r2, r2, #536870912
 652 0054 002083E5 		str	r2, [r3]
 247:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 248:../../Source/Platform/A7A/rme_platform_a7a.c **** 	#error Cortex-A7/8/15/17 is not supported at the moment.
 249:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cortex-A7/15/17 use the new generic timer, and Cortex-A8 does not
 250:../../Source/Platform/A7A/rme_platform_a7a.c **** 	have a processor timer due to very early release dates.
 251:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 252:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 653              		.loc 1 252 1
 654 0058 00F020E3 		nop
 655 005c 00D08BE2 		add	sp, fp, #0
 656              		.cfi_def_cfa_register 13
 657              		@ sp needed
 658 0060 04B09DE4 		ldr	fp, [sp], #4
 659              		.cfi_restore 11
 660              		.cfi_def_cfa_offset 0
 661 0064 1EFF2FE1 		bx	lr
 662              		.cfi_endproc
 663              	.LFE4:
 665              		.section	.text.__RME_A7A_Feature_Get,"ax",%progbits
 666              		.align	2
 667              		.global	__RME_A7A_Feature_Get
 668              		.syntax unified
 669              		.arm
 671              	__RME_A7A_Feature_Get:
 672              	.LFB5:
 253:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Timer_Init ****************************************/
 254:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 255:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Feature_Get ********************************************
 256:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Use the CPUID instruction extensively to get all the processor
 257:../../Source/Platform/A7A/rme_platform_a7a.c ****               information. We assume that all processors installed have the same
 258:../../Source/Platform/A7A/rme_platform_a7a.c ****               features.
 259:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 260:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 261:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 262:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 263:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Feature_Get(void)
 264:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 673              		.loc 1 264 1
 674              		.cfi_startproc
 675              		@ args = 0, pretend = 0, frame = 0
 676              		@ frame_needed = 1, uses_anonymous_args = 0
 677              		@ link register save eliminated.
 678 0000 04B02DE5 		str	fp, [sp, #-4]!
 679              		.cfi_def_cfa_offset 4
 680              		.cfi_offset 11, -4
 681 0004 00B08DE2 		add	fp, sp, #0
 682              		.cfi_def_cfa_register 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 18


 265:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 266:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* TODO: Check these flags. If not satisfied, we hang immediately. */
 267:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 683              		.loc 1 267 1
 684 0008 00F020E3 		nop
 685 000c 00D08BE2 		add	sp, fp, #0
 686              		.cfi_def_cfa_register 13
 687              		@ sp needed
 688 0010 04B09DE4 		ldr	fp, [sp], #4
 689              		.cfi_restore 11
 690              		.cfi_def_cfa_offset 0
 691 0014 1EFF2FE1 		bx	lr
 692              		.cfi_endproc
 693              	.LFE5:
 695              		.section	.text.__RME_A7A_Mem_Init,"ax",%progbits
 696              		.align	2
 697              		.global	__RME_A7A_Mem_Init
 698              		.syntax unified
 699              		.arm
 701              	__RME_A7A_Mem_Init:
 702              	.LFB6:
 268:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Feature_Get ***************************************/
 269:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 270:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Mem_Init ***********************************************
 271:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the memory map, and get the size of kernel object
 272:../../Source/Platform/A7A/rme_platform_a7a.c ****               allocation registration table(Kot) and page table reference
 273:../../Source/Platform/A7A/rme_platform_a7a.c ****               count registration table(Pgreg).
 274:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t MMap_Addr - The GRUB multiboot memory map data address.
 275:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t MMap_Length - The GRUB multiboot memory map data length.
 276:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 277:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 278:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 279:../../Source/Platform/A7A/rme_platform_a7a.c **** const rme_ptr_t RME_A7A_Mem_Info[RME_A7A_MEM_ENTRIES]={RME_A7A_MEM_CONTENTS};
 280:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Mem_Init(rme_ptr_t MMap_Addr, rme_ptr_t MMap_Length)
 281:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 703              		.loc 1 281 1
 704              		.cfi_startproc
 705              		@ args = 0, pretend = 0, frame = 8
 706              		@ frame_needed = 1, uses_anonymous_args = 0
 707              		@ link register save eliminated.
 708 0000 04B02DE5 		str	fp, [sp, #-4]!
 709              		.cfi_def_cfa_offset 4
 710              		.cfi_offset 11, -4
 711 0004 00B08DE2 		add	fp, sp, #0
 712              		.cfi_def_cfa_register 11
 713 0008 0CD04DE2 		sub	sp, sp, #12
 714 000c 08000BE5 		str	r0, [fp, #-8]
 715 0010 0C100BE5 		str	r1, [fp, #-12]
 282:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 283:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 716              		.loc 1 283 1
 717 0014 00F020E3 		nop
 718 0018 00D08BE2 		add	sp, fp, #0
 719              		.cfi_def_cfa_register 13
 720              		@ sp needed
 721 001c 04B09DE4 		ldr	fp, [sp], #4
 722              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 19


 723              		.cfi_def_cfa_offset 0
 724 0020 1EFF2FE1 		bx	lr
 725              		.cfi_endproc
 726              	.LFE6:
 728              		.section	.text.__RME_A7A_SMP_Init,"ax",%progbits
 729              		.align	2
 730              		.global	__RME_A7A_SMP_Init
 731              		.syntax unified
 732              		.arm
 734              	__RME_A7A_SMP_Init:
 735              	.LFB7:
 284:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Mem_Init ******************************************/
 285:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 286:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Init ***********************************************
 287:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Start all other processors, one by one.
 288:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 289:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 290:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 291:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 292:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Init(void)
 293:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 736              		.loc 1 293 1
 737              		.cfi_startproc
 738              		@ args = 0, pretend = 0, frame = 0
 739              		@ frame_needed = 1, uses_anonymous_args = 0
 740              		@ link register save eliminated.
 741 0000 04B02DE5 		str	fp, [sp, #-4]!
 742              		.cfi_def_cfa_offset 4
 743              		.cfi_offset 11, -4
 744 0004 00B08DE2 		add	fp, sp, #0
 745              		.cfi_def_cfa_register 11
 294:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 295:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 746              		.loc 1 295 1
 747 0008 00F020E3 		nop
 748 000c 00D08BE2 		add	sp, fp, #0
 749              		.cfi_def_cfa_register 13
 750              		@ sp needed
 751 0010 04B09DE4 		ldr	fp, [sp], #4
 752              		.cfi_restore 11
 753              		.cfi_def_cfa_offset 0
 754 0014 1EFF2FE1 		bx	lr
 755              		.cfi_endproc
 756              	.LFE7:
 758              		.section	.text.__RME_A7A_SMP_Tick,"ax",%progbits
 759              		.align	2
 760              		.global	__RME_A7A_SMP_Tick
 761              		.syntax unified
 762              		.arm
 764              	__RME_A7A_SMP_Tick:
 765              	.LFB8:
 296:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Init ******************************************/
 297:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 298:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Tick ***********************************************
 299:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Send IPI to all other cores,to run their handler on the time.
 300:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 301:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 20


 302:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 303:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 304:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Tick(void)
 305:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 766              		.loc 1 305 1
 767              		.cfi_startproc
 768              		@ args = 0, pretend = 0, frame = 0
 769              		@ frame_needed = 1, uses_anonymous_args = 0
 770              		@ link register save eliminated.
 771 0000 04B02DE5 		str	fp, [sp, #-4]!
 772              		.cfi_def_cfa_offset 4
 773              		.cfi_offset 11, -4
 774 0004 00B08DE2 		add	fp, sp, #0
 775              		.cfi_def_cfa_register 11
 306:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 307:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 776              		.loc 1 307 1
 777 0008 00F020E3 		nop
 778 000c 00D08BE2 		add	sp, fp, #0
 779              		.cfi_def_cfa_register 13
 780              		@ sp needed
 781 0010 04B09DE4 		ldr	fp, [sp], #4
 782              		.cfi_restore 11
 783              		.cfi_def_cfa_offset 0
 784 0014 1EFF2FE1 		bx	lr
 785              		.cfi_endproc
 786              	.LFE8:
 788              		.section	.rodata
 789 00d7 00       		.align	2
 790              	.LC8:
 791 00d8 0D0A4137 		.ascii	"\015\012A7A-Vector: 0x\000"
 791      412D5665 
 791      63746F72 
 791      3A203078 
 791      00
 792 00e9 000000   		.align	2
 793              	.LC9:
 794 00ec 0D0A4137 		.ascii	"\015\012A7A-Non-Secure: \000"
 794      412D4E6F 
 794      6E2D5365 
 794      63757265 
 794      3A2000
 795              		.section	.text.__RME_Lowlvl_Init,"ax",%progbits
 796              		.align	2
 797              		.global	__RME_Lowlvl_Init
 798              		.syntax unified
 799              		.arm
 801              	__RME_Lowlvl_Init:
 802              	.LFB9:
 308:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Tick *******************************************/
 309:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 310:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Lowlvl_Init **********************************************
 311:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the low-level hardware. This assumes that we are already
 312:../../Source/Platform/A7A/rme_platform_a7a.c ****               in Supervisor (SVC) mode.
 313:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 314:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 315:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 21


 316:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 317:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Lowlvl_Init(void)
 318:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 803              		.loc 1 318 1
 804              		.cfi_startproc
 805              		@ args = 0, pretend = 0, frame = 0
 806              		@ frame_needed = 1, uses_anonymous_args = 0
 807 0000 00482DE9 		push	{fp, lr}
 808              		.cfi_def_cfa_offset 8
 809              		.cfi_offset 11, -8
 810              		.cfi_offset 14, -4
 811 0004 04B08DE2 		add	fp, sp, #4
 812              		.cfi_def_cfa 11, 4
 319:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 320:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_LOW_LEVEL_INIT();
 321:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 322:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local data structure */
 323:../../Source/Platform/A7A/rme_platform_a7a.c ****     _RME_CPU_Local_Init(&RME_A7A_Local,0);
 813              		.loc 1 323 5
 814 0008 0010A0E3 		mov	r1, #0
 815 000c 000000E3 		movw	r0, #:lower16:RME_A7A_Local
 816 0010 000040E3 		movt	r0, #:upper16:RME_A7A_Local
 817 0014 FEFFFFEB 		bl	_RME_CPU_Local_Init
 324:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 325:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the interrupt controller */
 326:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_Int_Init();
 818              		.loc 1 326 5
 819 0018 FEFFFFEB 		bl	__RME_A7A_Int_Init
 327:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 328:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize CPU-local interrupt resources */
 329:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Int_Local_Init();
 820              		.loc 1 329 2
 821 001c FEFFFFEB 		bl	__RME_A7A_Int_Local_Init
 330:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 331:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the vector table */
 332:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Vector: 0x");
 822              		.loc 1 332 5
 823 0020 000000E3 		movw	r0, #:lower16:.LC8
 824 0024 000040E3 		movt	r0, #:upper16:.LC8
 825 0028 FEFFFFEB 		bl	RME_Str_Print
 333:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H((rme_ptr_t)&__RME_A7A_Vector_Table);
 826              		.loc 1 333 5
 827 002c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 828 0030 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 829 0034 0300A0E1 		mov	r0, r3
 830 0038 FEFFFFEB 		bl	RME_Hex_Print
 334:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_VBAR_Set((rme_ptr_t)&__RME_A7A_Vector_Table);
 831              		.loc 1 334 5
 832 003c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 833 0040 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 834 0044 0300A0E1 		mov	r0, r3
 835 0048 FEFFFFEB 		bl	__RME_A7A_VBAR_Set
 335:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 336:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Non-Secure: ");
 836              		.loc 1 336 5
 837 004c 000000E3 		movw	r0, #:lower16:.LC9
 838 0050 000040E3 		movt	r0, #:upper16:.LC9
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 22


 839 0054 FEFFFFEB 		bl	RME_Str_Print
 337:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(__RME_A7A_SCR_Get());
 840              		.loc 1 337 5
 841 0058 FEFFFFEB 		bl	__RME_A7A_SCR_Get
 842 005c 0030A0E1 		mov	r3, r0
 843              		.loc 1 337 5 is_stmt 0 discriminator 1
 844 0060 0300A0E1 		mov	r0, r3
 845 0064 FEFFFFEB 		bl	RME_Hex_Print
 338:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 846              		.loc 1 338 1 is_stmt 1
 847 0068 00F020E3 		nop
 848 006c 0088BDE8 		pop	{fp, pc}
 849              		.cfi_endproc
 850              	.LFE9:
 852              		.section	.text.__RME_Pgt_Kom_Init,"ax",%progbits
 853              		.align	2
 854              		.global	__RME_Pgt_Kom_Init
 855              		.syntax unified
 856              		.arm
 858              	__RME_Pgt_Kom_Init:
 859              	.LFB10:
 339:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Lowlvl_Init *****************************************/
 340:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 341:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Kom_Init *********************************************
 342:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the kernel mapping tables, so it can be added to all the
 343:../../Source/Platform/A7A/rme_platform_a7a.c ****               top-level page tables. Currently this have no consideration for >1TB
 344:../../Source/Platform/A7A/rme_platform_a7a.c ****               RAM, and is not NUMA-aware.
 345:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 346:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 347:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 348:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 349:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Kom_Init(void)
 350:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 860              		.loc 1 350 1
 861              		.cfi_startproc
 862              		@ args = 0, pretend = 0, frame = 0
 863              		@ frame_needed = 1, uses_anonymous_args = 0
 864              		@ link register save eliminated.
 865 0000 04B02DE5 		str	fp, [sp, #-4]!
 866              		.cfi_def_cfa_offset 4
 867              		.cfi_offset 11, -4
 868 0004 00B08DE2 		add	fp, sp, #0
 869              		.cfi_def_cfa_register 11
 351:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Use initial page table here instead for kernel, which is sufficient */
 352:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 353:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 870              		.loc 1 353 12
 871 0008 0030A0E3 		mov	r3, #0
 354:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 872              		.loc 1 354 1
 873 000c 0300A0E1 		mov	r0, r3
 874 0010 00D08BE2 		add	sp, fp, #0
 875              		.cfi_def_cfa_register 13
 876              		@ sp needed
 877 0014 04B09DE4 		ldr	fp, [sp], #4
 878              		.cfi_restore 11
 879              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 23


 880 0018 1EFF2FE1 		bx	lr
 881              		.cfi_endproc
 882              	.LFE10:
 884              		.section	.text.__RME_SMP_Low_Level_Init,"ax",%progbits
 885              		.align	2
 886              		.global	__RME_SMP_Low_Level_Init
 887              		.syntax unified
 888              		.arm
 890              	__RME_SMP_Low_Level_Init:
 891              	.LFB11:
 355:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Kom_Init ****************************************/
 356:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 357:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_SMP_Low_Level_Init ******************************************
 358:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Low-level initialization for all other cores.
 359:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 360:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 361:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 362:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 363:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_SMP_Low_Level_Init(void)
 364:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 892              		.loc 1 364 1
 893              		.cfi_startproc
 894              		@ args = 0, pretend = 0, frame = 0
 895              		@ frame_needed = 1, uses_anonymous_args = 0
 896              		@ link register save eliminated.
 897 0000 04B02DE5 		str	fp, [sp, #-4]!
 898              		.cfi_def_cfa_offset 4
 899              		.cfi_offset 11, -4
 900 0004 00B08DE2 		add	fp, sp, #0
 901              		.cfi_def_cfa_register 11
 365:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 366:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_SMP_LOW_LEVEL_INIT();
 367:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local variables */
 368:../../Source/Platform/A7A/rme_platform_a7a.c ****    // _RME_CPU_Local_Init(&RME_A7A_Local[RME_A7A_CPU_Cnt],RME_A7A_CPU_Cnt);
 369:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 902              		.loc 1 369 12
 903 0008 0030A0E3 		mov	r3, #0
 370:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 904              		.loc 1 370 1
 905 000c 0300A0E1 		mov	r0, r3
 906 0010 00D08BE2 		add	sp, fp, #0
 907              		.cfi_def_cfa_register 13
 908              		@ sp needed
 909 0014 04B09DE4 		ldr	fp, [sp], #4
 910              		.cfi_restore 11
 911              		.cfi_def_cfa_offset 0
 912 0018 1EFF2FE1 		bx	lr
 913              		.cfi_endproc
 914              	.LFE11:
 916              		.section	.rodata
 917 00ff 00       		.align	2
 918              	.LC10:
 919 0100 0D0A7374 		.ascii	"\015\012start rme boot\000"
 919      61727420 
 919      726D6520 
 919      626F6F74 
 919      00
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 24


 920 0111 000000   		.align	2
 921              	.LC11:
 922 0114 0D0A7374 		.ascii	"\015\012start cpt creation\000"
 922      61727420 
 922      63707420 
 922      63726561 
 922      74696F6E 
 923 0129 000000   		.align	2
 924              	.LC12:
 925 012c 32313A31 		.ascii	"21:18:56\000"
 925      383A3536 
 925      00
 926 0135 000000   		.align	2
 927              	.LC13:
 928 0138 4D617220 		.ascii	"Mar  2 2025\000"
 928      20322032 
 928      30323500 
 929              		.align	2
 930              	.LC14:
 931 0144 2E2E2F2E 		.ascii	"../../Source/Platform/A7A/rme_platform_a7a.c\000"
 931      2E2F536F 
 931      75726365 
 931      2F506C61 
 931      74666F72 
 932 0171 000000   		.align	2
 933              	.LC15:
 934 0174 0D0A7374 		.ascii	"\015\012start pgt creation.\000"
 934      61727420 
 934      70677420 
 934      63726561 
 934      74696F6E 
 935 018a 0000     		.align	2
 936              	.LC16:
 937 018c 0D0A7374 		.ascii	"\015\012start prc creation.\000"
 937      61727420 
 937      70726320 
 937      63726561 
 937      74696F6E 
 938 01a2 0000     		.align	2
 939              	.LC17:
 940 01a4 0D0A7374 		.ascii	"\015\012start kfn/kom creation.\000"
 940      61727420 
 940      6B666E2F 
 940      6B6F6D20 
 940      63726561 
 941 01be 0000     		.align	2
 942              	.LC18:
 943 01c0 0D0A4372 		.ascii	"\015\012Create the initial kernel endpoint for time"
 943      65617465 
 943      20746865 
 943      20696E69 
 943      7469616C 
 944 01ed 72207469 		.ascii	"r ticks and interrupts\000"
 944      636B7320 
 944      616E6420 
 944      696E7465 
 944      72727570 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 25


 945              		.align	2
 946              	.LC19:
 947 0204 0D0A656E 		.ascii	"\015\012enable interrupts\000"
 947      61626C65 
 947      20696E74 
 947      65727275 
 947      70747300 
 948              		.section	.text.__RME_Boot,"ax",%progbits
 949              		.align	2
 950              		.global	__RME_Boot
 951              		.syntax unified
 952              		.arm
 954              	__RME_Boot:
 955              	.LFB12:
 371:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_SMP_Low_Level_Init *************************************/
 372:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 373:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Boot ********************************************************
 374:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Boot the first process in the system.
 375:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 376:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 377:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 378:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 379:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Boot(void)
 380:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 956              		.loc 1 380 1
 957              		.cfi_startproc
 958              		@ args = 0, pretend = 0, frame = 8
 959              		@ frame_needed = 1, uses_anonymous_args = 0
 960 0000 00482DE9 		push	{fp, lr}
 961              		.cfi_def_cfa_offset 8
 962              		.cfi_offset 11, -8
 963              		.cfi_offset 14, -4
 964 0004 04B08DE2 		add	fp, sp, #4
 965              		.cfi_def_cfa 11, 4
 966 0008 18D04DE2 		sub	sp, sp, #24
 381:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Count;
 382:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Cur_Addr;
 383:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr=RME_KOM_VA_BASE;
 967              		.loc 1 383 13
 968 000c 8134A0E3 		mov	r3, #-2130706432
 969 0010 0C300BE5 		str	r3, [fp, #-12]
 384:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 385:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart rme boot");
 970              		.loc 1 385 5
 971 0014 000000E3 		movw	r0, #:lower16:.LC10
 972 0018 000040E3 		movt	r0, #:upper16:.LC10
 973 001c FEFFFFEB 		bl	RME_Str_Print
 386:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 387:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the capability table for the init process */
 388:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart cpt creation");
 974              		.loc 1 388 5
 975 0020 000000E3 		movw	r0, #:lower16:.LC11
 976 0024 000040E3 		movt	r0, #:upper16:.LC11
 977 0028 FEFFFFEB 		bl	RME_Str_Print
 389:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Cpt_Boot_Init(RME_BOOT_INIT_CPT,
 978              		.loc 1 389 5
 979 002c 012CA0E3 		mov	r2, #256
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 26


 980 0030 0C101BE5 		ldr	r1, [fp, #-12]
 981 0034 0000A0E3 		mov	r0, #0
 982 0038 FEFFFFEB 		bl	_RME_Cpt_Boot_Init
 983 003c 0030A0E1 		mov	r3, r0
 984              		.loc 1 389 5 is_stmt 0 discriminator 1
 985 0040 000053E3 		cmp	r3, #0
 986 0044 0800000A 		beq	.L27
 987 0048 003000E3 		movw	r3, #:lower16:.LC12
 988 004c 003040E3 		movt	r3, #:upper16:.LC12
 989 0050 002000E3 		movw	r2, #:lower16:.LC13
 990 0054 002040E3 		movt	r2, #:upper16:.LC13
 991 0058 851100E3 		movw	r1, #389
 992 005c 000000E3 		movw	r0, #:lower16:.LC14
 993 0060 000040E3 		movt	r0, #:upper16:.LC14
 994 0064 FEFFFFEB 		bl	RME_Log
 995              	.L28:
 996              		.loc 1 389 5
 997 0068 FEFFFFEA 		b	.L28
 998              	.L27:
 390:../../Source/Platform/A7A/rme_platform_a7a.c ****                                   Cur_Addr,
 391:../../Source/Platform/A7A/rme_platform_a7a.c ****                                   RME_A7A_INIT_CPT_SIZE)==0);
 392:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_CPT_SIZE(RME_A7A_INIT_CPT_SIZE));
 999              		.loc 1 392 13 is_stmt 1
 1000 006c 0C301BE5 		ldr	r3, [fp, #-12]
 1001 0070 023A83E2 		add	r3, r3, #8192
 1002 0074 0C300BE5 		str	r3, [fp, #-12]
 393:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 394:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The top-level page table - covers 1M address range - align to 16kB */
 395:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart pgt creation.");
 1003              		.loc 1 395 5
 1004 0078 000000E3 		movw	r0, #:lower16:.LC15
 1005 007c 000040E3 		movt	r0, #:upper16:.LC15
 1006 0080 FEFFFFEB 		bl	RME_Str_Print
 396:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr=RME_ROUND_UP(Cur_Addr,14U);
 1007              		.loc 1 396 14
 1008 0084 0C301BE5 		ldr	r3, [fp, #-12]
 1009 0088 FF3D83E2 		add	r3, r3, #16320
 1010 008c 3F3083E2 		add	r3, r3, #63
 1011              		.loc 1 396 13
 1012 0090 FF3DC3E3 		bic	r3, r3, #16320
 1013 0094 3F30C3E3 		bic	r3, r3, #63
 1014 0098 0C300BE5 		str	r3, [fp, #-12]
 397:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Pgt_Boot_Crt(RME_A7A_CPT,
 1015              		.loc 1 397 5
 1016 009c 0C30A0E3 		mov	r3, #12
 1017 00a0 0C308DE5 		str	r3, [sp, #12]
 1018 00a4 1430A0E3 		mov	r3, #20
 1019 00a8 08308DE5 		str	r3, [sp, #8]
 1020 00ac 0130A0E3 		mov	r3, #1
 1021 00b0 04308DE5 		str	r3, [sp, #4]
 1022 00b4 0030A0E3 		mov	r3, #0
 1023 00b8 00308DE5 		str	r3, [sp]
 1024 00bc 0C301BE5 		ldr	r3, [fp, #-12]
 1025 00c0 0120A0E3 		mov	r2, #1
 1026 00c4 0010A0E3 		mov	r1, #0
 1027 00c8 8104A0E3 		mov	r0, #-2130706432
 1028 00cc FEFFFFEB 		bl	_RME_Pgt_Boot_Crt
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 27


 1029 00d0 0030A0E1 		mov	r3, r0
 1030              		.loc 1 397 5 is_stmt 0 discriminator 1
 1031 00d4 000053E3 		cmp	r3, #0
 1032 00d8 0800000A 		beq	.L29
 1033 00dc 003000E3 		movw	r3, #:lower16:.LC12
 1034 00e0 003040E3 		movt	r3, #:upper16:.LC12
 1035 00e4 002000E3 		movw	r2, #:lower16:.LC13
 1036 00e8 002040E3 		movt	r2, #:upper16:.LC13
 1037 00ec 8D1100E3 		movw	r1, #397
 1038 00f0 000000E3 		movw	r0, #:lower16:.LC14
 1039 00f4 000040E3 		movt	r0, #:upper16:.LC14
 1040 00f8 FEFFFFEB 		bl	RME_Log
 1041              	.L30:
 1042              		.loc 1 397 5
 1043 00fc FEFFFFEA 		b	.L30
 1044              	.L29:
 398:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 399:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PGT,
 400:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  Cur_Addr,
 401:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  0x00000000U,
 402:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_TOP,
 403:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_SIZE_1M,
 404:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_NUM_4K)==0);
 405:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_PGT_SIZE_TOP(RME_PGT_NUM_4K));
 1045              		.loc 1 405 13 is_stmt 1
 1046 0100 0C301BE5 		ldr	r3, [fp, #-12]
 1047 0104 013A83E2 		add	r3, r3, #4096
 1048 0108 0C300BE5 		str	r3, [fp, #-12]
 406:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 407:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Normal memory, 1GiB 0x00000000 -> 0x00000000 */
 408:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x400U;Count++)
 1049              		.loc 1 408 14
 1050 010c 0030A0E3 		mov	r3, #0
 1051 0110 08300BE5 		str	r3, [fp, #-8]
 1052              		.loc 1 408 5
 1053 0114 160000EA 		b	.L31
 1054              	.L34:
 409:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 410:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1055              		.loc 1 410 3
 1056 0118 08301BE5 		ldr	r3, [fp, #-8]
 1057 011c 032AA0E1 		lsl	r2, r3, #20
 1058 0120 3F30A0E3 		mov	r3, #63
 1059 0124 00308DE5 		str	r3, [sp]
 1060 0128 08301BE5 		ldr	r3, [fp, #-8]
 1061 012c 0110A0E3 		mov	r1, #1
 1062 0130 8104A0E3 		mov	r0, #-2130706432
 1063 0134 FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1064 0138 0030A0E1 		mov	r3, r0
 1065              		.loc 1 410 3 is_stmt 0 discriminator 1
 1066 013c 000053E3 		cmp	r3, #0
 1067 0140 0800000A 		beq	.L32
 1068 0144 003000E3 		movw	r3, #:lower16:.LC12
 1069 0148 003040E3 		movt	r3, #:upper16:.LC12
 1070 014c 002000E3 		movw	r2, #:lower16:.LC13
 1071 0150 002040E3 		movt	r2, #:upper16:.LC13
 1072 0154 9A1100E3 		movw	r1, #410
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 28


 1073 0158 000000E3 		movw	r0, #:lower16:.LC14
 1074 015c 000040E3 		movt	r0, #:upper16:.LC14
 1075 0160 FEFFFFEB 		bl	RME_Log
 1076              	.L33:
 1077              		.loc 1 410 3
 1078 0164 FEFFFFEA 		b	.L33
 1079              	.L32:
 408:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1080              		.loc 1 408 36 is_stmt 1 discriminator 2
 1081 0168 08301BE5 		ldr	r3, [fp, #-8]
 1082 016c 013083E2 		add	r3, r3, #1
 1083 0170 08300BE5 		str	r3, [fp, #-8]
 1084              	.L31:
 408:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1085              		.loc 1 408 23 discriminator 1
 1086 0174 08301BE5 		ldr	r3, [fp, #-8]
 1087 0178 010B53E3 		cmp	r3, #1024
 1088 017c E5FFFF3A 		bcc	.L34
 411:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 412:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 Count*RME_POW2(RME_PGT_SIZE_1M),
 413:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 Count,
 414:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_ALL_PERM)==0);
 415:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 416:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 417:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Device memory 1, 512MiB 0x40000000 -> 0x40000000 */
 418:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 1089              		.loc 1 418 14
 1090 0180 0030A0E3 		mov	r3, #0
 1091 0184 08300BE5 		str	r3, [fp, #-8]
 1092              		.loc 1 418 5
 1093 0188 180000EA 		b	.L35
 1094              	.L38:
 419:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 420:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1095              		.loc 1 420 3
 1096 018c 08301BE5 		ldr	r3, [fp, #-8]
 1097 0190 013B83E2 		add	r3, r3, #1024
 1098 0194 032AA0E1 		lsl	r2, r3, #20
 1099 0198 08301BE5 		ldr	r3, [fp, #-8]
 1100 019c 013B83E2 		add	r3, r3, #1024
 1101 01a0 2310A0E3 		mov	r1, #35
 1102 01a4 00108DE5 		str	r1, [sp]
 1103 01a8 0110A0E3 		mov	r1, #1
 1104 01ac 8104A0E3 		mov	r0, #-2130706432
 1105 01b0 FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1106 01b4 0030A0E1 		mov	r3, r0
 1107              		.loc 1 420 3 is_stmt 0 discriminator 1
 1108 01b8 000053E3 		cmp	r3, #0
 1109 01bc 0800000A 		beq	.L36
 1110 01c0 003000E3 		movw	r3, #:lower16:.LC12
 1111 01c4 003040E3 		movt	r3, #:upper16:.LC12
 1112 01c8 002000E3 		movw	r2, #:lower16:.LC13
 1113 01cc 002040E3 		movt	r2, #:upper16:.LC13
 1114 01d0 691FA0E3 		mov	r1, #420
 1115 01d4 000000E3 		movw	r0, #:lower16:.LC14
 1116 01d8 000040E3 		movt	r0, #:upper16:.LC14
 1117 01dc FEFFFFEB 		bl	RME_Log
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 29


 1118              	.L37:
 1119              		.loc 1 420 3
 1120 01e0 FEFFFFEA 		b	.L37
 1121              	.L36:
 418:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1122              		.loc 1 418 36 is_stmt 1 discriminator 2
 1123 01e4 08301BE5 		ldr	r3, [fp, #-8]
 1124 01e8 013083E2 		add	r3, r3, #1
 1125 01ec 08300BE5 		str	r3, [fp, #-8]
 1126              	.L35:
 418:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1127              		.loc 1 418 23 discriminator 1
 1128 01f0 08301BE5 		ldr	r3, [fp, #-8]
 1129 01f4 020C53E3 		cmp	r3, #512
 1130 01f8 E3FFFF3A 		bcc	.L38
 421:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 422:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x400U)*RME_POW2(RME_PGT_SIZE_1M),
 423:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x400U),
 424:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE|RME_PGT_STATIC)==0);
 425:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 426:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 427:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Device memory 2, 512MiB 0x60000000 -> 0xE0000000 */
 428:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 1131              		.loc 1 428 14
 1132 01fc 0030A0E3 		mov	r3, #0
 1133 0200 08300BE5 		str	r3, [fp, #-8]
 1134              		.loc 1 428 5
 1135 0204 180000EA 		b	.L39
 1136              	.L42:
 429:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 430:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1137              		.loc 1 430 3
 1138 0208 08301BE5 		ldr	r3, [fp, #-8]
 1139 020c 0E3C83E2 		add	r3, r3, #3584
 1140 0210 032AA0E1 		lsl	r2, r3, #20
 1141 0214 08301BE5 		ldr	r3, [fp, #-8]
 1142 0218 063C83E2 		add	r3, r3, #1536
 1143 021c 2310A0E3 		mov	r1, #35
 1144 0220 00108DE5 		str	r1, [sp]
 1145 0224 0110A0E3 		mov	r1, #1
 1146 0228 8104A0E3 		mov	r0, #-2130706432
 1147 022c FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1148 0230 0030A0E1 		mov	r3, r0
 1149              		.loc 1 430 3 is_stmt 0 discriminator 1
 1150 0234 000053E3 		cmp	r3, #0
 1151 0238 0800000A 		beq	.L40
 1152 023c 003000E3 		movw	r3, #:lower16:.LC12
 1153 0240 003040E3 		movt	r3, #:upper16:.LC12
 1154 0244 002000E3 		movw	r2, #:lower16:.LC13
 1155 0248 002040E3 		movt	r2, #:upper16:.LC13
 1156 024c AE1100E3 		movw	r1, #430
 1157 0250 000000E3 		movw	r0, #:lower16:.LC14
 1158 0254 000040E3 		movt	r0, #:upper16:.LC14
 1159 0258 FEFFFFEB 		bl	RME_Log
 1160              	.L41:
 1161              		.loc 1 430 3
 1162 025c FEFFFFEA 		b	.L41
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 30


 1163              	.L40:
 428:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1164              		.loc 1 428 36 is_stmt 1 discriminator 2
 1165 0260 08301BE5 		ldr	r3, [fp, #-8]
 1166 0264 013083E2 		add	r3, r3, #1
 1167 0268 08300BE5 		str	r3, [fp, #-8]
 1168              	.L39:
 428:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1169              		.loc 1 428 23 discriminator 1
 1170 026c 08301BE5 		ldr	r3, [fp, #-8]
 1171 0270 020C53E3 		cmp	r3, #512
 1172 0274 E3FFFF3A 		bcc	.L42
 431:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 432:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0xE00U)*RME_POW2(RME_PGT_SIZE_1M),
 433:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x600U),
 434:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE|RME_PGT_STATIC)==0);
 435:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 436:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 437:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Activate the first process - This process cannot be deleted */
 438:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart prc creation.");
 1173              		.loc 1 438 5
 1174 0278 000000E3 		movw	r0, #:lower16:.LC16
 1175 027c 000040E3 		movt	r0, #:upper16:.LC16
 1176 0280 FEFFFFEB 		bl	RME_Str_Print
 439:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Prc_Boot_Crt(RME_A7A_CPT,
 1177              		.loc 1 439 5
 1178 0284 0130A0E3 		mov	r3, #1
 1179 0288 00308DE5 		str	r3, [sp]
 1180 028c 0030A0E3 		mov	r3, #0
 1181 0290 0220A0E3 		mov	r2, #2
 1182 0294 0010A0E3 		mov	r1, #0
 1183 0298 8104A0E3 		mov	r0, #-2130706432
 1184 029c FEFFFFEB 		bl	_RME_Prc_Boot_Crt
 1185 02a0 0030A0E1 		mov	r3, r0
 1186              		.loc 1 439 5 is_stmt 0 discriminator 1
 1187 02a4 000053E3 		cmp	r3, #0
 1188 02a8 0800000A 		beq	.L43
 1189 02ac 003000E3 		movw	r3, #:lower16:.LC12
 1190 02b0 003040E3 		movt	r3, #:upper16:.LC12
 1191 02b4 002000E3 		movw	r2, #:lower16:.LC13
 1192 02b8 002040E3 		movt	r2, #:upper16:.LC13
 1193 02bc B71100E3 		movw	r1, #439
 1194 02c0 000000E3 		movw	r0, #:lower16:.LC14
 1195 02c4 000040E3 		movt	r0, #:upper16:.LC14
 1196 02c8 FEFFFFEB 		bl	RME_Log
 1197              	.L44:
 1198              		.loc 1 439 5
 1199 02cc FEFFFFEA 		b	.L44
 1200              	.L43:
 440:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 441:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PRC,
 442:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 443:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PGT)==0U);
 444:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 445:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Activate the first thread, and set its priority */
 446:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Thd_Boot_Crt(RME_A7A_CPT,
 1201              		.loc 1 446 5 is_stmt 1
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 31


 1202 02d0 003000E3 		movw	r3, #:lower16:RME_A7A_Local
 1203 02d4 003040E3 		movt	r3, #:upper16:RME_A7A_Local
 1204 02d8 08308DE5 		str	r3, [sp, #8]
 1205 02dc 0030A0E3 		mov	r3, #0
 1206 02e0 04308DE5 		str	r3, [sp, #4]
 1207 02e4 0C301BE5 		ldr	r3, [fp, #-12]
 1208 02e8 00308DE5 		str	r3, [sp]
 1209 02ec 0230A0E3 		mov	r3, #2
 1210 02f0 0320A0E3 		mov	r2, #3
 1211 02f4 0010A0E3 		mov	r1, #0
 1212 02f8 8104A0E3 		mov	r0, #-2130706432
 1213 02fc FEFFFFEB 		bl	_RME_Thd_Boot_Crt
 1214 0300 0030A0E1 		mov	r3, r0
 1215              		.loc 1 446 5 is_stmt 0 discriminator 1
 1216 0304 000053E3 		cmp	r3, #0
 1217 0308 0800000A 		beq	.L45
 1218 030c 003000E3 		movw	r3, #:lower16:.LC12
 1219 0310 003040E3 		movt	r3, #:upper16:.LC12
 1220 0314 002000E3 		movw	r2, #:lower16:.LC13
 1221 0318 002040E3 		movt	r2, #:upper16:.LC13
 1222 031c BE1100E3 		movw	r1, #446
 1223 0320 000000E3 		movw	r0, #:lower16:.LC14
 1224 0324 000040E3 		movt	r0, #:upper16:.LC14
 1225 0328 FEFFFFEB 		bl	RME_Log
 1226              	.L46:
 1227              		.loc 1 446 5
 1228 032c FEFFFFEA 		b	.L46
 1229              	.L45:
 447:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 448:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_THD,
 449:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PRC,
 450:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  Cur_Addr,
 451:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  0U,
 452:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  &RME_A7A_Local)==0);
 453:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_THD_SIZE(0U));
 1230              		.loc 1 453 13 is_stmt 1
 1231 0330 0C301BE5 		ldr	r3, [fp, #-12]
 1232 0334 A03083E2 		add	r3, r3, #160
 1233 0338 0C300BE5 		str	r3, [fp, #-12]
 454:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 455:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the initial kernel function capability, and kernel memory capability */
 456:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart kfn/kom creation.");
 1234              		.loc 1 456 5
 1235 033c 000000E3 		movw	r0, #:lower16:.LC17
 1236 0340 000040E3 		movt	r0, #:upper16:.LC17
 1237 0344 FEFFFFEB 		bl	RME_Str_Print
 457:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Kfn_Boot_Crt(RME_A7A_CPT,
 1238              		.loc 1 457 5
 1239 0348 0420A0E3 		mov	r2, #4
 1240 034c 0010A0E3 		mov	r1, #0
 1241 0350 8104A0E3 		mov	r0, #-2130706432
 1242 0354 FEFFFFEB 		bl	_RME_Kfn_Boot_Crt
 1243 0358 0030A0E1 		mov	r3, r0
 1244              		.loc 1 457 5 is_stmt 0 discriminator 1
 1245 035c 000053E3 		cmp	r3, #0
 1246 0360 0800000A 		beq	.L47
 1247 0364 003000E3 		movw	r3, #:lower16:.LC12
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 32


 1248 0368 003040E3 		movt	r3, #:upper16:.LC12
 1249 036c 002000E3 		movw	r2, #:lower16:.LC13
 1250 0370 002040E3 		movt	r2, #:upper16:.LC13
 1251 0374 C91100E3 		movw	r1, #457
 1252 0378 000000E3 		movw	r0, #:lower16:.LC14
 1253 037c 000040E3 		movt	r0, #:upper16:.LC14
 1254 0380 FEFFFFEB 		bl	RME_Log
 1255              	.L48:
 1256              		.loc 1 457 5
 1257 0384 FEFFFFEA 		b	.L48
 1258              	.L47:
 458:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 459:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_KFN)==0);
 460:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Kom_Boot_Crt(RME_A7A_CPT, 
 1259              		.loc 1 460 5 is_stmt 1
 1260 0388 0F30A0E3 		mov	r3, #15
 1261 038c 04308DE5 		str	r3, [sp, #4]
 1262 0390 3F34E0E3 		mvn	r3, #1056964608
 1263 0394 00308DE5 		str	r3, [sp]
 1264 0398 8134A0E3 		mov	r3, #-2130706432
 1265 039c 0520A0E3 		mov	r2, #5
 1266 03a0 0010A0E3 		mov	r1, #0
 1267 03a4 8104A0E3 		mov	r0, #-2130706432
 1268 03a8 FEFFFFEB 		bl	_RME_Kom_Boot_Crt
 1269 03ac 0030A0E1 		mov	r3, r0
 1270              		.loc 1 460 5 is_stmt 0 discriminator 1
 1271 03b0 000053E3 		cmp	r3, #0
 1272 03b4 0800000A 		beq	.L49
 1273 03b8 003000E3 		movw	r3, #:lower16:.LC12
 1274 03bc 003040E3 		movt	r3, #:upper16:.LC12
 1275 03c0 002000E3 		movw	r2, #:lower16:.LC13
 1276 03c4 002040E3 		movt	r2, #:upper16:.LC13
 1277 03c8 731FA0E3 		mov	r1, #460
 1278 03cc 000000E3 		movw	r0, #:lower16:.LC14
 1279 03d0 000040E3 		movt	r0, #:upper16:.LC14
 1280 03d4 FEFFFFEB 		bl	RME_Log
 1281              	.L50:
 1282              		.loc 1 460 5
 1283 03d8 FEFFFFEA 		b	.L50
 1284              	.L49:
 461:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT, 
 462:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_KOM,
 463:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_VA_BASE,
 464:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_VA_BASE+RME_KOM_VA_SIZE-1U,
 465:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_FLAG_ALL)==0U);
 466:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 467:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the initial kernel endpoint for timer ticks and interrupts */
 468:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_Local.Sig_Tim=(struct RME_Cap_Sig*)&(RME_A7A_CPT[RME_BOOT_INIT_VCT]);
 1285              		.loc 1 468 26 is_stmt 1
 1286 03dc 002000E3 		movw	r2, #:lower16:RME_A7A_Local
 1287 03e0 002040E3 		movt	r2, #:upper16:RME_A7A_Local
 1288 03e4 C030A0E3 		mov	r3, #192
 1289 03e8 003148E3 		movt	r3, 33024
 1290 03ec 083082E5 		str	r3, [r2, #8]
 469:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_Local.Sig_Vct=(struct RME_Cap_Sig*)&(RME_A7A_CPT[RME_BOOT_INIT_VCT]);
 1291              		.loc 1 469 26
 1292 03f0 002000E3 		movw	r2, #:lower16:RME_A7A_Local
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 33


 1293 03f4 002040E3 		movt	r2, #:upper16:RME_A7A_Local
 1294 03f8 C030A0E3 		mov	r3, #192
 1295 03fc 003148E3 		movt	r3, 33024
 1296 0400 0C3082E5 		str	r3, [r2, #12]
 470:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreate the initial kernel endpoint for timer ticks and interrupts");
 1297              		.loc 1 470 5
 1298 0404 000000E3 		movw	r0, #:lower16:.LC18
 1299 0408 000040E3 		movt	r0, #:upper16:.LC18
 1300 040c FEFFFFEB 		bl	RME_Str_Print
 471:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Sig_Boot_Crt(RME_A7A_CPT,
 1301              		.loc 1 471 5
 1302 0410 0620A0E3 		mov	r2, #6
 1303 0414 0010A0E3 		mov	r1, #0
 1304 0418 8104A0E3 		mov	r0, #-2130706432
 1305 041c FEFFFFEB 		bl	_RME_Sig_Boot_Crt
 1306 0420 0030A0E1 		mov	r3, r0
 1307              		.loc 1 471 5 is_stmt 0 discriminator 1
 1308 0424 000053E3 		cmp	r3, #0
 1309 0428 0800000A 		beq	.L51
 1310 042c 003000E3 		movw	r3, #:lower16:.LC12
 1311 0430 003040E3 		movt	r3, #:upper16:.LC12
 1312 0434 002000E3 		movw	r2, #:lower16:.LC13
 1313 0438 002040E3 		movt	r2, #:upper16:.LC13
 1314 043c D71100E3 		movw	r1, #471
 1315 0440 000000E3 		movw	r0, #:lower16:.LC14
 1316 0444 000040E3 		movt	r0, #:upper16:.LC14
 1317 0448 FEFFFFEB 		bl	RME_Log
 1318              	.L52:
 1319              		.loc 1 471 5
 1320 044c FEFFFFEA 		b	.L52
 1321              	.L51:
 472:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 473:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_VCT)==0);
 474:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 475:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set page table as current */
 476:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Pgt_Set(RME_A7A_Local.Thd_Cur->Sched.Prc->Pgt);
 1322              		.loc 1 476 32 is_stmt 1
 1323 0450 003000E3 		movw	r3, #:lower16:RME_A7A_Local
 1324 0454 003040E3 		movt	r3, #:upper16:RME_A7A_Local
 1325 0458 043093E5 		ldr	r3, [r3, #4]
 1326              		.loc 1 476 47
 1327 045c 2C3093E5 		ldr	r3, [r3, #44]
 1328              		.loc 1 476 5
 1329 0460 183093E5 		ldr	r3, [r3, #24]
 1330 0464 0300A0E1 		mov	r0, r3
 1331 0468 FEFFFFEB 		bl	__RME_Pgt_Set
 477:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 478:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize timer and enable interrupts */
 479:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nenable interrupts");
 1332              		.loc 1 479 5
 1333 046c 000000E3 		movw	r0, #:lower16:.LC19
 1334 0470 000040E3 		movt	r0, #:upper16:.LC19
 1335 0474 FEFFFFEB 		bl	RME_Str_Print
 480:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Timer_Init();
 1336              		.loc 1 480 2
 1337 0478 FEFFFFEB 		bl	__RME_A7A_Timer_Init
 481:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Int_Enable();
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 34


 1338              		.loc 1 481 5
 1339 047c FEFFFFEB 		bl	__RME_Int_Enable
 482:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 483:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Boot into the init thread */
 484:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_User_Enter(RME_A7A_INIT_ENTRY,RME_A7A_INIT_STACK,0U);
 1340              		.loc 1 484 5
 1341 0480 0020A0E3 		mov	r2, #0
 1342 0484 FF1CA0E3 		mov	r1, #65280
 1343 0488 1F1840E3 		movt	r1, 2079
 1344 048c 0109A0E3 		mov	r0, #16384
 1345 0490 000840E3 		movt	r0, 2048
 1346 0494 FEFFFFEB 		bl	__RME_User_Enter
 1347              	.L53:
 485:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 486:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Should never reach here */
 487:../../Source/Platform/A7A/rme_platform_a7a.c ****     while(1);
 1348              		.loc 1 487 10
 1349 0498 FEFFFFEA 		b	.L53
 1350              		.cfi_endproc
 1351              	.LFE12:
 1353              		.section	.text.__RME_Reboot,"ax",%progbits
 1354              		.align	2
 1355              		.global	__RME_Reboot
 1356              		.syntax unified
 1357              		.arm
 1359              	__RME_Reboot:
 1360              	.LFB13:
 488:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 489:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Boot ***************************************************/
 490:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 491:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Reboot ******************************************************
 492:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Reboot the machine, abandon all operating system states.
 493:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 494:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 495:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 496:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 497:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Reboot(void)
 498:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1361              		.loc 1 498 1
 1362              		.cfi_startproc
 1363              		@ args = 0, pretend = 0, frame = 0
 1364              		@ frame_needed = 1, uses_anonymous_args = 0
 1365              		@ link register save eliminated.
 1366 0000 04B02DE5 		str	fp, [sp, #-4]!
 1367              		.cfi_def_cfa_offset 4
 1368              		.cfi_offset 11, -4
 1369 0004 00B08DE2 		add	fp, sp, #0
 1370              		.cfi_def_cfa_register 11
 499:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 500:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1371              		.loc 1 500 1
 1372 0008 00F020E3 		nop
 1373 000c 00D08BE2 		add	sp, fp, #0
 1374              		.cfi_def_cfa_register 13
 1375              		@ sp needed
 1376 0010 04B09DE4 		ldr	fp, [sp], #4
 1377              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 35


 1378              		.cfi_def_cfa_offset 0
 1379 0014 1EFF2FE1 		bx	lr
 1380              		.cfi_endproc
 1381              	.LFE13:
 1383              		.section	.text.__RME_Shutdown,"ax",%progbits
 1384              		.align	2
 1385              		.global	__RME_Shutdown
 1386              		.syntax unified
 1387              		.arm
 1389              	__RME_Shutdown:
 1390              	.LFB14:
 501:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Reboot *************************************************/
 502:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 503:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Shutdown ****************************************************
 504:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Shutdown the machine, abandon all operating system states.
 505:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 506:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 507:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 508:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 509:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Shutdown(void)
 510:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1391              		.loc 1 510 1
 1392              		.cfi_startproc
 1393              		@ args = 0, pretend = 0, frame = 0
 1394              		@ frame_needed = 1, uses_anonymous_args = 0
 1395              		@ link register save eliminated.
 1396 0000 04B02DE5 		str	fp, [sp, #-4]!
 1397              		.cfi_def_cfa_offset 4
 1398              		.cfi_offset 11, -4
 1399 0004 00B08DE2 		add	fp, sp, #0
 1400              		.cfi_def_cfa_register 11
 511:../../Source/Platform/A7A/rme_platform_a7a.c ****    // RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 512:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1401              		.loc 1 512 1
 1402 0008 00F020E3 		nop
 1403 000c 00D08BE2 		add	sp, fp, #0
 1404              		.cfi_def_cfa_register 13
 1405              		@ sp needed
 1406 0010 04B09DE4 		ldr	fp, [sp], #4
 1407              		.cfi_restore 11
 1408              		.cfi_def_cfa_offset 0
 1409 0014 1EFF2FE1 		bx	lr
 1410              		.cfi_endproc
 1411              	.LFE14:
 1413              		.section	.text.__RME_Svc_Param_Get,"ax",%progbits
 1414              		.align	2
 1415              		.global	__RME_Svc_Param_Get
 1416              		.syntax unified
 1417              		.arm
 1419              	__RME_Svc_Param_Get:
 1420              	.LFB15:
 513:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Shutdown ***********************************************/
 514:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 515:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Get_Syscall_Param *******************************************
 516:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the system call parameters from the stack frame.
 517:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 518:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Svc - The system service number.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 36


 519:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Capid - The capability ID number.
 520:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Param - The parameters.
 521:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 522:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 523:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Param_Get(struct RME_Reg_Struct* Reg,rme_ptr_t* Svc,rme_ptr_t* Capid,rme_ptr_t* Para
 524:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1421              		.loc 1 524 1
 1422              		.cfi_startproc
 1423              		@ args = 0, pretend = 0, frame = 16
 1424              		@ frame_needed = 1, uses_anonymous_args = 0
 1425              		@ link register save eliminated.
 1426 0000 04B02DE5 		str	fp, [sp, #-4]!
 1427              		.cfi_def_cfa_offset 4
 1428              		.cfi_offset 11, -4
 1429 0004 00B08DE2 		add	fp, sp, #0
 1430              		.cfi_def_cfa_register 11
 1431 0008 14D04DE2 		sub	sp, sp, #20
 1432 000c 08000BE5 		str	r0, [fp, #-8]
 1433 0010 0C100BE5 		str	r1, [fp, #-12]
 1434 0014 10200BE5 		str	r2, [fp, #-16]
 1435 0018 14300BE5 		str	r3, [fp, #-20]
 525:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Svc=(Reg->R0)>>16;
 1436              		.loc 1 525 14
 1437 001c 08301BE5 		ldr	r3, [fp, #-8]
 1438 0020 043093E5 		ldr	r3, [r3, #4]
 1439              		.loc 1 525 19
 1440 0024 2328A0E1 		lsr	r2, r3, #16
 1441              		.loc 1 525 9
 1442 0028 0C301BE5 		ldr	r3, [fp, #-12]
 1443 002c 002083E5 		str	r2, [r3]
 526:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Capid=(Reg->R0)&0xFFFF;
 1444              		.loc 1 526 16
 1445 0030 08301BE5 		ldr	r3, [fp, #-8]
 1446 0034 043093E5 		ldr	r3, [r3, #4]
 1447              		.loc 1 526 21
 1448 0038 7320FFE6 		uxth	r2, r3
 1449              		.loc 1 526 11
 1450 003c 10301BE5 		ldr	r3, [fp, #-16]
 1451 0040 002083E5 		str	r2, [r3]
 527:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[0]=Reg->R1;
 1452              		.loc 1 527 17
 1453 0044 08301BE5 		ldr	r3, [fp, #-8]
 1454 0048 082093E5 		ldr	r2, [r3, #8]
 1455              		.loc 1 527 13
 1456 004c 14301BE5 		ldr	r3, [fp, #-20]
 1457 0050 002083E5 		str	r2, [r3]
 528:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[1]=Reg->R2;
 1458              		.loc 1 528 10
 1459 0054 14301BE5 		ldr	r3, [fp, #-20]
 1460 0058 043083E2 		add	r3, r3, #4
 1461              		.loc 1 528 17
 1462 005c 08201BE5 		ldr	r2, [fp, #-8]
 1463 0060 0C2092E5 		ldr	r2, [r2, #12]
 1464              		.loc 1 528 13
 1465 0064 002083E5 		str	r2, [r3]
 529:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[2]=Reg->R3;
 1466              		.loc 1 529 10
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 37


 1467 0068 14301BE5 		ldr	r3, [fp, #-20]
 1468 006c 083083E2 		add	r3, r3, #8
 1469              		.loc 1 529 17
 1470 0070 08201BE5 		ldr	r2, [fp, #-8]
 1471 0074 102092E5 		ldr	r2, [r2, #16]
 1472              		.loc 1 529 13
 1473 0078 002083E5 		str	r2, [r3]
 530:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1474              		.loc 1 530 1
 1475 007c 00F020E3 		nop
 1476 0080 00D08BE2 		add	sp, fp, #0
 1477              		.cfi_def_cfa_register 13
 1478              		@ sp needed
 1479 0084 04B09DE4 		ldr	fp, [sp], #4
 1480              		.cfi_restore 11
 1481              		.cfi_def_cfa_offset 0
 1482 0088 1EFF2FE1 		bx	lr
 1483              		.cfi_endproc
 1484              	.LFE15:
 1486              		.section	.text.__RME_Svc_Retval_Set,"ax",%progbits
 1487              		.align	2
 1488              		.global	__RME_Svc_Retval_Set
 1489              		.syntax unified
 1490              		.arm
 1492              	__RME_Svc_Retval_Set:
 1493              	.LFB16:
 531:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Get_Syscall_Param **************************************/
 532:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 533:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Syscall_Retval ******************************************
 534:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the system call return value to the stack frame. This function 
 535:../../Source/Platform/A7A/rme_platform_a7a.c ****               may carry up to 4 return values. If the last 3 is not needed, just set
 536:../../Source/Platform/A7A/rme_platform_a7a.c ****               them to zero.
 537:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 538:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 539:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 540:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 541:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Retval_Set(struct RME_Reg_Struct* Reg,rme_ret_t Retval)
 542:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1494              		.loc 1 542 1
 1495              		.cfi_startproc
 1496              		@ args = 0, pretend = 0, frame = 8
 1497              		@ frame_needed = 1, uses_anonymous_args = 0
 1498              		@ link register save eliminated.
 1499 0000 04B02DE5 		str	fp, [sp, #-4]!
 1500              		.cfi_def_cfa_offset 4
 1501              		.cfi_offset 11, -4
 1502 0004 00B08DE2 		add	fp, sp, #0
 1503              		.cfi_def_cfa_register 11
 1504 0008 0CD04DE2 		sub	sp, sp, #12
 1505 000c 08000BE5 		str	r0, [fp, #-8]
 1506 0010 0C100BE5 		str	r1, [fp, #-12]
 543:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=(rme_ptr_t)Retval;
 1507              		.loc 1 543 13
 1508 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1509              		.loc 1 543 12
 1510 0018 08301BE5 		ldr	r3, [fp, #-8]
 1511 001c 042083E5 		str	r2, [r3, #4]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 38


 544:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1512              		.loc 1 544 1
 1513 0020 00F020E3 		nop
 1514 0024 00D08BE2 		add	sp, fp, #0
 1515              		.cfi_def_cfa_register 13
 1516              		@ sp needed
 1517 0028 04B09DE4 		ldr	fp, [sp], #4
 1518              		.cfi_restore 11
 1519              		.cfi_def_cfa_offset 0
 1520 002c 1EFF2FE1 		bx	lr
 1521              		.cfi_endproc
 1522              	.LFE16:
 1524              		.section	.text.__RME_Thd_Reg_Init,"ax",%progbits
 1525              		.align	2
 1526              		.global	__RME_Thd_Reg_Init
 1527              		.syntax unified
 1528              		.arm
 1530              	__RME_Thd_Reg_Init:
 1531              	.LFB17:
 545:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Syscall_Retval *************************************/
 546:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 547:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Init ************************************************
 548:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the register set for the thread.
 549:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Entry - The thread entry address.
 550:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Stack - The thread stack address.
 551:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param - The parameter to pass to it.
 552:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set content generated.
 553:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 554:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 555:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Init(rme_ptr_t Attr,rme_ptr_t Entry,rme_ptr_t Stack,rme_ptr_t Param,
 556:../../Source/Platform/A7A/rme_platform_a7a.c ****                                        struct RME_Reg_Struct* Reg)
 557:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1532              		.loc 1 557 1
 1533              		.cfi_startproc
 1534              		@ args = 4, pretend = 0, frame = 16
 1535              		@ frame_needed = 1, uses_anonymous_args = 0
 1536              		@ link register save eliminated.
 1537 0000 04B02DE5 		str	fp, [sp, #-4]!
 1538              		.cfi_def_cfa_offset 4
 1539              		.cfi_offset 11, -4
 1540 0004 00B08DE2 		add	fp, sp, #0
 1541              		.cfi_def_cfa_register 11
 1542 0008 14D04DE2 		sub	sp, sp, #20
 1543 000c 08000BE5 		str	r0, [fp, #-8]
 1544 0010 0C100BE5 		str	r1, [fp, #-12]
 1545 0014 10200BE5 		str	r2, [fp, #-16]
 1546 0018 14300BE5 		str	r3, [fp, #-20]
 558:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the entry and stack */
 559:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Entry;
 1547              		.loc 1 559 12
 1548 001c 04309BE5 		ldr	r3, [fp, #4]
 1549 0020 0C201BE5 		ldr	r2, [fp, #-12]
 1550 0024 3C2083E5 		str	r2, [r3, #60]
 560:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Stack;
 1551              		.loc 1 560 12
 1552 0028 04309BE5 		ldr	r3, [fp, #4]
 1553 002c 10201BE5 		ldr	r2, [fp, #-16]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 39


 1554 0030 342083E5 		str	r2, [r3, #52]
 561:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the parameter */
 562:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=Param;
 1555              		.loc 1 562 12
 1556 0034 04309BE5 		ldr	r3, [fp, #4]
 1557 0038 14201BE5 		ldr	r2, [fp, #-20]
 1558 003c 042083E5 		str	r2, [r3, #4]
 563:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1559              		.loc 1 563 1
 1560 0040 00F020E3 		nop
 1561 0044 00D08BE2 		add	sp, fp, #0
 1562              		.cfi_def_cfa_register 13
 1563              		@ sp needed
 1564 0048 04B09DE4 		ldr	fp, [sp], #4
 1565              		.cfi_restore 11
 1566              		.cfi_def_cfa_offset 0
 1567 004c 1EFF2FE1 		bx	lr
 1568              		.cfi_endproc
 1569              	.LFE17:
 1571              		.section	.text.__RME_Thd_Reg_Copy,"ax",%progbits
 1572              		.align	2
 1573              		.global	__RME_Thd_Reg_Copy
 1574              		.syntax unified
 1575              		.arm
 1577              	__RME_Thd_Reg_Copy:
 1578              	.LFB18:
 564:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Init *******************************************/
 565:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 566:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Copy ************************************************
 567:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Copy one set of registers into another.
 568:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Src - The source register set.
 569:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Dst - The destination register set.
 570:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 571:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 572:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Copy(struct RME_Reg_Struct* Dst, struct RME_Reg_Struct* Src)
 573:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1579              		.loc 1 573 1
 1580              		.cfi_startproc
 1581              		@ args = 0, pretend = 0, frame = 8
 1582              		@ frame_needed = 1, uses_anonymous_args = 0
 1583              		@ link register save eliminated.
 1584 0000 04B02DE5 		str	fp, [sp, #-4]!
 1585              		.cfi_def_cfa_offset 4
 1586              		.cfi_offset 11, -4
 1587 0004 00B08DE2 		add	fp, sp, #0
 1588              		.cfi_def_cfa_register 11
 1589 0008 0CD04DE2 		sub	sp, sp, #12
 1590 000c 08000BE5 		str	r0, [fp, #-8]
 1591 0010 0C100BE5 		str	r1, [fp, #-12]
 574:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that the ordering is the same so the compiler can optimize */
 575:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->CPSR=Src->CPSR;
 1592              		.loc 1 575 18
 1593 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1594 0018 002093E5 		ldr	r2, [r3]
 1595              		.loc 1 575 14
 1596 001c 08301BE5 		ldr	r3, [fp, #-8]
 1597 0020 002083E5 		str	r2, [r3]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 40


 576:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R0=Src->R0;
 1598              		.loc 1 576 16
 1599 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1600 0028 042093E5 		ldr	r2, [r3, #4]
 1601              		.loc 1 576 12
 1602 002c 08301BE5 		ldr	r3, [fp, #-8]
 1603 0030 042083E5 		str	r2, [r3, #4]
 577:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R1=Src->R1;
 1604              		.loc 1 577 16
 1605 0034 0C301BE5 		ldr	r3, [fp, #-12]
 1606 0038 082093E5 		ldr	r2, [r3, #8]
 1607              		.loc 1 577 12
 1608 003c 08301BE5 		ldr	r3, [fp, #-8]
 1609 0040 082083E5 		str	r2, [r3, #8]
 578:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R2=Src->R2;
 1610              		.loc 1 578 16
 1611 0044 0C301BE5 		ldr	r3, [fp, #-12]
 1612 0048 0C2093E5 		ldr	r2, [r3, #12]
 1613              		.loc 1 578 12
 1614 004c 08301BE5 		ldr	r3, [fp, #-8]
 1615 0050 0C2083E5 		str	r2, [r3, #12]
 579:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R3=Src->R3;
 1616              		.loc 1 579 16
 1617 0054 0C301BE5 		ldr	r3, [fp, #-12]
 1618 0058 102093E5 		ldr	r2, [r3, #16]
 1619              		.loc 1 579 12
 1620 005c 08301BE5 		ldr	r3, [fp, #-8]
 1621 0060 102083E5 		str	r2, [r3, #16]
 580:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R4=Src->R4;
 1622              		.loc 1 580 16
 1623 0064 0C301BE5 		ldr	r3, [fp, #-12]
 1624 0068 142093E5 		ldr	r2, [r3, #20]
 1625              		.loc 1 580 12
 1626 006c 08301BE5 		ldr	r3, [fp, #-8]
 1627 0070 142083E5 		str	r2, [r3, #20]
 581:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R5=Src->R5;
 1628              		.loc 1 581 16
 1629 0074 0C301BE5 		ldr	r3, [fp, #-12]
 1630 0078 182093E5 		ldr	r2, [r3, #24]
 1631              		.loc 1 581 12
 1632 007c 08301BE5 		ldr	r3, [fp, #-8]
 1633 0080 182083E5 		str	r2, [r3, #24]
 582:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R6=Src->R6;
 1634              		.loc 1 582 16
 1635 0084 0C301BE5 		ldr	r3, [fp, #-12]
 1636 0088 1C2093E5 		ldr	r2, [r3, #28]
 1637              		.loc 1 582 12
 1638 008c 08301BE5 		ldr	r3, [fp, #-8]
 1639 0090 1C2083E5 		str	r2, [r3, #28]
 583:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R7=Src->R7;
 1640              		.loc 1 583 16
 1641 0094 0C301BE5 		ldr	r3, [fp, #-12]
 1642 0098 202093E5 		ldr	r2, [r3, #32]
 1643              		.loc 1 583 12
 1644 009c 08301BE5 		ldr	r3, [fp, #-8]
 1645 00a0 202083E5 		str	r2, [r3, #32]
 584:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R8=Src->R8;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 41


 1646              		.loc 1 584 16
 1647 00a4 0C301BE5 		ldr	r3, [fp, #-12]
 1648 00a8 242093E5 		ldr	r2, [r3, #36]
 1649              		.loc 1 584 12
 1650 00ac 08301BE5 		ldr	r3, [fp, #-8]
 1651 00b0 242083E5 		str	r2, [r3, #36]
 585:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R9=Src->R9;
 1652              		.loc 1 585 16
 1653 00b4 0C301BE5 		ldr	r3, [fp, #-12]
 1654 00b8 282093E5 		ldr	r2, [r3, #40]
 1655              		.loc 1 585 12
 1656 00bc 08301BE5 		ldr	r3, [fp, #-8]
 1657 00c0 282083E5 		str	r2, [r3, #40]
 586:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R10=Src->R10;
 1658              		.loc 1 586 17
 1659 00c4 0C301BE5 		ldr	r3, [fp, #-12]
 1660 00c8 2C2093E5 		ldr	r2, [r3, #44]
 1661              		.loc 1 586 13
 1662 00cc 08301BE5 		ldr	r3, [fp, #-8]
 1663 00d0 2C2083E5 		str	r2, [r3, #44]
 587:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R11=Src->R11;
 1664              		.loc 1 587 17
 1665 00d4 0C301BE5 		ldr	r3, [fp, #-12]
 1666 00d8 302093E5 		ldr	r2, [r3, #48]
 1667              		.loc 1 587 13
 1668 00dc 08301BE5 		ldr	r3, [fp, #-8]
 1669 00e0 302083E5 		str	r2, [r3, #48]
 588:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->SP=Src->SP;
 1670              		.loc 1 588 16
 1671 00e4 0C301BE5 		ldr	r3, [fp, #-12]
 1672 00e8 342093E5 		ldr	r2, [r3, #52]
 1673              		.loc 1 588 12
 1674 00ec 08301BE5 		ldr	r3, [fp, #-8]
 1675 00f0 342083E5 		str	r2, [r3, #52]
 589:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->LR=Src->LR;
 1676              		.loc 1 589 16
 1677 00f4 0C301BE5 		ldr	r3, [fp, #-12]
 1678 00f8 382093E5 		ldr	r2, [r3, #56]
 1679              		.loc 1 589 12
 1680 00fc 08301BE5 		ldr	r3, [fp, #-8]
 1681 0100 382083E5 		str	r2, [r3, #56]
 590:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->PC=Src->PC;
 1682              		.loc 1 590 16
 1683 0104 0C301BE5 		ldr	r3, [fp, #-12]
 1684 0108 3C2093E5 		ldr	r2, [r3, #60]
 1685              		.loc 1 590 12
 1686 010c 08301BE5 		ldr	r3, [fp, #-8]
 1687 0110 3C2083E5 		str	r2, [r3, #60]
 591:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1688              		.loc 1 591 1
 1689 0114 00F020E3 		nop
 1690 0118 00D08BE2 		add	sp, fp, #0
 1691              		.cfi_def_cfa_register 13
 1692              		@ sp needed
 1693 011c 04B09DE4 		ldr	fp, [sp], #4
 1694              		.cfi_restore 11
 1695              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 42


 1696 0120 1EFF2FE1 		bx	lr
 1697              		.cfi_endproc
 1698              	.LFE18:
 1700              		.section	.text.__RME_Thd_Cop_Init,"ax",%progbits
 1701              		.align	2
 1702              		.global	__RME_Thd_Cop_Init
 1703              		.syntax unified
 1704              		.arm
 1706              	__RME_Thd_Cop_Init:
 1707              	.LFB19:
 592:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Copy *******************************************/
 593:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 594:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Init ************************************************
 595:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the coprocessor register set for the thread.
 596:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register struct to help initialize the coprocessor.
 597:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Cop_Struct* Cop_Reg - The register set content generated.
 598:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 599:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 600:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Init(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 601:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1708              		.loc 1 601 1
 1709              		.cfi_startproc
 1710              		@ args = 0, pretend = 0, frame = 8
 1711              		@ frame_needed = 1, uses_anonymous_args = 0
 1712              		@ link register save eliminated.
 1713 0000 04B02DE5 		str	fp, [sp, #-4]!
 1714              		.cfi_def_cfa_offset 4
 1715              		.cfi_offset 11, -4
 1716 0004 00B08DE2 		add	fp, sp, #0
 1717              		.cfi_def_cfa_register 11
 1718 0008 0CD04DE2 		sub	sp, sp, #12
 1719 000c 08000BE5 		str	r0, [fp, #-8]
 1720 0010 0C100BE5 		str	r1, [fp, #-12]
 602:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Empty function, return immediately. The FPU contents is not predictable */
 603:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1721              		.loc 1 603 1
 1722 0014 00F020E3 		nop
 1723 0018 00D08BE2 		add	sp, fp, #0
 1724              		.cfi_def_cfa_register 13
 1725              		@ sp needed
 1726 001c 04B09DE4 		ldr	fp, [sp], #4
 1727              		.cfi_restore 11
 1728              		.cfi_def_cfa_offset 0
 1729 0020 1EFF2FE1 		bx	lr
 1730              		.cfi_endproc
 1731              	.LFE19:
 1733              		.section	.text.__RME_Thd_Cop_Save,"ax",%progbits
 1734              		.align	2
 1735              		.global	__RME_Thd_Cop_Save
 1736              		.syntax unified
 1737              		.arm
 1739              	__RME_Thd_Cop_Save:
 1740              	.LFB20:
 604:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Reg_Init ***************************************/
 605:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 606:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Save ************************************************
 607:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the co-op register sets. This operation is flexible - If the
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 43


 608:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save its context.
 609:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 610:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 611:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 612:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 613:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 614:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Save(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 615:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1741              		.loc 1 615 1
 1742              		.cfi_startproc
 1743              		@ args = 0, pretend = 0, frame = 8
 1744              		@ frame_needed = 1, uses_anonymous_args = 0
 1745              		@ link register save eliminated.
 1746 0000 04B02DE5 		str	fp, [sp, #-4]!
 1747              		.cfi_def_cfa_offset 4
 1748              		.cfi_offset 11, -4
 1749 0004 00B08DE2 		add	fp, sp, #0
 1750              		.cfi_def_cfa_register 11
 1751 0008 0CD04DE2 		sub	sp, sp, #12
 1752 000c 08000BE5 		str	r0, [fp, #-8]
 1753 0010 0C100BE5 		str	r1, [fp, #-12]
 616:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 617:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1754              		.loc 1 617 1
 1755 0014 00F020E3 		nop
 1756 0018 00D08BE2 		add	sp, fp, #0
 1757              		.cfi_def_cfa_register 13
 1758              		@ sp needed
 1759 001c 04B09DE4 		ldr	fp, [sp], #4
 1760              		.cfi_restore 11
 1761              		.cfi_def_cfa_offset 0
 1762 0020 1EFF2FE1 		bx	lr
 1763              		.cfi_endproc
 1764              	.LFE20:
 1766              		.section	.text.__RME_Thd_Cop_Restore,"ax",%progbits
 1767              		.align	2
 1768              		.global	__RME_Thd_Cop_Restore
 1769              		.syntax unified
 1770              		.arm
 1772              	__RME_Thd_Cop_Restore:
 1773              	.LFB21:
 618:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Save *******************************************/
 619:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 620:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Restore *********************************************
 621:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the co-op register sets. This operation is flexible - If the
 622:../../Source/Platform/A7A/rme_platform_a7a.c ****               FPU is not used, we do not restore its context.
 623:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 624:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 625:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 626:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 627:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 628:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Restore(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 629:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1774              		.loc 1 629 1
 1775              		.cfi_startproc
 1776              		@ args = 0, pretend = 0, frame = 8
 1777              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 44


 1778              		@ link register save eliminated.
 1779 0000 04B02DE5 		str	fp, [sp, #-4]!
 1780              		.cfi_def_cfa_offset 4
 1781              		.cfi_offset 11, -4
 1782 0004 00B08DE2 		add	fp, sp, #0
 1783              		.cfi_def_cfa_register 11
 1784 0008 0CD04DE2 		sub	sp, sp, #12
 1785 000c 08000BE5 		str	r0, [fp, #-8]
 1786 0010 0C100BE5 		str	r1, [fp, #-12]
 630:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 631:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1787              		.loc 1 631 1
 1788 0014 00F020E3 		nop
 1789 0018 00D08BE2 		add	sp, fp, #0
 1790              		.cfi_def_cfa_register 13
 1791              		@ sp needed
 1792 001c 04B09DE4 		ldr	fp, [sp], #4
 1793              		.cfi_restore 11
 1794              		.cfi_def_cfa_offset 0
 1795 0020 1EFF2FE1 		bx	lr
 1796              		.cfi_endproc
 1797              	.LFE21:
 1799              		.section	.text.__RME_Inv_Reg_Save,"ax",%progbits
 1800              		.align	2
 1801              		.global	__RME_Inv_Reg_Save
 1802              		.syntax unified
 1803              		.arm
 1805              	__RME_Inv_Reg_Save:
 1806              	.LFB22:
 632:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Restore ****************************************/
 633:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 634:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Save ************************************************
 635:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the necessary registers on invocation for returning. Only the
 636:../../Source/Platform/A7A/rme_platform_a7a.c ****               registers that will influence program control flow will be saved.
 637:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Iret_Struct* Ret - The invocation return register context.
 639:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 640:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 641:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Save(struct RME_Iret_Struct* Ret, struct RME_Reg_Struct* Reg)
 642:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1807              		.loc 1 642 1
 1808              		.cfi_startproc
 1809              		@ args = 0, pretend = 0, frame = 8
 1810              		@ frame_needed = 1, uses_anonymous_args = 0
 1811              		@ link register save eliminated.
 1812 0000 04B02DE5 		str	fp, [sp, #-4]!
 1813              		.cfi_def_cfa_offset 4
 1814              		.cfi_offset 11, -4
 1815 0004 00B08DE2 		add	fp, sp, #0
 1816              		.cfi_def_cfa_register 11
 1817 0008 0CD04DE2 		sub	sp, sp, #12
 1818 000c 08000BE5 		str	r0, [fp, #-8]
 1819 0010 0C100BE5 		str	r1, [fp, #-12]
 643:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->PC=Reg->PC;
 1820              		.loc 1 643 16
 1821 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1822 0018 3C2093E5 		ldr	r2, [r3, #60]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 45


 1823              		.loc 1 643 12
 1824 001c 08301BE5 		ldr	r3, [fp, #-8]
 1825 0020 002083E5 		str	r2, [r3]
 644:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->SP=Reg->SP;
 1826              		.loc 1 644 16
 1827 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1828 0028 342093E5 		ldr	r2, [r3, #52]
 1829              		.loc 1 644 12
 1830 002c 08301BE5 		ldr	r3, [fp, #-8]
 1831 0030 042083E5 		str	r2, [r3, #4]
 645:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1832              		.loc 1 645 1
 1833 0034 00F020E3 		nop
 1834 0038 00D08BE2 		add	sp, fp, #0
 1835              		.cfi_def_cfa_register 13
 1836              		@ sp needed
 1837 003c 04B09DE4 		ldr	fp, [sp], #4
 1838              		.cfi_restore 11
 1839              		.cfi_def_cfa_offset 0
 1840 0040 1EFF2FE1 		bx	lr
 1841              		.cfi_endproc
 1842              	.LFE22:
 1844              		.section	.text.__RME_Inv_Reg_Restore,"ax",%progbits
 1845              		.align	2
 1846              		.global	__RME_Inv_Reg_Restore
 1847              		.syntax unified
 1848              		.arm
 1850              	__RME_Inv_Reg_Restore:
 1851              	.LFB23:
 646:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Save *******************************************/
 647:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 648:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Restore *********************************************
 649:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the necessary registers for returning from an invocation.
 650:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Iret_Struct* Ret - The invocation return register context.
 651:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 652:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 653:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 654:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Restore(struct RME_Reg_Struct* Reg, struct RME_Iret_Struct* Ret)
 655:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1852              		.loc 1 655 1
 1853              		.cfi_startproc
 1854              		@ args = 0, pretend = 0, frame = 8
 1855              		@ frame_needed = 1, uses_anonymous_args = 0
 1856              		@ link register save eliminated.
 1857 0000 04B02DE5 		str	fp, [sp, #-4]!
 1858              		.cfi_def_cfa_offset 4
 1859              		.cfi_offset 11, -4
 1860 0004 00B08DE2 		add	fp, sp, #0
 1861              		.cfi_def_cfa_register 11
 1862 0008 0CD04DE2 		sub	sp, sp, #12
 1863 000c 08000BE5 		str	r0, [fp, #-8]
 1864 0010 0C100BE5 		str	r1, [fp, #-12]
 656:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Ret->PC;
 1865              		.loc 1 656 16
 1866 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1867 0018 002093E5 		ldr	r2, [r3]
 1868              		.loc 1 656 12
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 46


 1869 001c 08301BE5 		ldr	r3, [fp, #-8]
 1870 0020 3C2083E5 		str	r2, [r3, #60]
 657:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Ret->SP;
 1871              		.loc 1 657 16
 1872 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1873 0028 042093E5 		ldr	r2, [r3, #4]
 1874              		.loc 1 657 12
 1875 002c 08301BE5 		ldr	r3, [fp, #-8]
 1876 0030 342083E5 		str	r2, [r3, #52]
 658:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1877              		.loc 1 658 1
 1878 0034 00F020E3 		nop
 1879 0038 00D08BE2 		add	sp, fp, #0
 1880              		.cfi_def_cfa_register 13
 1881              		@ sp needed
 1882 003c 04B09DE4 		ldr	fp, [sp], #4
 1883              		.cfi_restore 11
 1884              		.cfi_def_cfa_offset 0
 1885 0040 1EFF2FE1 		bx	lr
 1886              		.cfi_endproc
 1887              	.LFE23:
 1889              		.section	.text.__RME_Inv_Retval_Set,"ax",%progbits
 1890              		.align	2
 1891              		.global	__RME_Inv_Retval_Set
 1892              		.syntax unified
 1893              		.arm
 1895              	__RME_Inv_Retval_Set:
 1896              	.LFB24:
 659:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Restore ****************************************/
 660:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 661:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Retval_Set **********************************************
 662:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 663:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 665:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 666:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 667:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Retval_Set(struct RME_Reg_Struct* Reg,
 668:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ret_t Retval)
 669:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1897              		.loc 1 669 1
 1898              		.cfi_startproc
 1899              		@ args = 0, pretend = 0, frame = 8
 1900              		@ frame_needed = 1, uses_anonymous_args = 0
 1901              		@ link register save eliminated.
 1902 0000 04B02DE5 		str	fp, [sp, #-4]!
 1903              		.cfi_def_cfa_offset 4
 1904              		.cfi_offset 11, -4
 1905 0004 00B08DE2 		add	fp, sp, #0
 1906              		.cfi_def_cfa_register 11
 1907 0008 0CD04DE2 		sub	sp, sp, #12
 1908 000c 08000BE5 		str	r0, [fp, #-8]
 1909 0010 0C100BE5 		str	r1, [fp, #-12]
 670:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R5=(rme_ptr_t)Retval;
 1910              		.loc 1 670 13
 1911 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1912              		.loc 1 670 12
 1913 0018 08301BE5 		ldr	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 47


 1914 001c 182083E5 		str	r2, [r3, #24]
 671:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1915              		.loc 1 671 1
 1916 0020 00F020E3 		nop
 1917 0024 00D08BE2 		add	sp, fp, #0
 1918              		.cfi_def_cfa_register 13
 1919              		@ sp needed
 1920 0028 04B09DE4 		ldr	fp, [sp], #4
 1921              		.cfi_restore 11
 1922              		.cfi_def_cfa_offset 0
 1923 002c 1EFF2FE1 		bx	lr
 1924              		.cfi_endproc
 1925              	.LFE24:
 1927              		.section	.text.__RME_Set_Inv_Retval,"ax",%progbits
 1928              		.align	2
 1929              		.global	__RME_Set_Inv_Retval
 1930              		.syntax unified
 1931              		.arm
 1933              	__RME_Set_Inv_Retval:
 1934              	.LFB25:
 672:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Retval_Set *****************************************/
 673:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 674:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Inv_Retval **********************************************
 675:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 676:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 677:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 679:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 680:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Set_Inv_Retval(struct RME_Reg_Struct* Reg, rme_ret_t Retval)
 681:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1935              		.loc 1 681 1
 1936              		.cfi_startproc
 1937              		@ args = 0, pretend = 0, frame = 8
 1938              		@ frame_needed = 1, uses_anonymous_args = 0
 1939              		@ link register save eliminated.
 1940 0000 04B02DE5 		str	fp, [sp, #-4]!
 1941              		.cfi_def_cfa_offset 4
 1942              		.cfi_offset 11, -4
 1943 0004 00B08DE2 		add	fp, sp, #0
 1944              		.cfi_def_cfa_register 11
 1945 0008 0CD04DE2 		sub	sp, sp, #12
 1946 000c 08000BE5 		str	r0, [fp, #-8]
 1947 0010 0C100BE5 		str	r1, [fp, #-12]
 682:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R1=(rme_ptr_t)Retval;
 1948              		.loc 1 682 13
 1949 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1950              		.loc 1 682 12
 1951 0018 08301BE5 		ldr	r3, [fp, #-8]
 1952 001c 082083E5 		str	r2, [r3, #8]
 683:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1953              		.loc 1 683 1
 1954 0020 00F020E3 		nop
 1955 0024 00D08BE2 		add	sp, fp, #0
 1956              		.cfi_def_cfa_register 13
 1957              		@ sp needed
 1958 0028 04B09DE4 		ldr	fp, [sp], #4
 1959              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 48


 1960              		.cfi_def_cfa_offset 0
 1961 002c 1EFF2FE1 		bx	lr
 1962              		.cfi_endproc
 1963              	.LFE25:
 1965              		.section	.text.__RME_Thd_Cop_Swap,"ax",%progbits
 1966              		.align	2
 1967              		.global	__RME_Thd_Cop_Swap
 1968              		.syntax unified
 1969              		.arm
 1971              	__RME_Thd_Cop_Swap:
 1972              	.LFB26:
 684:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Inv_Retval *****************************************/
 685:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 686:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Swap ************************************************
 687:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Swap the cop register sets. This operation is flexible - If the
 688:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save/restore its context.
 689:../../Source/Platform/A7A/rme_platform_a7a.c ****               We do not need to turn off lazy stacking, because even if a fault
 690:../../Source/Platform/A7A/rme_platform_a7a.c ****               occurs, it (1) tails the execution of activates the will get dropped
 691:../../Source/Platform/A7A/rme_platform_a7a.c ****               by our handler deliberately and will not cause wrong attribution.
 692:../../Source/Platform/A7A/rme_platform_a7a.c ****               They can be alternatively disabled as well if you wish.
 693:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Attr_New - The attribute of the context to switch to.
 694:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_New - Whether the context to switch to is a
 695:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 696:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_New - The context to switch to.
 697:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Attr_Cur - The attribute of the context to switch from.
 698:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_Cur - Whether the context to switch from is a
 699:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 700:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_Cur - The context to switch from.
 701:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : void* Cop_New - The coprocessor context to switch to.
 702:../../Source/Platform/A7A/rme_platform_a7a.c ****               void* Cop_Cur - The coprocessor context to switch from.
 703:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 704:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 705:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Swap(rme_ptr_t Attr_New,
 706:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_New,
 707:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_New,
 708:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_New,
 709:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Attr_Cur,
 710:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_Cur,
 711:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_Cur,
 712:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_Cur)
 713:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1973              		.loc 1 713 1
 1974              		.cfi_startproc
 1975              		@ args = 16, pretend = 0, frame = 16
 1976              		@ frame_needed = 1, uses_anonymous_args = 0
 1977              		@ link register save eliminated.
 1978 0000 04B02DE5 		str	fp, [sp, #-4]!
 1979              		.cfi_def_cfa_offset 4
 1980              		.cfi_offset 11, -4
 1981 0004 00B08DE2 		add	fp, sp, #0
 1982              		.cfi_def_cfa_register 11
 1983 0008 14D04DE2 		sub	sp, sp, #20
 1984 000c 08000BE5 		str	r0, [fp, #-8]
 1985 0010 0C100BE5 		str	r1, [fp, #-12]
 1986 0014 10200BE5 		str	r2, [fp, #-16]
 1987 0018 14300BE5 		str	r3, [fp, #-20]
 714:../../Source/Platform/A7A/rme_platform_a7a.c ****     
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 49


 715:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1988              		.loc 1 715 1
 1989 001c 00F020E3 		nop
 1990 0020 00D08BE2 		add	sp, fp, #0
 1991              		.cfi_def_cfa_register 13
 1992              		@ sp needed
 1993 0024 04B09DE4 		ldr	fp, [sp], #4
 1994              		.cfi_restore 11
 1995              		.cfi_def_cfa_offset 0
 1996 0028 1EFF2FE1 		bx	lr
 1997              		.cfi_endproc
 1998              	.LFE26:
 2000              		.section	.text.__RME_Kfn_Handler,"ax",%progbits
 2001              		.align	2
 2002              		.global	__RME_Kfn_Handler
 2003              		.syntax unified
 2004              		.arm
 2006              	__RME_Kfn_Handler:
 2007              	.LFB27:
 716:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Swap *******************************************/
 717:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 718:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Kern_Func_Handler *******************************************
 719:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Handle kernel function calls.
 720:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The current register set.
 721:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Func_ID - The function ID.
 722:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Sub_ID - The sub function ID.
 723:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param1 - The first parameter.
 724:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param2 - The second parameter.
 725:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 726:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - The value that the function returned.
 727:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 728:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Kfn_Handler(struct RME_Cap_Cpt* Cpt,
 729:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            struct RME_Reg_Struct* Reg,
 730:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Func_ID,
 731:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Sub_ID,
 732:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param1,
 733:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param2)
 734:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2008              		.loc 1 734 1
 2009              		.cfi_startproc
 2010              		@ args = 8, pretend = 0, frame = 16
 2011              		@ frame_needed = 1, uses_anonymous_args = 0
 2012              		@ link register save eliminated.
 2013 0000 04B02DE5 		str	fp, [sp, #-4]!
 2014              		.cfi_def_cfa_offset 4
 2015              		.cfi_offset 11, -4
 2016 0004 00B08DE2 		add	fp, sp, #0
 2017              		.cfi_def_cfa_register 11
 2018 0008 14D04DE2 		sub	sp, sp, #20
 2019 000c 08000BE5 		str	r0, [fp, #-8]
 2020 0010 0C100BE5 		str	r1, [fp, #-12]
 2021 0014 10200BE5 		str	r2, [fp, #-16]
 2022 0018 14300BE5 		str	r3, [fp, #-20]
 735:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Currently no kernel function implemented */
 736:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2023              		.loc 1 736 12
 2024 001c 0030A0E3 		mov	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 50


 737:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2025              		.loc 1 737 1
 2026 0020 0300A0E1 		mov	r0, r3
 2027 0024 00D08BE2 		add	sp, fp, #0
 2028              		.cfi_def_cfa_register 13
 2029              		@ sp needed
 2030 0028 04B09DE4 		ldr	fp, [sp], #4
 2031              		.cfi_restore 11
 2032              		.cfi_def_cfa_offset 0
 2033 002c 1EFF2FE1 		bx	lr
 2034              		.cfi_endproc
 2035              	.LFE27:
 2037              		.section	.text.__RME_A7A_Undefined_Handler,"ax",%progbits
 2038              		.align	2
 2039              		.global	__RME_A7A_Undefined_Handler
 2040              		.syntax unified
 2041              		.arm
 2043              	__RME_A7A_Undefined_Handler:
 2044              	.LFB28:
 738:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Kern_Func_Handler **************************************/
 739:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 740:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Undefined_Handler **************************************
 741:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The undefined instruction vector handler of RME.
 742:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 743:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 744:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 745:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 746:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Undefined_Handler(struct RME_Reg_Struct* Reg)
 747:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2045              		.loc 1 747 1
 2046              		.cfi_startproc
 2047              		@ args = 0, pretend = 0, frame = 8
 2048              		@ frame_needed = 1, uses_anonymous_args = 0
 2049              		@ link register save eliminated.
 2050 0000 04B02DE5 		str	fp, [sp, #-4]!
 2051              		.cfi_def_cfa_offset 4
 2052              		.cfi_offset 11, -4
 2053 0004 00B08DE2 		add	fp, sp, #0
 2054              		.cfi_def_cfa_register 11
 2055 0008 0CD04DE2 		sub	sp, sp, #12
 2056 000c 08000BE5 		str	r0, [fp, #-8]
 2057              	.L71:
 748:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle undefined instructions now */
 749:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2058              		.loc 1 749 7
 2059 0010 FEFFFFEA 		b	.L71
 2060              		.cfi_endproc
 2061              	.LFE28:
 2063              		.section	.text.__RME_A7A_Prefetch_Abort_Handler,"ax",%progbits
 2064              		.align	2
 2065              		.global	__RME_A7A_Prefetch_Abort_Handler
 2066              		.syntax unified
 2067              		.arm
 2069              	__RME_A7A_Prefetch_Abort_Handler:
 2070              	.LFB29:
 750:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 751:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Undefined_Handler *********************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 51


 752:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 753:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Prefetch_Abort_Handler *********************************
 754:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The prefetch abort vector handler of RME.
 755:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 756:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 757:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 758:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 759:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Prefetch_Abort_Handler(struct RME_Reg_Struct* Reg)
 760:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2071              		.loc 1 760 1
 2072              		.cfi_startproc
 2073              		@ args = 0, pretend = 0, frame = 8
 2074              		@ frame_needed = 1, uses_anonymous_args = 0
 2075              		@ link register save eliminated.
 2076 0000 04B02DE5 		str	fp, [sp, #-4]!
 2077              		.cfi_def_cfa_offset 4
 2078              		.cfi_offset 11, -4
 2079 0004 00B08DE2 		add	fp, sp, #0
 2080              		.cfi_def_cfa_register 11
 2081 0008 0CD04DE2 		sub	sp, sp, #12
 2082 000c 08000BE5 		str	r0, [fp, #-8]
 2083              	.L73:
 761:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle prefetch aborts now */
 762:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2084              		.loc 1 762 7
 2085 0010 FEFFFFEA 		b	.L73
 2086              		.cfi_endproc
 2087              	.LFE29:
 2089              		.section	.text.__RME_A7A_Data_Abort_Handler,"ax",%progbits
 2090              		.align	2
 2091              		.global	__RME_A7A_Data_Abort_Handler
 2092              		.syntax unified
 2093              		.arm
 2095              	__RME_A7A_Data_Abort_Handler:
 2096              	.LFB30:
 763:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 764:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Prefetch_Abort_Handler ****************************/
 765:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 766:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Data_Abort_Handler *************************************
 767:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The data abort vector handler of RME.
 768:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 769:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 770:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 771:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 772:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Data_Abort_Handler(struct RME_Reg_Struct* Reg)
 773:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2097              		.loc 1 773 1
 2098              		.cfi_startproc
 2099              		@ args = 0, pretend = 0, frame = 8
 2100              		@ frame_needed = 1, uses_anonymous_args = 0
 2101              		@ link register save eliminated.
 2102 0000 04B02DE5 		str	fp, [sp, #-4]!
 2103              		.cfi_def_cfa_offset 4
 2104              		.cfi_offset 11, -4
 2105 0004 00B08DE2 		add	fp, sp, #0
 2106              		.cfi_def_cfa_register 11
 2107 0008 0CD04DE2 		sub	sp, sp, #12
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 52


 2108 000c 08000BE5 		str	r0, [fp, #-8]
 2109              	.L75:
 774:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle data aborts now */
 775:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2110              		.loc 1 775 7
 2111 0010 FEFFFFEA 		b	.L75
 2112              		.cfi_endproc
 2113              	.LFE30:
 2115              		.section	.rodata
 2116              		.align	2
 2117              	.LC20:
 2118 0218 0D0A494E 		.ascii	"\015\012INT_ID is \000"
 2118      545F4944 
 2118      20697320 
 2118      00
 2119              		.section	.text.__RME_A7A_IRQ_Handler,"ax",%progbits
 2120              		.align	2
 2121              		.global	__RME_A7A_IRQ_Handler
 2122              		.syntax unified
 2123              		.arm
 2125              	__RME_A7A_IRQ_Handler:
 2126              	.LFB31:
 776:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 777:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Data_Abort_Handler ********************************/
 778:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 779:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_IRQ_Handler ********************************************
 780:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The regular interrupt vector handler of RME.
 781:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 782:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 783:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 784:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 785:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_IRQ_Handler(struct RME_Reg_Struct* Reg)
 786:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2127              		.loc 1 786 1
 2128              		.cfi_startproc
 2129              		@ args = 0, pretend = 0, frame = 16
 2130              		@ frame_needed = 1, uses_anonymous_args = 0
 2131 0000 00482DE9 		push	{fp, lr}
 2132              		.cfi_def_cfa_offset 8
 2133              		.cfi_offset 11, -8
 2134              		.cfi_offset 14, -4
 2135 0004 04B08DE2 		add	fp, sp, #4
 2136              		.cfi_def_cfa 11, 4
 2137 0008 10D04DE2 		sub	sp, sp, #16
 2138 000c 10000BE5 		str	r0, [fp, #-16]
 787:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t Int_ID;
 788:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t CPUID;
 789:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 790:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* What interrupt is this? */
 791:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID=RME_A7A_GICC_IAR;
 2139              		.loc 1 791 9
 2140 0010 433FA0E3 		mov	r3, #268
 2141 0014 F0384FE3 		movt	r3, 63728
 2142              		.loc 1 791 8
 2143 0018 003093E5 		ldr	r3, [r3]
 2144 001c 08300BE5 		str	r3, [fp, #-8]
 792:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 53


 2145              		.loc 1 792 7
 2146 0020 08301BE5 		ldr	r3, [fp, #-8]
 2147 0024 2335A0E1 		lsr	r3, r3, #10
 2148 0028 0C300BE5 		str	r3, [fp, #-12]
 793:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID&=0x3FFU;
 2149              		.loc 1 793 8
 2150 002c 08301BE5 		ldr	r3, [fp, #-8]
 2151 0030 5330E9E7 		ubfx	r3, r3, #0, #10
 2152 0034 08300BE5 		str	r3, [fp, #-8]
 794:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nINT_ID is ");
 2153              		.loc 1 794 5
 2154 0038 000000E3 		movw	r0, #:lower16:.LC20
 2155 003c 000040E3 		movt	r0, #:upper16:.LC20
 2156 0040 FEFFFFEB 		bl	RME_Str_Print
 795:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_I(Int_ID);
 2157              		.loc 1 795 2
 2158 0044 08301BE5 		ldr	r3, [fp, #-8]
 2159 0048 0300A0E1 		mov	r0, r3
 2160 004c FEFFFFEB 		bl	RME_Int_Print
 796:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 797:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 798:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a spurious interrupt? (Can't be 1022 because GICv1 don't have group1) */
 799:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(Int_ID!=1022);
 2161              		.loc 1 799 2
 2162 0050 08301BE5 		ldr	r3, [fp, #-8]
 2163 0054 FE2300E3 		movw	r2, #1022
 2164 0058 020053E1 		cmp	r3, r2
 2165 005c 0800001A 		bne	.L77
 2166              		.loc 1 799 2 is_stmt 0 discriminator 1
 2167 0060 003000E3 		movw	r3, #:lower16:.LC12
 2168 0064 003040E3 		movt	r3, #:upper16:.LC12
 2169 0068 002000E3 		movw	r2, #:lower16:.LC13
 2170 006c 002040E3 		movt	r2, #:upper16:.LC13
 2171 0070 1F1300E3 		movw	r1, #799
 2172 0074 000000E3 		movw	r0, #:lower16:.LC14
 2173 0078 000040E3 		movt	r0, #:upper16:.LC14
 2174 007c FEFFFFEB 		bl	RME_Log
 2175              	.L78:
 2176              		.loc 1 799 2
 2177 0080 FEFFFFEA 		b	.L78
 2178              	.L77:
 800:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 2179              		.loc 1 800 4 is_stmt 1
 2180 0084 08301BE5 		ldr	r3, [fp, #-8]
 2181 0088 FF2300E3 		movw	r2, #1023
 2182 008c 020053E1 		cmp	r3, r2
 2183 0090 3D00000A 		beq	.L87
 801:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 802:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 803:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 804:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 805:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is is an timer interrupt? (we know that it is at 29) */
 806:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==29)
 2184              		.loc 1 806 4
 2185 0094 08301BE5 		ldr	r3, [fp, #-8]
 2186 0098 1D0053E3 		cmp	r3, #29
 2187 009c 0B00001A 		bne	.L81
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 54


 807:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 808:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Clear the interrupt flag */
 809:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    RME_A7A_PTWD_PTISR=0;
 2188              		.loc 1 809 6
 2189 00a0 0C3600E3 		movw	r3, #1548
 2190 00a4 F0384FE3 		movt	r3, 63728
 2191              		.loc 1 809 24
 2192 00a8 0020A0E3 		mov	r2, #0
 2193 00ac 002083E5 		str	r2, [r3]
 810:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 811:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    _RME_Tim_Handler(Reg,1);
 2194              		.loc 1 811 6
 2195 00b0 0110A0E3 		mov	r1, #1
 2196 00b4 10001BE5 		ldr	r0, [fp, #-16]
 2197 00b8 FEFFFFEB 		bl	_RME_Tim_Handler
 812:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Send interrupt to all other processors to notify them about this */
 813:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 814:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 2198              		.loc 1 814 3
 2199 00bc 113EA0E3 		mov	r3, #272
 2200 00c0 F0384FE3 		movt	r3, 63728
 2201              		.loc 1 814 20
 2202 00c4 08201BE5 		ldr	r2, [fp, #-8]
 2203 00c8 002083E5 		str	r2, [r3]
 815:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2204              		.loc 1 815 3
 2205 00cc 2F0000EA 		b	.L76
 2206              	.L81:
 816:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 817:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 818:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 819:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 820:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 821:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 822:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 823:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 824:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a coprocessor timer interrupt? (We use interrupt number 0 for these) */
 825:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==0)
 2207              		.loc 1 825 4
 2208 00d0 08301BE5 		ldr	r3, [fp, #-8]
 2209 00d4 000053E3 		cmp	r3, #0
 2210 00d8 1000001A 		bne	.L82
 826:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 827:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* This must have originated from interface 0 */
 828:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(CPUID==0);
 2211              		.loc 1 828 3
 2212 00dc 0C301BE5 		ldr	r3, [fp, #-12]
 2213 00e0 000053E3 		cmp	r3, #0
 2214 00e4 0800000A 		beq	.L83
 2215              		.loc 1 828 3 is_stmt 0 discriminator 1
 2216 00e8 003000E3 		movw	r3, #:lower16:.LC12
 2217 00ec 003040E3 		movt	r3, #:upper16:.LC12
 2218 00f0 002000E3 		movw	r2, #:lower16:.LC13
 2219 00f4 002040E3 		movt	r2, #:upper16:.LC13
 2220 00f8 CF1FA0E3 		mov	r1, #828
 2221 00fc 000000E3 		movw	r0, #:lower16:.LC14
 2222 0100 000040E3 		movt	r0, #:upper16:.LC14
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 55


 2223 0104 FEFFFFEB 		bl	RME_Log
 2224              	.L84:
 2225              		.loc 1 828 3
 2226 0108 FEFFFFEA 		b	.L84
 2227              	.L83:
 829:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 830:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 831:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 2228              		.loc 1 831 3 is_stmt 1
 2229 010c 113EA0E3 		mov	r3, #272
 2230 0110 F0384FE3 		movt	r3, 63728
 2231              		.loc 1 831 20
 2232 0114 08201BE5 		ldr	r2, [fp, #-8]
 2233 0118 002083E5 		str	r2, [r3]
 832:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2234              		.loc 1 832 3
 2235 011c 1B0000EA 		b	.L76
 2236              	.L82:
 833:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 834:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 835:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an other IPI? (All the rest of the SGIs are these) */
 836:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID<16)
 2237              		.loc 1 836 4
 2238 0120 08301BE5 		ldr	r3, [fp, #-8]
 2239 0124 0F0053E3 		cmp	r3, #15
 2240 0128 0B00008A 		bhi	.L85
 837:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 838:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_A7A_SGI_Handler(Reg,CPUID,Int_ID);
 2241              		.loc 1 838 3
 2242 012c 08201BE5 		ldr	r2, [fp, #-8]
 2243 0130 0C101BE5 		ldr	r1, [fp, #-12]
 2244 0134 10001BE5 		ldr	r0, [fp, #-16]
 2245 0138 FEFFFFEB 		bl	_RME_A7A_SGI_Handler
 839:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 840:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=(CPUID<<10U)|Int_ID;
 2246              		.loc 1 840 27
 2247 013c 0C301BE5 		ldr	r3, [fp, #-12]
 2248 0140 0315A0E1 		lsl	r1, r3, #10
 2249              		.loc 1 840 3
 2250 0144 113EA0E3 		mov	r3, #272
 2251 0148 F0384FE3 		movt	r3, 63728
 2252              		.loc 1 840 33
 2253 014c 08201BE5 		ldr	r2, [fp, #-8]
 2254 0150 022081E1 		orr	r2, r1, r2
 2255              		.loc 1 840 20
 2256 0154 002083E5 		str	r2, [r3]
 841:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2257              		.loc 1 841 3
 2258 0158 0C0000EA 		b	.L76
 2259              	.L85:
 842:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 843:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 844:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an casual interrupt? */
 845:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(CPUID==0);
 2260              		.loc 1 845 2
 2261 015c 0C301BE5 		ldr	r3, [fp, #-12]
 2262 0160 000053E3 		cmp	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 56


 2263 0164 0900000A 		beq	.L76
 2264              		.loc 1 845 2 is_stmt 0 discriminator 1
 2265 0168 003000E3 		movw	r3, #:lower16:.LC12
 2266 016c 003040E3 		movt	r3, #:upper16:.LC12
 2267 0170 002000E3 		movw	r2, #:lower16:.LC13
 2268 0174 002040E3 		movt	r2, #:upper16:.LC13
 2269 0178 4D1300E3 		movw	r1, #845
 2270 017c 000000E3 		movw	r0, #:lower16:.LC14
 2271 0180 000040E3 		movt	r0, #:upper16:.LC14
 2272 0184 FEFFFFEB 		bl	RME_Log
 2273              	.L86:
 2274              		.loc 1 845 2
 2275 0188 FEFFFFEA 		b	.L86
 2276              	.L87:
 801:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 2277              		.loc 1 801 3 is_stmt 1
 2278 018c 00F020E3 		nop
 2279              	.L76:
 846:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 847:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2280              		.loc 1 847 1
 2281 0190 04D04BE2 		sub	sp, fp, #4
 2282              		.cfi_def_cfa 13, 8
 2283              		@ sp needed
 2284 0194 0088BDE8 		pop	{fp, pc}
 2285              		.cfi_endproc
 2286              	.LFE31:
 2288              		.section	.text._RME_A7A_SGI_Handler,"ax",%progbits
 2289              		.align	2
 2290              		.global	_RME_A7A_SGI_Handler
 2291              		.syntax unified
 2292              		.arm
 2294              	_RME_A7A_SGI_Handler:
 2295              	.LFB32:
 848:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_IRQ_Handler ***************************************/
 849:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 850:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:_RME_A7A_SGI_Handler *********************************************
 851:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for x64.
 852:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 853:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t CPUID - The ID of the sender CPU.
 854:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_ID - The ID of the SGI.
 855:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 856:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 857:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 858:../../Source/Platform/A7A/rme_platform_a7a.c **** void _RME_A7A_SGI_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t CPUID, rme_ptr_t Int_ID)
 859:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2296              		.loc 1 859 1
 2297              		.cfi_startproc
 2298              		@ args = 0, pretend = 0, frame = 16
 2299              		@ frame_needed = 1, uses_anonymous_args = 0
 2300              		@ link register save eliminated.
 2301 0000 04B02DE5 		str	fp, [sp, #-4]!
 2302              		.cfi_def_cfa_offset 4
 2303              		.cfi_offset 11, -4
 2304 0004 00B08DE2 		add	fp, sp, #0
 2305              		.cfi_def_cfa_register 11
 2306 0008 14D04DE2 		sub	sp, sp, #20
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 57


 2307 000c 08000BE5 		str	r0, [fp, #-8]
 2308 0010 0C100BE5 		str	r1, [fp, #-12]
 2309 0014 10200BE5 		str	r2, [fp, #-16]
 860:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Not handling SGIs */
 861:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return;
 2310              		.loc 1 861 2
 2311 0018 00F020E3 		nop
 862:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2312              		.loc 1 862 1
 2313 001c 00D08BE2 		add	sp, fp, #0
 2314              		.cfi_def_cfa_register 13
 2315              		@ sp needed
 2316 0020 04B09DE4 		ldr	fp, [sp], #4
 2317              		.cfi_restore 11
 2318              		.cfi_def_cfa_offset 0
 2319 0024 1EFF2FE1 		bx	lr
 2320              		.cfi_endproc
 2321              	.LFE32:
 2323              		.section	.rodata
 2324 0225 000000   		.align	2
 2325              	.LC21:
 2326 0228 0D0A4765 		.ascii	"\015\012General int:\000"
 2326      6E657261 
 2326      6C20696E 
 2326      743A00
 2327              		.section	.text.__RME_A7A_Generic_Handler,"ax",%progbits
 2328              		.align	2
 2329              		.global	__RME_A7A_Generic_Handler
 2330              		.syntax unified
 2331              		.arm
 2333              	__RME_A7A_Generic_Handler:
 2334              	.LFB33:
 863:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:_RME_A7A_SGI_Handler ****************************************/
 864:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 865:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Generic_Handler ****************************************
 866:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for Cortex-A (ARMv7).
 867:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 868:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_Num - The interrupt number.
 869:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 870:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 871:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 872:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Generic_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t Int_Num)
 873:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2335              		.loc 1 873 1
 2336              		.cfi_startproc
 2337              		@ args = 0, pretend = 0, frame = 8
 2338              		@ frame_needed = 1, uses_anonymous_args = 0
 2339 0000 00482DE9 		push	{fp, lr}
 2340              		.cfi_def_cfa_offset 8
 2341              		.cfi_offset 11, -8
 2342              		.cfi_offset 14, -4
 2343 0004 04B08DE2 		add	fp, sp, #4
 2344              		.cfi_def_cfa 11, 4
 2345 0008 08D04DE2 		sub	sp, sp, #8
 2346 000c 08000BE5 		str	r0, [fp, #-8]
 2347 0010 0C100BE5 		str	r1, [fp, #-12]
 874:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 58


 875:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nGeneral int:");
 2348              		.loc 1 875 5
 2349 0014 000000E3 		movw	r0, #:lower16:.LC21
 2350 0018 000040E3 		movt	r0, #:upper16:.LC21
 2351 001c FEFFFFEB 		bl	RME_Str_Print
 876:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 2352              		.loc 1 876 5
 2353 0020 0C301BE5 		ldr	r3, [fp, #-12]
 2354 0024 0300A0E1 		mov	r0, r3
 2355 0028 FEFFFFEB 		bl	RME_Int_Print
 877:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 878:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling anything */
 879:../../Source/Platform/A7A/rme_platform_a7a.c ****     switch(Int_Num)
 880:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 881:../../Source/Platform/A7A/rme_platform_a7a.c ****         default:break;
 2356              		.loc 1 881 17
 2357 002c 00F020E3 		nop
 882:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 883:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Remember to perform context switch after any kernel sends */
 884:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2358              		.loc 1 884 1
 2359 0030 00F020E3 		nop
 2360 0034 04D04BE2 		sub	sp, fp, #4
 2361              		.cfi_def_cfa 13, 8
 2362              		@ sp needed
 2363 0038 0088BDE8 		pop	{fp, pc}
 2364              		.cfi_endproc
 2365              	.LFE33:
 2367              		.section	.text.__RME_Pgt_Set,"ax",%progbits
 2368              		.align	2
 2369              		.global	__RME_Pgt_Set
 2370              		.syntax unified
 2371              		.arm
 2373              	__RME_Pgt_Set:
 2374              	.LFB34:
 885:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Generic_Handler ***********************************/
 886:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 887:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Set ***************************************************
 888:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the processor's page table.
 889:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Pgt - The virtual address of the page table.
 890:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 891:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 892:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 893:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Pgt_Set(struct RME_Cap_Pgt* Pgt)
 894:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2375              		.loc 1 894 1
 2376              		.cfi_startproc
 2377              		@ args = 0, pretend = 0, frame = 8
 2378              		@ frame_needed = 1, uses_anonymous_args = 0
 2379              		@ link register save eliminated.
 2380 0000 04B02DE5 		str	fp, [sp, #-4]!
 2381              		.cfi_def_cfa_offset 4
 2382              		.cfi_offset 11, -4
 2383 0004 00B08DE2 		add	fp, sp, #0
 2384              		.cfi_def_cfa_register 11
 2385 0008 0CD04DE2 		sub	sp, sp, #12
 2386 000c 08000BE5 		str	r0, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 59


 895:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 896:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2387              		.loc 1 896 1
 2388 0010 00F020E3 		nop
 2389 0014 00D08BE2 		add	sp, fp, #0
 2390              		.cfi_def_cfa_register 13
 2391              		@ sp needed
 2392 0018 04B09DE4 		ldr	fp, [sp], #4
 2393              		.cfi_restore 11
 2394              		.cfi_def_cfa_offset 0
 2395 001c 1EFF2FE1 		bx	lr
 2396              		.cfi_endproc
 2397              	.LFE34:
 2399              		.section	.text.__RME_Pgt_Check,"ax",%progbits
 2400              		.align	2
 2401              		.global	__RME_Pgt_Check
 2402              		.syntax unified
 2403              		.arm
 2405              	__RME_Pgt_Check:
 2406              	.LFB35:
 897:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Set **********************************************/
 898:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 899:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Check *************************************************
 900:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table parameters are feasible, according to the
 901:../../Source/Platform/A7A/rme_platform_a7a.c ****               parameters. This is only used in page table creation. The following
 902:../../Source/Platform/A7A/rme_platform_a7a.c ****               restrictions apply:
 903:../../Source/Platform/A7A/rme_platform_a7a.c **** 1. PAE is not supported by this port: if you have that much memory, use the Cortex-A
 904:../../Source/Platform/A7A/rme_platform_a7a.c ****    64-bit port instead. The translation scheme here is always:
 905:../../Source/Platform/A7A/rme_platform_a7a.c ****    4GB VA -> {Supersection, Section} -> {Large Page, Small Page}.
 906:../../Source/Platform/A7A/rme_platform_a7a.c ****    The supersection is described in ARMv7-AR ARM as optional, but is implemented on
 907:../../Source/Platform/A7A/rme_platform_a7a.c ****    all known ARMv7-A processors.
 908:../../Source/Platform/A7A/rme_platform_a7a.c ****    We only user TTBR0 here and we set value N to 0 as always. Using TTBR1 is nonsense
 909:../../Source/Platform/A7A/rme_platform_a7a.c ****    in our context, as it gives little benefit.
 910:../../Source/Platform/A7A/rme_platform_a7a.c **** 2. The ARM page tables have idiosyncrasy that allow two page size mappings to exist
 911:../../Source/Platform/A7A/rme_platform_a7a.c ****    in the same page table.
 912:../../Source/Platform/A7A/rme_platform_a7a.c **** 3. ARM page tables use repetition when it comes to supersections and large pages.
 913:../../Source/Platform/A7A/rme_platform_a7a.c ****    This breaks our numorder-sizeorder assumption, and for this reason, we do not
 914:../../Source/Platform/A7A/rme_platform_a7a.c ****    support these two page sizes explicitly. These two sizes are supported by kernel
 915:../../Source/Platform/A7A/rme_platform_a7a.c ****    functions instead, and the kernel function always maps/unmaps the pages as needed
 916:../../Source/Platform/A7A/rme_platform_a7a.c ****    without checking for any permissions; this can be viewed as a hack, and require
 917:../../Source/Platform/A7A/rme_platform_a7a.c ****    some caution when we are mapping pages in.
 918:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Base - The start mapping address.
 919:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Top - The top-level flag,
 920:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Size_Order - The size order of the page directory.
 921:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Num_Order - The number order of the page directory.
 922:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address of the page directory.
 923:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 924:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 925:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 926:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Check(rme_ptr_t Base, rme_ptr_t Is_Top,
 927:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ptr_t Size_Order, rme_ptr_t Num_Order, rme_ptr_t Vaddr)
 928:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2407              		.loc 1 928 1
 2408              		.cfi_startproc
 2409              		@ args = 4, pretend = 0, frame = 16
 2410              		@ frame_needed = 1, uses_anonymous_args = 0
 2411              		@ link register save eliminated.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 60


 2412 0000 04B02DE5 		str	fp, [sp, #-4]!
 2413              		.cfi_def_cfa_offset 4
 2414              		.cfi_offset 11, -4
 2415 0004 00B08DE2 		add	fp, sp, #0
 2416              		.cfi_def_cfa_register 11
 2417 0008 14D04DE2 		sub	sp, sp, #20
 2418 000c 08000BE5 		str	r0, [fp, #-8]
 2419 0010 0C100BE5 		str	r1, [fp, #-12]
 2420 0014 10200BE5 		str	r2, [fp, #-16]
 2421 0018 14300BE5 		str	r3, [fp, #-20]
 929:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Top-level - 1MiB pages, 4096 entries, 16KiB alignment */
 930:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Is_Top!=0)
 2422              		.loc 1 930 7
 2423 001c 0C301BE5 		ldr	r3, [fp, #-12]
 2424 0020 000053E3 		cmp	r3, #0
 2425 0024 0F00000A 		beq	.L93
 931:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 932:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_1M)
 2426              		.loc 1 932 11
 2427 0028 10301BE5 		ldr	r3, [fp, #-16]
 2428 002c 140053E3 		cmp	r3, #20
 2429 0030 0100000A 		beq	.L94
 933:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2430              		.loc 1 933 20
 2431 0034 0030E0E3 		mvn	r3, #0
 2432 0038 1B0000EA 		b	.L95
 2433              	.L94:
 934:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_4K)
 2434              		.loc 1 934 11
 2435 003c 14301BE5 		ldr	r3, [fp, #-20]
 2436 0040 0C0053E3 		cmp	r3, #12
 2437 0044 0100000A 		beq	.L96
 935:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2438              		.loc 1 935 20
 2439 0048 0030E0E3 		mvn	r3, #0
 2440 004c 160000EA 		b	.L95
 2441              	.L96:
 936:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 2442              		.loc 1 936 18
 2443 0050 04309BE5 		ldr	r3, [fp, #4]
 2444 0054 5330EDE7 		ubfx	r3, r3, #0, #14
 2445              		.loc 1 936 11
 2446 0058 000053E3 		cmp	r3, #0
 2447 005c 1100000A 		beq	.L97
 937:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2448              		.loc 1 937 20
 2449 0060 0030E0E3 		mvn	r3, #0
 2450 0064 100000EA 		b	.L95
 2451              	.L93:
 938:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 939:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Second-level - 4KiB pages, 256 entries, 1KiB alignment */
 940:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 941:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 942:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_4K)
 2452              		.loc 1 942 11
 2453 0068 10301BE5 		ldr	r3, [fp, #-16]
 2454 006c 0C0053E3 		cmp	r3, #12
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 61


 2455 0070 0100000A 		beq	.L98
 943:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2456              		.loc 1 943 20
 2457 0074 0030E0E3 		mvn	r3, #0
 2458 0078 0B0000EA 		b	.L95
 2459              	.L98:
 944:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_256)
 2460              		.loc 1 944 11
 2461 007c 14301BE5 		ldr	r3, [fp, #-20]
 2462 0080 080053E3 		cmp	r3, #8
 2463 0084 0100000A 		beq	.L99
 945:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2464              		.loc 1 945 20
 2465 0088 0030E0E3 		mvn	r3, #0
 2466 008c 060000EA 		b	.L95
 2467              	.L99:
 946:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FF)!=0)
 2468              		.loc 1 946 18
 2469 0090 04309BE5 		ldr	r3, [fp, #4]
 2470 0094 5330E9E7 		ubfx	r3, r3, #0, #10
 2471              		.loc 1 946 11
 2472 0098 000053E3 		cmp	r3, #0
 2473 009c 0100000A 		beq	.L97
 947:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2474              		.loc 1 947 20
 2475 00a0 0030E0E3 		mvn	r3, #0
 2476 00a4 000000EA 		b	.L95
 2477              	.L97:
 948:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 949:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 950:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2478              		.loc 1 950 12
 2479 00a8 0030A0E3 		mov	r3, #0
 2480              	.L95:
 951:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2481              		.loc 1 951 1
 2482 00ac 0300A0E1 		mov	r0, r3
 2483 00b0 00D08BE2 		add	sp, fp, #0
 2484              		.cfi_def_cfa_register 13
 2485              		@ sp needed
 2486 00b4 04B09DE4 		ldr	fp, [sp], #4
 2487              		.cfi_restore 11
 2488              		.cfi_def_cfa_offset 0
 2489 00b8 1EFF2FE1 		bx	lr
 2490              		.cfi_endproc
 2491              	.LFE35:
 2493              		.section	.text.__RME_Pgt_Init,"ax",%progbits
 2494              		.align	2
 2495              		.global	__RME_Pgt_Init
 2496              		.syntax unified
 2497              		.arm
 2499              	__RME_Pgt_Init:
 2500              	.LFB36:
 952:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Check ********************************************/
 953:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 954:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Init **************************************************
 955:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the page table data structure, according to the capability.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 62


 956:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
 957:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 958:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 959:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 960:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Init(struct RME_Cap_Pgt* Pgt_Op)
 961:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2501              		.loc 1 961 1
 2502              		.cfi_startproc
 2503              		@ args = 0, pretend = 0, frame = 16
 2504              		@ frame_needed = 1, uses_anonymous_args = 0
 2505              		@ link register save eliminated.
 2506 0000 04B02DE5 		str	fp, [sp, #-4]!
 2507              		.cfi_def_cfa_offset 4
 2508              		.cfi_offset 11, -4
 2509 0004 00B08DE2 		add	fp, sp, #0
 2510              		.cfi_def_cfa_register 11
 2511 0008 14D04DE2 		sub	sp, sp, #20
 2512 000c 10000BE5 		str	r0, [fp, #-16]
 962:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_cnt_t Count;
 963:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
 964:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 965:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the actual table */
 966:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ptr=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 2513              		.loc 1 966 9
 2514 0010 10301BE5 		ldr	r3, [fp, #-16]
 2515 0014 0C3093E5 		ldr	r3, [r3, #12]
 2516              		.loc 1 966 8
 2517 0018 0C300BE5 		str	r3, [fp, #-12]
 967:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 968:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a first-level or a second-level? */
 969:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Base&RME_PGT_TOP)!=0)
 2518              		.loc 1 969 15
 2519 001c 10301BE5 		ldr	r3, [fp, #-16]
 2520 0020 183093E5 		ldr	r3, [r3, #24]
 2521              		.loc 1 969 21
 2522 0024 013003E2 		and	r3, r3, #1
 2523              		.loc 1 969 7
 2524 0028 000053E3 		cmp	r3, #0
 2525 002c 2100000A 		beq	.L101
 970:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 971:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* First-level - clean up the first half and map in the second half as kernel entries */
 972:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<2048;Count++)
 2526              		.loc 1 972 12
 2527 0030 0030A0E3 		mov	r3, #0
 2528 0034 08300BE5 		str	r3, [fp, #-8]
 2529              		.loc 1 972 3
 2530 0038 080000EA 		b	.L102
 2531              	.L103:
 973:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2532              		.loc 1 973 7
 2533 003c 08301BE5 		ldr	r3, [fp, #-8]
 2534 0040 0331A0E1 		lsl	r3, r3, #2
 2535 0044 0C201BE5 		ldr	r2, [fp, #-12]
 2536 0048 033082E0 		add	r3, r2, r3
 2537              		.loc 1 973 14
 2538 004c 0020A0E3 		mov	r2, #0
 2539 0050 002083E5 		str	r2, [r3]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 63


 972:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2540              		.loc 1 972 31 discriminator 3
 2541 0054 08301BE5 		ldr	r3, [fp, #-8]
 2542 0058 013083E2 		add	r3, r3, #1
 2543 005c 08300BE5 		str	r3, [fp, #-8]
 2544              	.L102:
 972:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2545              		.loc 1 972 20 discriminator 1
 2546 0060 08301BE5 		ldr	r3, [fp, #-8]
 2547 0064 020B53E3 		cmp	r3, #2048
 2548 0068 F3FFFFBA 		blt	.L103
 974:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 975:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(;Count<4096;Count++)
 2549              		.loc 1 975 3
 2550 006c 0D0000EA 		b	.L104
 2551              	.L105:
 976:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 2552              		.loc 1 976 36
 2553 0070 08301BE5 		ldr	r3, [fp, #-8]
 2554 0074 0321A0E1 		lsl	r2, r3, #2
 2555 0078 003000E3 		movw	r3, #:lower16:__RME_A7A_Kern_Pgt
 2556 007c 003040E3 		movt	r3, #:upper16:__RME_A7A_Kern_Pgt
 2557 0080 032082E0 		add	r2, r2, r3
 2558              		.loc 1 976 7
 2559 0084 08301BE5 		ldr	r3, [fp, #-8]
 2560 0088 0331A0E1 		lsl	r3, r3, #2
 2561 008c 0C101BE5 		ldr	r1, [fp, #-12]
 2562 0090 033081E0 		add	r3, r1, r3
 2563              		.loc 1 976 36
 2564 0094 002092E5 		ldr	r2, [r2]
 2565              		.loc 1 976 14
 2566 0098 002083E5 		str	r2, [r3]
 975:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 2567              		.loc 1 975 24 discriminator 2
 2568 009c 08301BE5 		ldr	r3, [fp, #-8]
 2569 00a0 013083E2 		add	r3, r3, #1
 2570 00a4 08300BE5 		str	r3, [fp, #-8]
 2571              	.L104:
 975:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 2572              		.loc 1 975 13 discriminator 1
 2573 00a8 08301BE5 		ldr	r3, [fp, #-8]
 2574 00ac 010A53E3 		cmp	r3, #4096
 2575 00b0 EEFFFFBA 		blt	.L105
 2576 00b4 0E0000EA 		b	.L106
 2577              	.L101:
 977:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 978:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 979:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 980:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Second-level - just clean it up to all zeros */
 981:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<256;Count++)
 2578              		.loc 1 981 12
 2579 00b8 0030A0E3 		mov	r3, #0
 2580 00bc 08300BE5 		str	r3, [fp, #-8]
 2581              		.loc 1 981 3
 2582 00c0 080000EA 		b	.L107
 2583              	.L108:
 982:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 64


 2584              		.loc 1 982 7
 2585 00c4 08301BE5 		ldr	r3, [fp, #-8]
 2586 00c8 0331A0E1 		lsl	r3, r3, #2
 2587 00cc 0C201BE5 		ldr	r2, [fp, #-12]
 2588 00d0 033082E0 		add	r3, r2, r3
 2589              		.loc 1 982 14
 2590 00d4 0020A0E3 		mov	r2, #0
 2591 00d8 002083E5 		str	r2, [r3]
 981:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2592              		.loc 1 981 30 discriminator 3
 2593 00dc 08301BE5 		ldr	r3, [fp, #-8]
 2594 00e0 013083E2 		add	r3, r3, #1
 2595 00e4 08300BE5 		str	r3, [fp, #-8]
 2596              	.L107:
 981:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2597              		.loc 1 981 20 discriminator 1
 2598 00e8 08301BE5 		ldr	r3, [fp, #-8]
 2599 00ec FF0053E3 		cmp	r3, #255
 2600 00f0 F3FFFFDA 		ble	.L108
 2601              	.L106:
 983:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 984:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 985:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2602              		.loc 1 985 12
 2603 00f4 0030A0E3 		mov	r3, #0
 986:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2604              		.loc 1 986 1
 2605 00f8 0300A0E1 		mov	r0, r3
 2606 00fc 00D08BE2 		add	sp, fp, #0
 2607              		.cfi_def_cfa_register 13
 2608              		@ sp needed
 2609 0100 04B09DE4 		ldr	fp, [sp], #4
 2610              		.cfi_restore 11
 2611              		.cfi_def_cfa_offset 0
 2612 0104 1EFF2FE1 		bx	lr
 2613              		.cfi_endproc
 2614              	.LFE36:
 2616              		.section	.text.__RME_Pgt_Del_Check,"ax",%progbits
 2617              		.align	2
 2618              		.global	__RME_Pgt_Del_Check
 2619              		.syntax unified
 2620              		.arm
 2622              	__RME_Pgt_Del_Check:
 2623              	.LFB37:
 987:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Init *********************************************/
 988:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 989:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Del_Check *********************************************
 990:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table can be deleted.
 991:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt Pgt_Op* - The capability to the page table to operate on.
 992:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 993:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If can be deleted, 0; else RME_ERR_HAL_FAIL.
 994:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 995:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Del_Check(struct RME_Cap_Pgt* Pgt_Op)
 996:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2624              		.loc 1 996 1
 2625              		.cfi_startproc
 2626              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 65


 2627              		@ frame_needed = 1, uses_anonymous_args = 0
 2628              		@ link register save eliminated.
 2629 0000 04B02DE5 		str	fp, [sp, #-4]!
 2630              		.cfi_def_cfa_offset 4
 2631              		.cfi_offset 11, -4
 2632 0004 00B08DE2 		add	fp, sp, #0
 2633              		.cfi_def_cfa_register 11
 2634 0008 0CD04DE2 		sub	sp, sp, #12
 2635 000c 08000BE5 		str	r0, [fp, #-8]
 997:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2636              		.loc 1 997 12
 2637 0010 0030A0E3 		mov	r3, #0
 998:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2638              		.loc 1 998 1
 2639 0014 0300A0E1 		mov	r0, r3
 2640 0018 00D08BE2 		add	sp, fp, #0
 2641              		.cfi_def_cfa_register 13
 2642              		@ sp needed
 2643 001c 04B09DE4 		ldr	fp, [sp], #4
 2644              		.cfi_restore 11
 2645              		.cfi_def_cfa_offset 0
 2646 0020 1EFF2FE1 		bx	lr
 2647              		.cfi_endproc
 2648              	.LFE37:
 2650              		.section	.text.__RME_Pgt_Page_Map,"ax",%progbits
 2651              		.align	2
 2652              		.global	__RME_Pgt_Page_Map
 2653              		.syntax unified
 2654              		.arm
 2656              	__RME_Pgt_Page_Map:
 2657              	.LFB38:
 999:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Del_Check ****************************************/
1000:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1001:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Map **********************************************
1002:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page into the page table. This architecture requires that the
1003:../../Source/Platform/A7A/rme_platform_a7a.c ****               mapping is always at least readable. The Cortex-A's super pages are
1004:../../Source/Platform/A7A/rme_platform_a7a.c ****               not supported by this. Also, RME dfoesn't use the domain model; all
1005:../../Source/Platform/A7A/rme_platform_a7a.c ****               page tables' domain is always client, which means that the permission
1006:../../Source/Platform/A7A/rme_platform_a7a.c ****               flags will always be checked.
1007:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The cap ability to the page table to operate on.
1008:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Paddr - The physical address to map to. If we are unmapping,
1009:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 this have no effect.
1010:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1011:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard page attributes. Need to translate
1012:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 them into architecture specific page table's settings.
1013:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1014:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1015:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1016:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Map(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Paddr, rme_ptr_t Pos, rme_ptr_t 
1017:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2658              		.loc 1 1017 1
 2659              		.cfi_startproc
 2660              		@ args = 0, pretend = 0, frame = 24
 2661              		@ frame_needed = 1, uses_anonymous_args = 0
 2662 0000 00482DE9 		push	{fp, lr}
 2663              		.cfi_def_cfa_offset 8
 2664              		.cfi_offset 11, -8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 66


 2665              		.cfi_offset 14, -4
 2666 0004 04B08DE2 		add	fp, sp, #4
 2667              		.cfi_def_cfa 11, 4
 2668 0008 18D04DE2 		sub	sp, sp, #24
 2669 000c 10000BE5 		str	r0, [fp, #-16]
 2670 0010 14100BE5 		str	r1, [fp, #-20]
 2671 0014 18200BE5 		str	r2, [fp, #-24]
 2672 0018 1C300BE5 		str	r3, [fp, #-28]
1018:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1019:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1020:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1021:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
1022:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 2673              		.loc 1 1022 14
 2674 001c 1C301BE5 		ldr	r3, [fp, #-28]
 2675 0020 013003E2 		and	r3, r3, #1
 2676              		.loc 1 1022 7
 2677 0024 000053E3 		cmp	r3, #0
 2678 0028 0100001A 		bne	.L113
1023:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2679              		.loc 1 1023 16
 2680 002c 0030E0E3 		mvn	r3, #0
 2681 0030 320000EA 		b	.L114
 2682              	.L113:
1024:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1025:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1026:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base&RME_PGT_TOP)!=0)&&(Pos>=2048))
 2683              		.loc 1 1026 16
 2684 0034 10301BE5 		ldr	r3, [fp, #-16]
 2685 0038 183093E5 		ldr	r3, [r3, #24]
 2686              		.loc 1 1026 22
 2687 003c 013003E2 		and	r3, r3, #1
 2688              		.loc 1 1026 7
 2689 0040 000053E3 		cmp	r3, #0
 2690 0044 0400000A 		beq	.L115
 2691              		.loc 1 1026 39 discriminator 1
 2692 0048 18301BE5 		ldr	r3, [fp, #-24]
 2693 004c 020B53E3 		cmp	r3, #2048
 2694 0050 0100003A 		bcc	.L115
1027:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2695              		.loc 1 1027 16
 2696 0054 0030E0E3 		mvn	r3, #0
 2697 0058 280000EA 		b	.L114
 2698              	.L115:
1028:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1029:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1030:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 2699              		.loc 1 1030 11
 2700 005c 10301BE5 		ldr	r3, [fp, #-16]
 2701 0060 0C3093E5 		ldr	r3, [r3, #12]
 2702              		.loc 1 1030 10
 2703 0064 0C300BE5 		str	r3, [fp, #-12]
1031:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1032:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate flags */
1033:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SZORD(Pgt_Op->Order)==RME_PGT_SIZE_4K)
 2704              		.loc 1 1033 8
 2705 0068 10301BE5 		ldr	r3, [fp, #-16]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 67


 2706 006c 143093E5 		ldr	r3, [r3, #20]
 2707 0070 2338A0E1 		lsr	r3, r3, #16
 2708              		.loc 1 1033 7
 2709 0074 0C0053E3 		cmp	r3, #12
 2710 0078 0900001A 		bne	.L116
1034:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_1M_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_1M_RME2NAT(Flags);
 2711              		.loc 1 1034 19
 2712 007c 14301BE5 		ldr	r3, [fp, #-20]
 2713 0080 233AA0E1 		lsr	r3, r3, #20
 2714 0084 033AA0E1 		lsl	r3, r3, #20
 2715              		.loc 1 1034 51
 2716 0088 002000E3 		movw	r2, #:lower16:RME_A7A_Pgflg_1M_RME2NAT
 2717 008c 002040E3 		movt	r2, #:upper16:RME_A7A_Pgflg_1M_RME2NAT
 2718 0090 1C101BE5 		ldr	r1, [fp, #-28]
 2719 0094 012192E7 		ldr	r2, [r2, r1, lsl #2]
 2720              		.loc 1 1034 18
 2721 0098 023083E1 		orr	r3, r3, r2
 2722 009c 08300BE5 		str	r3, [fp, #-8]
 2723 00a0 080000EA 		b	.L117
 2724              	.L116:
1035:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1036:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_4K_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_4K_RME2NAT(Flags);
 2725              		.loc 1 1036 19
 2726 00a4 14301BE5 		ldr	r3, [fp, #-20]
 2727 00a8 FF3EC3E3 		bic	r3, r3, #4080
 2728 00ac 0F30C3E3 		bic	r3, r3, #15
 2729              		.loc 1 1036 51
 2730 00b0 002000E3 		movw	r2, #:lower16:RME_A7A_Pgflg_4K_RME2NAT
 2731 00b4 002040E3 		movt	r2, #:upper16:RME_A7A_Pgflg_4K_RME2NAT
 2732 00b8 1C101BE5 		ldr	r1, [fp, #-28]
 2733 00bc 012192E7 		ldr	r2, [r2, r1, lsl #2]
 2734              		.loc 1 1036 18
 2735 00c0 023083E1 		orr	r3, r3, r2
 2736 00c4 08300BE5 		str	r3, [fp, #-8]
 2737              	.L117:
1037:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1038:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in */
1039:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),0,A7A_Flags)==0)
 2738              		.loc 1 1039 8
 2739 00c8 18301BE5 		ldr	r3, [fp, #-24]
 2740 00cc 0331A0E1 		lsl	r3, r3, #2
 2741 00d0 0C201BE5 		ldr	r2, [fp, #-12]
 2742 00d4 033082E0 		add	r3, r2, r3
 2743 00d8 08201BE5 		ldr	r2, [fp, #-8]
 2744 00dc 0010A0E3 		mov	r1, #0
 2745 00e0 0300A0E1 		mov	r0, r3
 2746 00e4 FEFFFFEB 		bl	_RME_Comp_Swap_Single
 2747 00e8 0030A0E1 		mov	r3, r0
 2748              		.loc 1 1039 7 discriminator 1
 2749 00ec 000053E3 		cmp	r3, #0
 2750 00f0 0100001A 		bne	.L118
1040:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2751              		.loc 1 1040 16
 2752 00f4 0030E0E3 		mvn	r3, #0
 2753 00f8 000000EA 		b	.L114
 2754              	.L118:
1041:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 68


1042:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2755              		.loc 1 1042 12
 2756 00fc 0030A0E3 		mov	r3, #0
 2757              	.L114:
1043:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2758              		.loc 1 1043 1
 2759 0100 0300A0E1 		mov	r0, r3
 2760 0104 04D04BE2 		sub	sp, fp, #4
 2761              		.cfi_def_cfa 13, 8
 2762              		@ sp needed
 2763 0108 0088BDE8 		pop	{fp, pc}
 2764              		.cfi_endproc
 2765              	.LFE38:
 2767              		.section	.text.__RME_Pgt_Page_Unmap,"ax",%progbits
 2768              		.align	2
 2769              		.global	__RME_Pgt_Page_Unmap
 2770              		.syntax unified
 2771              		.arm
 2773              	__RME_Pgt_Page_Unmap:
 2774              	.LFB39:
1044:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Map *****************************************/
1045:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1046:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Unmap ********************************************
1047:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page from the page table.
1048:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
1049:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1050:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1051:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1052:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1053:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Unmap(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos)
1054:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2775              		.loc 1 1054 1
 2776              		.cfi_startproc
 2777              		@ args = 0, pretend = 0, frame = 16
 2778              		@ frame_needed = 1, uses_anonymous_args = 0
 2779 0000 00482DE9 		push	{fp, lr}
 2780              		.cfi_def_cfa_offset 8
 2781              		.cfi_offset 11, -8
 2782              		.cfi_offset 14, -4
 2783 0004 04B08DE2 		add	fp, sp, #4
 2784              		.cfi_def_cfa 11, 4
 2785 0008 10D04DE2 		sub	sp, sp, #16
 2786 000c 10000BE5 		str	r0, [fp, #-16]
 2787 0010 14100BE5 		str	r1, [fp, #-20]
1055:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1056:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1057:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1058:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to unmap the kernel space on the top level? */
1059:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base&RME_PGT_TOP)!=0)&&(Pos>=2048))
 2788              		.loc 1 1059 16
 2789 0014 10301BE5 		ldr	r3, [fp, #-16]
 2790 0018 183093E5 		ldr	r3, [r3, #24]
 2791              		.loc 1 1059 22
 2792 001c 013003E2 		and	r3, r3, #1
 2793              		.loc 1 1059 7
 2794 0020 000053E3 		cmp	r3, #0
 2795 0024 0400000A 		beq	.L120
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 69


 2796              		.loc 1 1059 39 discriminator 1
 2797 0028 14301BE5 		ldr	r3, [fp, #-20]
 2798 002c 020B53E3 		cmp	r3, #2048
 2799 0030 0100003A 		bcc	.L120
1060:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2800              		.loc 1 1060 16
 2801 0034 0030E0E3 		mvn	r3, #0
 2802 0038 260000EA 		b	.L121
 2803              	.L120:
1061:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1062:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1063:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 2804              		.loc 1 1063 11
 2805 003c 10301BE5 		ldr	r3, [fp, #-16]
 2806 0040 0C3093E5 		ldr	r3, [r3, #12]
 2807              		.loc 1 1063 10
 2808 0044 08300BE5 		str	r3, [fp, #-8]
1064:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1065:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that there is something */
1066:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 2809              		.loc 1 1066 15
 2810 0048 14301BE5 		ldr	r3, [fp, #-20]
 2811 004c 0331A0E1 		lsl	r3, r3, #2
 2812 0050 08201BE5 		ldr	r2, [fp, #-8]
 2813 0054 033082E0 		add	r3, r2, r3
 2814              		.loc 1 1066 9
 2815 0058 003093E5 		ldr	r3, [r3]
 2816 005c 0C300BE5 		str	r3, [fp, #-12]
1067:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Temp==0)
 2817              		.loc 1 1067 7
 2818 0060 0C301BE5 		ldr	r3, [fp, #-12]
 2819 0064 000053E3 		cmp	r3, #0
 2820 0068 0100001A 		bne	.L122
1068:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2821              		.loc 1 1068 16
 2822 006c 0030E0E3 		mvn	r3, #0
 2823 0070 180000EA 		b	.L121
 2824              	.L122:
1069:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1070:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a page directory? We cannot unmap page directories like this */
1071:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((RME_PGT_SZORD(Pgt_Op->Order)!=RME_PGT_SIZE_4K)&&((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0))
 2825              		.loc 1 1071 9
 2826 0074 10301BE5 		ldr	r3, [fp, #-16]
 2827 0078 143093E5 		ldr	r3, [r3, #20]
 2828 007c 2338A0E1 		lsr	r3, r3, #16
 2829              		.loc 1 1071 7
 2830 0080 0C0053E3 		cmp	r3, #12
 2831 0084 0500000A 		beq	.L123
 2832              		.loc 1 1071 63 discriminator 1
 2833 0088 0C301BE5 		ldr	r3, [fp, #-12]
 2834 008c 013003E2 		and	r3, r3, #1
 2835              		.loc 1 1071 55 discriminator 1
 2836 0090 000053E3 		cmp	r3, #0
 2837 0094 0100000A 		beq	.L123
1072:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2838              		.loc 1 1072 16
 2839 0098 0030E0E3 		mvn	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 70


 2840 009c 0D0000EA 		b	.L121
 2841              	.L123:
1073:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1074:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to unmap it. Use CAS just in case */
1075:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),Temp,0)==0)
 2842              		.loc 1 1075 8
 2843 00a0 14301BE5 		ldr	r3, [fp, #-20]
 2844 00a4 0331A0E1 		lsl	r3, r3, #2
 2845 00a8 08201BE5 		ldr	r2, [fp, #-8]
 2846 00ac 033082E0 		add	r3, r2, r3
 2847 00b0 0020A0E3 		mov	r2, #0
 2848 00b4 0C101BE5 		ldr	r1, [fp, #-12]
 2849 00b8 0300A0E1 		mov	r0, r3
 2850 00bc FEFFFFEB 		bl	_RME_Comp_Swap_Single
 2851 00c0 0030A0E1 		mov	r3, r0
 2852              		.loc 1 1075 7 discriminator 1
 2853 00c4 000053E3 		cmp	r3, #0
 2854 00c8 0100001A 		bne	.L124
1076:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2855              		.loc 1 1076 16
 2856 00cc 0030E0E3 		mvn	r3, #0
 2857 00d0 000000EA 		b	.L121
 2858              	.L124:
1077:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1078:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2859              		.loc 1 1078 12
 2860 00d4 0030A0E3 		mov	r3, #0
 2861              	.L121:
1079:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2862              		.loc 1 1079 1
 2863 00d8 0300A0E1 		mov	r0, r3
 2864 00dc 04D04BE2 		sub	sp, fp, #4
 2865              		.cfi_def_cfa 13, 8
 2866              		@ sp needed
 2867 00e0 0088BDE8 		pop	{fp, pc}
 2868              		.cfi_endproc
 2869              	.LFE39:
 2871              		.section	.text.__RME_Pgt_Pgdir_Map,"ax",%progbits
 2872              		.align	2
 2873              		.global	__RME_Pgt_Pgdir_Map
 2874              		.syntax unified
 2875              		.arm
 2877              	__RME_Pgt_Pgdir_Map:
 2878              	.LFB40:
1080:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Unmap ***************************************/
1081:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1082:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Map *********************************************
1083:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page directory into the page table. It is surprising that
1084:../../Source/Platform/A7A/rme_platform_a7a.c ****               Cortex-A (ARMv7) does not support any kind of page directory flags.
1085:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Parent - The parent page table.
1086:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Cap_Pgt* Pgt_Child - The child page table.
1087:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the destination page table.
1088:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard flags for the child page table.
1089:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1090:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1091:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1092:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Pgdir_Map(struct RME_Cap_Pgt* Pgt_Parent, rme_ptr_t Pos,
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 71


1093:../../Source/Platform/A7A/rme_platform_a7a.c ****                               struct RME_Cap_Pgt* Pgt_Child, rme_ptr_t Flags)
1094:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2879              		.loc 1 1094 1
 2880              		.cfi_startproc
 2881              		@ args = 0, pretend = 0, frame = 32
 2882              		@ frame_needed = 1, uses_anonymous_args = 0
 2883 0000 00482DE9 		push	{fp, lr}
 2884              		.cfi_def_cfa_offset 8
 2885              		.cfi_offset 11, -8
 2886              		.cfi_offset 14, -4
 2887 0004 04B08DE2 		add	fp, sp, #4
 2888              		.cfi_def_cfa 11, 4
 2889 0008 20D04DE2 		sub	sp, sp, #32
 2890 000c 18000BE5 		str	r0, [fp, #-24]
 2891 0010 1C100BE5 		str	r1, [fp, #-28]
 2892 0014 20200BE5 		str	r2, [fp, #-32]
 2893 0018 24300BE5 		str	r3, [fp, #-36]
1095:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Parent_Table;
1096:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Child_Table;
1097:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1098:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1099:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
1100:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 2894              		.loc 1 1100 14
 2895 001c 24301BE5 		ldr	r3, [fp, #-36]
 2896 0020 013003E2 		and	r3, r3, #1
 2897              		.loc 1 1100 7
 2898 0024 000053E3 		cmp	r3, #0
 2899 0028 0100001A 		bne	.L126
1101:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2900              		.loc 1 1101 16
 2901 002c 0030E0E3 		mvn	r3, #0
 2902 0030 230000EA 		b	.L127
 2903              	.L126:
1102:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1103:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1104:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Parent->Base&RME_PGT_TOP)!=0)&&(Pos>=2048))
 2904              		.loc 1 1104 20
 2905 0034 18301BE5 		ldr	r3, [fp, #-24]
 2906 0038 183093E5 		ldr	r3, [r3, #24]
 2907              		.loc 1 1104 26
 2908 003c 013003E2 		and	r3, r3, #1
 2909              		.loc 1 1104 7
 2910 0040 000053E3 		cmp	r3, #0
 2911 0044 0400000A 		beq	.L128
 2912              		.loc 1 1104 43 discriminator 1
 2913 0048 1C301BE5 		ldr	r3, [fp, #-28]
 2914 004c 020B53E3 		cmp	r3, #2048
 2915 0050 0100003A 		bcc	.L128
1105:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2916              		.loc 1 1105 16
 2917 0054 0030E0E3 		mvn	r3, #0
 2918 0058 190000EA 		b	.L127
 2919              	.L128:
1106:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1107:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1108:../../Source/Platform/A7A/rme_platform_a7a.c ****     Parent_Table=RME_CAP_GETOBJ(Pgt_Parent,rme_ptr_t*);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 72


 2920              		.loc 1 1108 18
 2921 005c 18301BE5 		ldr	r3, [fp, #-24]
 2922 0060 0C3093E5 		ldr	r3, [r3, #12]
 2923              		.loc 1 1108 17
 2924 0064 08300BE5 		str	r3, [fp, #-8]
1109:../../Source/Platform/A7A/rme_platform_a7a.c ****     Child_Table=RME_CAP_GETOBJ(Pgt_Child,rme_ptr_t*);
 2925              		.loc 1 1109 17
 2926 0068 20301BE5 		ldr	r3, [fp, #-32]
 2927 006c 0C3093E5 		ldr	r3, [r3, #12]
 2928              		.loc 1 1109 16
 2929 0070 0C300BE5 		str	r3, [fp, #-12]
1110:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1111:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate the content */
1112:../../Source/Platform/A7A/rme_platform_a7a.c ****     A7A_Flags=RME_A7A_MMU_1M_PGT_ADDR(RME_A7A_VA2PA(Child_Table))|RME_A7A_MMU_1M_PGDIR_PRESENT;
 2930              		.loc 1 1112 15
 2931 0074 0C301BE5 		ldr	r3, [fp, #-12]
 2932 0078 023183E2 		add	r3, r3, #-2147483648
 2933 007c FF3FC3E3 		bic	r3, r3, #1020
 2934 0080 0330C3E3 		bic	r3, r3, #3
 2935              		.loc 1 1112 14
 2936 0084 013083E3 		orr	r3, r3, #1
 2937 0088 10300BE5 		str	r3, [fp, #-16]
1113:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1114:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in - may need to increase some count */
1115:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Parent_Table[Pos]),0,A7A_Flags)==0)
 2938              		.loc 1 1115 8
 2939 008c 1C301BE5 		ldr	r3, [fp, #-28]
 2940 0090 0331A0E1 		lsl	r3, r3, #2
 2941 0094 08201BE5 		ldr	r2, [fp, #-8]
 2942 0098 033082E0 		add	r3, r2, r3
 2943 009c 10201BE5 		ldr	r2, [fp, #-16]
 2944 00a0 0010A0E3 		mov	r1, #0
 2945 00a4 0300A0E1 		mov	r0, r3
 2946 00a8 FEFFFFEB 		bl	_RME_Comp_Swap_Single
 2947 00ac 0030A0E1 		mov	r3, r0
 2948              		.loc 1 1115 7 discriminator 1
 2949 00b0 000053E3 		cmp	r3, #0
 2950 00b4 0100001A 		bne	.L129
1116:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2951              		.loc 1 1116 16
 2952 00b8 0030E0E3 		mvn	r3, #0
 2953 00bc 000000EA 		b	.L127
 2954              	.L129:
1117:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1118:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2955              		.loc 1 1118 12
 2956 00c0 0030A0E3 		mov	r3, #0
 2957              	.L127:
1119:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2958              		.loc 1 1119 1
 2959 00c4 0300A0E1 		mov	r0, r3
 2960 00c8 04D04BE2 		sub	sp, fp, #4
 2961              		.cfi_def_cfa 13, 8
 2962              		@ sp needed
 2963 00cc 0088BDE8 		pop	{fp, pc}
 2964              		.cfi_endproc
 2965              	.LFE40:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 73


 2967              		.section	.text.__RME_Pgt_Pgdir_Unmap,"ax",%progbits
 2968              		.align	2
 2969              		.global	__RME_Pgt_Pgdir_Unmap
 2970              		.syntax unified
 2971              		.arm
 2973              	__RME_Pgt_Pgdir_Unmap:
 2974              	.LFB41:
1120:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Map ****************************************/
1121:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1122:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Unmap *******************************************
1123:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page directory from the page table.
1124:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to operate on.
1125:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1126:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1127:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1128:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1129:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Pgt_Pgdir_Unmap(struct RME_Cap_Pgt* Pgt_Parent,rme_ptr_t Pos,
1130:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 struct RME_Cap_Pgt* Pgt_Child)
1131:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2975              		.loc 1 1131 1
 2976              		.cfi_startproc
 2977              		@ args = 0, pretend = 0, frame = 16
 2978              		@ frame_needed = 1, uses_anonymous_args = 0
 2979              		@ link register save eliminated.
 2980 0000 04B02DE5 		str	fp, [sp, #-4]!
 2981              		.cfi_def_cfa_offset 4
 2982              		.cfi_offset 11, -4
 2983 0004 00B08DE2 		add	fp, sp, #0
 2984              		.cfi_def_cfa_register 11
 2985 0008 14D04DE2 		sub	sp, sp, #20
 2986 000c 08000BE5 		str	r0, [fp, #-8]
 2987 0010 0C100BE5 		str	r1, [fp, #-12]
 2988 0014 10200BE5 		str	r2, [fp, #-16]
1132:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1133:../../Source/Platform/A7A/rme_platform_a7a.c ****    return 0;
 2989              		.loc 1 1133 11
 2990 0018 0030A0E3 		mov	r3, #0
1134:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2991              		.loc 1 1134 1
 2992 001c 0300A0E1 		mov	r0, r3
 2993 0020 00D08BE2 		add	sp, fp, #0
 2994              		.cfi_def_cfa_register 13
 2995              		@ sp needed
 2996 0024 04B09DE4 		ldr	fp, [sp], #4
 2997              		.cfi_restore 11
 2998              		.cfi_def_cfa_offset 0
 2999 0028 1EFF2FE1 		bx	lr
 3000              		.cfi_endproc
 3001              	.LFE41:
 3003              		.section	.text.__RME_Pgt_Lookup,"ax",%progbits
 3004              		.align	2
 3005              		.global	__RME_Pgt_Lookup
 3006              		.syntax unified
 3007              		.arm
 3009              	__RME_Pgt_Lookup:
 3010              	.LFB42:
1135:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Unmap **************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 74


1136:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1137:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Lookup **************************************************
1138:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Lookup a page entry in a page directory. This function cannot deal
1139:../../Source/Platform/A7A/rme_platform_a7a.c ****               with large pages and super sections - it is the user's responsibility
1140:../../Source/Platform/A7A/rme_platform_a7a.c ****               to avoid this.
1141:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page directory to lookup.
1142:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position to look up.
1143:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Paddr - The physical address of the page.
1144:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1145:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1146:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1147:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Lookup(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos, rme_ptr_t* Paddr, rme_ptr_t* 
1148:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3011              		.loc 1 1148 1
 3012              		.cfi_startproc
 3013              		@ args = 0, pretend = 0, frame = 24
 3014              		@ frame_needed = 1, uses_anonymous_args = 0
 3015              		@ link register save eliminated.
 3016 0000 04B02DE5 		str	fp, [sp, #-4]!
 3017              		.cfi_def_cfa_offset 4
 3018              		.cfi_offset 11, -4
 3019 0004 00B08DE2 		add	fp, sp, #0
 3020              		.cfi_def_cfa_register 11
 3021 0008 1CD04DE2 		sub	sp, sp, #28
 3022 000c 10000BE5 		str	r0, [fp, #-16]
 3023 0010 14100BE5 		str	r1, [fp, #-20]
 3024 0014 18200BE5 		str	r2, [fp, #-24]
 3025 0018 1C300BE5 		str	r3, [fp, #-28]
1149:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1150:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1151:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1152:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if the position is within the range of this page table */
1153:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pos>>RME_PGT_NMORD(Pgt_Op->Order))!=0)
 3026              		.loc 1 1153 14
 3027 001c 10301BE5 		ldr	r3, [fp, #-16]
 3028 0020 143093E5 		ldr	r3, [r3, #20]
 3029 0024 7330FFE6 		uxth	r3, r3
 3030              		.loc 1 1153 12
 3031 0028 14201BE5 		ldr	r2, [fp, #-20]
 3032 002c 3233A0E1 		lsr	r3, r2, r3
 3033              		.loc 1 1153 7
 3034 0030 000053E3 		cmp	r3, #0
 3035 0034 0100000A 		beq	.L133
1154:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3036              		.loc 1 1154 16
 3037 0038 0030E0E3 		mvn	r3, #0
 3038 003c 580000EA 		b	.L134
 3039              	.L133:
1155:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1156:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1157:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 3040              		.loc 1 1157 11
 3041 0040 10301BE5 		ldr	r3, [fp, #-16]
 3042 0044 0C3093E5 		ldr	r3, [r3, #12]
 3043              		.loc 1 1157 10
 3044 0048 08300BE5 		str	r3, [fp, #-8]
1158:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the position requested - atomic read */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 75


1159:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 3045              		.loc 1 1159 15
 3046 004c 14301BE5 		ldr	r3, [fp, #-20]
 3047 0050 0331A0E1 		lsl	r3, r3, #2
 3048 0054 08201BE5 		ldr	r2, [fp, #-8]
 3049 0058 033082E0 		add	r3, r2, r3
 3050              		.loc 1 1159 9
 3051 005c 003093E5 		ldr	r3, [r3]
 3052 0060 0C300BE5 		str	r3, [fp, #-12]
1160:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1161:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start lookup - is this a terminal page, or? */
1162:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SZORD(Pgt_Op->Order)==RME_PGT_SIZE_4K)
 3053              		.loc 1 1162 8
 3054 0064 10301BE5 		ldr	r3, [fp, #-16]
 3055 0068 143093E5 		ldr	r3, [r3, #20]
 3056 006c 2338A0E1 		lsr	r3, r3, #16
 3057              		.loc 1 1162 7
 3058 0070 0C0053E3 		cmp	r3, #12
 3059 0074 2400001A 		bne	.L135
1163:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1164:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)==0)
 3060              		.loc 1 1164 17
 3061 0078 0C301BE5 		ldr	r3, [fp, #-12]
 3062 007c 023003E2 		and	r3, r3, #2
 3063              		.loc 1 1164 11
 3064 0080 000053E3 		cmp	r3, #0
 3065 0084 0100001A 		bne	.L136
1165:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 3066              		.loc 1 1165 20
 3067 0088 0030E0E3 		mvn	r3, #0
 3068 008c 440000EA 		b	.L134
 3069              	.L136:
1166:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1167:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a small page. Return the physical address and flags */
1168:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
 3070              		.loc 1 1168 11
 3071 0090 18301BE5 		ldr	r3, [fp, #-24]
 3072 0094 000053E3 		cmp	r3, #0
 3073 0098 0400000A 		beq	.L137
1169:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
 3074              		.loc 1 1169 17
 3075 009c 0C301BE5 		ldr	r3, [fp, #-12]
 3076 00a0 FF3EC3E3 		bic	r3, r3, #4080
 3077 00a4 0F30C3E3 		bic	r3, r3, #15
 3078              		.loc 1 1169 16
 3079 00a8 18201BE5 		ldr	r2, [fp, #-24]
 3080 00ac 003082E5 		str	r3, [r2]
 3081              	.L137:
1170:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
 3082              		.loc 1 1170 11
 3083 00b0 1C301BE5 		ldr	r3, [fp, #-28]
 3084 00b4 000053E3 		cmp	r3, #0
 3085 00b8 3800000A 		beq	.L138
1171:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
 3086              		.loc 1 1171 20
 3087 00bc 0C301BE5 		ldr	r3, [fp, #-12]
 3088 00c0 2333A0E1 		lsr	r3, r3, #6
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 76


 3089 00c4 082003E2 		and	r2, r3, #8
 3090 00c8 0C301BE5 		ldr	r3, [fp, #-12]
 3091 00cc A330A0E1 		lsr	r3, r3, #1
 3092 00d0 043003E2 		and	r3, r3, #4
 3093 00d4 032082E1 		orr	r2, r2, r3
 3094 00d8 0C301BE5 		ldr	r3, [fp, #-12]
 3095 00dc A330A0E1 		lsr	r3, r3, #1
 3096 00e0 023003E2 		and	r3, r3, #2
 3097 00e4 032082E1 		orr	r2, r2, r3
 3098 00e8 0C301BE5 		ldr	r3, [fp, #-12]
 3099 00ec 013003E2 		and	r3, r3, #1
 3100 00f0 032082E1 		orr	r2, r2, r3
 3101 00f4 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_4K_NAT2RME
 3102 00f8 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_4K_NAT2RME
 3103 00fc 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3104              		.loc 1 1171 19
 3105 0100 1C301BE5 		ldr	r3, [fp, #-28]
 3106 0104 002083E5 		str	r2, [r3]
 3107 0108 240000EA 		b	.L138
 3108              	.L135:
1172:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1173:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1174:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1175:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)==0)
 3109              		.loc 1 1175 17
 3110 010c 0C301BE5 		ldr	r3, [fp, #-12]
 3111 0110 023003E2 		and	r3, r3, #2
 3112              		.loc 1 1175 11
 3113 0114 000053E3 		cmp	r3, #0
 3114 0118 0100001A 		bne	.L139
1176:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 3115              		.loc 1 1176 20
 3116 011c 0030E0E3 		mvn	r3, #0
 3117 0120 1F0000EA 		b	.L134
 3118              	.L139:
1177:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1178:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a section. Return the physical address and flags */
1179:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
 3119              		.loc 1 1179 11
 3120 0124 18301BE5 		ldr	r3, [fp, #-24]
 3121 0128 000053E3 		cmp	r3, #0
 3122 012c 0400000A 		beq	.L140
1180:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
 3123              		.loc 1 1180 17
 3124 0130 0C301BE5 		ldr	r3, [fp, #-12]
 3125 0134 233AA0E1 		lsr	r3, r3, #20
 3126 0138 033AA0E1 		lsl	r3, r3, #20
 3127              		.loc 1 1180 16
 3128 013c 18201BE5 		ldr	r2, [fp, #-24]
 3129 0140 003082E5 		str	r3, [r2]
 3130              	.L140:
1181:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
 3131              		.loc 1 1181 11
 3132 0144 1C301BE5 		ldr	r3, [fp, #-28]
 3133 0148 000053E3 		cmp	r3, #0
 3134 014c 1300000A 		beq	.L138
1182:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 77


 3135              		.loc 1 1182 20
 3136 0150 0C301BE5 		ldr	r3, [fp, #-12]
 3137 0154 2336A0E1 		lsr	r3, r3, #12
 3138 0158 082003E2 		and	r2, r3, #8
 3139 015c 0C301BE5 		ldr	r3, [fp, #-12]
 3140 0160 2331A0E1 		lsr	r3, r3, #2
 3141 0164 043003E2 		and	r3, r3, #4
 3142 0168 032082E1 		orr	r2, r2, r3
 3143 016c 0C301BE5 		ldr	r3, [fp, #-12]
 3144 0170 2331A0E1 		lsr	r3, r3, #2
 3145 0174 023003E2 		and	r3, r3, #2
 3146 0178 032082E1 		orr	r2, r2, r3
 3147 017c 0C301BE5 		ldr	r3, [fp, #-12]
 3148 0180 2331A0E1 		lsr	r3, r3, #2
 3149 0184 013003E2 		and	r3, r3, #1
 3150 0188 032082E1 		orr	r2, r2, r3
 3151 018c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_1M_NAT2RME
 3152 0190 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_1M_NAT2RME
 3153 0194 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3154              		.loc 1 1182 19
 3155 0198 1C301BE5 		ldr	r3, [fp, #-28]
 3156 019c 002083E5 		str	r2, [r3]
 3157              	.L138:
1183:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1184:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1185:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3158              		.loc 1 1185 12
 3159 01a0 0030A0E3 		mov	r3, #0
 3160              	.L134:
1186:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3161              		.loc 1 1186 1
 3162 01a4 0300A0E1 		mov	r0, r3
 3163 01a8 00D08BE2 		add	sp, fp, #0
 3164              		.cfi_def_cfa_register 13
 3165              		@ sp needed
 3166 01ac 04B09DE4 		ldr	fp, [sp], #4
 3167              		.cfi_restore 11
 3168              		.cfi_def_cfa_offset 0
 3169 01b0 1EFF2FE1 		bx	lr
 3170              		.cfi_endproc
 3171              	.LFE42:
 3173              		.section	.text.__RME_Pgt_Walk,"ax",%progbits
 3174              		.align	2
 3175              		.global	__RME_Pgt_Walk
 3176              		.syntax unified
 3177              		.arm
 3179              	__RME_Pgt_Walk:
 3180              	.LFB43:
1187:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Lookup *******************************************/
1188:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1189:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Walk **************************************************
1190:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Walking function for the page table. This function just does page
1191:../../Source/Platform/A7A/rme_platform_a7a.c ****               table lookups. The page table that is being walked must be the top-
1192:../../Source/Platform/A7A/rme_platform_a7a.c ****               level page table. The output values are optional; only pass in pointers
1193:../../Source/Platform/A7A/rme_platform_a7a.c ****               when you need that value.
1194:../../Source/Platform/A7A/rme_platform_a7a.c ****               Walking kernel page tables is prohibited.
1195:../../Source/Platform/A7A/rme_platform_a7a.c ****               This function also does not support large pages and super sections.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 78


1196:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to walk.
1197:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address to look up.
1198:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Pgt - The pointer to the page table level.
1199:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Map_Vaddr - The virtual address that starts mapping.
1200:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Paddr - The physical address of the page.
1201:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Size_Order - The size order of the page.
1202:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Num_Order - The entry order of the page.
1203:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1204:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1205:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1206:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Walk(struct RME_Cap_Pgt* Pgt_Op, 
1207:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t Vaddr, 
1208:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t* Pgt,
1209:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Map_Vaddr, 
1210:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Paddr, 
1211:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Size_Order, 
1212:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Num_Order, 
1213:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Flags)
1214:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3181              		.loc 1 1214 1
 3182              		.cfi_startproc
 3183              		@ args = 16, pretend = 0, frame = 32
 3184              		@ frame_needed = 1, uses_anonymous_args = 0
 3185              		@ link register save eliminated.
 3186 0000 04B02DE5 		str	fp, [sp, #-4]!
 3187              		.cfi_def_cfa_offset 4
 3188              		.cfi_offset 11, -4
 3189 0004 00B08DE2 		add	fp, sp, #0
 3190              		.cfi_def_cfa_register 11
 3191 0008 24D04DE2 		sub	sp, sp, #36
 3192 000c 18000BE5 		str	r0, [fp, #-24]
 3193 0010 1C100BE5 		str	r1, [fp, #-28]
 3194 0014 20200BE5 		str	r2, [fp, #-32]
 3195 0018 24300BE5 		str	r3, [fp, #-36]
1215:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1216:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Pos;
1217:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1218:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1219:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if this is the top-level page table */
1220:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)==0)
 3196              		.loc 1 1220 16
 3197 001c 18301BE5 		ldr	r3, [fp, #-24]
 3198 0020 183093E5 		ldr	r3, [r3, #24]
 3199              		.loc 1 1220 23
 3200 0024 013003E2 		and	r3, r3, #1
 3201              		.loc 1 1220 7
 3202 0028 000053E3 		cmp	r3, #0
 3203 002c 0100001A 		bne	.L142
1221:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3204              		.loc 1 1221 16
 3205 0030 0030E0E3 		mvn	r3, #0
 3206 0034 A30000EA 		b	.L143
 3207              	.L142:
1222:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1223:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we attempting a kernel or non-canonical lookup? If yes, stop immediately */
1224:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Vaddr>=0x7FFFFFFFU)
 3208              		.loc 1 1224 7
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 79


 3209 0038 1C301BE5 		ldr	r3, [fp, #-28]
 3210 003c 0A0173E3 		cmn	r3, #-2147483646
 3211 0040 0100009A 		bls	.L144
1225:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3212              		.loc 1 1225 16
 3213 0044 0030E0E3 		mvn	r3, #0
 3214 0048 9E0000EA 		b	.L143
 3215              	.L144:
1226:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1227:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table and start lookup - We know that there are only 2 levels */
1228:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op, rme_ptr_t*);
 3216              		.loc 1 1228 11
 3217 004c 18301BE5 		ldr	r3, [fp, #-24]
 3218 0050 0C3093E5 		ldr	r3, [r3, #12]
 3219              		.loc 1 1228 10
 3220 0054 08300BE5 		str	r3, [fp, #-8]
1229:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1230:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Calculate where is the entry - always 0 to 4096 */
1231:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Pos=(Vaddr>>RME_PGT_SIZE_1M)&0xFFFU;
 3221              		.loc 1 1231 5
 3222 0058 1C301BE5 		ldr	r3, [fp, #-28]
 3223 005c 233AA0E1 		lsr	r3, r3, #20
 3224 0060 0C300BE5 		str	r3, [fp, #-12]
1232:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Atomic read */
1233:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Temp=Table[Pos];
 3225              		.loc 1 1233 12
 3226 0064 0C301BE5 		ldr	r3, [fp, #-12]
 3227 0068 0331A0E1 		lsl	r3, r3, #2
 3228 006c 08201BE5 		ldr	r2, [fp, #-8]
 3229 0070 033082E0 		add	r3, r2, r3
 3230              		.loc 1 1233 6
 3231 0074 003093E5 		ldr	r3, [r3]
 3232 0078 10300BE5 		str	r3, [fp, #-16]
1234:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1235:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Find the position of the entry - Is there a page, a directory, or nothing? */
1236:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)!=0)
 3233              		.loc 1 1236 10
 3234 007c 10301BE5 		ldr	r3, [fp, #-16]
 3235 0080 023003E2 		and	r3, r3, #2
 3236              		.loc 1 1236 4
 3237 0084 000053E3 		cmp	r3, #0
 3238 0088 3900000A 		beq	.L145
1237:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1238:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* There is a 1M page */
1239:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Pgt!=0)
 3239              		.loc 1 1239 5
 3240 008c 20301BE5 		ldr	r3, [fp, #-32]
 3241 0090 000053E3 		cmp	r3, #0
 3242 0094 0200000A 		beq	.L146
1240:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Pgt=(rme_ptr_t)Table;
 3243              		.loc 1 1240 9
 3244 0098 08201BE5 		ldr	r2, [fp, #-8]
 3245              		.loc 1 1240 8
 3246 009c 20301BE5 		ldr	r3, [fp, #-32]
 3247 00a0 002083E5 		str	r2, [r3]
 3248              	.L146:
1241:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Map_Vaddr!=0)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 80


 3249              		.loc 1 1241 5
 3250 00a4 24301BE5 		ldr	r3, [fp, #-36]
 3251 00a8 000053E3 		cmp	r3, #0
 3252 00ac 0400000A 		beq	.L147
1242:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_1M);
 3253              		.loc 1 1242 15
 3254 00b0 1C301BE5 		ldr	r3, [fp, #-28]
 3255 00b4 233AA0E1 		lsr	r3, r3, #20
 3256 00b8 033AA0E1 		lsl	r3, r3, #20
 3257              		.loc 1 1242 14
 3258 00bc 24201BE5 		ldr	r2, [fp, #-36]
 3259 00c0 003082E5 		str	r3, [r2]
 3260              	.L147:
1243:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Paddr!=0)
 3261              		.loc 1 1243 5
 3262 00c4 04309BE5 		ldr	r3, [fp, #4]
 3263 00c8 000053E3 		cmp	r3, #0
 3264 00cc 0400000A 		beq	.L148
1244:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
 3265              		.loc 1 1244 11
 3266 00d0 10301BE5 		ldr	r3, [fp, #-16]
 3267 00d4 233AA0E1 		lsr	r3, r3, #20
 3268 00d8 033AA0E1 		lsl	r3, r3, #20
 3269              		.loc 1 1244 10
 3270 00dc 04209BE5 		ldr	r2, [fp, #4]
 3271 00e0 003082E5 		str	r3, [r2]
 3272              	.L148:
1245:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Size_Order!=0)
 3273              		.loc 1 1245 5
 3274 00e4 08309BE5 		ldr	r3, [fp, #8]
 3275 00e8 000053E3 		cmp	r3, #0
 3276 00ec 0200000A 		beq	.L149
1246:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Size_Order=RME_PGT_SIZE_1M;
 3277              		.loc 1 1246 15
 3278 00f0 08309BE5 		ldr	r3, [fp, #8]
 3279 00f4 1420A0E3 		mov	r2, #20
 3280 00f8 002083E5 		str	r2, [r3]
 3281              	.L149:
1247:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Num_Order!=0)
 3282              		.loc 1 1247 5
 3283 00fc 0C309BE5 		ldr	r3, [fp, #12]
 3284 0100 000053E3 		cmp	r3, #0
 3285 0104 0200000A 		beq	.L150
1248:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Num_Order=RME_PGT_NUM_4K;
 3286              		.loc 1 1248 14
 3287 0108 0C309BE5 		ldr	r3, [fp, #12]
 3288 010c 0C20A0E3 		mov	r2, #12
 3289 0110 002083E5 		str	r2, [r3]
 3290              	.L150:
1249:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Flags!=0)
 3291              		.loc 1 1249 5
 3292 0114 10309BE5 		ldr	r3, [fp, #16]
 3293 0118 000053E3 		cmp	r3, #0
 3294 011c 6800000A 		beq	.L151
1250:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
 3295              		.loc 1 1250 11
 3296 0120 10301BE5 		ldr	r3, [fp, #-16]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 81


 3297 0124 2336A0E1 		lsr	r3, r3, #12
 3298 0128 082003E2 		and	r2, r3, #8
 3299 012c 10301BE5 		ldr	r3, [fp, #-16]
 3300 0130 2331A0E1 		lsr	r3, r3, #2
 3301 0134 043003E2 		and	r3, r3, #4
 3302 0138 032082E1 		orr	r2, r2, r3
 3303 013c 10301BE5 		ldr	r3, [fp, #-16]
 3304 0140 2331A0E1 		lsr	r3, r3, #2
 3305 0144 023003E2 		and	r3, r3, #2
 3306 0148 032082E1 		orr	r2, r2, r3
 3307 014c 10301BE5 		ldr	r3, [fp, #-16]
 3308 0150 2331A0E1 		lsr	r3, r3, #2
 3309 0154 013003E2 		and	r3, r3, #1
 3310 0158 032082E1 		orr	r2, r2, r3
 3311 015c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_1M_NAT2RME
 3312 0160 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_1M_NAT2RME
 3313 0164 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3314              		.loc 1 1250 10
 3315 0168 10309BE5 		ldr	r3, [fp, #16]
 3316 016c 002083E5 		str	r2, [r3]
 3317 0170 530000EA 		b	.L151
 3318              	.L145:
1251:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1252:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1253:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else if((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0)
 3319              		.loc 1 1253 15
 3320 0174 10301BE5 		ldr	r3, [fp, #-16]
 3321 0178 013003E2 		and	r3, r3, #1
 3322              		.loc 1 1253 9
 3323 017c 000053E3 		cmp	r3, #0
 3324 0180 4D00000A 		beq	.L152
1254:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1255:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Table=(rme_ptr_t*)RME_A7A_PA2VA(RME_A7A_MMU_1M_PGT_ADDR(Temp));
 3325              		.loc 1 1255 21
 3326 0184 10301BE5 		ldr	r3, [fp, #-16]
 3327 0188 FF3FC3E3 		bic	r3, r3, #1020
 3328 018c 0330C3E3 		bic	r3, r3, #3
 3329 0190 023183E2 		add	r3, r3, #-2147483648
 3330              		.loc 1 1255 8
 3331 0194 08300BE5 		str	r3, [fp, #-8]
1256:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Calculate where is the entry - always 0 to 256 */
1257:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Pos=(Vaddr>>RME_PGT_SIZE_4K)&0xFFU;
 3332              		.loc 1 1257 13
 3333 0198 1C301BE5 		ldr	r3, [fp, #-28]
 3334 019c 2336A0E1 		lsr	r3, r3, #12
 3335              		.loc 1 1257 6
 3336 01a0 7330EFE6 		uxtb	r3, r3
 3337 01a4 0C300BE5 		str	r3, [fp, #-12]
1258:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Atomic read */
1259:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Temp=Table[Pos];
 3338              		.loc 1 1259 13
 3339 01a8 0C301BE5 		ldr	r3, [fp, #-12]
 3340 01ac 0331A0E1 		lsl	r3, r3, #2
 3341 01b0 08201BE5 		ldr	r2, [fp, #-8]
 3342 01b4 033082E0 		add	r3, r2, r3
 3343              		.loc 1 1259 7
 3344 01b8 003093E5 		ldr	r3, [r3]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 82


 3345 01bc 10300BE5 		str	r3, [fp, #-16]
1260:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1261:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)!=0)
 3346              		.loc 1 1261 11
 3347 01c0 10301BE5 		ldr	r3, [fp, #-16]
 3348 01c4 023003E2 		and	r3, r3, #2
 3349              		.loc 1 1261 5
 3350 01c8 000053E3 		cmp	r3, #0
 3351 01cc 3800000A 		beq	.L153
1262:../../Source/Platform/A7A/rme_platform_a7a.c **** 		{
1263:../../Source/Platform/A7A/rme_platform_a7a.c **** 			/* There is a 4k page */
1264:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Pgt!=0)
 3352              		.loc 1 1264 6
 3353 01d0 20301BE5 		ldr	r3, [fp, #-32]
 3354 01d4 000053E3 		cmp	r3, #0
 3355 01d8 0200000A 		beq	.L154
1265:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Pgt=(rme_ptr_t)Table;
 3356              		.loc 1 1265 10
 3357 01dc 08201BE5 		ldr	r2, [fp, #-8]
 3358              		.loc 1 1265 9
 3359 01e0 20301BE5 		ldr	r3, [fp, #-32]
 3360 01e4 002083E5 		str	r2, [r3]
 3361              	.L154:
1266:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Map_Vaddr!=0)
 3362              		.loc 1 1266 6
 3363 01e8 24301BE5 		ldr	r3, [fp, #-36]
 3364 01ec 000053E3 		cmp	r3, #0
 3365 01f0 0400000A 		beq	.L155
1267:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_4K);
 3366              		.loc 1 1267 16
 3367 01f4 1C301BE5 		ldr	r3, [fp, #-28]
 3368 01f8 FF3EC3E3 		bic	r3, r3, #4080
 3369 01fc 0F30C3E3 		bic	r3, r3, #15
 3370              		.loc 1 1267 15
 3371 0200 24201BE5 		ldr	r2, [fp, #-36]
 3372 0204 003082E5 		str	r3, [r2]
 3373              	.L155:
1268:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Paddr!=0)
 3374              		.loc 1 1268 6
 3375 0208 04309BE5 		ldr	r3, [fp, #4]
 3376 020c 000053E3 		cmp	r3, #0
 3377 0210 0400000A 		beq	.L156
1269:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
 3378              		.loc 1 1269 12
 3379 0214 10301BE5 		ldr	r3, [fp, #-16]
 3380 0218 FF3EC3E3 		bic	r3, r3, #4080
 3381 021c 0F30C3E3 		bic	r3, r3, #15
 3382              		.loc 1 1269 11
 3383 0220 04209BE5 		ldr	r2, [fp, #4]
 3384 0224 003082E5 		str	r3, [r2]
 3385              	.L156:
1270:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Size_Order!=0)
 3386              		.loc 1 1270 6
 3387 0228 08309BE5 		ldr	r3, [fp, #8]
 3388 022c 000053E3 		cmp	r3, #0
 3389 0230 0200000A 		beq	.L157
1271:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Size_Order=RME_PGT_SIZE_4K;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 83


 3390              		.loc 1 1271 16
 3391 0234 08309BE5 		ldr	r3, [fp, #8]
 3392 0238 0C20A0E3 		mov	r2, #12
 3393 023c 002083E5 		str	r2, [r3]
 3394              	.L157:
1272:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Num_Order!=0)
 3395              		.loc 1 1272 6
 3396 0240 0C309BE5 		ldr	r3, [fp, #12]
 3397 0244 000053E3 		cmp	r3, #0
 3398 0248 0200000A 		beq	.L158
1273:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Num_Order=RME_PGT_NUM_256;
 3399              		.loc 1 1273 15
 3400 024c 0C309BE5 		ldr	r3, [fp, #12]
 3401 0250 0820A0E3 		mov	r2, #8
 3402 0254 002083E5 		str	r2, [r3]
 3403              	.L158:
1274:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Flags!=0)
 3404              		.loc 1 1274 6
 3405 0258 10309BE5 		ldr	r3, [fp, #16]
 3406 025c 000053E3 		cmp	r3, #0
 3407 0260 1700000A 		beq	.L151
1275:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
 3408              		.loc 1 1275 12
 3409 0264 10301BE5 		ldr	r3, [fp, #-16]
 3410 0268 2333A0E1 		lsr	r3, r3, #6
 3411 026c 082003E2 		and	r2, r3, #8
 3412 0270 10301BE5 		ldr	r3, [fp, #-16]
 3413 0274 A330A0E1 		lsr	r3, r3, #1
 3414 0278 043003E2 		and	r3, r3, #4
 3415 027c 032082E1 		orr	r2, r2, r3
 3416 0280 10301BE5 		ldr	r3, [fp, #-16]
 3417 0284 A330A0E1 		lsr	r3, r3, #1
 3418 0288 023003E2 		and	r3, r3, #2
 3419 028c 032082E1 		orr	r2, r2, r3
 3420 0290 10301BE5 		ldr	r3, [fp, #-16]
 3421 0294 013003E2 		and	r3, r3, #1
 3422 0298 032082E1 		orr	r2, r2, r3
 3423 029c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_4K_NAT2RME
 3424 02a0 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_4K_NAT2RME
 3425 02a4 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3426              		.loc 1 1275 11
 3427 02a8 10309BE5 		ldr	r3, [fp, #16]
 3428 02ac 002083E5 		str	r2, [r3]
 3429 02b0 030000EA 		b	.L151
 3430              	.L153:
1276:../../Source/Platform/A7A/rme_platform_a7a.c **** 		}
1277:../../Source/Platform/A7A/rme_platform_a7a.c **** 		else
1278:../../Source/Platform/A7A/rme_platform_a7a.c **** 			return RME_ERR_HAL_FAIL;
 3431              		.loc 1 1278 11
 3432 02b4 0030E0E3 		mvn	r3, #0
 3433 02b8 020000EA 		b	.L143
 3434              	.L152:
1279:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1280:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else
1281:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return RME_ERR_HAL_FAIL;
 3435              		.loc 1 1281 10
 3436 02bc 0030E0E3 		mvn	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 84


 3437 02c0 000000EA 		b	.L143
 3438              	.L151:
1282:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1283:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3439              		.loc 1 1283 12
 3440 02c4 0030A0E3 		mov	r3, #0
 3441              	.L143:
1284:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3442              		.loc 1 1284 1
 3443 02c8 0300A0E1 		mov	r0, r3
 3444 02cc 00D08BE2 		add	sp, fp, #0
 3445              		.cfi_def_cfa_register 13
 3446              		@ sp needed
 3447 02d0 04B09DE4 		ldr	fp, [sp], #4
 3448              		.cfi_restore 11
 3449              		.cfi_def_cfa_offset 0
 3450 02d4 1EFF2FE1 		bx	lr
 3451              		.cfi_endproc
 3452              	.LFE43:
 3454              		.text
 3455              	.Letext0:
 3456              		.file 2 "../../Include/Platform/A7A/rme_platform_a7a.h"
 3457              		.file 3 "../../Include/Kernel/rme_kernel.h"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 85


DEFINED SYMBOLS
                            *ABS*:00000000 rme_platform_a7a.c
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:21     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:24     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 RME_A7A_Pgflg_1M_RME2NAT
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:58     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:61     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 RME_A7A_Pgflg_4K_RME2NAT
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:95     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:98     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 RME_A7A_Pgflg_1M_NAT2RME
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:116    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:119    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 RME_A7A_Pgflg_4K_NAT2RME
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:141    .bss.RME_A7A_Timestamp:00000000 RME_A7A_Timestamp
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:138    .bss.RME_A7A_Timestamp:00000000 $d
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:148    .bss.RME_A7A_Local:00000000 RME_A7A_Local
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:145    .bss.RME_A7A_Local:00000000 $d
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:155    .bss.RME_A7A_Kot:00000000 RME_A7A_Kot
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:152    .bss.RME_A7A_Kot:00000000 $d
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:162    .rodata.RME_A7A_Mem_Info:00000000 RME_A7A_Mem_Info
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:159    .rodata.RME_A7A_Mem_Info:00000000 $d
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:193    .bss.RME_A7A_CPU_Cnt:00000000 RME_A7A_CPU_Cnt
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:190    .bss.RME_A7A_CPU_Cnt:00000000 $d
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:196    .text.main:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:201    .text.main:00000000 main
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:224    .text.__RME_Putchar:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:229    .text.__RME_Putchar:00000000 __RME_Putchar
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:272    .rodata:00000000 $d
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:273    .rodata:00000000 .LC0
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:276    .rodata:00000018 .LC1
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:279    .rodata:00000030 .LC2
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:282    .rodata:00000048 .LC3
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:285    .rodata:00000064 .LC4
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:288    .rodata:0000007c .LC5
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:291    .rodata:0000009c .LC6
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:294    .rodata:000000b4 .LC7
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:297    .text.__RME_A7A_Int_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:301    .text.__RME_A7A_Int_Init:00000000 __RME_A7A_Int_Init
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:561    .text.__RME_A7A_Int_Local_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:566    .text.__RME_A7A_Int_Local_Init:00000000 __RME_A7A_Int_Local_Init
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:609    .text.__RME_A7A_Timer_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:613    .text.__RME_A7A_Timer_Init:00000000 __RME_A7A_Timer_Init
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:666    .text.__RME_A7A_Feature_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:671    .text.__RME_A7A_Feature_Get:00000000 __RME_A7A_Feature_Get
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:696    .text.__RME_A7A_Mem_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:701    .text.__RME_A7A_Mem_Init:00000000 __RME_A7A_Mem_Init
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:729    .text.__RME_A7A_SMP_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:734    .text.__RME_A7A_SMP_Init:00000000 __RME_A7A_SMP_Init
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:759    .text.__RME_A7A_SMP_Tick:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:764    .text.__RME_A7A_SMP_Tick:00000000 __RME_A7A_SMP_Tick
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:790    .rodata:000000d8 .LC8
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:793    .rodata:000000ec .LC9
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:796    .text.__RME_Lowlvl_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:801    .text.__RME_Lowlvl_Init:00000000 __RME_Lowlvl_Init
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:853    .text.__RME_Pgt_Kom_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:858    .text.__RME_Pgt_Kom_Init:00000000 __RME_Pgt_Kom_Init
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:885    .text.__RME_SMP_Low_Level_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:890    .text.__RME_SMP_Low_Level_Init:00000000 __RME_SMP_Low_Level_Init
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:918    .rodata:00000100 .LC10
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:921    .rodata:00000114 .LC11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 86


C:\Users\even\AppData\Local\Temp\ccWojzU0.s:924    .rodata:0000012c .LC12
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:927    .rodata:00000138 .LC13
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:930    .rodata:00000144 .LC14
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:933    .rodata:00000174 .LC15
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:936    .rodata:0000018c .LC16
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:939    .rodata:000001a4 .LC17
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:942    .rodata:000001c0 .LC18
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:946    .rodata:00000204 .LC19
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:949    .text.__RME_Boot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:954    .text.__RME_Boot:00000000 __RME_Boot
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2373   .text.__RME_Pgt_Set:00000000 __RME_Pgt_Set
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1354   .text.__RME_Reboot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1359   .text.__RME_Reboot:00000000 __RME_Reboot
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1384   .text.__RME_Shutdown:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1389   .text.__RME_Shutdown:00000000 __RME_Shutdown
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1414   .text.__RME_Svc_Param_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1419   .text.__RME_Svc_Param_Get:00000000 __RME_Svc_Param_Get
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1487   .text.__RME_Svc_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1492   .text.__RME_Svc_Retval_Set:00000000 __RME_Svc_Retval_Set
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1525   .text.__RME_Thd_Reg_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1530   .text.__RME_Thd_Reg_Init:00000000 __RME_Thd_Reg_Init
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1572   .text.__RME_Thd_Reg_Copy:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1577   .text.__RME_Thd_Reg_Copy:00000000 __RME_Thd_Reg_Copy
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1701   .text.__RME_Thd_Cop_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1706   .text.__RME_Thd_Cop_Init:00000000 __RME_Thd_Cop_Init
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1734   .text.__RME_Thd_Cop_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1739   .text.__RME_Thd_Cop_Save:00000000 __RME_Thd_Cop_Save
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1767   .text.__RME_Thd_Cop_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1772   .text.__RME_Thd_Cop_Restore:00000000 __RME_Thd_Cop_Restore
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1800   .text.__RME_Inv_Reg_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1805   .text.__RME_Inv_Reg_Save:00000000 __RME_Inv_Reg_Save
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1845   .text.__RME_Inv_Reg_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1850   .text.__RME_Inv_Reg_Restore:00000000 __RME_Inv_Reg_Restore
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1890   .text.__RME_Inv_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1895   .text.__RME_Inv_Retval_Set:00000000 __RME_Inv_Retval_Set
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1928   .text.__RME_Set_Inv_Retval:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1933   .text.__RME_Set_Inv_Retval:00000000 __RME_Set_Inv_Retval
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1966   .text.__RME_Thd_Cop_Swap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:1971   .text.__RME_Thd_Cop_Swap:00000000 __RME_Thd_Cop_Swap
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2001   .text.__RME_Kfn_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2006   .text.__RME_Kfn_Handler:00000000 __RME_Kfn_Handler
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2038   .text.__RME_A7A_Undefined_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2043   .text.__RME_A7A_Undefined_Handler:00000000 __RME_A7A_Undefined_Handler
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2064   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2069   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 __RME_A7A_Prefetch_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2090   .text.__RME_A7A_Data_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2095   .text.__RME_A7A_Data_Abort_Handler:00000000 __RME_A7A_Data_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2117   .rodata:00000218 .LC20
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2120   .text.__RME_A7A_IRQ_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2125   .text.__RME_A7A_IRQ_Handler:00000000 __RME_A7A_IRQ_Handler
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2294   .text._RME_A7A_SGI_Handler:00000000 _RME_A7A_SGI_Handler
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2289   .text._RME_A7A_SGI_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2325   .rodata:00000228 .LC21
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2328   .text.__RME_A7A_Generic_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2333   .text.__RME_A7A_Generic_Handler:00000000 __RME_A7A_Generic_Handler
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2368   .text.__RME_Pgt_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2400   .text.__RME_Pgt_Check:00000000 $a
ARM GAS  C:\Users\even\AppData\Local\Temp\ccWojzU0.s 			page 87


C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2405   .text.__RME_Pgt_Check:00000000 __RME_Pgt_Check
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2494   .text.__RME_Pgt_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2499   .text.__RME_Pgt_Init:00000000 __RME_Pgt_Init
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2617   .text.__RME_Pgt_Del_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2622   .text.__RME_Pgt_Del_Check:00000000 __RME_Pgt_Del_Check
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2651   .text.__RME_Pgt_Page_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2656   .text.__RME_Pgt_Page_Map:00000000 __RME_Pgt_Page_Map
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2768   .text.__RME_Pgt_Page_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2773   .text.__RME_Pgt_Page_Unmap:00000000 __RME_Pgt_Page_Unmap
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2872   .text.__RME_Pgt_Pgdir_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2877   .text.__RME_Pgt_Pgdir_Map:00000000 __RME_Pgt_Pgdir_Map
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2968   .text.__RME_Pgt_Pgdir_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:2973   .text.__RME_Pgt_Pgdir_Unmap:00000000 __RME_Pgt_Pgdir_Unmap
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:3004   .text.__RME_Pgt_Lookup:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:3009   .text.__RME_Pgt_Lookup:00000000 __RME_Pgt_Lookup
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:3174   .text.__RME_Pgt_Walk:00000000 $a
C:\Users\even\AppData\Local\Temp\ccWojzU0.s:3179   .text.__RME_Pgt_Walk:00000000 __RME_Pgt_Walk
                           .group:00000000 wm4.0.3b9f63523dc4e8d86e863c7e7e762be7
                           .group:00000000 wm4.rme_platform_a7a.h.12.05dfdd61e8cc4733bd7ea3ad6c02f8e1
                           .group:00000000 wm4.rme_platform_xc7z020.h.15.c31726c7fcb1eeb1736496a5f45d0ea6
                           .group:00000000 wm4.rme_platform_a7a.h.136.487c3521abcf34484b0972244dda0051
                           .group:00000000 wm4.rme_kernel.h.27.716340edb41bad57d522729bf2b8a38a
                           .group:00000000 wm4.rme.h.11.9832b5e30070a0fa5589a615f357d92d
                           .group:00000000 wm4.rme_kernel.h.185.d02db6497e1a69d04e005d15d216f811
                           .group:00000000 wm4.rme_platform_a7a.h.389.fbf4038753b451d41c32b57871c5a680
                           .group:00000000 wm4.rme_kernel.h.678.0572fdf2012fb48f701f562b23d175bb
                           .group:00000000 wm4.rme_platform_a7a.h.505.4fe249c2d1f9d6add9657bf5bd31a9b3
                           .group:00000000 wm4.rme_kernel.h.930.0bcd107bd9a9b6f5fe5bbd4088ddbec4

UNDEFINED SYMBOLS
RME_Kmain
RME_Str_Print
RME_Int_Print
RME_Hex_Print
_RME_CPU_Local_Init
__RME_A7A_Vector_Table
__RME_A7A_VBAR_Set
__RME_A7A_SCR_Get
_RME_Cpt_Boot_Init
RME_Log
_RME_Pgt_Boot_Crt
_RME_Pgt_Boot_Add
_RME_Prc_Boot_Crt
_RME_Thd_Boot_Crt
_RME_Kfn_Boot_Crt
_RME_Kom_Boot_Crt
_RME_Sig_Boot_Crt
__RME_Int_Enable
__RME_User_Enter
_RME_Tim_Handler
__RME_A7A_Kern_Pgt
_RME_Comp_Swap_Single
