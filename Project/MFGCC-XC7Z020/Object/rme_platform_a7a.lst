ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 1


   1              		.cpu cortex-a7
   2              		.arch armv7-a
   3              		.arch_extension virt
   4              		.arch_extension idiv
   5              		.arch_extension sec
   6              		.arch_extension mp
   7              		.fpu neon-fp16
   8              		.eabi_attribute 20, 1
   9              		.eabi_attribute 21, 1
  10              		.eabi_attribute 23, 3
  11              		.eabi_attribute 24, 1
  12              		.eabi_attribute 25, 1
  13              		.eabi_attribute 26, 1
  14              		.eabi_attribute 30, 2
  15              		.eabi_attribute 34, 1
  16              		.eabi_attribute 18, 4
  17              		.file	"rme_platform_a7a.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.rodata.main.str1.4,"aMS",%progbits,1
  22              		.align	2
  23              	.LC0:
  24 0000 68656C6C 		.ascii	"hello world\000"
  24      6F20776F 
  24      726C6400 
  25              		.section	.text.startup.main,"ax",%progbits
  26              		.align	2
  27              		.global	main
  28              		.syntax unified
  29              		.arm
  31              	main:
  32              	.LFB0:
  33              		.file 1 "../../Source/Platform/A7A/rme_platform_a7a.c"
   1:../../Source/Platform/A7A/rme_platform_a7a.c **** /******************************************************************************
   2:../../Source/Platform/A7A/rme_platform_a7a.c **** Filename    : platform_a7a.c
   3:../../Source/Platform/A7A/rme_platform_a7a.c **** Author      : pry
   4:../../Source/Platform/A7A/rme_platform_a7a.c **** Date        : 01/04/2017
   5:../../Source/Platform/A7A/rme_platform_a7a.c **** Licence     : LGPL v3+; see COPYING for details.
   6:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The hardware abstraction layer for ARMv7-A machines.
   7:../../Source/Platform/A7A/rme_platform_a7a.c ****               1. Interrupt controller
   8:../../Source/Platform/A7A/rme_platform_a7a.c ****               2. Timer
   9:../../Source/Platform/A7A/rme_platform_a7a.c ****               3. Pgt setup
  10:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  11:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  12:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Include *******************************************************************/
  13:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_DEF__
  14:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  15:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  16:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_DEF__
  17:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  18:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_STRUCT__
  19:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  20:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  21:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_STRUCT__
  22:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  23:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Private include */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 2


  24:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  25:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  26:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_PUBLIC__
  27:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  28:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_PUBLIC__
  29:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Include ***************************************************************/
  30:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  31:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:main **************************************************************
  32:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The entrance of the operating system.
  33:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  34:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  35:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : int - This function never returns.
  36:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  37:../../Source/Platform/A7A/rme_platform_a7a.c **** int main(void)
  38:../../Source/Platform/A7A/rme_platform_a7a.c **** {
  34              		.loc 1 38 1 view -0
  35              		.cfi_startproc
  36              		@ args = 0, pretend = 0, frame = 0
  37              		@ frame_needed = 0, uses_anonymous_args = 0
  39:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("hello world");
  38              		.loc 1 39 5 view .LVU1
  39 0000 000000E3 		movw	r0, #:lower16:.LC0
  40 0004 000040E3 		movt	r0, #:upper16:.LC0
  38:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("hello world");
  41              		.loc 1 38 1 is_stmt 0 view .LVU2
  42 0008 10402DE9 		push	{r4, lr}
  43              		.cfi_def_cfa_offset 8
  44              		.cfi_offset 4, -8
  45              		.cfi_offset 14, -4
  46              		.loc 1 39 5 view .LVU3
  47 000c FEFFFFEB 		bl	RME_Str_Print
  48              	.LVL0:
  40:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('h');
  49              		.loc 1 40 5 is_stmt 1 view .LVU4
  50              	.LBB12:
  51              	.LBI12:
  41:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('e');
  42:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  43:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');*/
  44:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  45:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('w');
  46:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  47:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('r');
  48:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  49:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('d');*/
  50:../../Source/Platform/A7A/rme_platform_a7a.c ****     //_RME_Kmain(RME_KOM_STACK_ADDR);
  51:../../Source/Platform/A7A/rme_platform_a7a.c ****     // char* str="hello world";
  52:../../Source/Platform/A7A/rme_platform_a7a.c ****     //__RME_Putstr(str);
  53:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  54:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  55:../../Source/Platform/A7A/rme_platform_a7a.c ****     //test
  56:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The main function of the kernel - we will start our kernel boot here */
  57:../../Source/Platform/A7A/rme_platform_a7a.c ****     //_RME_Kmain(RME_KOM_STACK_ADDR);
  58:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  59:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
  60:../../Source/Platform/A7A/rme_platform_a7a.c **** }
  61:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 3


  62:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  63:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Putchar *****************************************************
  64:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Output a character to console. In Cortex-M, under most circumstances, 
  65:../../Source/Platform/A7A/rme_platform_a7a.c ****               we should use the ITM for such outputs.
  66:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : char Char - The character to print.
  67:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  68:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
  69:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  70:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Putchar(char Char)
  52              		.loc 1 70 11 view .LVU5
  53              	.LBB13:
  71:../../Source/Platform/A7A/rme_platform_a7a.c **** {
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PUTCHAR(Char);
  54              		.loc 1 72 5 view .LVU6
  55              		.loc 1 72 5 view .LVU7
  56 0010 011AA0E3 		mov	r1, #4096
  57 0014 00104EE3 		movt	r1, 57344
  58              	.L2:
  59              		.loc 1 72 5 view .LVU8
  60              		.loc 1 72 5 view .LVU9
  61 0018 2C3091E5 		ldr	r3, [r1, #44]
  62 001c 080013E3 		tst	r3, #8
  63 0020 FCFFFF0A 		beq	.L2
  64              		.loc 1 72 5 view .LVU10
  65              	.LBE13:
  66              	.LBE12:
  67              	.LBB16:
  68              	.LBB17:
  69 0024 012AA0E3 		mov	r2, #4096
  70              	.LBE17:
  71              	.LBE16:
  72              	.LBB21:
  73              	.LBB14:
  74 0028 6830A0E3 		mov	r3, #104
  75              	.LBE14:
  76              	.LBE21:
  77              	.LBB22:
  78              	.LBB18:
  79 002c 00204EE3 		movt	r2, 57344
  80              	.LBE18:
  81              	.LBE22:
  82              	.LBB23:
  83              	.LBB15:
  84 0030 303081E5 		str	r3, [r1, #48]
  85              		.loc 1 72 5 view .LVU11
  73:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
  86              		.loc 1 73 5 view .LVU12
  87              	.LVL1:
  88              	.L3:
  89              		.loc 1 73 5 is_stmt 0 view .LVU13
  90              	.LBE15:
  91              	.LBE23:
  92              	.LBB24:
  93              	.LBB19:
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
  94              		.loc 1 72 5 is_stmt 1 view .LVU14
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 4


  95              		.loc 1 72 5 view .LVU15
  96 0034 2C3092E5 		ldr	r3, [r2, #44]
  97 0038 080013E3 		tst	r3, #8
  98 003c FCFFFF0A 		beq	.L3
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
  99              		.loc 1 72 5 view .LVU16
 100 0040 6F30A0E3 		mov	r3, #111
 101              	.LBE19:
 102              	.LBE24:
  60:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
 103              		.loc 1 60 1 is_stmt 0 view .LVU17
 104 0044 0000A0E3 		mov	r0, #0
 105              	.LBB25:
 106              	.LBB20:
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 107              		.loc 1 72 5 view .LVU18
 108 0048 303082E5 		str	r3, [r2, #48]
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 109              		.loc 1 72 5 is_stmt 1 view .LVU19
 110              		.loc 1 73 5 view .LVU20
 111              	.LBE20:
 112              	.LBE25:
  59:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 113              		.loc 1 59 5 view .LVU21
  60:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
 114              		.loc 1 60 1 is_stmt 0 view .LVU22
 115 004c 1080BDE8 		pop	{r4, pc}
 116              		.cfi_endproc
 117              	.LFE0:
 119              		.section	.text.__RME_Putchar,"ax",%progbits
 120              		.align	2
 121              		.global	__RME_Putchar
 122              		.syntax unified
 123              		.arm
 125              	__RME_Putchar:
 126              	.LVL2:
 127              	.LFB1:
  71:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PUTCHAR(Char);
 128              		.loc 1 71 1 is_stmt 1 view -0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 0
 131              		@ frame_needed = 0, uses_anonymous_args = 0
 132              		@ link register save eliminated.
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 133              		.loc 1 72 5 view .LVU24
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 134              		.loc 1 72 5 view .LVU25
 135 0000 012AA0E3 		mov	r2, #4096
 136 0004 00204EE3 		movt	r2, 57344
 137              	.L11:
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 138              		.loc 1 72 5 discriminator 1 view .LVU26
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 139              		.loc 1 72 5 discriminator 1 view .LVU27
 140 0008 2C3092E5 		ldr	r3, [r2, #44]
 141 000c 080013E3 		tst	r3, #8
 142 0010 FCFFFF0A 		beq	.L11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 5


  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 143              		.loc 1 72 5 discriminator 2 view .LVU28
 144 0014 300082E5 		str	r0, [r2, #48]
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 145              		.loc 1 72 5 discriminator 2 view .LVU29
 146              		.loc 1 73 5 discriminator 2 view .LVU30
  74:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 147              		.loc 1 74 1 is_stmt 0 discriminator 2 view .LVU31
 148 0018 0000A0E3 		mov	r0, #0
 149              	.LVL3:
 150              		.loc 1 74 1 discriminator 2 view .LVU32
 151 001c 1EFF2FE1 		bx	lr
 152              		.cfi_endproc
 153              	.LFE1:
 155              		.section	.text.__RME_Putstr,"ax",%progbits
 156              		.align	2
 157              		.global	__RME_Putstr
 158              		.syntax unified
 159              		.arm
 161              	__RME_Putstr:
 162              	.LVL4:
 163              	.LFB2:
  75:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Putchar ************************************************/
  76:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  77:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Putstr *****************************************************
  78:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Output a character to console. In Cortex-M, under most circumstances, 
  79:../../Source/Platform/A7A/rme_platform_a7a.c ****               we should use the ITM for such outputs.
  80:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : char Char - The character to print.
  81:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  82:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
  83:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  84:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Putstr(char* Str)
  85:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 164              		.loc 1 85 1 is_stmt 1 view -0
 165              		.cfi_startproc
 166              		@ args = 0, pretend = 0, frame = 0
 167              		@ frame_needed = 0, uses_anonymous_args = 0
 168              		@ link register save eliminated.
  86:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Str==RME_NULL)
 169              		.loc 1 86 5 view .LVU34
 170              		.loc 1 86 7 is_stmt 0 view .LVU35
 171 0000 000050E3 		cmp	r0, #0
 172              		.loc 1 86 7 view .LVU36
 173 0004 0B00000A 		beq	.L15
 174              	.LVL5:
 175              	.LBB26:
  87:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
  88:../../Source/Platform/A7A/rme_platform_a7a.c ****         return 0;
  89:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
  90:../../Source/Platform/A7A/rme_platform_a7a.c ****     for (int i = 0; Str[i] != '\0'; i++) {
 176              		.loc 1 90 21 is_stmt 1 view .LVU37
 177              		.loc 1 90 24 is_stmt 0 view .LVU38
 178 0008 D010D0E1 		ldrsb	r1, [r0]
 179              		.loc 1 90 5 view .LVU39
 180 000c 000051E3 		cmp	r1, #0
 181 0010 0800000A 		beq	.L15
  91:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_A7A_PUTCHAR(Str[i]);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 6


 182              		.loc 1 91 9 view .LVU40
 183 0014 012AA0E3 		mov	r2, #4096
 184 0018 00204EE3 		movt	r2, 57344
 185              	.LVL6:
 186              	.L16:
 187              		.loc 1 91 9 is_stmt 1 discriminator 1 view .LVU41
 188              		.loc 1 91 9 discriminator 1 view .LVU42
 189 001c 2C3092E5 		ldr	r3, [r2, #44]
 190 0020 080013E3 		tst	r3, #8
 191 0024 FCFFFF0A 		beq	.L16
 192              		.loc 1 91 9 discriminator 2 view .LVU43
 193 0028 301082E5 		str	r1, [r2, #48]
 194              		.loc 1 91 9 discriminator 2 view .LVU44
  90:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_A7A_PUTCHAR(Str[i]);
 195              		.loc 1 90 37 discriminator 2 view .LVU45
 196              	.LVL7:
  90:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_A7A_PUTCHAR(Str[i]);
 197              		.loc 1 90 21 discriminator 2 view .LVU46
  90:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_A7A_PUTCHAR(Str[i]);
 198              		.loc 1 90 24 is_stmt 0 discriminator 2 view .LVU47
 199 002c D110F0E1 		ldrsb	r1, [r0, #1]!
 200              	.LVL8:
  90:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_A7A_PUTCHAR(Str[i]);
 201              		.loc 1 90 5 discriminator 2 view .LVU48
 202 0030 000051E3 		cmp	r1, #0
 203 0034 F8FFFF1A 		bne	.L16
 204              	.LVL9:
 205              	.L15:
  90:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_A7A_PUTCHAR(Str[i]);
 206              		.loc 1 90 5 discriminator 2 view .LVU49
 207              	.LBE26:
  92:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
  93:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
  94:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 208              		.loc 1 94 1 view .LVU50
 209 0038 0000A0E3 		mov	r0, #0
 210 003c 1EFF2FE1 		bx	lr
 211              		.cfi_endproc
 212              	.LFE2:
 214              		.section	.text.__RME_A7A_Int_Local_Init,"ax",%progbits
 215              		.align	2
 216              		.global	__RME_A7A_Int_Local_Init
 217              		.syntax unified
 218              		.arm
 220              	__RME_A7A_Int_Local_Init:
 221              	.LFB4:
  95:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Putchar ************************************************/
  96:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  97:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_CPU_Local_Get ******************************************
  98:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the CPU-local data structures. This is to identify where we are
  99:../../Source/Platform/A7A/rme_platform_a7a.c ****               executing.
 100:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 101:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 102:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : struct RME_CPU_Local* - The CPU-local data structures.
 103:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 104:../../Source/Platform/A7A/rme_platform_a7a.c **** /*struct RME_CPU_Local* __RME_A7A_CPU_Local_Get(void)
 105:../../Source/Platform/A7A/rme_platform_a7a.c **** {
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 7


 106:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return &RME_A7A_Local[__RME_A7A_MPIDR_Get()&0x03];
 107:../../Source/Platform/A7A/rme_platform_a7a.c **** }*/
 108:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_CPU_Local_Get *************************************/
 109:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 110:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Init ***********************************************
 111:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 112:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 113:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 114:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 115:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 116:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 117:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 118:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Init(void)
 119:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 120:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
 121:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Lines;
 122:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 123:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Who implemented the GIC, what variant, how many interrupts? */
 124:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_IIDR;
 125:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 126:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>24);
 127:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Variant: ");
 128:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>20)&0xF);
 129:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Revision: ");
 130:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>12)&0xF);
 131:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Implementer: 0x");
 132:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_DBG_U(Temp&0xFFF);
 133:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 134:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* How many locked SPIs, security extension enabled or not, number of
 135:../../Source/Platform/A7A/rme_platform_a7a.c ****      * actual CPUs and interrupt lines */
 136:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_TYPER;
 137:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
 138:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 139:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Security extension: ");
 140:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>10)&0x1);
 141:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: CPU number: ");
 142:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(((Temp>>5)&0x7)+1);
 143:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 144:../../Source/Platform/A7A/rme_platform_a7a.c ****     Lines=((Temp&0x1F)+1)*32;
 145:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 148:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 0, and disable all */
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/32;Temp++)
 150:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 151:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 152:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 153:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 155:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 156:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Set the priority of all such interrupts to the lowest level */
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/4;Temp++)
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 159:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 160:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts target CPU0 */
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=8;Temp<Lines/4;Temp++)
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 8


 163:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 164:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts are edge triggered, and use 1-N model */
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/16;Temp++)
 166:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 167:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 168:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable the interrupt controller */
 169:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 170:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 171:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 1, unless otherwise noted, and disable all */
 172:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/32;Temp++)
 173:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 174:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 175:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_IGROUPR(Temp)=0xFFFFFFFFU;
 176:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 177:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 178:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 179:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the priority of all such interrupts to the lowest level*/
 180:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/4;Temp++)
 181:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xE0E0E0E0U;
 182:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 183:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts target CPU0 */
 184:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=8;Temp<Lines/4;Temp++)
 185:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 186:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 187:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts are edge triggered, and use 1-N model */
 188:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/16;Temp++)
 189:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICFGR(Temp)=0xFFFFFFFFU;
 190:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 191:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the interrupt controller */
 192:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 193:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 194:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 195:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Init ******************************************/
 196:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 197:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Local_Init *****************************************
 198:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the local CPU interface of the processor.
 199:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 200:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 201:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 202:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 203:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Local_Init(void)
 204:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 222              		.loc 1 204 1 is_stmt 1 view -0
 223              		.cfi_startproc
 224              		@ args = 0, pretend = 0, frame = 0
 225              		@ frame_needed = 0, uses_anonymous_args = 0
 226              		@ link register save eliminated.
 205:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Priority grouping */
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_BPR=RME_A7A_GIC_GROUPING;
 227              		.loc 1 206 2 view .LVU52
 228              		.loc 1 206 18 is_stmt 0 view .LVU53
 229 0000 0030A0E3 		mov	r3, #0
 207:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 208:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 209:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable all interrupts to this interface - FIQ is bypassed, and all
 210:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * interrupts go through the IRQ. The FIQ feature is only available on
 211:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * the stabdalone FIQ interrupt line */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 9


 212:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_ENABLEGRP0;
 230              		.loc 1 212 19 view .LVU54
 231 0004 0110A0E3 		mov	r1, #1
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 232              		.loc 1 206 18 view .LVU55
 233 0008 0320A0E1 		mov	r2, r3
 234 000c F0384FE3 		movt	r3, 63728
 235 0010 042183E5 		str	r2, [r3, #260]
 236              		.loc 1 212 2 is_stmt 1 view .LVU56
 213:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 214:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_CBPR|RME_A7A_GICC_FIQEN|
 215:../../Source/Platform/A7A/rme_platform_a7a.c **** 			           RME_A7A_GICC_ENABLEGRP1|RME_A7A_GICC_ENABLEGRP0;
 216:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 217:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 218:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* No interrupts are masked - This must be set at last because enabling
 219:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * will trash the contents of this register if previously set. To maintain
 220:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * compatibility across all possible implementations, no priority level
 221:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * lower than 0xF0 will be considered valid */
 222:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_PMR=0xF0U;
 237              		.loc 1 222 18 is_stmt 0 view .LVU57
 238 0014 F020A0E3 		mov	r2, #240
 212:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 239              		.loc 1 212 19 view .LVU58
 240 0018 001183E5 		str	r1, [r3, #256]
 241              		.loc 1 222 2 is_stmt 1 view .LVU59
 242              		.loc 1 222 18 is_stmt 0 view .LVU60
 243 001c 042183E5 		str	r2, [r3, #260]
 223:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 244              		.loc 1 223 1 view .LVU61
 245 0020 1EFF2FE1 		bx	lr
 246              		.cfi_endproc
 247              	.LFE4:
 249              		.section	.text.__RME_A7A_Feature_Get,"ax",%progbits
 250              		.align	2
 251              		.global	__RME_A7A_Feature_Get
 252              		.syntax unified
 253              		.arm
 255              	__RME_A7A_Feature_Get:
 256              	.LFB48:
 257              		.cfi_startproc
 258              		@ args = 0, pretend = 0, frame = 0
 259              		@ frame_needed = 0, uses_anonymous_args = 0
 260              		@ link register save eliminated.
 261 0000 1EFF2FE1 		bx	lr
 262              		.cfi_endproc
 263              	.LFE48:
 265              		.section	.text.__RME_A7A_Mem_Init,"ax",%progbits
 266              		.align	2
 267              		.global	__RME_A7A_Mem_Init
 268              		.syntax unified
 269              		.arm
 271              	__RME_A7A_Mem_Init:
 272              	.LVL10:
 273              	.LFB7:
 224:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Local_Init ************************************/
 225:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 226:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Timer_Init *********************************************
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 10


 227:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 228:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 229:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 230:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 231:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 232:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 233:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 234:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Timer_Init(void)
 235:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 236:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 237:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 238:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Writing this will also write the counter register as well */
 239:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTLR=RME_A7A_SYSTICK_VAL;
 240:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 241:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTISR=0;
 242:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 243:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTCTLR=RME_A7A_PTWD_PTCTLR_PRESC(0)|
 244:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 245:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_AUTOREL|
 246:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_TIMEN;
 247:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 248:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the timer interrupt in the GIC */
 249:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_ISENABLER(0)|=1<<29;
 250:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 251:../../Source/Platform/A7A/rme_platform_a7a.c **** 	#error Cortex-A7/8/15/17 is not supported at the moment.
 252:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cortex-A7/15/17 use the new generic timer, and Cortex-A8 does not
 253:../../Source/Platform/A7A/rme_platform_a7a.c **** 	have a processor timer due to very early release dates.
 254:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 255:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 256:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Timer_Init ****************************************/
 257:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 258:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Feature_Get ********************************************
 259:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Use the CPUID instruction extensively to get all the processor
 260:../../Source/Platform/A7A/rme_platform_a7a.c ****               information. We assume that all processors installed have the same
 261:../../Source/Platform/A7A/rme_platform_a7a.c ****               features.
 262:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 263:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 264:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 265:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 266:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Feature_Get(void)
 267:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 268:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 269:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* TODO: Check these flags. If not satisfied, we hang immediately. */
 270:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 271:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Feature_Get ***************************************/
 272:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 273:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Mem_Init ***********************************************
 274:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the memory map, and get the size of kernel object
 275:../../Source/Platform/A7A/rme_platform_a7a.c ****               allocation registration table(Kot) and page table reference
 276:../../Source/Platform/A7A/rme_platform_a7a.c ****               count registration table(Pgreg).
 277:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t MMap_Addr - The GRUB multiboot memory map data address.
 278:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t MMap_Length - The GRUB multiboot memory map data length.
 279:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 280:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 281:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 282:../../Source/Platform/A7A/rme_platform_a7a.c **** const rme_ptr_t RME_A7A_Mem_Info[RME_A7A_MEM_ENTRIES]={RME_A7A_MEM_CONTENTS};
 283:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Mem_Init(rme_ptr_t MMap_Addr, rme_ptr_t MMap_Length)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 11


 284:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 274              		.loc 1 284 1 is_stmt 1 view -0
 275              		.cfi_startproc
 276              		@ args = 0, pretend = 0, frame = 0
 277              		@ frame_needed = 0, uses_anonymous_args = 0
 278              		@ link register save eliminated.
 285:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 286:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 279              		.loc 1 286 1 view .LVU63
 280 0000 1EFF2FE1 		bx	lr
 281              		.cfi_endproc
 282              	.LFE7:
 284              		.section	.text.__RME_A7A_SMP_Init,"ax",%progbits
 285              		.align	2
 286              		.global	__RME_A7A_SMP_Init
 287              		.syntax unified
 288              		.arm
 290              	__RME_A7A_SMP_Init:
 291              	.LFB50:
 292              		.cfi_startproc
 293              		@ args = 0, pretend = 0, frame = 0
 294              		@ frame_needed = 0, uses_anonymous_args = 0
 295              		@ link register save eliminated.
 296 0000 1EFF2FE1 		bx	lr
 297              		.cfi_endproc
 298              	.LFE50:
 300              		.section	.text.__RME_A7A_SMP_Tick,"ax",%progbits
 301              		.align	2
 302              		.global	__RME_A7A_SMP_Tick
 303              		.syntax unified
 304              		.arm
 306              	__RME_A7A_SMP_Tick:
 307              	.LFB52:
 308              		.cfi_startproc
 309              		@ args = 0, pretend = 0, frame = 0
 310              		@ frame_needed = 0, uses_anonymous_args = 0
 311              		@ link register save eliminated.
 312 0000 1EFF2FE1 		bx	lr
 313              		.cfi_endproc
 314              	.LFE52:
 316              		.section	.rodata.__RME_Lowlvl_Init.str1.4,"aMS",%progbits,1
 317              		.align	2
 318              	.LC1:
 319 0000 0D0A4137 		.ascii	"\015\012A7A-GIC: ProductID: \000"
 319      412D4749 
 319      433A2050 
 319      726F6475 
 319      63744944 
 320 0017 00       		.align	2
 321              	.LC2:
 322 0018 0D0A4137 		.ascii	"\015\012A7A-GIC: Variant: \000"
 322      412D4749 
 322      433A2056 
 322      61726961 
 322      6E743A20 
 323 002d 000000   		.align	2
 324              	.LC3:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 12


 325 0030 0D0A4137 		.ascii	"\015\012A7A-GIC: Revision: \000"
 325      412D4749 
 325      433A2052 
 325      65766973 
 325      696F6E3A 
 326 0046 0000     		.align	2
 327              	.LC4:
 328 0048 0D0A4137 		.ascii	"\015\012A7A-GIC: Implementer: 0x\000"
 328      412D4749 
 328      433A2049 
 328      6D706C65 
 328      6D656E74 
 329 0063 00       		.align	2
 330              	.LC5:
 331 0064 0D0A4137 		.ascii	"\015\012A7A-GIC: SPI number: \000"
 331      412D4749 
 331      433A2053 
 331      5049206E 
 331      756D6265 
 332              		.align	2
 333              	.LC6:
 334 007c 0D0A4137 		.ascii	"\015\012A7A-GIC: Security extension: \000"
 334      412D4749 
 334      433A2053 
 334      65637572 
 334      69747920 
 335              		.align	2
 336              	.LC7:
 337 009c 0D0A4137 		.ascii	"\015\012A7A-GIC: CPU number: \000"
 337      412D4749 
 337      433A2043 
 337      5055206E 
 337      756D6265 
 338              		.align	2
 339              	.LC8:
 340 00b4 0D0A4137 		.ascii	"\015\012A7A-GIC: Interrupt line number: \000"
 340      412D4749 
 340      433A2049 
 340      6E746572 
 340      72757074 
 341 00d7 00       		.align	2
 342              	.LC9:
 343 00d8 0D0A4137 		.ascii	"\015\012A7A-Vector: 0x\000"
 343      412D5665 
 343      63746F72 
 343      3A203078 
 343      00
 344 00e9 000000   		.align	2
 345              	.LC10:
 346 00ec 0D0A4137 		.ascii	"\015\012A7A-Non-Secure: \000"
 346      412D4E6F 
 346      6E2D5365 
 346      63757265 
 346      3A2000
 347              		.section	.text.__RME_Lowlvl_Init,"ax",%progbits
 348              		.align	2
 349              		.global	__RME_Lowlvl_Init
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 13


 350              		.syntax unified
 351              		.arm
 353              	__RME_Lowlvl_Init:
 354              	.LFB10:
 287:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Mem_Init ******************************************/
 288:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 289:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Init ***********************************************
 290:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Start all other processors, one by one.
 291:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 292:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 293:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 294:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 295:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Init(void)
 296:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 297:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 298:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 299:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Init ******************************************/
 300:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 301:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Tick ***********************************************
 302:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Send IPI to all other cores,to run their handler on the time.
 303:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 304:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 305:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 306:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 307:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Tick(void)
 308:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 309:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 310:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 311:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Tick *******************************************/
 312:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 313:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Lowlvl_Init **********************************************
 314:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the low-level hardware. This assumes that we are already
 315:../../Source/Platform/A7A/rme_platform_a7a.c ****               in Supervisor (SVC) mode.
 316:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 317:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 318:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 319:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 320:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Lowlvl_Init(void)
 321:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 355              		.loc 1 321 1 view -0
 356              		.cfi_startproc
 357              		@ args = 0, pretend = 0, frame = 0
 358              		@ frame_needed = 0, uses_anonymous_args = 0
 322:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 323:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_LOW_LEVEL_INIT();
 359              		.loc 1 323 5 view .LVU65
 360              		.loc 1 323 5 view .LVU66
 361              		.loc 1 323 5 view .LVU67
 324:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 325:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local data structure */
 326:../../Source/Platform/A7A/rme_platform_a7a.c ****     _RME_CPU_Local_Init(&RME_A7A_Local,0);
 362              		.loc 1 326 5 view .LVU68
 321:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 363              		.loc 1 321 1 is_stmt 0 view .LVU69
 364 0000 70402DE9 		push	{r4, r5, r6, lr}
 365              		.cfi_def_cfa_offset 16
 366              		.cfi_offset 4, -16
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 14


 367              		.cfi_offset 5, -12
 368              		.cfi_offset 6, -8
 369              		.cfi_offset 14, -4
 370              	.LBB31:
 371              	.LBB32:
 124:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 372              		.loc 1 124 9 view .LVU70
 373 0004 014AA0E3 		mov	r4, #4096
 374 0008 F0484FE3 		movt	r4, 63728
 375              	.LBE32:
 376              	.LBE31:
 377              		.loc 1 326 5 view .LVU71
 378 000c 000000E3 		movw	r0, #:lower16:.LANCHOR0
 379 0010 000040E3 		movt	r0, #:upper16:.LANCHOR0
 380 0014 0010A0E3 		mov	r1, #0
 381 0018 FEFFFFEB 		bl	_RME_CPU_Local_Init
 382              	.LVL11:
 327:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 328:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the interrupt controller */
 329:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_Int_Init();
 383              		.loc 1 329 5 is_stmt 1 view .LVU72
 384              	.LBB36:
 385              	.LBI31:
 118:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 386              		.loc 1 118 6 view .LVU73
 387              	.LBB33:
 120:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Lines;
 388              		.loc 1 120 5 view .LVU74
 121:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 389              		.loc 1 121 5 view .LVU75
 124:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 390              		.loc 1 124 5 view .LVU76
 124:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 391              		.loc 1 124 9 is_stmt 0 view .LVU77
 392 001c 085094E5 		ldr	r5, [r4, #8]
 393              	.LVL12:
 125:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>24);
 394              		.loc 1 125 5 is_stmt 1 view .LVU78
 395 0020 000000E3 		movw	r0, #:lower16:.LC1
 396 0024 000040E3 		movt	r0, #:upper16:.LC1
 397 0028 FEFFFFEB 		bl	RME_Str_Print
 398              	.LVL13:
 126:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Variant: ");
 399              		.loc 1 126 5 view .LVU79
 400 002c 250CA0E1 		lsr	r0, r5, #24
 401 0030 FEFFFFEB 		bl	RME_Int_Print
 402              	.LVL14:
 127:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>20)&0xF);
 403              		.loc 1 127 5 view .LVU80
 404 0034 000000E3 		movw	r0, #:lower16:.LC2
 405 0038 000040E3 		movt	r0, #:upper16:.LC2
 406 003c FEFFFFEB 		bl	RME_Str_Print
 407              	.LVL15:
 128:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Revision: ");
 408              		.loc 1 128 5 view .LVU81
 409 0040 550AE3E7 		ubfx	r0, r5, #20, #4
 410 0044 FEFFFFEB 		bl	RME_Int_Print
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 15


 411              	.LVL16:
 129:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>12)&0xF);
 412              		.loc 1 129 5 view .LVU82
 413 0048 000000E3 		movw	r0, #:lower16:.LC3
 414 004c 000040E3 		movt	r0, #:upper16:.LC3
 415 0050 FEFFFFEB 		bl	RME_Str_Print
 416              	.LVL17:
 130:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Implementer: 0x");
 417              		.loc 1 130 5 view .LVU83
 418 0054 5506E3E7 		ubfx	r0, r5, #12, #4
 419 0058 FEFFFFEB 		bl	RME_Int_Print
 420              	.LVL18:
 131:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_DBG_U(Temp&0xFFF);
 421              		.loc 1 131 5 view .LVU84
 422 005c 000000E3 		movw	r0, #:lower16:.LC4
 423 0060 000040E3 		movt	r0, #:upper16:.LC4
 424 0064 FEFFFFEB 		bl	RME_Str_Print
 425              	.LVL19:
 136:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
 426              		.loc 1 136 5 view .LVU85
 136:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
 427              		.loc 1 136 9 is_stmt 0 view .LVU86
 428 0068 044094E5 		ldr	r4, [r4, #4]
 429              	.LVL20:
 137:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 430              		.loc 1 137 5 is_stmt 1 view .LVU87
 431 006c 000000E3 		movw	r0, #:lower16:.LC5
 432 0070 000040E3 		movt	r0, #:upper16:.LC5
 144:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 433              		.loc 1 144 17 is_stmt 0 view .LVU88
 434 0074 1F5004E2 		and	r5, r4, #31
 137:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 435              		.loc 1 137 5 view .LVU89
 436 0078 FEFFFFEB 		bl	RME_Str_Print
 437              	.LVL21:
 138:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Security extension: ");
 438              		.loc 1 138 5 is_stmt 1 view .LVU90
 439 007c 2408A0E1 		lsr	r0, r4, #16
 440 0080 FEFFFFEB 		bl	RME_Int_Print
 441              	.LVL22:
 139:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>10)&0x1);
 442              		.loc 1 139 5 view .LVU91
 443 0084 000000E3 		movw	r0, #:lower16:.LC6
 444 0088 000040E3 		movt	r0, #:upper16:.LC6
 445 008c FEFFFFEB 		bl	RME_Str_Print
 446              	.LVL23:
 140:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: CPU number: ");
 447              		.loc 1 140 5 view .LVU92
 448 0090 5405E0E7 		ubfx	r0, r4, #10, #1
 449 0094 FEFFFFEB 		bl	RME_Int_Print
 450              	.LVL24:
 141:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(((Temp>>5)&0x7)+1);
 451              		.loc 1 141 5 view .LVU93
 452 0098 000000E3 		movw	r0, #:lower16:.LC7
 453 009c 000040E3 		movt	r0, #:upper16:.LC7
 454 00a0 FEFFFFEB 		bl	RME_Str_Print
 455              	.LVL25:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 16


 142:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 456              		.loc 1 142 5 view .LVU94
 457 00a4 D402E2E7 		ubfx	r0, r4, #5, #3
 144:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 458              		.loc 1 144 23 is_stmt 0 view .LVU95
 459 00a8 014085E2 		add	r4, r5, #1
 460              	.LVL26:
 142:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 461              		.loc 1 142 5 view .LVU96
 462 00ac 010080E2 		add	r0, r0, #1
 144:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 463              		.loc 1 144 10 view .LVU97
 464 00b0 8442A0E1 		lsl	r4, r4, #5
 142:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 465              		.loc 1 142 5 view .LVU98
 466 00b4 FEFFFFEB 		bl	RME_Int_Print
 467              	.LVL27:
 143:../../Source/Platform/A7A/rme_platform_a7a.c ****     Lines=((Temp&0x1F)+1)*32;
 468              		.loc 1 143 5 is_stmt 1 view .LVU99
 469 00b8 000000E3 		movw	r0, #:lower16:.LC8
 470 00bc 000040E3 		movt	r0, #:upper16:.LC8
 471 00c0 FEFFFFEB 		bl	RME_Str_Print
 472              	.LVL28:
 144:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 473              		.loc 1 144 5 view .LVU100
 145:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 474              		.loc 1 145 5 view .LVU101
 475 00c4 0400A0E1 		mov	r0, r4
 476 00c8 FEFFFFEB 		bl	RME_Int_Print
 477              	.LVL29:
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 478              		.loc 1 149 2 view .LVU102
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 479              		.loc 1 149 13 view .LVU103
 480 00cc A11400E3 		movw	r1, #1185
 145:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 481              		.loc 1 145 5 is_stmt 0 view .LVU104
 482 00d0 4A3DA0E3 		mov	r3, #4736
 483 00d4 3C1E43E3 		movt	r1, 15932
 151:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 484              		.loc 1 151 29 view .LVU105
 485 00d8 0020E0E3 		mvn	r2, #0
 486 00dc 011085E0 		add	r1, r5, r1
 152:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 487              		.loc 1 152 29 view .LVU106
 488 00e0 0000A0E3 		mov	r0, #0
 145:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 489              		.loc 1 145 5 view .LVU107
 490 00e4 F0384FE3 		movt	r3, 63728
 491 00e8 0111A0E1 		lsl	r1, r1, #2
 492              	.LVL30:
 493              	.L33:
 151:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 494              		.loc 1 151 3 is_stmt 1 view .LVU108
 151:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 495              		.loc 1 151 29 is_stmt 0 view .LVU109
 496 00ec 002083E5 		str	r2, [r3]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 17


 152:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 497              		.loc 1 152 3 is_stmt 1 view .LVU110
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 498              		.loc 1 149 2 is_stmt 0 view .LVU111
 499 00f0 043083E2 		add	r3, r3, #4
 152:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 500              		.loc 1 152 29 view .LVU112
 501 00f4 040203E5 		str	r0, [r3, #-516]
 153:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 502              		.loc 1 153 3 is_stmt 1 view .LVU113
 153:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 503              		.loc 1 153 31 is_stmt 0 view .LVU114
 504 00f8 042103E5 		str	r2, [r3, #-260]
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 505              		.loc 1 149 27 is_stmt 1 view .LVU115
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 506              		.loc 1 149 13 view .LVU116
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 507              		.loc 1 149 2 is_stmt 0 view .LVU117
 508 00fc 030051E1 		cmp	r1, r3
 509 0100 F9FFFF1A 		bne	.L33
 510              	.LVL31:
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 511              		.loc 1 157 13 is_stmt 1 view .LVU118
 512 0104 052BA0E3 		mov	r2, #5120
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 513              		.loc 1 158 32 is_stmt 0 view .LVU119
 514 0108 A0100AE3 		movw	r1, #41120
 515 010c A0104AE3 		movt	r1, 41120
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 516              		.loc 1 157 23 view .LVU120
 517 0110 0230A0E1 		mov	r3, r2
 518 0114 F0284FE3 		movt	r2, 63728
 519 0118 2401A0E1 		lsr	r0, r4, #2
 520 011c 022084E0 		add	r2, r4, r2
 521 0120 F0384FE3 		movt	r3, 63728
 522              	.LVL32:
 523              	.L34:
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 524              		.loc 1 158 3 is_stmt 1 view .LVU121
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 525              		.loc 1 158 32 is_stmt 0 view .LVU122
 526 0124 041083E4 		str	r1, [r3], #4
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 527              		.loc 1 157 26 is_stmt 1 view .LVU123
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 528              		.loc 1 157 13 view .LVU124
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 529              		.loc 1 157 2 is_stmt 0 view .LVU125
 530 0128 030052E1 		cmp	r2, r3
 531 012c FCFFFF1A 		bne	.L34
 532              	.LVL33:
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 533              		.loc 1 161 13 is_stmt 1 view .LVU126
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 534              		.loc 1 161 2 is_stmt 0 view .LVU127
 535 0130 080050E3 		cmp	r0, #8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 18


 536 0134 0700000A 		beq	.L35
 537 0138 203801E3 		movw	r3, #6176
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 538              		.loc 1 162 31 view .LVU128
 539 013c 011100E3 		movw	r1, #257
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 540              		.loc 1 161 2 view .LVU129
 541 0140 F0384FE3 		movt	r3, 63728
 542 0144 012B82E2 		add	r2, r2, #1024
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 543              		.loc 1 162 31 view .LVU130
 544 0148 011140E3 		movt	r1, 257
 545              	.LVL34:
 546              	.L36:
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 547              		.loc 1 162 3 is_stmt 1 view .LVU131
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 548              		.loc 1 162 31 is_stmt 0 view .LVU132
 549 014c 041083E4 		str	r1, [r3], #4
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 550              		.loc 1 161 26 is_stmt 1 view .LVU133
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 551              		.loc 1 161 13 view .LVU134
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 552              		.loc 1 161 2 is_stmt 0 view .LVU135
 553 0150 030052E1 		cmp	r2, r3
 554 0154 FCFFFF1A 		bne	.L36
 555              	.L35:
 556              	.LVL35:
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 557              		.loc 1 165 13 is_stmt 1 view .LVU136
 558 0158 072BA0E3 		mov	r2, #7168
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 559              		.loc 1 165 23 is_stmt 0 view .LVU137
 560 015c 073BA0E3 		mov	r3, #7168
 561 0160 2441A0E1 		lsr	r4, r4, #2
 562              	.LVL36:
 166:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 563              		.loc 1 166 27 view .LVU138
 564 0164 551505E3 		movw	r1, #21845
 565 0168 F0284FE3 		movt	r2, 63728
 566 016c 022084E0 		add	r2, r4, r2
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 567              		.loc 1 165 23 view .LVU139
 568 0170 F0384FE3 		movt	r3, 63728
 166:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 569              		.loc 1 166 27 view .LVU140
 570 0174 551545E3 		movt	r1, 21845
 571              	.LVL37:
 572              	.L37:
 166:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 573              		.loc 1 166 3 is_stmt 1 view .LVU141
 166:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 574              		.loc 1 166 27 is_stmt 0 view .LVU142
 575 0178 041083E4 		str	r1, [r3], #4
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 576              		.loc 1 165 27 is_stmt 1 view .LVU143
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 19


 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 577              		.loc 1 165 13 view .LVU144
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 578              		.loc 1 165 2 is_stmt 0 view .LVU145
 579 017c 030052E1 		cmp	r2, r3
 580 0180 FCFFFF1A 		bne	.L37
 169:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 581              		.loc 1 169 2 is_stmt 1 view .LVU146
 169:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 582              		.loc 1 169 19 is_stmt 0 view .LVU147
 583 0184 012AA0E3 		mov	r2, #4096
 584              	.LBE33:
 585              	.LBE36:
 586              	.LBB37:
 587              	.LBB38:
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 588              		.loc 1 206 18 view .LVU148
 589 0188 0030A0E3 		mov	r3, #0
 590 018c F0384FE3 		movt	r3, 63728
 591              	.LBE38:
 592              	.LBE37:
 593              	.LBB42:
 594              	.LBB34:
 169:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 595              		.loc 1 169 19 view .LVU149
 596 0190 0310A0E3 		mov	r1, #3
 597 0194 F0284FE3 		movt	r2, 63728
 598              	.LBE34:
 599              	.LBE42:
 600              	.LBB43:
 601              	.LBB39:
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 602              		.loc 1 206 18 view .LVU150
 603 0198 0000A0E3 		mov	r0, #0
 604              	.LBE39:
 605              	.LBE43:
 606              	.LBB44:
 607              	.LBB35:
 169:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 608              		.loc 1 169 19 view .LVU151
 609 019c 001082E5 		str	r1, [r2]
 610              	.LVL38:
 169:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 611              		.loc 1 169 19 view .LVU152
 612              	.LBE35:
 613              	.LBE44:
 330:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 331:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize CPU-local interrupt resources */
 332:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Int_Local_Init();
 614              		.loc 1 332 2 is_stmt 1 view .LVU153
 615              	.LBB45:
 616              	.LBI37:
 203:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 617              		.loc 1 203 6 view .LVU154
 618              	.LBB40:
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 619              		.loc 1 206 2 view .LVU155
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 20


 212:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 620              		.loc 1 212 19 is_stmt 0 view .LVU156
 621 01a0 0110A0E3 		mov	r1, #1
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 622              		.loc 1 206 18 view .LVU157
 623 01a4 040183E5 		str	r0, [r3, #260]
 212:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 624              		.loc 1 212 2 is_stmt 1 view .LVU158
 222:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 625              		.loc 1 222 18 is_stmt 0 view .LVU159
 626 01a8 F020A0E3 		mov	r2, #240
 212:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 627              		.loc 1 212 19 view .LVU160
 628 01ac 001183E5 		str	r1, [r3, #256]
 222:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 629              		.loc 1 222 2 is_stmt 1 view .LVU161
 630              	.LBE40:
 631              	.LBE45:
 333:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 334:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the vector table */
 335:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Vector: 0x");
 632              		.loc 1 335 5 is_stmt 0 view .LVU162
 633 01b0 000000E3 		movw	r0, #:lower16:.LC9
 634              	.LBB46:
 635              	.LBB41:
 222:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 636              		.loc 1 222 18 view .LVU163
 637 01b4 042183E5 		str	r2, [r3, #260]
 638              	.LBE41:
 639              	.LBE46:
 640              		.loc 1 335 5 is_stmt 1 view .LVU164
 641 01b8 000040E3 		movt	r0, #:upper16:.LC9
 642 01bc FEFFFFEB 		bl	RME_Str_Print
 643              	.LVL39:
 336:../../Source/Platform/A7A/rme_platform_a7a.c ****    // RME_DBG_U((rme_ptr_t)&__RME_A7A_Vector_Table);
 337:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_VBAR_Set((rme_ptr_t)&__RME_A7A_Vector_Table);
 644              		.loc 1 337 5 view .LVU165
 645 01c0 000000E3 		movw	r0, #:lower16:__RME_A7A_Vector_Table
 646 01c4 000040E3 		movt	r0, #:upper16:__RME_A7A_Vector_Table
 647 01c8 FEFFFFEB 		bl	__RME_A7A_VBAR_Set
 648              	.LVL40:
 338:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 339:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Non-Secure: ");
 649              		.loc 1 339 5 view .LVU166
 650 01cc 000000E3 		movw	r0, #:lower16:.LC10
 340:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_DBG_U(__RME_A7A_SCR_Get());
 341:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 651              		.loc 1 341 1 is_stmt 0 view .LVU167
 652 01d0 7040BDE8 		pop	{r4, r5, r6, lr}
 653              		.cfi_restore 14
 654              		.cfi_restore 6
 655              		.cfi_restore 5
 656              		.cfi_restore 4
 657              		.cfi_def_cfa_offset 0
 339:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_DBG_U(__RME_A7A_SCR_Get());
 658              		.loc 1 339 5 view .LVU168
 659 01d4 000040E3 		movt	r0, #:upper16:.LC10
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 21


 660 01d8 FEFFFFEA 		b	RME_Str_Print
 661              	.LVL41:
 662              		.cfi_endproc
 663              	.LFE10:
 665              		.section	.text.__RME_Pgt_Kom_Init,"ax",%progbits
 666              		.align	2
 667              		.global	__RME_Pgt_Kom_Init
 668              		.syntax unified
 669              		.arm
 671              	__RME_Pgt_Kom_Init:
 672              	.LFB11:
 342:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Lowlvl_Init *****************************************/
 343:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 344:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Kom_Init *********************************************
 345:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the kernel mapping tables, so it can be added to all the
 346:../../Source/Platform/A7A/rme_platform_a7a.c ****               top-level page tables. Currently this have no consideration for >1TB
 347:../../Source/Platform/A7A/rme_platform_a7a.c ****               RAM, and is not NUMA-aware.
 348:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 349:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 350:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 351:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 352:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Kom_Init(void)
 353:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 673              		.loc 1 353 1 is_stmt 1 view -0
 674              		.cfi_startproc
 675              		@ args = 0, pretend = 0, frame = 0
 676              		@ frame_needed = 0, uses_anonymous_args = 0
 677              		@ link register save eliminated.
 354:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 355:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 678              		.loc 1 355 5 view .LVU170
 356:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 679              		.loc 1 356 1 is_stmt 0 view .LVU171
 680 0000 0000A0E3 		mov	r0, #0
 681 0004 1EFF2FE1 		bx	lr
 682              		.cfi_endproc
 683              	.LFE11:
 685              		.section	.text.__RME_SMP_Low_Level_Init,"ax",%progbits
 686              		.align	2
 687              		.global	__RME_SMP_Low_Level_Init
 688              		.syntax unified
 689              		.arm
 691              	__RME_SMP_Low_Level_Init:
 692              	.LFB60:
 693              		.cfi_startproc
 694              		@ args = 0, pretend = 0, frame = 0
 695              		@ frame_needed = 0, uses_anonymous_args = 0
 696              		@ link register save eliminated.
 697 0000 0000A0E3 		mov	r0, #0
 698 0004 1EFF2FE1 		bx	lr
 699              		.cfi_endproc
 700              	.LFE60:
 702              		.section	.text.__RME_Boot,"ax",%progbits
 703              		.align	2
 704              		.global	__RME_Boot
 705              		.syntax unified
 706              		.arm
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 22


 708              	__RME_Boot:
 709              	.LFB13:
 357:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Kom_Init ****************************************/
 358:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 359:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_SMP_Low_Level_Init ******************************************
 360:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Low-level initialization for all other cores.
 361:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 362:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 363:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 364:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 365:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_SMP_Low_Level_Init(void)
 366:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 367:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 368:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_SMP_LOW_LEVEL_INIT();
 369:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local variables */
 370:../../Source/Platform/A7A/rme_platform_a7a.c ****    // _RME_CPU_Local_Init(&RME_A7A_Local[RME_A7A_CPU_Cnt],RME_A7A_CPU_Cnt);
 371:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 372:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 373:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_SMP_Low_Level_Init *************************************/
 374:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 375:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Boot ********************************************************
 376:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Boot the first process in the system.
 377:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 378:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 379:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 380:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 381:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Boot(void)
 382:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 710              		.loc 1 382 1 is_stmt 1 view -0
 711              		.cfi_startproc
 712              		@ Volatile: function does not return.
 713              		@ args = 0, pretend = 0, frame = 0
 714              		@ frame_needed = 0, uses_anonymous_args = 0
 383:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize timer */
 384:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Timer_Init();
 715              		.loc 1 384 2 view .LVU173
 716              	.LBB47:
 717              	.LBI47:
 234:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 718              		.loc 1 234 6 view .LVU174
 719              	.LBB48:
 239:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 720              		.loc 1 239 5 view .LVU175
 239:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 721              		.loc 1 239 22 is_stmt 0 view .LVU176
 722 0000 0030A0E3 		mov	r3, #0
 249:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 723              		.loc 1 249 30 view .LVU177
 724 0004 012AA0E3 		mov	r2, #4096
 239:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 725              		.loc 1 239 22 view .LVU178
 726 0008 F0384FE3 		movt	r3, 63728
 727 000c 781408E3 		movw	r1, #33912
 249:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 728              		.loc 1 249 30 view .LVU179
 729 0010 F0284FE3 		movt	r2, 63728
 241:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 23


 730              		.loc 1 241 23 view .LVU180
 731 0014 00C0A0E3 		mov	ip, #0
 239:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 732              		.loc 1 239 22 view .LVU181
 733 0018 3A1040E3 		movt	r1, 58
 243:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 734              		.loc 1 243 24 view .LVU182
 735 001c 0700A0E3 		mov	r0, #7
 736              	.LBE48:
 737              	.LBE47:
 382:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize timer */
 738              		.loc 1 382 1 view .LVU183
 739 0020 10402DE9 		push	{r4, lr}
 740              		.cfi_def_cfa_offset 8
 741              		.cfi_offset 4, -8
 742              		.cfi_offset 14, -4
 743              	.LBB50:
 744              	.LBB49:
 239:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 745              		.loc 1 239 22 view .LVU184
 746 0024 001683E5 		str	r1, [r3, #1536]
 241:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 747              		.loc 1 241 5 is_stmt 1 view .LVU185
 241:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 748              		.loc 1 241 23 is_stmt 0 view .LVU186
 749 0028 0CC683E5 		str	ip, [r3, #1548]
 243:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 750              		.loc 1 243 5 is_stmt 1 view .LVU187
 243:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 751              		.loc 1 243 24 is_stmt 0 view .LVU188
 752 002c 080683E5 		str	r0, [r3, #1544]
 249:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 753              		.loc 1 249 5 is_stmt 1 view .LVU189
 249:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 754              		.loc 1 249 30 is_stmt 0 view .LVU190
 755 0030 003192E5 		ldr	r3, [r2, #256]
 756 0034 023283E3 		orr	r3, r3, #536870912
 757 0038 003182E5 		str	r3, [r2, #256]
 758              	.LBE49:
 759              	.LBE50:
 385:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Int_Enable();
 760              		.loc 1 385 5 is_stmt 1 view .LVU191
 761 003c FEFFFFEB 		bl	__RME_Int_Enable
 762              	.LVL42:
 763              	.L49:
 386:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 764              		.loc 1 386 2 discriminator 1 view .LVU192
 765              		.loc 1 386 10 discriminator 1 view .LVU193
 766              		.loc 1 386 7 discriminator 1 view .LVU194
 767              		.loc 1 386 2 discriminator 1 view .LVU195
 768              		.loc 1 386 10 discriminator 1 view .LVU196
 769              		.loc 1 386 7 discriminator 1 view .LVU197
 770 0040 FEFFFFEA 		b	.L49
 771              		.cfi_endproc
 772              	.LFE13:
 774              		.section	.text.__RME_Reboot,"ax",%progbits
 775              		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 24


 776              		.global	__RME_Reboot
 777              		.syntax unified
 778              		.arm
 780              	__RME_Reboot:
 781              	.LFB14:
 387:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 388:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Boot ***************************************************/
 389:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 390:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Reboot ******************************************************
 391:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Reboot the machine, abandon all operating system states.
 392:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 393:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 394:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 395:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 396:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Reboot(void)
 397:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 782              		.loc 1 397 1 view -0
 783              		.cfi_startproc
 784              		@ args = 0, pretend = 0, frame = 0
 785              		@ frame_needed = 0, uses_anonymous_args = 0
 786              		@ link register save eliminated.
 398:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 399:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 787              		.loc 1 399 1 view .LVU199
 788 0000 1EFF2FE1 		bx	lr
 789              		.cfi_endproc
 790              	.LFE14:
 792              		.section	.text.__RME_Shutdown,"ax",%progbits
 793              		.align	2
 794              		.global	__RME_Shutdown
 795              		.syntax unified
 796              		.arm
 798              	__RME_Shutdown:
 799              	.LFB46:
 800              		.cfi_startproc
 801              		@ args = 0, pretend = 0, frame = 0
 802              		@ frame_needed = 0, uses_anonymous_args = 0
 803              		@ link register save eliminated.
 804 0000 1EFF2FE1 		bx	lr
 805              		.cfi_endproc
 806              	.LFE46:
 808              		.section	.text.__RME_Svc_Param_Get,"ax",%progbits
 809              		.align	2
 810              		.global	__RME_Svc_Param_Get
 811              		.syntax unified
 812              		.arm
 814              	__RME_Svc_Param_Get:
 815              	.LVL43:
 816              	.LFB16:
 400:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Reboot *************************************************/
 401:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 402:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Shutdown ****************************************************
 403:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Shutdown the machine, abandon all operating system states.
 404:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 405:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 406:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 407:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 25


 408:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Shutdown(void)
 409:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 410:../../Source/Platform/A7A/rme_platform_a7a.c ****    // RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 411:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 412:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Shutdown ***********************************************/
 413:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 414:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Get_Syscall_Param *******************************************
 415:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the system call parameters from the stack frame.
 416:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 417:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Svc - The system service number.
 418:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Capid - The capability ID number.
 419:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Param - The parameters.
 420:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 421:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 422:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Param_Get(struct RME_Reg_Struct* Reg,rme_ptr_t* Svc,rme_ptr_t* Capid,rme_ptr_t* Para
 423:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 817              		.loc 1 423 1 view -0
 818              		.cfi_startproc
 819              		@ args = 0, pretend = 0, frame = 0
 820              		@ frame_needed = 0, uses_anonymous_args = 0
 821              		@ link register save eliminated.
 424:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Svc=(Reg->R0)>>16;
 822              		.loc 1 424 5 view .LVU201
 823              		.loc 1 424 19 is_stmt 0 view .LVU202
 824 0000 B6C0D0E1 		ldrh	ip, [r0, #6]
 825              		.loc 1 424 9 view .LVU203
 826 0004 00C081E5 		str	ip, [r1]
 425:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Capid=(Reg->R0)&0xFFFF;
 827              		.loc 1 425 5 is_stmt 1 view .LVU204
 828              		.loc 1 425 21 is_stmt 0 view .LVU205
 829 0008 B410D0E1 		ldrh	r1, [r0, #4]
 830              	.LVL44:
 831              		.loc 1 425 11 view .LVU206
 832 000c 001082E5 		str	r1, [r2]
 426:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[0]=Reg->R1;
 833              		.loc 1 426 5 is_stmt 1 view .LVU207
 834              		.loc 1 426 17 is_stmt 0 view .LVU208
 835 0010 082090E5 		ldr	r2, [r0, #8]
 836              	.LVL45:
 837              		.loc 1 426 13 view .LVU209
 838 0014 002083E5 		str	r2, [r3]
 427:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[1]=Reg->R2;
 839              		.loc 1 427 5 is_stmt 1 view .LVU210
 840              		.loc 1 427 17 is_stmt 0 view .LVU211
 841 0018 0C2090E5 		ldr	r2, [r0, #12]
 842              		.loc 1 427 13 view .LVU212
 843 001c 042083E5 		str	r2, [r3, #4]
 428:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[2]=Reg->R3;
 844              		.loc 1 428 5 is_stmt 1 view .LVU213
 845              		.loc 1 428 17 is_stmt 0 view .LVU214
 846 0020 102090E5 		ldr	r2, [r0, #16]
 847              		.loc 1 428 13 view .LVU215
 848 0024 082083E5 		str	r2, [r3, #8]
 429:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 849              		.loc 1 429 1 view .LVU216
 850 0028 1EFF2FE1 		bx	lr
 851              		.cfi_endproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 26


 852              	.LFE16:
 854              		.section	.text.__RME_Svc_Retval_Set,"ax",%progbits
 855              		.align	2
 856              		.global	__RME_Svc_Retval_Set
 857              		.syntax unified
 858              		.arm
 860              	__RME_Svc_Retval_Set:
 861              	.LVL46:
 862              	.LFB17:
 430:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Get_Syscall_Param **************************************/
 431:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 432:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Syscall_Retval ******************************************
 433:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the system call return value to the stack frame. This function 
 434:../../Source/Platform/A7A/rme_platform_a7a.c ****               may carry up to 4 return values. If the last 3 is not needed, just set
 435:../../Source/Platform/A7A/rme_platform_a7a.c ****               them to zero.
 436:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 437:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 438:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 439:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 440:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Retval_Set(struct RME_Reg_Struct* Reg,rme_ret_t Retval)
 441:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 863              		.loc 1 441 1 is_stmt 1 view -0
 864              		.cfi_startproc
 865              		@ args = 0, pretend = 0, frame = 0
 866              		@ frame_needed = 0, uses_anonymous_args = 0
 867              		@ link register save eliminated.
 442:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=(rme_ptr_t)Retval;
 868              		.loc 1 442 5 view .LVU218
 869              		.loc 1 442 12 is_stmt 0 view .LVU219
 870 0000 041080E5 		str	r1, [r0, #4]
 443:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 871              		.loc 1 443 1 view .LVU220
 872 0004 1EFF2FE1 		bx	lr
 873              		.cfi_endproc
 874              	.LFE17:
 876              		.section	.text.__RME_Thd_Reg_Init,"ax",%progbits
 877              		.align	2
 878              		.global	__RME_Thd_Reg_Init
 879              		.syntax unified
 880              		.arm
 882              	__RME_Thd_Reg_Init:
 883              	.LVL47:
 884              	.LFB18:
 444:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Syscall_Retval *************************************/
 445:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 446:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Init ************************************************
 447:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the register set for the thread.
 448:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Entry - The thread entry address.
 449:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Stack - The thread stack address.
 450:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param - The parameter to pass to it.
 451:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set content generated.
 452:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 453:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 454:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Init(rme_ptr_t Attr,rme_ptr_t Entry,rme_ptr_t Stack,rme_ptr_t Param,
 455:../../Source/Platform/A7A/rme_platform_a7a.c ****                                        struct RME_Reg_Struct* Reg)
 456:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 885              		.loc 1 456 1 is_stmt 1 view -0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 27


 886              		.cfi_startproc
 887              		@ args = 4, pretend = 0, frame = 0
 888              		@ frame_needed = 0, uses_anonymous_args = 0
 889              		@ link register save eliminated.
 457:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the entry and stack */
 458:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Entry;
 890              		.loc 1 458 5 view .LVU222
 456:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the entry and stack */
 891              		.loc 1 456 1 is_stmt 0 view .LVU223
 892 0000 00009DE5 		ldr	r0, [sp]
 893              	.LVL48:
 894              		.loc 1 458 12 view .LVU224
 895 0004 3C1080E5 		str	r1, [r0, #60]
 459:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Stack;
 896              		.loc 1 459 5 is_stmt 1 view .LVU225
 897              		.loc 1 459 12 is_stmt 0 view .LVU226
 898 0008 342080E5 		str	r2, [r0, #52]
 460:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the parameter */
 461:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=Param;
 899              		.loc 1 461 5 is_stmt 1 view .LVU227
 900              		.loc 1 461 12 is_stmt 0 view .LVU228
 901 000c 043080E5 		str	r3, [r0, #4]
 462:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 902              		.loc 1 462 1 view .LVU229
 903 0010 1EFF2FE1 		bx	lr
 904              		.cfi_endproc
 905              	.LFE18:
 907              		.section	.text.__RME_Thd_Reg_Copy,"ax",%progbits
 908              		.align	2
 909              		.global	__RME_Thd_Reg_Copy
 910              		.syntax unified
 911              		.arm
 913              	__RME_Thd_Reg_Copy:
 914              	.LVL49:
 915              	.LFB19:
 463:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Init *******************************************/
 464:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 465:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Copy ************************************************
 466:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Copy one set of registers into another.
 467:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Src - The source register set.
 468:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Dst - The destination register set.
 469:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 470:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 471:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Copy(struct RME_Reg_Struct* Dst, struct RME_Reg_Struct* Src)
 472:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 916              		.loc 1 472 1 is_stmt 1 view -0
 917              		.cfi_startproc
 918              		@ args = 0, pretend = 0, frame = 0
 919              		@ frame_needed = 0, uses_anonymous_args = 0
 920              		@ link register save eliminated.
 473:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that the ordering is the same so the compiler can optimize */
 474:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->CPSR=Src->CPSR;
 921              		.loc 1 474 5 view .LVU231
 922              		.loc 1 474 18 is_stmt 0 view .LVU232
 923 0000 003091E5 		ldr	r3, [r1]
 924              		.loc 1 474 14 view .LVU233
 925 0004 003080E5 		str	r3, [r0]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 28


 475:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R0=Src->R0;
 926              		.loc 1 475 5 is_stmt 1 view .LVU234
 927              		.loc 1 475 16 is_stmt 0 view .LVU235
 928 0008 043091E5 		ldr	r3, [r1, #4]
 929              		.loc 1 475 12 view .LVU236
 930 000c 043080E5 		str	r3, [r0, #4]
 476:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R1=Src->R1;
 931              		.loc 1 476 5 is_stmt 1 view .LVU237
 932              		.loc 1 476 16 is_stmt 0 view .LVU238
 933 0010 083091E5 		ldr	r3, [r1, #8]
 934              		.loc 1 476 12 view .LVU239
 935 0014 083080E5 		str	r3, [r0, #8]
 477:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R2=Src->R2;
 936              		.loc 1 477 5 is_stmt 1 view .LVU240
 937              		.loc 1 477 16 is_stmt 0 view .LVU241
 938 0018 0C3091E5 		ldr	r3, [r1, #12]
 939              		.loc 1 477 12 view .LVU242
 940 001c 0C3080E5 		str	r3, [r0, #12]
 478:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R3=Src->R3;
 941              		.loc 1 478 5 is_stmt 1 view .LVU243
 942              		.loc 1 478 16 is_stmt 0 view .LVU244
 943 0020 103091E5 		ldr	r3, [r1, #16]
 944              		.loc 1 478 12 view .LVU245
 945 0024 103080E5 		str	r3, [r0, #16]
 479:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R4=Src->R4;
 946              		.loc 1 479 5 is_stmt 1 view .LVU246
 947              		.loc 1 479 16 is_stmt 0 view .LVU247
 948 0028 143091E5 		ldr	r3, [r1, #20]
 949              		.loc 1 479 12 view .LVU248
 950 002c 143080E5 		str	r3, [r0, #20]
 480:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R5=Src->R5;
 951              		.loc 1 480 5 is_stmt 1 view .LVU249
 952              		.loc 1 480 16 is_stmt 0 view .LVU250
 953 0030 183091E5 		ldr	r3, [r1, #24]
 954              		.loc 1 480 12 view .LVU251
 955 0034 183080E5 		str	r3, [r0, #24]
 481:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R6=Src->R6;
 956              		.loc 1 481 5 is_stmt 1 view .LVU252
 957              		.loc 1 481 16 is_stmt 0 view .LVU253
 958 0038 1C3091E5 		ldr	r3, [r1, #28]
 959              		.loc 1 481 12 view .LVU254
 960 003c 1C3080E5 		str	r3, [r0, #28]
 482:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R7=Src->R7;
 961              		.loc 1 482 5 is_stmt 1 view .LVU255
 962              		.loc 1 482 16 is_stmt 0 view .LVU256
 963 0040 203091E5 		ldr	r3, [r1, #32]
 964              		.loc 1 482 12 view .LVU257
 965 0044 203080E5 		str	r3, [r0, #32]
 483:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R8=Src->R8;
 966              		.loc 1 483 5 is_stmt 1 view .LVU258
 967              		.loc 1 483 16 is_stmt 0 view .LVU259
 968 0048 243091E5 		ldr	r3, [r1, #36]
 969              		.loc 1 483 12 view .LVU260
 970 004c 243080E5 		str	r3, [r0, #36]
 484:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R9=Src->R9;
 971              		.loc 1 484 5 is_stmt 1 view .LVU261
 972              		.loc 1 484 16 is_stmt 0 view .LVU262
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 29


 973 0050 283091E5 		ldr	r3, [r1, #40]
 974              		.loc 1 484 12 view .LVU263
 975 0054 283080E5 		str	r3, [r0, #40]
 485:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R10=Src->R10;
 976              		.loc 1 485 5 is_stmt 1 view .LVU264
 977              		.loc 1 485 17 is_stmt 0 view .LVU265
 978 0058 2C3091E5 		ldr	r3, [r1, #44]
 979              		.loc 1 485 13 view .LVU266
 980 005c 2C3080E5 		str	r3, [r0, #44]
 486:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R11=Src->R11;
 981              		.loc 1 486 5 is_stmt 1 view .LVU267
 982              		.loc 1 486 17 is_stmt 0 view .LVU268
 983 0060 303091E5 		ldr	r3, [r1, #48]
 984              		.loc 1 486 13 view .LVU269
 985 0064 303080E5 		str	r3, [r0, #48]
 487:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->SP=Src->SP;
 986              		.loc 1 487 5 is_stmt 1 view .LVU270
 987              		.loc 1 487 16 is_stmt 0 view .LVU271
 988 0068 343091E5 		ldr	r3, [r1, #52]
 989              		.loc 1 487 12 view .LVU272
 990 006c 343080E5 		str	r3, [r0, #52]
 488:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->LR=Src->LR;
 991              		.loc 1 488 5 is_stmt 1 view .LVU273
 992              		.loc 1 488 16 is_stmt 0 view .LVU274
 993 0070 383091E5 		ldr	r3, [r1, #56]
 994              		.loc 1 488 12 view .LVU275
 995 0074 383080E5 		str	r3, [r0, #56]
 489:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->PC=Src->PC;
 996              		.loc 1 489 5 is_stmt 1 view .LVU276
 997              		.loc 1 489 16 is_stmt 0 view .LVU277
 998 0078 3C3091E5 		ldr	r3, [r1, #60]
 999              		.loc 1 489 12 view .LVU278
 1000 007c 3C3080E5 		str	r3, [r0, #60]
 490:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1001              		.loc 1 490 1 view .LVU279
 1002 0080 1EFF2FE1 		bx	lr
 1003              		.cfi_endproc
 1004              	.LFE19:
 1006              		.section	.text.__RME_Thd_Cop_Init,"ax",%progbits
 1007              		.align	2
 1008              		.global	__RME_Thd_Cop_Init
 1009              		.syntax unified
 1010              		.arm
 1012              	__RME_Thd_Cop_Init:
 1013              	.LVL50:
 1014              	.LFB20:
 491:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Copy *******************************************/
 492:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 493:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Init ************************************************
 494:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the coprocessor register set for the thread.
 495:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register struct to help initialize the coprocessor.
 496:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Cop_Struct* Cop_Reg - The register set content generated.
 497:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 498:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 499:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Init(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 500:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1015              		.loc 1 500 1 is_stmt 1 view -0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 30


 1016              		.cfi_startproc
 1017              		@ args = 0, pretend = 0, frame = 0
 1018              		@ frame_needed = 0, uses_anonymous_args = 0
 1019              		@ link register save eliminated.
 501:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Empty function, return immediately. The FPU contents is not predictable */
 502:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1020              		.loc 1 502 1 view .LVU281
 1021 0000 1EFF2FE1 		bx	lr
 1022              		.cfi_endproc
 1023              	.LFE20:
 1025              		.section	.text.__RME_Thd_Cop_Save,"ax",%progbits
 1026              		.align	2
 1027              		.global	__RME_Thd_Cop_Save
 1028              		.syntax unified
 1029              		.arm
 1031              	__RME_Thd_Cop_Save:
 1032              	.LFB54:
 1033              		.cfi_startproc
 1034              		@ args = 0, pretend = 0, frame = 0
 1035              		@ frame_needed = 0, uses_anonymous_args = 0
 1036              		@ link register save eliminated.
 1037 0000 1EFF2FE1 		bx	lr
 1038              		.cfi_endproc
 1039              	.LFE54:
 1041              		.section	.text.__RME_Thd_Cop_Restore,"ax",%progbits
 1042              		.align	2
 1043              		.global	__RME_Thd_Cop_Restore
 1044              		.syntax unified
 1045              		.arm
 1047              	__RME_Thd_Cop_Restore:
 1048              	.LFB56:
 1049              		.cfi_startproc
 1050              		@ args = 0, pretend = 0, frame = 0
 1051              		@ frame_needed = 0, uses_anonymous_args = 0
 1052              		@ link register save eliminated.
 1053 0000 1EFF2FE1 		bx	lr
 1054              		.cfi_endproc
 1055              	.LFE56:
 1057              		.section	.text.__RME_Inv_Reg_Save,"ax",%progbits
 1058              		.align	2
 1059              		.global	__RME_Inv_Reg_Save
 1060              		.syntax unified
 1061              		.arm
 1063              	__RME_Inv_Reg_Save:
 1064              	.LVL51:
 1065              	.LFB23:
 503:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Reg_Init ***************************************/
 504:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 505:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Save ************************************************
 506:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the co-op register sets. This operation is flexible - If the
 507:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save its context.
 508:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 509:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 510:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 511:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 512:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 513:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Save(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 31


 514:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 515:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 516:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 517:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Save *******************************************/
 518:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 519:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Restore *********************************************
 520:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the co-op register sets. This operation is flexible - If the
 521:../../Source/Platform/A7A/rme_platform_a7a.c ****               FPU is not used, we do not restore its context.
 522:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 523:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 524:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 525:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 526:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 527:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Restore(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 528:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 529:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 530:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 531:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Restore ****************************************/
 532:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 533:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Save ************************************************
 534:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the necessary registers on invocation for returning. Only the
 535:../../Source/Platform/A7A/rme_platform_a7a.c ****               registers that will influence program control flow will be saved.
 536:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 537:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Iret_Struct* Ret - The invocation return register context.
 538:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 539:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 540:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Save(struct RME_Iret_Struct* Ret, struct RME_Reg_Struct* Reg)
 541:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1066              		.loc 1 541 1 view -0
 1067              		.cfi_startproc
 1068              		@ args = 0, pretend = 0, frame = 0
 1069              		@ frame_needed = 0, uses_anonymous_args = 0
 1070              		@ link register save eliminated.
 542:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->PC=Reg->PC;
 1071              		.loc 1 542 5 view .LVU283
 1072              		.loc 1 542 16 is_stmt 0 view .LVU284
 1073 0000 3C3091E5 		ldr	r3, [r1, #60]
 1074              		.loc 1 542 12 view .LVU285
 1075 0004 003080E5 		str	r3, [r0]
 543:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->SP=Reg->SP;
 1076              		.loc 1 543 5 is_stmt 1 view .LVU286
 1077              		.loc 1 543 16 is_stmt 0 view .LVU287
 1078 0008 343091E5 		ldr	r3, [r1, #52]
 1079              		.loc 1 543 12 view .LVU288
 1080 000c 043080E5 		str	r3, [r0, #4]
 544:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1081              		.loc 1 544 1 view .LVU289
 1082 0010 1EFF2FE1 		bx	lr
 1083              		.cfi_endproc
 1084              	.LFE23:
 1086              		.section	.text.__RME_Inv_Reg_Restore,"ax",%progbits
 1087              		.align	2
 1088              		.global	__RME_Inv_Reg_Restore
 1089              		.syntax unified
 1090              		.arm
 1092              	__RME_Inv_Reg_Restore:
 1093              	.LVL52:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 32


 1094              	.LFB24:
 545:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Save *******************************************/
 546:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 547:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Restore *********************************************
 548:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the necessary registers for returning from an invocation.
 549:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Iret_Struct* Ret - The invocation return register context.
 550:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 551:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 552:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 553:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Restore(struct RME_Reg_Struct* Reg, struct RME_Iret_Struct* Ret)
 554:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1095              		.loc 1 554 1 is_stmt 1 view -0
 1096              		.cfi_startproc
 1097              		@ args = 0, pretend = 0, frame = 0
 1098              		@ frame_needed = 0, uses_anonymous_args = 0
 1099              		@ link register save eliminated.
 555:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Ret->PC;
 1100              		.loc 1 555 5 view .LVU291
 1101              		.loc 1 555 16 is_stmt 0 view .LVU292
 1102 0000 003091E5 		ldr	r3, [r1]
 1103              		.loc 1 555 12 view .LVU293
 1104 0004 3C3080E5 		str	r3, [r0, #60]
 556:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Ret->SP;
 1105              		.loc 1 556 5 is_stmt 1 view .LVU294
 1106              		.loc 1 556 16 is_stmt 0 view .LVU295
 1107 0008 043091E5 		ldr	r3, [r1, #4]
 1108              		.loc 1 556 12 view .LVU296
 1109 000c 343080E5 		str	r3, [r0, #52]
 557:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1110              		.loc 1 557 1 view .LVU297
 1111 0010 1EFF2FE1 		bx	lr
 1112              		.cfi_endproc
 1113              	.LFE24:
 1115              		.section	.text.__RME_Inv_Retval_Set,"ax",%progbits
 1116              		.align	2
 1117              		.global	__RME_Inv_Retval_Set
 1118              		.syntax unified
 1119              		.arm
 1121              	__RME_Inv_Retval_Set:
 1122              	.LVL53:
 1123              	.LFB25:
 558:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Restore ****************************************/
 559:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 560:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Retval_Set **********************************************
 561:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 562:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 563:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 564:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 565:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 566:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Retval_Set(struct RME_Reg_Struct* Reg,
 567:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ret_t Retval)
 568:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1124              		.loc 1 568 1 is_stmt 1 view -0
 1125              		.cfi_startproc
 1126              		@ args = 0, pretend = 0, frame = 0
 1127              		@ frame_needed = 0, uses_anonymous_args = 0
 1128              		@ link register save eliminated.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 33


 569:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R5=(rme_ptr_t)Retval;
 1129              		.loc 1 569 5 view .LVU299
 1130              		.loc 1 569 12 is_stmt 0 view .LVU300
 1131 0000 181080E5 		str	r1, [r0, #24]
 570:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1132              		.loc 1 570 1 view .LVU301
 1133 0004 1EFF2FE1 		bx	lr
 1134              		.cfi_endproc
 1135              	.LFE25:
 1137              		.section	.text.__RME_Set_Inv_Retval,"ax",%progbits
 1138              		.align	2
 1139              		.global	__RME_Set_Inv_Retval
 1140              		.syntax unified
 1141              		.arm
 1143              	__RME_Set_Inv_Retval:
 1144              	.LVL54:
 1145              	.LFB26:
 571:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Retval_Set *****************************************/
 572:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 573:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Inv_Retval **********************************************
 574:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 575:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 576:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 577:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 578:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 579:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Set_Inv_Retval(struct RME_Reg_Struct* Reg, rme_ret_t Retval)
 580:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1146              		.loc 1 580 1 is_stmt 1 view -0
 1147              		.cfi_startproc
 1148              		@ args = 0, pretend = 0, frame = 0
 1149              		@ frame_needed = 0, uses_anonymous_args = 0
 1150              		@ link register save eliminated.
 581:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R1=(rme_ptr_t)Retval;
 1151              		.loc 1 581 5 view .LVU303
 1152              		.loc 1 581 12 is_stmt 0 view .LVU304
 1153 0000 081080E5 		str	r1, [r0, #8]
 582:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1154              		.loc 1 582 1 view .LVU305
 1155 0004 1EFF2FE1 		bx	lr
 1156              		.cfi_endproc
 1157              	.LFE26:
 1159              		.section	.text.__RME_Thd_Cop_Swap,"ax",%progbits
 1160              		.align	2
 1161              		.global	__RME_Thd_Cop_Swap
 1162              		.syntax unified
 1163              		.arm
 1165              	__RME_Thd_Cop_Swap:
 1166              	.LVL55:
 1167              	.LFB27:
 583:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Inv_Retval *****************************************/
 584:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 585:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Swap ************************************************
 586:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Swap the cop register sets. This operation is flexible - If the
 587:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save/restore its context.
 588:../../Source/Platform/A7A/rme_platform_a7a.c ****               We do not need to turn off lazy stacking, because even if a fault
 589:../../Source/Platform/A7A/rme_platform_a7a.c ****               occurs, it (1) tails the execution of activates the will get dropped
 590:../../Source/Platform/A7A/rme_platform_a7a.c ****               by our handler deliberately and will not cause wrong attribution.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 34


 591:../../Source/Platform/A7A/rme_platform_a7a.c ****               They can be alternatively disabled as well if you wish.
 592:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Attr_New - The attribute of the context to switch to.
 593:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_New - Whether the context to switch to is a
 594:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 595:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_New - The context to switch to.
 596:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Attr_Cur - The attribute of the context to switch from.
 597:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_Cur - Whether the context to switch from is a
 598:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 599:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_Cur - The context to switch from.
 600:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : void* Cop_New - The coprocessor context to switch to.
 601:../../Source/Platform/A7A/rme_platform_a7a.c ****               void* Cop_Cur - The coprocessor context to switch from.
 602:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 603:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 604:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Swap(rme_ptr_t Attr_New,
 605:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_New,
 606:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_New,
 607:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_New,
 608:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Attr_Cur,
 609:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_Cur,
 610:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_Cur,
 611:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_Cur)
 612:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1168              		.loc 1 612 1 is_stmt 1 view -0
 1169              		.cfi_startproc
 1170              		@ args = 16, pretend = 0, frame = 0
 1171              		@ frame_needed = 0, uses_anonymous_args = 0
 1172              		@ link register save eliminated.
 613:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 614:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1173              		.loc 1 614 1 view .LVU307
 1174 0000 1EFF2FE1 		bx	lr
 1175              		.cfi_endproc
 1176              	.LFE27:
 1178              		.section	.text.__RME_Kfn_Handler,"ax",%progbits
 1179              		.align	2
 1180              		.global	__RME_Kfn_Handler
 1181              		.syntax unified
 1182              		.arm
 1184              	__RME_Kfn_Handler:
 1185              	.LVL56:
 1186              	.LFB28:
 615:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Swap *******************************************/
 616:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 617:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Kern_Func_Handler *******************************************
 618:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Handle kernel function calls.
 619:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The current register set.
 620:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Func_ID - The function ID.
 621:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Sub_ID - The sub function ID.
 622:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param1 - The first parameter.
 623:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param2 - The second parameter.
 624:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 625:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - The value that the function returned.
 626:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 627:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Kfn_Handler(struct RME_Cap_Cpt* Cpt,
 628:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            struct RME_Reg_Struct* Reg,
 629:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Func_ID,
 630:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Sub_ID,
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 35


 631:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param1,
 632:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param2)
 633:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1187              		.loc 1 633 1 view -0
 1188              		.cfi_startproc
 1189              		@ args = 8, pretend = 0, frame = 0
 1190              		@ frame_needed = 0, uses_anonymous_args = 0
 1191              		@ link register save eliminated.
 634:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Currently no kernel function implemented */
 635:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 1192              		.loc 1 635 5 view .LVU309
 636:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1193              		.loc 1 636 1 is_stmt 0 view .LVU310
 1194 0000 0000A0E3 		mov	r0, #0
 1195              	.LVL57:
 1196              		.loc 1 636 1 view .LVU311
 1197 0004 1EFF2FE1 		bx	lr
 1198              		.cfi_endproc
 1199              	.LFE28:
 1201              		.section	.text.__RME_A7A_Undefined_Handler,"ax",%progbits
 1202              		.align	2
 1203              		.global	__RME_A7A_Undefined_Handler
 1204              		.syntax unified
 1205              		.arm
 1207              	__RME_A7A_Undefined_Handler:
 1208              	.LFB29:
 637:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Kern_Func_Handler **************************************/
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 639:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Undefined_Handler **************************************
 640:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The undefined instruction vector handler of RME.
 641:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 642:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 643:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 644:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 645:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Undefined_Handler(struct RME_Reg_Struct* Reg)
 646:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1209              		.loc 1 646 1 is_stmt 1 view -0
 1210              		.cfi_startproc
 1211              		@ Volatile: function does not return.
 1212              		@ args = 0, pretend = 0, frame = 0
 1213              		@ frame_needed = 0, uses_anonymous_args = 0
 1214              		@ link register save eliminated.
 1215              	.LVL58:
 1216              	.L67:
 647:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle undefined instructions now */
 648:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1217              		.loc 1 648 2 discriminator 1 view .LVU313
 1218              		.loc 1 648 10 discriminator 1 view .LVU314
 1219              		.loc 1 648 7 discriminator 1 view .LVU315
 1220 0000 FEFFFFEA 		b	.L67
 1221              		.cfi_endproc
 1222              	.LFE29:
 1224              		.section	.text.__RME_A7A_Prefetch_Abort_Handler,"ax",%progbits
 1225              		.align	2
 1226              		.global	__RME_A7A_Prefetch_Abort_Handler
 1227              		.syntax unified
 1228              		.arm
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 36


 1230              	__RME_A7A_Prefetch_Abort_Handler:
 1231              	.LFB30:
 649:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 650:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Undefined_Handler *********************************/
 651:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 652:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Prefetch_Abort_Handler *********************************
 653:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The prefetch abort vector handler of RME.
 654:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 655:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 656:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 657:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 658:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Prefetch_Abort_Handler(struct RME_Reg_Struct* Reg)
 659:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1232              		.loc 1 659 1 view -0
 1233              		.cfi_startproc
 1234              		@ Volatile: function does not return.
 1235              		@ args = 0, pretend = 0, frame = 0
 1236              		@ frame_needed = 0, uses_anonymous_args = 0
 1237              		@ link register save eliminated.
 1238              	.LVL59:
 1239              	.L69:
 660:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle prefetch aborts now */
 661:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 1240              		.loc 1 661 2 discriminator 1 view .LVU317
 1241              		.loc 1 661 10 discriminator 1 view .LVU318
 1242              		.loc 1 661 7 discriminator 1 view .LVU319
 1243 0000 FEFFFFEA 		b	.L69
 1244              		.cfi_endproc
 1245              	.LFE30:
 1247              		.section	.text.__RME_A7A_Data_Abort_Handler,"ax",%progbits
 1248              		.align	2
 1249              		.global	__RME_A7A_Data_Abort_Handler
 1250              		.syntax unified
 1251              		.arm
 1253              	__RME_A7A_Data_Abort_Handler:
 1254              	.LFB31:
 662:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 663:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Prefetch_Abort_Handler ****************************/
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 665:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Data_Abort_Handler *************************************
 666:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The data abort vector handler of RME.
 667:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 668:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 669:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 670:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 671:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Data_Abort_Handler(struct RME_Reg_Struct* Reg)
 672:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1255              		.loc 1 672 1 view -0
 1256              		.cfi_startproc
 1257              		@ Volatile: function does not return.
 1258              		@ args = 0, pretend = 0, frame = 0
 1259              		@ frame_needed = 0, uses_anonymous_args = 0
 1260              		@ link register save eliminated.
 1261              	.LVL60:
 1262              	.L71:
 673:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle data aborts now */
 674:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 37


 1263              		.loc 1 674 2 discriminator 1 view .LVU321
 1264              		.loc 1 674 10 discriminator 1 view .LVU322
 1265              		.loc 1 674 7 discriminator 1 view .LVU323
 1266 0000 FEFFFFEA 		b	.L71
 1267              		.cfi_endproc
 1268              	.LFE31:
 1270              		.section	.rodata.__RME_A7A_IRQ_Handler.str1.4,"aMS",%progbits,1
 1271              		.align	2
 1272              	.LC11:
 1273 0000 30313A35 		.ascii	"01:55:41\000"
 1273      353A3431 
 1273      00
 1274 0009 000000   		.align	2
 1275              	.LC12:
 1276 000c 46656220 		.ascii	"Feb 17 2025\000"
 1276      31372032 
 1276      30323500 
 1277              		.align	2
 1278              	.LC13:
 1279 0018 2E2E2F2E 		.ascii	"../../Source/Platform/A7A/rme_platform_a7a.c\000"
 1279      2E2F536F 
 1279      75726365 
 1279      2F506C61 
 1279      74666F72 
 1280              		.section	.text.__RME_A7A_IRQ_Handler,"ax",%progbits
 1281              		.align	2
 1282              		.global	__RME_A7A_IRQ_Handler
 1283              		.syntax unified
 1284              		.arm
 1286              	__RME_A7A_IRQ_Handler:
 1287              	.LVL61:
 1288              	.LFB32:
 675:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 676:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Data_Abort_Handler ********************************/
 677:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_IRQ_Handler ********************************************
 679:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The regular interrupt vector handler of RME.
 680:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 681:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 682:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 683:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 684:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_IRQ_Handler(struct RME_Reg_Struct* Reg)
 685:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1289              		.loc 1 685 1 view -0
 1290              		.cfi_startproc
 1291              		@ args = 0, pretend = 0, frame = 0
 1292              		@ frame_needed = 0, uses_anonymous_args = 0
 686:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t Int_ID;
 1293              		.loc 1 686 2 view .LVU325
 687:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t CPUID;
 1294              		.loc 1 687 2 view .LVU326
 688:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 689:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* What interrupt is this? */
 690:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID=RME_A7A_GICC_IAR;
 1295              		.loc 1 690 2 view .LVU327
 1296              		.loc 1 690 8 is_stmt 0 view .LVU328
 1297 0000 0020A0E3 		mov	r2, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 38


 691:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID&=0x3FFU;
 693:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 694:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 695:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a spurious interrupt? (Can't be 1022 because GICv1 don't have group1) */
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(Int_ID!=1022);
 1298              		.loc 1 696 2 view .LVU329
 1299 0004 FE0300E3 		movw	r0, #1022
 1300              	.LVL62:
 690:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 1301              		.loc 1 690 8 view .LVU330
 1302 0008 F0284FE3 		movt	r2, 63728
 685:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t Int_ID;
 1303              		.loc 1 685 1 view .LVU331
 1304 000c 10402DE9 		push	{r4, lr}
 1305              		.cfi_def_cfa_offset 8
 1306              		.cfi_offset 4, -8
 1307              		.cfi_offset 14, -4
 690:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 1308              		.loc 1 690 8 view .LVU332
 1309 0010 0C1192E5 		ldr	r1, [r2, #268]
 1310              	.LVL63:
 691:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 1311              		.loc 1 691 2 is_stmt 1 view .LVU333
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 1312              		.loc 1 692 2 view .LVU334
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 1313              		.loc 1 692 8 is_stmt 0 view .LVU335
 1314 0014 5130E9E7 		ubfx	r3, r1, #0, #10
 1315              	.LVL64:
 1316              		.loc 1 696 2 is_stmt 1 view .LVU336
 1317              		.loc 1 696 2 view .LVU337
 1318 0018 000053E1 		cmp	r3, r0
 1319 001c 1800000A 		beq	.L86
 1320 0020 FFC300E3 		movw	ip, #1023
 1321              		.loc 1 696 2 discriminator 2 view .LVU338
 697:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1322              		.loc 1 697 2 discriminator 2 view .LVU339
 1323              		.loc 1 697 4 is_stmt 0 discriminator 2 view .LVU340
 1324 0024 0C0053E1 		cmp	r3, ip
 1325 0028 1080BD08 		popeq	{r4, pc}
 698:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 699:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 700:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 701:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 702:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is is an timer interrupt? (we know that it is at 29) */
 703:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==29)
 1326              		.loc 1 703 2 is_stmt 1 view .LVU341
 1327              		.loc 1 703 4 is_stmt 0 view .LVU342
 1328 002c 1D0053E3 		cmp	r3, #29
 1329 0030 1C00000A 		beq	.L87
 691:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID&=0x3FFU;
 1330              		.loc 1 691 7 view .LVU343
 1331 0034 2105A0E1 		lsr	r0, r1, #10
 1332              	.LVL65:
 704:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 705:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Clear the interrupt flag */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 39


 706:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    RME_A7A_PTWD_PTISR=0;
 707:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 708:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Send interrupt to all other processors to notify them about this */
 709:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 710:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 711:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 712:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 713:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 714:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 715:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 716:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 717:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 718:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 719:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 720:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a coprocessor timer interrupt? (We use interrupt number 0 for these) */
 721:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==0)
 1333              		.loc 1 721 2 is_stmt 1 view .LVU344
 1334              		.loc 1 721 4 is_stmt 0 view .LVU345
 1335 0038 000053E3 		cmp	r3, #0
 1336 003c 0300001A 		bne	.L77
 722:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 723:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* This must have originated from interface 0 */
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(CPUID==0);
 1337              		.loc 1 724 3 is_stmt 1 view .LVU346
 1338              		.loc 1 724 3 view .LVU347
 1339 0040 000050E3 		cmp	r0, #0
 1340 0044 1B00001A 		bne	.L88
 1341              		.loc 1 724 3 discriminator 2 view .LVU348
 725:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 726:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 727:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 1342              		.loc 1 727 3 discriminator 2 view .LVU349
 1343              		.loc 1 727 20 is_stmt 0 discriminator 2 view .LVU350
 1344 0048 100182E5 		str	r0, [r2, #272]
 728:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1345              		.loc 1 728 3 is_stmt 1 discriminator 2 view .LVU351
 1346 004c 1080BDE8 		pop	{r4, pc}
 1347              	.L77:
 729:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 730:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 731:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an other IPI? (All the rest of the SGIs are these) */
 732:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID<16)
 1348              		.loc 1 732 2 view .LVU352
 1349              		.loc 1 732 4 is_stmt 0 view .LVU353
 1350 0050 3F0E11E3 		tst	r1, #1008
 1351 0054 2000000A 		beq	.L89
 733:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 734:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_A7A_SGI_Handler(Reg,CPUID,Int_ID);
 735:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 736:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=(CPUID<<10U)|Int_ID;
 737:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 738:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 739:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 740:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an casual interrupt? */
 741:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(CPUID==0);
 1352              		.loc 1 741 2 is_stmt 1 view .LVU354
 1353              		.loc 1 741 2 view .LVU355
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 40


 1354 0058 000050E3 		cmp	r0, #0
 1355 005c 1080BD08 		popeq	{r4, pc}
 1356              		.loc 1 741 2 discriminator 1 view .LVU356
 1357 0060 003000E3 		movw	r3, #:lower16:.LC11
 1358              	.LVL66:
 1359              		.loc 1 741 2 is_stmt 0 discriminator 1 view .LVU357
 1360 0064 002000E3 		movw	r2, #:lower16:.LC12
 1361 0068 003040E3 		movt	r3, #:upper16:.LC11
 1362 006c 000000E3 		movw	r0, #:lower16:.LC13
 1363              	.LVL67:
 1364              		.loc 1 741 2 discriminator 1 view .LVU358
 1365 0070 002040E3 		movt	r2, #:upper16:.LC12
 1366 0074 E51200E3 		movw	r1, #741
 1367              	.LVL68:
 1368              		.loc 1 741 2 discriminator 1 view .LVU359
 1369 0078 000040E3 		movt	r0, #:upper16:.LC13
 1370 007c FEFFFFEB 		bl	RME_Log
 1371              	.LVL69:
 1372              	.L81:
 1373              		.loc 1 741 2 is_stmt 1 discriminator 3 view .LVU360
 1374              		.loc 1 741 2 discriminator 3 view .LVU361
 1375              		.loc 1 741 2 discriminator 3 view .LVU362
 1376              		.loc 1 741 2 discriminator 3 view .LVU363
 1377              		.loc 1 741 2 discriminator 3 view .LVU364
 1378              		.loc 1 741 2 discriminator 3 view .LVU365
 1379              		.loc 1 741 2 discriminator 3 view .LVU366
 1380              		.loc 1 741 2 discriminator 3 view .LVU367
 1381 0080 FEFFFFEA 		b	.L81
 1382              	.LVL70:
 1383              	.L86:
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1384              		.loc 1 696 2 discriminator 1 view .LVU368
 1385 0084 003000E3 		movw	r3, #:lower16:.LC11
 1386              	.LVL71:
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1387              		.loc 1 696 2 is_stmt 0 discriminator 1 view .LVU369
 1388 0088 002000E3 		movw	r2, #:lower16:.LC12
 1389 008c 003040E3 		movt	r3, #:upper16:.LC11
 1390 0090 000000E3 		movw	r0, #:lower16:.LC13
 1391 0094 002040E3 		movt	r2, #:upper16:.LC12
 1392 0098 AE1FA0E3 		mov	r1, #696
 1393              	.LVL72:
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1394              		.loc 1 696 2 discriminator 1 view .LVU370
 1395 009c 000040E3 		movt	r0, #:upper16:.LC13
 1396 00a0 FEFFFFEB 		bl	RME_Log
 1397              	.LVL73:
 1398              	.L74:
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1399              		.loc 1 696 2 is_stmt 1 discriminator 1 view .LVU371
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1400              		.loc 1 696 2 discriminator 1 view .LVU372
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1401              		.loc 1 696 2 discriminator 1 view .LVU373
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1402              		.loc 1 696 2 discriminator 1 view .LVU374
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 41


 1403              		.loc 1 696 2 discriminator 1 view .LVU375
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1404              		.loc 1 696 2 discriminator 1 view .LVU376
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1405              		.loc 1 696 2 discriminator 1 view .LVU377
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 1406              		.loc 1 696 2 discriminator 1 view .LVU378
 1407 00a4 FEFFFFEA 		b	.L74
 1408              	.LVL74:
 1409              	.L87:
 706:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 1410              		.loc 1 706 6 view .LVU379
 706:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 1411              		.loc 1 706 24 is_stmt 0 view .LVU380
 1412 00a8 0010A0E3 		mov	r1, #0
 1413              	.LVL75:
 706:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 1414              		.loc 1 706 24 view .LVU381
 1415 00ac 0C1682E5 		str	r1, [r2, #1548]
 710:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1416              		.loc 1 710 3 is_stmt 1 view .LVU382
 710:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1417              		.loc 1 710 20 is_stmt 0 view .LVU383
 1418 00b0 103182E5 		str	r3, [r2, #272]
 711:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 1419              		.loc 1 711 3 is_stmt 1 view .LVU384
 1420 00b4 1080BDE8 		pop	{r4, pc}
 1421              	.LVL76:
 1422              	.L88:
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1423              		.loc 1 724 3 discriminator 1 view .LVU385
 1424 00b8 003000E3 		movw	r3, #:lower16:.LC11
 1425              	.LVL77:
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1426              		.loc 1 724 3 is_stmt 0 discriminator 1 view .LVU386
 1427 00bc 002000E3 		movw	r2, #:lower16:.LC12
 1428 00c0 003040E3 		movt	r3, #:upper16:.LC11
 1429 00c4 000000E3 		movw	r0, #:lower16:.LC13
 1430              	.LVL78:
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1431              		.loc 1 724 3 discriminator 1 view .LVU387
 1432 00c8 002040E3 		movt	r2, #:upper16:.LC12
 1433 00cc B51FA0E3 		mov	r1, #724
 1434              	.LVL79:
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1435              		.loc 1 724 3 discriminator 1 view .LVU388
 1436 00d0 000040E3 		movt	r0, #:upper16:.LC13
 1437 00d4 FEFFFFEB 		bl	RME_Log
 1438              	.LVL80:
 1439              	.L79:
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1440              		.loc 1 724 3 is_stmt 1 discriminator 2 view .LVU389
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1441              		.loc 1 724 3 discriminator 2 view .LVU390
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1442              		.loc 1 724 3 discriminator 2 view .LVU391
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 42


 1443              		.loc 1 724 3 discriminator 2 view .LVU392
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1444              		.loc 1 724 3 discriminator 2 view .LVU393
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1445              		.loc 1 724 3 discriminator 2 view .LVU394
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1446              		.loc 1 724 3 discriminator 2 view .LVU395
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 1447              		.loc 1 724 3 discriminator 2 view .LVU396
 1448 00d8 FEFFFFEA 		b	.L79
 1449              	.LVL81:
 1450              	.L89:
 734:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 1451              		.loc 1 734 3 view .LVU397
 742:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 743:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 744:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_IRQ_Handler ***************************************/
 745:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 746:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:_RME_A7A_SGI_Handler *********************************************
 747:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for x64.
 748:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 749:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t CPUID - The ID of the sender CPU.
 750:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_ID - The ID of the SGI.
 751:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 752:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 753:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 754:../../Source/Platform/A7A/rme_platform_a7a.c **** void _RME_A7A_SGI_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t CPUID, rme_ptr_t Int_ID)
 755:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 756:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Not handling SGIs */
 757:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return;
 1452              		.loc 1 757 2 view .LVU398
 736:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1453              		.loc 1 736 3 view .LVU399
 736:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1454              		.loc 1 736 33 is_stmt 0 view .LVU400
 1455 00dc 003583E1 		orr	r3, r3, r0, lsl #10
 1456              	.LVL82:
 736:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 1457              		.loc 1 736 20 view .LVU401
 1458 00e0 103182E5 		str	r3, [r2, #272]
 737:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 1459              		.loc 1 737 3 is_stmt 1 view .LVU402
 1460 00e4 1080BDE8 		pop	{r4, pc}
 1461              		.cfi_endproc
 1462              	.LFE32:
 1464              		.section	.text._RME_A7A_SGI_Handler,"ax",%progbits
 1465              		.align	2
 1466              		.global	_RME_A7A_SGI_Handler
 1467              		.syntax unified
 1468              		.arm
 1470              	_RME_A7A_SGI_Handler:
 1471              	.LVL83:
 1472              	.LFB33:
 755:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Not handling SGIs */
 1473              		.loc 1 755 1 view -0
 1474              		.cfi_startproc
 1475              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 43


 1476              		@ frame_needed = 0, uses_anonymous_args = 0
 1477              		@ link register save eliminated.
 1478              		.loc 1 757 2 view .LVU404
 758:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1479              		.loc 1 758 1 is_stmt 0 view .LVU405
 1480 0000 1EFF2FE1 		bx	lr
 1481              		.cfi_endproc
 1482              	.LFE33:
 1484              		.section	.rodata.__RME_A7A_Generic_Handler.str1.4,"aMS",%progbits,1
 1485              		.align	2
 1486              	.LC14:
 1487 0000 0D0A4765 		.ascii	"\015\012General int:\000"
 1487      6E657261 
 1487      6C20696E 
 1487      743A00
 1488              		.section	.text.__RME_A7A_Generic_Handler,"ax",%progbits
 1489              		.align	2
 1490              		.global	__RME_A7A_Generic_Handler
 1491              		.syntax unified
 1492              		.arm
 1494              	__RME_A7A_Generic_Handler:
 1495              	.LVL84:
 1496              	.LFB34:
 759:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:_RME_A7A_SGI_Handler ****************************************/
 760:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 761:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Generic_Handler ****************************************
 762:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for Cortex-A (ARMv7).
 763:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 764:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_Num - The interrupt number.
 765:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 766:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 767:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 768:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Generic_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t Int_Num)
 769:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1497              		.loc 1 769 1 is_stmt 1 view -0
 1498              		.cfi_startproc
 1499              		@ args = 0, pretend = 0, frame = 0
 1500              		@ frame_needed = 0, uses_anonymous_args = 0
 770:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 771:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nGeneral int:");
 1501              		.loc 1 771 5 view .LVU407
 1502 0000 000000E3 		movw	r0, #:lower16:.LC14
 1503              	.LVL85:
 769:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 1504              		.loc 1 769 1 is_stmt 0 view .LVU408
 1505 0004 10402DE9 		push	{r4, lr}
 1506              		.cfi_def_cfa_offset 8
 1507              		.cfi_offset 4, -8
 1508              		.cfi_offset 14, -4
 769:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 1509              		.loc 1 769 1 view .LVU409
 1510 0008 0140A0E1 		mov	r4, r1
 1511              		.loc 1 771 5 view .LVU410
 1512 000c 000040E3 		movt	r0, #:upper16:.LC14
 1513 0010 FEFFFFEB 		bl	RME_Str_Print
 1514              	.LVL86:
 772:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 44


 1515              		.loc 1 772 5 is_stmt 1 view .LVU411
 1516 0014 0400A0E1 		mov	r0, r4
 773:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 774:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling anything */
 775:../../Source/Platform/A7A/rme_platform_a7a.c ****     switch(Int_Num)
 776:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 777:../../Source/Platform/A7A/rme_platform_a7a.c ****         default:break;
 778:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 779:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Remember to perform context switch after any kernel sends */
 780:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1517              		.loc 1 780 1 is_stmt 0 view .LVU412
 1518 0018 1040BDE8 		pop	{r4, lr}
 1519              		.cfi_restore 14
 1520              		.cfi_restore 4
 1521              		.cfi_def_cfa_offset 0
 1522              	.LVL87:
 772:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 1523              		.loc 1 772 5 view .LVU413
 1524 001c FEFFFFEA 		b	RME_Int_Print
 1525              	.LVL88:
 772:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 1526              		.loc 1 772 5 view .LVU414
 1527              		.cfi_endproc
 1528              	.LFE34:
 1530              		.section	.text.__RME_Pgt_Set,"ax",%progbits
 1531              		.align	2
 1532              		.global	__RME_Pgt_Set
 1533              		.syntax unified
 1534              		.arm
 1536              	__RME_Pgt_Set:
 1537              	.LVL89:
 1538              	.LFB35:
 781:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Generic_Handler ***********************************/
 782:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 783:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Set ***************************************************
 784:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the processor's page table.
 785:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Pgt - The virtual address of the page table.
 786:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 787:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 788:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 789:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Pgt_Set(rme_ptr_t Pgt)
 790:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1539              		.loc 1 790 1 is_stmt 1 view -0
 1540              		.cfi_startproc
 1541              		@ args = 0, pretend = 0, frame = 0
 1542              		@ frame_needed = 0, uses_anonymous_args = 0
 1543              		@ link register save eliminated.
 791:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 792:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1544              		.loc 1 792 1 view .LVU416
 1545 0000 1EFF2FE1 		bx	lr
 1546              		.cfi_endproc
 1547              	.LFE35:
 1549              		.section	.text.__RME_Pgt_Check,"ax",%progbits
 1550              		.align	2
 1551              		.global	__RME_Pgt_Check
 1552              		.syntax unified
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 45


 1553              		.arm
 1555              	__RME_Pgt_Check:
 1556              	.LVL90:
 1557              	.LFB36:
 793:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Set **********************************************/
 794:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 795:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Check *************************************************
 796:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table parameters are feasible, according to the
 797:../../Source/Platform/A7A/rme_platform_a7a.c ****               parameters. This is only used in page table creation. The following
 798:../../Source/Platform/A7A/rme_platform_a7a.c ****               restrictions apply:
 799:../../Source/Platform/A7A/rme_platform_a7a.c **** 1. PAE is not supported by this port: if you have that much memory, use the Cortex-A
 800:../../Source/Platform/A7A/rme_platform_a7a.c ****    64-bit port instead. The translation scheme here is always:
 801:../../Source/Platform/A7A/rme_platform_a7a.c ****    4GB VA -> {Supersection, Section} -> {Large Page, Small Page}.
 802:../../Source/Platform/A7A/rme_platform_a7a.c ****    The supersection is described in ARMv7-AR ARM as optional, but is implemented on
 803:../../Source/Platform/A7A/rme_platform_a7a.c ****    all known ARMv7-A processors.
 804:../../Source/Platform/A7A/rme_platform_a7a.c ****    We only user TTBR0 here and we set value N to 0 as always. Using TTBR1 is nonsense
 805:../../Source/Platform/A7A/rme_platform_a7a.c ****    in our context, as it gives little benefit.
 806:../../Source/Platform/A7A/rme_platform_a7a.c **** 2. The ARM page tables have idiosyncrasy that allow two page size mappings to exist
 807:../../Source/Platform/A7A/rme_platform_a7a.c ****    in the same page table.
 808:../../Source/Platform/A7A/rme_platform_a7a.c **** 3. ARM page tables use repetition when it comes to supersections and large pages.
 809:../../Source/Platform/A7A/rme_platform_a7a.c ****    This breaks our numorder-sizeorder assumption, and for this reason, we do not
 810:../../Source/Platform/A7A/rme_platform_a7a.c ****    support these two page sizes explicitly. These two sizes are supported by kernel
 811:../../Source/Platform/A7A/rme_platform_a7a.c ****    functions instead, and the kernel function always maps/unmaps the pages as needed
 812:../../Source/Platform/A7A/rme_platform_a7a.c ****    without checking for any permissions; this can be viewed as a hack, and require
 813:../../Source/Platform/A7A/rme_platform_a7a.c ****    some caution when we are mapping pages in.
 814:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Start_Addr - The start mapping address.
 815:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Top - The top-level flag,
 816:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Size_Order - The size order of the page directory.
 817:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Num_Order - The number order of the page directory.
 818:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address of the page directory.
 819:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 820:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 821:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 822:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Check(rme_ptr_t Start_Addr, rme_ptr_t Is_Top,
 823:../../Source/Platform/A7A/rme_platform_a7a.c ****                             rme_ptr_t Size_Order, rme_ptr_t Num_Order, rme_ptr_t Vaddr)
 824:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1558              		.loc 1 824 1 view -0
 1559              		.cfi_startproc
 1560              		@ args = 4, pretend = 0, frame = 0
 1561              		@ frame_needed = 0, uses_anonymous_args = 0
 1562              		@ link register save eliminated.
 825:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Top-level - 1MB pages, 4096 entries, 16kB alignment */
 826:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Is_Top!=0)
 1563              		.loc 1 826 5 view .LVU418
 1564              		.loc 1 826 7 is_stmt 0 view .LVU419
 1565 0000 000051E3 		cmp	r1, #0
 1566 0004 0A00000A 		beq	.L95
 827:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 828:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_1M)
 1567              		.loc 1 828 9 is_stmt 1 view .LVU420
 829:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 830:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_4K)
 1568              		.loc 1 830 9 view .LVU421
 1569              		.loc 1 830 11 is_stmt 0 view .LVU422
 1570 0008 140052E3 		cmp	r2, #20
 1571 000c 0C005303 		cmpeq	r3, #12
 1572 0010 0100000A 		beq	.L99
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 46


 1573              	.L98:
 831:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1574              		.loc 1 831 20 view .LVU423
 1575 0014 0000E0E3 		mvn	r0, #0
 1576              	.LVL91:
 832:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 833:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 834:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 835:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Second-level - 1MB pages, 4096 entries, 16kB alignment */
 836:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 837:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 838:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_64K)
 839:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 840:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_1K)
 841:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 842:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FF)!=0)
 843:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 844:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 845:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 846:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 847:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1577              		.loc 1 847 1 view .LVU424
 1578 0018 1EFF2FE1 		bx	lr
 1579              	.LVL92:
 1580              	.L99:
 832:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 1581              		.loc 1 832 9 is_stmt 1 view .LVU425
 832:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 1582              		.loc 1 832 18 is_stmt 0 view .LVU426
 1583 001c 00309DE5 		ldr	r3, [sp]
 1584              	.LVL93:
 832:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 1585              		.loc 1 832 18 view .LVU427
 1586 0020 5300EDE7 		ubfx	r0, r3, #0, #14
 1587              	.LVL94:
 832:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 1588              		.loc 1 832 11 view .LVU428
 1589 0024 000050E2 		subs	r0, r0, #0
 1590 0028 0100A013 		movne	r0, #1
 1591 002c 000060E2 		rsb	r0, r0, #0
 1592 0030 1EFF2FE1 		bx	lr
 1593              	.LVL95:
 1594              	.L95:
 838:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1595              		.loc 1 838 9 is_stmt 1 view .LVU429
 840:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1596              		.loc 1 840 9 view .LVU430
 840:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1597              		.loc 1 840 11 is_stmt 0 view .LVU431
 1598 0034 100052E3 		cmp	r2, #16
 1599 0038 0A005303 		cmpeq	r3, #10
 1600 003c F4FFFF1A 		bne	.L98
 842:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1601              		.loc 1 842 9 is_stmt 1 view .LVU432
 842:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1602              		.loc 1 842 18 is_stmt 0 view .LVU433
 1603 0040 00309DE5 		ldr	r3, [sp]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 47


 1604              	.LVL96:
 842:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1605              		.loc 1 842 18 view .LVU434
 1606 0044 5300E9E7 		ubfx	r0, r3, #0, #10
 1607              	.LVL97:
 842:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 1608              		.loc 1 842 11 view .LVU435
 1609 0048 000050E2 		subs	r0, r0, #0
 1610 004c 0100A013 		movne	r0, #1
 1611 0050 000060E2 		rsb	r0, r0, #0
 1612 0054 1EFF2FE1 		bx	lr
 1613              		.cfi_endproc
 1614              	.LFE36:
 1616              		.section	.text.__RME_Pgt_Init,"ax",%progbits
 1617              		.align	2
 1618              		.global	__RME_Pgt_Init
 1619              		.syntax unified
 1620              		.arm
 1622              	__RME_Pgt_Init:
 1623              	.LVL98:
 1624              	.LFB37:
 848:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Check ********************************************/
 849:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 850:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Init **************************************************
 851:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the page table data structure, according to the capability.
 852:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
 853:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 854:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 855:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 856:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Init(struct RME_Cap_Pgt* Pgt_Op)
 857:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1625              		.loc 1 857 1 is_stmt 1 view -0
 1626              		.cfi_startproc
 1627              		@ args = 0, pretend = 0, frame = 0
 1628              		@ frame_needed = 0, uses_anonymous_args = 0
 1629              		@ link register save eliminated.
 858:../../Source/Platform/A7A/rme_platform_a7a.c **** #if 0
 859:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_cnt_t Count;
 860:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
 861:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 862:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the actual table */
 863:../../Source/Platform/A7A/rme_platform_a7a.c ****     //Ptr=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 864:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 865:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a first-level or a second-level? */
 866:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)
 867:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 868:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* First-level - clean up the first half and map in the second half as kernel entries */
 869:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<2048;Count++)
 870:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 871:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 872:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(;Count<4096;Count++)
 873:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 874:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 875:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 876:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 877:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Second-level - just clean it up to all zeros */
 878:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<256;Count++)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 48


 879:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 880:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 881:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 882:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PGREG_POS(Ptr).Parent_Cnt=0;
 883:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PGREG_POS(Ptr).ASID_Child_Cnt=0;
 884:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 885:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 886:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1630              		.loc 1 886 1 view .LVU437
 1631              	.LVL99:
 1632              		.loc 1 886 1 is_stmt 0 view .LVU438
 1633 0000 1EFF2FE1 		bx	lr
 1634              		.cfi_endproc
 1635              	.LFE37:
 1637              		.section	.text.__RME_Pgt_Del_Check,"ax",%progbits
 1638              		.align	2
 1639              		.global	__RME_Pgt_Del_Check
 1640              		.syntax unified
 1641              		.arm
 1643              	__RME_Pgt_Del_Check:
 1644              	.LFB58:
 1645              		.cfi_startproc
 1646              		@ args = 0, pretend = 0, frame = 0
 1647              		@ frame_needed = 0, uses_anonymous_args = 0
 1648              		@ link register save eliminated.
 1649 0000 0000A0E3 		mov	r0, #0
 1650 0004 1EFF2FE1 		bx	lr
 1651              		.cfi_endproc
 1652              	.LFE58:
 1654              		.section	.text.__RME_Pgt_Page_Map,"ax",%progbits
 1655              		.align	2
 1656              		.global	__RME_Pgt_Page_Map
 1657              		.syntax unified
 1658              		.arm
 1660              	__RME_Pgt_Page_Map:
 1661              	.LVL100:
 1662              	.LFB39:
 887:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Init *********************************************/
 888:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 889:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Del_Check *********************************************
 890:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table can be deleted.
 891:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt Pgt_Op* - The capability to the page table to operate on.
 892:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 893:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If can be deleted, 0; else RME_ERR_HAL_FAIL.
 894:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 895:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Del_Check(struct RME_Cap_Pgt* Pgt_Op)
 896:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 897:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 898:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 899:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 900:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 901:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 902:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* See if this is a top-level. If yes, we only check child count */
 903:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)
 904:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 905:../../Source/Platform/A7A/rme_platform_a7a.c ****     	if(((RME_A7A_PGREG_POS(Table).ASID_Child_Cnt)&0xFFFF)==0)
 906:../../Source/Platform/A7A/rme_platform_a7a.c ****     		return 0;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 49


 907:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 908:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 909:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 910:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Must be the second-level. We only check parent count because it can't have child anymore */
 911:../../Source/Platform/A7A/rme_platform_a7a.c ****     	if(RME_A7A_PGREG_POS(Table).Parent_Cnt==0)
 912:../../Source/Platform/A7A/rme_platform_a7a.c ****     	        return 0;
 913:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 914:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 915:../../Source/Platform/A7A/rme_platform_a7a.c ****     return RME_ERR_HAL_FAIL;
 916:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
 917:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 918:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Del_Check ****************************************/
 919:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 920:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Map **********************************************
 921:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page into the page table. This architecture requires that the
 922:../../Source/Platform/A7A/rme_platform_a7a.c ****               mapping is always at least readable. The Cortex-A's super pages are
 923:../../Source/Platform/A7A/rme_platform_a7a.c ****               not supported by this. Also, RME dfoesn't use the domain model; all
 924:../../Source/Platform/A7A/rme_platform_a7a.c ****               page tables' domain is always client, which means that the permission
 925:../../Source/Platform/A7A/rme_platform_a7a.c ****               flags will always be checked.
 926:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The cap ability to the page table to operate on.
 927:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Paddr - The physical address to map to. If we are unmapping,
 928:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 this have no effect.
 929:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
 930:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard page attributes. Need to translate
 931:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 them into architecture specific page table's settings.
 932:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 933:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 934:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 935:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Map(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Paddr, rme_ptr_t Pos, rme_ptr_t 
 936:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1663              		.loc 1 936 1 is_stmt 1 view -0
 1664              		.cfi_startproc
 1665              		@ args = 0, pretend = 0, frame = 0
 1666              		@ frame_needed = 0, uses_anonymous_args = 0
 1667              		@ link register save eliminated.
 937:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 938:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 939:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
 940:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 941:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
 942:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 943:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 944:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 945:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
 946:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
 947:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 948:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 949:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
 950:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 951:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 952:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate flags */
 953:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)==RME_PGT_SIZE_4K)
 954:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_1M_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_1M_RME2NAT(Flags);
 955:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 956:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_4K_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_4K_RME2NAT(Flags);
 957:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 958:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 50


 959:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),0,A7A_Flags)==0)
 960:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 961:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 962:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 963:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
 964:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1668              		.loc 1 964 1 view .LVU440
 1669              	.LVL101:
 1670              		.loc 1 964 1 is_stmt 0 view .LVU441
 1671 0000 1EFF2FE1 		bx	lr
 1672              		.cfi_endproc
 1673              	.LFE39:
 1675              		.section	.text.__RME_Pgt_Page_Unmap,"ax",%progbits
 1676              		.align	2
 1677              		.global	__RME_Pgt_Page_Unmap
 1678              		.syntax unified
 1679              		.arm
 1681              	__RME_Pgt_Page_Unmap:
 1682              	.LVL102:
 1683              	.LFB40:
 965:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Map *****************************************/
 966:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 967:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Unmap ********************************************
 968:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page from the page table.
 969:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
 970:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
 971:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 972:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 973:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 974:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Unmap(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos)
 975:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1684              		.loc 1 975 1 is_stmt 1 view -0
 1685              		.cfi_startproc
 1686              		@ args = 0, pretend = 0, frame = 0
 1687              		@ frame_needed = 0, uses_anonymous_args = 0
 1688              		@ link register save eliminated.
 976:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
 977:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
 978:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
 979:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 980:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to unmap the kernel space on the top level? */
 981:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
 982:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 983:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 984:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
 985:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 986:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 987:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that there is something */
 988:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 989:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Temp==0)
 990:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 991:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 992:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a page directory? We cannot unmap page directories like this */
 993:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)!=RME_PGT_SIZE_4K)&&((Temp&RME_A7A_MMU_1M_PGDIR_PRES
 994:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 995:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 996:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to unmap it. Use CAS just in case */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 51


 997:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),Temp,0)==0)
 998:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 999:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1000:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1001:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1002:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1689              		.loc 1 1002 1 view .LVU443
 1690              	.LVL103:
 1691              		.loc 1 1002 1 is_stmt 0 view .LVU444
 1692 0000 1EFF2FE1 		bx	lr
 1693              		.cfi_endproc
 1694              	.LFE40:
 1696              		.section	.text.__RME_Pgt_Pgdir_Map,"ax",%progbits
 1697              		.align	2
 1698              		.global	__RME_Pgt_Pgdir_Map
 1699              		.syntax unified
 1700              		.arm
 1702              	__RME_Pgt_Pgdir_Map:
 1703              	.LVL104:
 1704              	.LFB41:
1003:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Unmap ***************************************/
1004:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1005:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Map *********************************************
1006:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page directory into the page table. It is surprising that
1007:../../Source/Platform/A7A/rme_platform_a7a.c ****               Cortex-A (ARMv7) does not support any kind of page directory flags.
1008:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Parent - The parent page table.
1009:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Cap_Pgt* Pgt_Child - The child page table.
1010:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the destination page table.
1011:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard flags for the child page table.
1012:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1013:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1014:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1015:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Pgdir_Map(struct RME_Cap_Pgt* Pgt_Parent, rme_ptr_t Pos,
1016:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 struct RME_Cap_Pgt* Pgt_Child, rme_ptr_t Flags)
1017:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1705              		.loc 1 1017 1 is_stmt 1 view -0
 1706              		.cfi_startproc
 1707              		@ args = 0, pretend = 0, frame = 0
 1708              		@ frame_needed = 0, uses_anonymous_args = 0
 1709              		@ link register save eliminated.
1018:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
1019:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Parent_Table;
1020:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Child_Table;
1021:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1022:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1023:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
1024:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
1025:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1026:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1027:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1028:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Parent->Start_Addr&RME_PGT_TOP)!=0)&&(Pos>=2048))
1029:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1030:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1031:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1032:../../Source/Platform/A7A/rme_platform_a7a.c ****     Parent_Table=RME_CAP_GETOBJ(Pgt_Parent,rme_ptr_t*);
1033:../../Source/Platform/A7A/rme_platform_a7a.c ****     Child_Table=RME_CAP_GETOBJ(Pgt_Child,rme_ptr_t*);
1034:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 52


1035:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate the content */
1036:../../Source/Platform/A7A/rme_platform_a7a.c ****     A7A_Flags=RME_A7A_MMU_1M_PGT_ADDR(RME_A7A_VA2PA(Child_Table))|RME_A7A_MMU_1M_PGDIR_PRESENT;
1037:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1038:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in - may need to increase some count */
1039:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Parent_Table[Pos]),0,A7A_Flags)==0)
1040:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1041:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1042:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Map complete, increase reference count for both page tables */
1043:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_FETCH_ADD((rme_ptr_t*)&(RME_A7A_PGREG_POS(Child_Table).Parent_Cnt),1);
1044:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_FETCH_ADD((rme_ptr_t*)&(RME_A7A_PGREG_POS(Parent_Table).ASID_Child_Cnt),1);
1045:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1046:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1047:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1048:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1710              		.loc 1 1048 1 view .LVU446
 1711              	.LVL105:
 1712              		.loc 1 1048 1 is_stmt 0 view .LVU447
 1713 0000 1EFF2FE1 		bx	lr
 1714              		.cfi_endproc
 1715              	.LFE41:
 1717              		.section	.text.__RME_Pgt_Pgdir_Unmap,"ax",%progbits
 1718              		.align	2
 1719              		.global	__RME_Pgt_Pgdir_Unmap
 1720              		.syntax unified
 1721              		.arm
 1723              	__RME_Pgt_Pgdir_Unmap:
 1724              	.LVL106:
 1725              	.LFB42:
1049:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Map ****************************************/
1050:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1051:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Unmap *******************************************
1052:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page directory from the page table.
1053:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to operate on.
1054:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1055:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1056:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1057:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1058:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Pgt_Pgdir_Unmap(struct RME_Cap_Pgt* Pgt_Parent,rme_ptr_t Pos,
1059:../../Source/Platform/A7A/rme_platform_a7a.c ****                                                struct RME_Cap_Pgt* Pgt_Child)
1060:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1726              		.loc 1 1060 1 is_stmt 1 view -0
 1727              		.cfi_startproc
 1728              		@ args = 0, pretend = 0, frame = 0
 1729              		@ frame_needed = 0, uses_anonymous_args = 0
 1730              		@ link register save eliminated.
1061:../../Source/Platform/A7A/rme_platform_a7a.c ****    return 0;
 1731              		.loc 1 1061 4 view .LVU449
1062:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1732              		.loc 1 1062 1 is_stmt 0 view .LVU450
 1733 0000 0000A0E3 		mov	r0, #0
 1734              	.LVL107:
 1735              		.loc 1 1062 1 view .LVU451
 1736 0004 1EFF2FE1 		bx	lr
 1737              		.cfi_endproc
 1738              	.LFE42:
 1740              		.section	.text.__RME_Pgt_Lookup,"ax",%progbits
 1741              		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 53


 1742              		.global	__RME_Pgt_Lookup
 1743              		.syntax unified
 1744              		.arm
 1746              	__RME_Pgt_Lookup:
 1747              	.LVL108:
 1748              	.LFB43:
1063:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Unmap **************************************/
1064:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1065:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Lookup **************************************************
1066:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Lookup a page entry in a page directory. This function cannot deal
1067:../../Source/Platform/A7A/rme_platform_a7a.c ****               with large pages and super sections - it is the user's responsibility
1068:../../Source/Platform/A7A/rme_platform_a7a.c ****               to avoid this.
1069:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page directory to lookup.
1070:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position to look up.
1071:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Paddr - The physical address of the page.
1072:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1073:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1074:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1075:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Lookup(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos, rme_ptr_t* Paddr, rme_ptr_t* 
1076:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1749              		.loc 1 1076 1 is_stmt 1 view -0
 1750              		.cfi_startproc
 1751              		@ args = 0, pretend = 0, frame = 0
 1752              		@ frame_needed = 0, uses_anonymous_args = 0
 1753              		@ link register save eliminated.
1077:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
1078:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1079:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1080:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1081:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if the position is within the range of this page table */
1082:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pos>>RME_PGT_NUMORD(Pgt_Op->Size_Num_Order))!=0)
1083:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1084:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1085:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1086:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
1087:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the position requested - atomic read */
1088:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
1089:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1090:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start lookup - is this a terminal page, or? */
1091:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SIZEORD(Pgt_Op->Size_Num_Order)==RME_PGT_SIZE_4K)
1092:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1093:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)==0)
1094:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
1095:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1096:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a small page. Return the physical address and flags */
1097:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
1098:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
1099:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
1100:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
1101:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1102:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1103:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1104:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)==0)
1105:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
1106:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1107:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a section. Return the physical address and flags */
1108:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 54


1109:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
1110:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
1111:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
1112:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1113:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1114:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1115:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1116:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1754              		.loc 1 1116 1 view .LVU453
 1755              	.LVL109:
 1756              		.loc 1 1116 1 is_stmt 0 view .LVU454
 1757 0000 1EFF2FE1 		bx	lr
 1758              		.cfi_endproc
 1759              	.LFE43:
 1761              		.section	.text.__RME_Pgt_Walk,"ax",%progbits
 1762              		.align	2
 1763              		.global	__RME_Pgt_Walk
 1764              		.syntax unified
 1765              		.arm
 1767              	__RME_Pgt_Walk:
 1768              	.LVL110:
 1769              	.LFB44:
1117:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Lookup *******************************************/
1118:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1119:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Walk **************************************************
1120:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Walking function for the page table. This function just does page
1121:../../Source/Platform/A7A/rme_platform_a7a.c ****               table lookups. The page table that is being walked must be the top-
1122:../../Source/Platform/A7A/rme_platform_a7a.c ****               level page table. The output values are optional; only pass in pointers
1123:../../Source/Platform/A7A/rme_platform_a7a.c ****               when you need that value.
1124:../../Source/Platform/A7A/rme_platform_a7a.c ****               Walking kernel page tables is prohibited.
1125:../../Source/Platform/A7A/rme_platform_a7a.c ****               This function also does not support large pages and super sections.
1126:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to walk.
1127:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address to look up.
1128:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Pgt - The pointer to the page table level.
1129:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Map_Vaddr - The virtual address that starts mapping.
1130:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Paddr - The physical address of the page.
1131:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Size_Order - The size order of the page.
1132:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Num_Order - The entry order of the page.
1133:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1134:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1135:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1136:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Walk(struct RME_Cap_Pgt* Pgt_Op, 
1137:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t Vaddr, 
1138:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t* Pgt,
1139:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Map_Vaddr, 
1140:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Paddr, 
1141:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Size_Order, 
1142:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Num_Order, 
1143:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Flags)
1144:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1770              		.loc 1 1144 1 is_stmt 1 view -0
 1771              		.cfi_startproc
 1772              		@ args = 16, pretend = 0, frame = 0
 1773              		@ frame_needed = 0, uses_anonymous_args = 0
 1774              		@ link register save eliminated.
1145:../../Source/Platform/A7A/rme_platform_a7a.c ****     #if 0
1146:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 55


1147:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Pos;
1148:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1149:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1150:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if this is the top-level page table */
1151:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Start_Addr)&RME_PGT_TOP)==0)
1152:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1153:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1154:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we attempting a kernel or non-canonical lookup? If yes, stop immediately */
1155:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Vaddr>=0x7FFFFFFFU)
1156:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
1157:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1158:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table and start lookup - We know that there are only 2 levels */
1159:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op, rme_ptr_t*);
1160:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1161:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Calculate where is the entry - always 0 to 4096 */
1162:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Pos=(Vaddr>>RME_PGT_SIZE_1M)&0xFFFU;
1163:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Atomic read */
1164:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Temp=Table[Pos];
1165:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1166:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Find the position of the entry - Is there a page, a directory, or nothing? */
1167:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)!=0)
1168:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1169:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* There is a 1M page */
1170:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Pgt!=0)
1171:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Pgt=(rme_ptr_t)Table;
1172:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Map_Vaddr!=0)
1173:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_1M);
1174:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Paddr!=0)
1175:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
1176:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Size_Order!=0)
1177:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Size_Order=RME_PGT_SIZE_1M;
1178:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Num_Order!=0)
1179:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Num_Order=RME_PGT_NUM_4K;
1180:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Flags!=0)
1181:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
1182:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1183:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1184:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else if((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0)
1185:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1186:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Table=(rme_ptr_t*)RME_A7A_PA2VA(RME_A7A_MMU_1M_PGT_ADDR(Temp));
1187:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Calculate where is the entry - always 0 to 256 */
1188:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Pos=(Vaddr>>RME_PGT_SIZE_4K)&0xFFU;
1189:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Atomic read */
1190:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Temp=Table[Pos];
1191:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1192:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)!=0)
1193:../../Source/Platform/A7A/rme_platform_a7a.c **** 		{
1194:../../Source/Platform/A7A/rme_platform_a7a.c **** 			/* There is a 4k page */
1195:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Pgt!=0)
1196:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Pgt=(rme_ptr_t)Table;
1197:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Map_Vaddr!=0)
1198:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_4K);
1199:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Paddr!=0)
1200:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
1201:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Size_Order!=0)
1202:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Size_Order=RME_PGT_SIZE_4K;
1203:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Num_Order!=0)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 56


1204:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Num_Order=RME_PGT_NUM_256;
1205:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Flags!=0)
1206:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
1207:../../Source/Platform/A7A/rme_platform_a7a.c **** 		}
1208:../../Source/Platform/A7A/rme_platform_a7a.c **** 		else
1209:../../Source/Platform/A7A/rme_platform_a7a.c **** 			return RME_ERR_HAL_FAIL;
1210:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1211:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else
1212:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return RME_ERR_HAL_FAIL;
1213:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1214:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
1215:../../Source/Platform/A7A/rme_platform_a7a.c ****     #endif
1216:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1775              		.loc 1 1216 1 view .LVU456
 1776              	.LVL111:
 1777              		.loc 1 1216 1 is_stmt 0 view .LVU457
 1778 0000 1EFF2FE1 		bx	lr
 1779              		.cfi_endproc
 1780              	.LFE44:
 1782              		.global	RME_A7A_CPU_Cnt
 1783              		.global	RME_A7A_Mem_Info
 1784              		.global	RME_A7A_Kot
 1785              		.global	RME_A7A_Local
 1786              		.global	RME_A7A_Timestamp
 1787              		.section	.bss.RME_A7A_CPU_Cnt,"aw",%nobits
 1788              		.align	2
 1791              	RME_A7A_CPU_Cnt:
 1792 0000 00000000 		.space	4
 1793              		.section	.bss.RME_A7A_Kot,"aw",%nobits
 1794              		.align	3
 1797              	RME_A7A_Kot:
 1798 0000 00000000 		.space	8388608
 1798      00000000 
 1798      00000000 
 1798      00000000 
 1798      00000000 
 1799              		.section	.bss.RME_A7A_Local,"aw",%nobits
 1800              		.align	2
 1801              		.set	.LANCHOR0,. + 0
 1804              	RME_A7A_Local:
 1805 0000 00000000 		.space	276
 1805      00000000 
 1805      00000000 
 1805      00000000 
 1805      00000000 
 1806              		.section	.bss.RME_A7A_Timestamp,"aw",%nobits
 1807              		.align	2
 1810              	RME_A7A_Timestamp:
 1811 0000 00000000 		.space	4
 1812              		.section	.rodata.RME_A7A_Mem_Info,"a"
 1813              		.align	3
 1816              	RME_A7A_Mem_Info:
 1817 0000 05000000 		.word	5
 1818 0004 00000001 		.word	16777216
 1819 0008 00000001 		.word	16777216
 1820 000c 40000000 		.word	64
 1821 0010 0D080300 		.word	198669
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 57


 1822              		.text
 1823              	.Letext0:
 1824              		.file 2 "../../Include/Platform/A7A/rme_platform_a7a.h"
 1825              		.file 3 "../../Include/Kernel/rme_kernel.h"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 58


DEFINED SYMBOLS
                            *ABS*:00000000 rme_platform_a7a.c
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:22     .rodata.main.str1.4:00000000 $d
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:23     .rodata.main.str1.4:00000000 .LC0
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:26     .text.startup.main:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:31     .text.startup.main:00000000 main
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:120    .text.__RME_Putchar:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:125    .text.__RME_Putchar:00000000 __RME_Putchar
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:156    .text.__RME_Putstr:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:161    .text.__RME_Putstr:00000000 __RME_Putstr
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:215    .text.__RME_A7A_Int_Local_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:220    .text.__RME_A7A_Int_Local_Init:00000000 __RME_A7A_Int_Local_Init
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:250    .text.__RME_A7A_Feature_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:255    .text.__RME_A7A_Feature_Get:00000000 __RME_A7A_Feature_Get
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:266    .text.__RME_A7A_Mem_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:271    .text.__RME_A7A_Mem_Init:00000000 __RME_A7A_Mem_Init
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:285    .text.__RME_A7A_SMP_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:290    .text.__RME_A7A_SMP_Init:00000000 __RME_A7A_SMP_Init
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:301    .text.__RME_A7A_SMP_Tick:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:306    .text.__RME_A7A_SMP_Tick:00000000 __RME_A7A_SMP_Tick
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:317    .rodata.__RME_Lowlvl_Init.str1.4:00000000 $d
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:318    .rodata.__RME_Lowlvl_Init.str1.4:00000000 .LC1
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:321    .rodata.__RME_Lowlvl_Init.str1.4:00000018 .LC2
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:324    .rodata.__RME_Lowlvl_Init.str1.4:00000030 .LC3
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:327    .rodata.__RME_Lowlvl_Init.str1.4:00000048 .LC4
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:330    .rodata.__RME_Lowlvl_Init.str1.4:00000064 .LC5
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:333    .rodata.__RME_Lowlvl_Init.str1.4:0000007c .LC6
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:336    .rodata.__RME_Lowlvl_Init.str1.4:0000009c .LC7
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:339    .rodata.__RME_Lowlvl_Init.str1.4:000000b4 .LC8
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:342    .rodata.__RME_Lowlvl_Init.str1.4:000000d8 .LC9
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:345    .rodata.__RME_Lowlvl_Init.str1.4:000000ec .LC10
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:348    .text.__RME_Lowlvl_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:353    .text.__RME_Lowlvl_Init:00000000 __RME_Lowlvl_Init
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1801   .bss.RME_A7A_Local:00000000 .LANCHOR0
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:666    .text.__RME_Pgt_Kom_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:671    .text.__RME_Pgt_Kom_Init:00000000 __RME_Pgt_Kom_Init
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:686    .text.__RME_SMP_Low_Level_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:691    .text.__RME_SMP_Low_Level_Init:00000000 __RME_SMP_Low_Level_Init
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:703    .text.__RME_Boot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:708    .text.__RME_Boot:00000000 __RME_Boot
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:775    .text.__RME_Reboot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:780    .text.__RME_Reboot:00000000 __RME_Reboot
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:793    .text.__RME_Shutdown:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:798    .text.__RME_Shutdown:00000000 __RME_Shutdown
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:809    .text.__RME_Svc_Param_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:814    .text.__RME_Svc_Param_Get:00000000 __RME_Svc_Param_Get
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:855    .text.__RME_Svc_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:860    .text.__RME_Svc_Retval_Set:00000000 __RME_Svc_Retval_Set
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:877    .text.__RME_Thd_Reg_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:882    .text.__RME_Thd_Reg_Init:00000000 __RME_Thd_Reg_Init
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:908    .text.__RME_Thd_Reg_Copy:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:913    .text.__RME_Thd_Reg_Copy:00000000 __RME_Thd_Reg_Copy
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1007   .text.__RME_Thd_Cop_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1012   .text.__RME_Thd_Cop_Init:00000000 __RME_Thd_Cop_Init
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1026   .text.__RME_Thd_Cop_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1031   .text.__RME_Thd_Cop_Save:00000000 __RME_Thd_Cop_Save
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1042   .text.__RME_Thd_Cop_Restore:00000000 $a
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 59


C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1047   .text.__RME_Thd_Cop_Restore:00000000 __RME_Thd_Cop_Restore
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1058   .text.__RME_Inv_Reg_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1063   .text.__RME_Inv_Reg_Save:00000000 __RME_Inv_Reg_Save
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1087   .text.__RME_Inv_Reg_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1092   .text.__RME_Inv_Reg_Restore:00000000 __RME_Inv_Reg_Restore
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1116   .text.__RME_Inv_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1121   .text.__RME_Inv_Retval_Set:00000000 __RME_Inv_Retval_Set
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1138   .text.__RME_Set_Inv_Retval:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1143   .text.__RME_Set_Inv_Retval:00000000 __RME_Set_Inv_Retval
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1160   .text.__RME_Thd_Cop_Swap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1165   .text.__RME_Thd_Cop_Swap:00000000 __RME_Thd_Cop_Swap
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1179   .text.__RME_Kfn_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1184   .text.__RME_Kfn_Handler:00000000 __RME_Kfn_Handler
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1202   .text.__RME_A7A_Undefined_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1207   .text.__RME_A7A_Undefined_Handler:00000000 __RME_A7A_Undefined_Handler
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1225   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1230   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 __RME_A7A_Prefetch_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1248   .text.__RME_A7A_Data_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1253   .text.__RME_A7A_Data_Abort_Handler:00000000 __RME_A7A_Data_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1271   .rodata.__RME_A7A_IRQ_Handler.str1.4:00000000 $d
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1272   .rodata.__RME_A7A_IRQ_Handler.str1.4:00000000 .LC11
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1275   .rodata.__RME_A7A_IRQ_Handler.str1.4:0000000c .LC12
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1278   .rodata.__RME_A7A_IRQ_Handler.str1.4:00000018 .LC13
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1281   .text.__RME_A7A_IRQ_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1286   .text.__RME_A7A_IRQ_Handler:00000000 __RME_A7A_IRQ_Handler
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1465   .text._RME_A7A_SGI_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1470   .text._RME_A7A_SGI_Handler:00000000 _RME_A7A_SGI_Handler
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1485   .rodata.__RME_A7A_Generic_Handler.str1.4:00000000 $d
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1486   .rodata.__RME_A7A_Generic_Handler.str1.4:00000000 .LC14
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1489   .text.__RME_A7A_Generic_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1494   .text.__RME_A7A_Generic_Handler:00000000 __RME_A7A_Generic_Handler
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1531   .text.__RME_Pgt_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1536   .text.__RME_Pgt_Set:00000000 __RME_Pgt_Set
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1550   .text.__RME_Pgt_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1555   .text.__RME_Pgt_Check:00000000 __RME_Pgt_Check
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1617   .text.__RME_Pgt_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1622   .text.__RME_Pgt_Init:00000000 __RME_Pgt_Init
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1638   .text.__RME_Pgt_Del_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1643   .text.__RME_Pgt_Del_Check:00000000 __RME_Pgt_Del_Check
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1655   .text.__RME_Pgt_Page_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1660   .text.__RME_Pgt_Page_Map:00000000 __RME_Pgt_Page_Map
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1676   .text.__RME_Pgt_Page_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1681   .text.__RME_Pgt_Page_Unmap:00000000 __RME_Pgt_Page_Unmap
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1697   .text.__RME_Pgt_Pgdir_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1702   .text.__RME_Pgt_Pgdir_Map:00000000 __RME_Pgt_Pgdir_Map
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1718   .text.__RME_Pgt_Pgdir_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1723   .text.__RME_Pgt_Pgdir_Unmap:00000000 __RME_Pgt_Pgdir_Unmap
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1741   .text.__RME_Pgt_Lookup:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1746   .text.__RME_Pgt_Lookup:00000000 __RME_Pgt_Lookup
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1762   .text.__RME_Pgt_Walk:00000000 $a
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1767   .text.__RME_Pgt_Walk:00000000 __RME_Pgt_Walk
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1791   .bss.RME_A7A_CPU_Cnt:00000000 RME_A7A_CPU_Cnt
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1816   .rodata.RME_A7A_Mem_Info:00000000 RME_A7A_Mem_Info
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1797   .bss.RME_A7A_Kot:00000000 RME_A7A_Kot
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1804   .bss.RME_A7A_Local:00000000 RME_A7A_Local
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1810   .bss.RME_A7A_Timestamp:00000000 RME_A7A_Timestamp
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1788   .bss.RME_A7A_CPU_Cnt:00000000 $d
ARM GAS  C:\Users\even\AppData\Local\Temp\ccdp8Zae.s 			page 60


C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1794   .bss.RME_A7A_Kot:00000000 $d
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1800   .bss.RME_A7A_Local:00000000 $d
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1807   .bss.RME_A7A_Timestamp:00000000 $d
C:\Users\even\AppData\Local\Temp\ccdp8Zae.s:1813   .rodata.RME_A7A_Mem_Info:00000000 $d
                           .group:00000000 wm4.0.fe3c9ee3fdfbed0fcc0e8dc47e87fbb2
                           .group:00000000 wm4.rme_platform_a7a.h.12.4ea7c3e7cd5be5689682b56f61920b43
                           .group:00000000 wm4.rme_platform_xc7z020.h.15.8a9284d788d1bce78d0e1e519cd6ff44
                           .group:00000000 wm4.rme_platform_a7a.h.136.3fbf02c166445c335d4427cc87227d3a
                           .group:00000000 wm4.rme_kernel.h.27.716340edb41bad57d522729bf2b8a38a
                           .group:00000000 wm4.rme.h.11.9832b5e30070a0fa5589a615f357d92d
                           .group:00000000 wm4.rme_kernel.h.185.3974182bb1c1d44bb740025d2e899ec7
                           .group:00000000 wm4.rme_platform_a7a.h.390.918e282e9d9d990fe491c99e3e90944b
                           .group:00000000 wm4.rme_kernel.h.679.5cba0ca852965e732f79ab9e9cae51eb
                           .group:00000000 wm4.rme_platform_a7a.h.507.1d0033391655e63d00714ee9d2b277b0
                           .group:00000000 wm4.rme_kernel.h.931.ec71bd25af7f487c8cb7f50ed1922251

UNDEFINED SYMBOLS
RME_Str_Print
_RME_CPU_Local_Init
RME_Int_Print
__RME_A7A_Vector_Table
__RME_A7A_VBAR_Set
__RME_Int_Enable
RME_Log
