ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 1


   1              		.cpu cortex-a9
   2              		.arch armv7-a
   3              		.fpu neon-fp16
   4              		.arch_extension mp
   5              		.arch_extension sec
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"rme_platform_a7a.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "../../Source/Platform/A7A/rme_platform_a7a.c"
  20              		.section	.rodata.RME_A7A_Pgflg_1M_RME2NAT,"a"
  21              		.align	2
  24              	RME_A7A_Pgflg_1M_RME2NAT:
  25 0000 128C0300 		.word	232466
  26 0004 128C0300 		.word	232466
  27 0008 120C0300 		.word	199698
  28 000c 120C0300 		.word	199698
  29 0010 028C0300 		.word	232450
  30 0014 028C0300 		.word	232450
  31 0018 020C0300 		.word	199682
  32 001c 020C0300 		.word	199682
  33 0020 1A8C0300 		.word	232474
  34 0024 1A8C0300 		.word	232474
  35 0028 1A0C0300 		.word	199706
  36 002c 1A0C0300 		.word	199706
  37 0030 0A8C0300 		.word	232458
  38 0034 0A8C0300 		.word	232458
  39 0038 0A0C0300 		.word	199690
  40 003c 0A0C0300 		.word	199690
  41 0040 168C0300 		.word	232470
  42 0044 168C0300 		.word	232470
  43 0048 160C0300 		.word	199702
  44 004c 160C0300 		.word	199702
  45 0050 068C0300 		.word	232454
  46 0054 068C0300 		.word	232454
  47 0058 060C0300 		.word	199686
  48 005c 060C0300 		.word	199686
  49 0060 1E8C0300 		.word	232478
  50 0064 1E8C0300 		.word	232478
  51 0068 1E0C0300 		.word	199710
  52 006c 1E0C0300 		.word	199710
  53 0070 0E8C0300 		.word	232462
  54 0074 0E8C0300 		.word	232462
  55 0078 0E0C0300 		.word	199694
  56 007c 0E0C0300 		.word	199694
  57              		.section	.rodata.RME_A7A_Pgflg_4K_RME2NAT,"a"
  58              		.align	2
  61              	RME_A7A_Pgflg_4K_RME2NAT:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 2


  62 0000 230E0000 		.word	3619
  63 0004 230E0000 		.word	3619
  64 0008 230C0000 		.word	3107
  65 000c 230C0000 		.word	3107
  66 0010 220E0000 		.word	3618
  67 0014 220E0000 		.word	3618
  68 0018 220C0000 		.word	3106
  69 001c 220C0000 		.word	3106
  70 0020 2B0E0000 		.word	3627
  71 0024 2B0E0000 		.word	3627
  72 0028 2B0C0000 		.word	3115
  73 002c 2B0C0000 		.word	3115
  74 0030 2A0E0000 		.word	3626
  75 0034 2A0E0000 		.word	3626
  76 0038 2A0C0000 		.word	3114
  77 003c 2A0C0000 		.word	3114
  78 0040 270E0000 		.word	3623
  79 0044 270E0000 		.word	3623
  80 0048 270C0000 		.word	3111
  81 004c 270C0000 		.word	3111
  82 0050 260E0000 		.word	3622
  83 0054 260E0000 		.word	3622
  84 0058 260C0000 		.word	3110
  85 005c 260C0000 		.word	3110
  86 0060 2F0E0000 		.word	3631
  87 0064 2F0E0000 		.word	3631
  88 0068 2F0C0000 		.word	3119
  89 006c 2F0C0000 		.word	3119
  90 0070 2E0E0000 		.word	3630
  91 0074 2E0E0000 		.word	3630
  92 0078 2E0C0000 		.word	3118
  93 007c 2E0C0000 		.word	3118
  94              		.section	.rodata.RME_A7A_Pgflg_1M_NAT2RME,"a"
  95              		.align	2
  98              	RME_A7A_Pgflg_1M_NAT2RME:
  99 0000 07000000 		.word	7
 100 0004 17000000 		.word	23
 101 0008 0F000000 		.word	15
 102 000c 1F000000 		.word	31
 103 0010 03000000 		.word	3
 104 0014 13000000 		.word	19
 105 0018 0B000000 		.word	11
 106 001c 1B000000 		.word	27
 107 0020 05000000 		.word	5
 108 0024 15000000 		.word	21
 109 0028 0D000000 		.word	13
 110 002c 1D000000 		.word	29
 111 0030 01000000 		.word	1
 112 0034 11000000 		.word	17
 113 0038 09000000 		.word	9
 114 003c 19000000 		.word	25
 115              		.section	.rodata.RME_A7A_Pgflg_4K_NAT2RME,"a"
 116              		.align	2
 119              	RME_A7A_Pgflg_4K_NAT2RME:
 120 0000 07000000 		.word	7
 121 0004 03000000 		.word	3
 122 0008 17000000 		.word	23
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 3


 123 000c 13000000 		.word	19
 124 0010 0F000000 		.word	15
 125 0014 0B000000 		.word	11
 126 0018 1F000000 		.word	31
 127 001c 1B000000 		.word	27
 128 0020 05000000 		.word	5
 129 0024 01000000 		.word	1
 130 0028 15000000 		.word	21
 131 002c 11000000 		.word	17
 132 0030 0D000000 		.word	13
 133 0034 09000000 		.word	9
 134 0038 1D000000 		.word	29
 135 003c 19000000 		.word	25
 136              		.global	RME_A7A_Timestamp
 137              		.section	.bss.RME_A7A_Timestamp,"aw",%nobits
 138              		.align	2
 141              	RME_A7A_Timestamp:
 142 0000 00000000 		.space	4
 143              		.global	RME_A7A_Local
 144              		.section	.bss.RME_A7A_Local,"aw",%nobits
 145              		.align	2
 148              	RME_A7A_Local:
 149 0000 00000000 		.space	276
 149      00000000 
 149      00000000 
 149      00000000 
 149      00000000 
 150              		.global	RME_A7A_Kot
 151              		.section	.bss.RME_A7A_Kot,"aw",%nobits
 152              		.align	2
 155              	RME_A7A_Kot:
 156 0000 00000000 		.space	131072
 156      00000000 
 156      00000000 
 156      00000000 
 156      00000000 
 157              		.global	RME_A7A_Mem_Info
 158              		.section	.rodata.RME_A7A_Mem_Info,"a"
 159              		.align	2
 162              	RME_A7A_Mem_Info:
 163 0000 19000000 		.word	25
 164 0004 00000000 		.word	0
 165 0008 00000000 		.word	0
 166 000c 00040000 		.word	1024
 167 0010 0E0C0300 		.word	199694
 168 0014 00000040 		.word	1073741824
 169 0018 00000040 		.word	1073741824
 170 001c 00020000 		.word	512
 171 0020 020C0300 		.word	199682
 172 0024 000000E0 		.word	-536870912
 173 0028 00000060 		.word	1610612736
 174 002c 00020000 		.word	512
 175 0030 020C0300 		.word	199682
 176 0034 00000000 		.word	0
 177 0038 00000080 		.word	-2147483648
 178 003c 00040000 		.word	1024
 179 0040 0E040300 		.word	197646
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 4


 180 0044 00000040 		.word	1073741824
 181 0048 000000C0 		.word	-1073741824
 182 004c 00020000 		.word	512
 183 0050 02040300 		.word	197634
 184 0054 000000E0 		.word	-536870912
 185 0058 000000E0 		.word	-536870912
 186 005c 00020000 		.word	512
 187 0060 02040300 		.word	197634
 188              		.global	RME_A7A_CPU_Cnt
 189              		.section	.bss.RME_A7A_CPU_Cnt,"aw",%nobits
 190              		.align	2
 193              	RME_A7A_CPU_Cnt:
 194 0000 00000000 		.space	4
 195              		.section	.text.main,"ax",%progbits
 196              		.align	2
 197              		.global	main
 198              		.syntax unified
 199              		.arm
 201              	main:
 202              	.LFB0:
   1:../../Source/Platform/A7A/rme_platform_a7a.c **** /******************************************************************************
   2:../../Source/Platform/A7A/rme_platform_a7a.c **** Filename    : platform_a7a.c
   3:../../Source/Platform/A7A/rme_platform_a7a.c **** Author      : pry
   4:../../Source/Platform/A7A/rme_platform_a7a.c **** Date        : 01/04/2017
   5:../../Source/Platform/A7A/rme_platform_a7a.c **** Licence     : LGPL v3+; see COPYING for details.
   6:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The hardware abstraction layer for ARMv7-A machines.
   7:../../Source/Platform/A7A/rme_platform_a7a.c ****               1. Interrupt controller
   8:../../Source/Platform/A7A/rme_platform_a7a.c ****               2. Timer
   9:../../Source/Platform/A7A/rme_platform_a7a.c ****               3. Pgt setup
  10:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  11:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  12:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Include *******************************************************************/
  13:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_DEF__
  14:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  15:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  16:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_DEF__
  17:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  18:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_STRUCT__
  19:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  20:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  21:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_STRUCT__
  22:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  23:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Private include */
  24:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  25:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  26:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_PUBLIC__
  27:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  28:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_PUBLIC__
  29:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Include ***************************************************************/
  30:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  31:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:main **************************************************************
  32:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The entrance of the operating system.
  33:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  34:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  35:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : int - This function never returns.
  36:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  37:../../Source/Platform/A7A/rme_platform_a7a.c **** int main(void)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 5


  38:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 203              		.loc 1 38 1
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 0
 206              		@ frame_needed = 1, uses_anonymous_args = 0
 207 0000 00482DE9 		push	{fp, lr}
 208              		.cfi_def_cfa_offset 8
 209              		.cfi_offset 11, -8
 210              		.cfi_offset 14, -4
 211 0004 04B08DE2 		add	fp, sp, #4
 212              		.cfi_def_cfa 11, 4
  39:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_H(__RME_A7A_ID_ISAR0_Get());
  40:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_I(10);
  41:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_S("hello world\n");
  42:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//while(1);
  43:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('h');
  44:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('e');
  45:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  46:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  47:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  48:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar(' ');
  49:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('w');*/
  50:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  51:../../Source/Platform/A7A/rme_platform_a7a.c ****    /* RME_DBG_S("0123456789\n");
  52:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  53:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  54:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  55:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  56:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  57:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  58:../../Source/Platform/A7A/rme_platform_a7a.c ****     while(1);*/
  59:../../Source/Platform/A7A/rme_platform_a7a.c ****    // __RME_Putchar('h');
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('e');
  61:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  62:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');*/
  63:../../Source/Platform/A7A/rme_platform_a7a.c ****     //__RME_Putchar('o');
  64:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('w');
  65:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  66:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('r');
  67:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  68:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('d');*/
  69:../../Source/Platform/A7A/rme_platform_a7a.c ****    RME_Kmain();
 213              		.loc 1 69 4
 214 0008 FEFFFFEB 		bl	RME_Kmain
  70:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  71:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     //test
  73:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The main function of the kernel - we will start our kernel boot here */
  74:../../Source/Platform/A7A/rme_platform_a7a.c ****     //_RME_Kmain(RME_KOM_STACK_ADDR);
  75:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  76:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 215              		.loc 1 76 12
 216 000c 0030A0E3 		mov	r3, #0
  77:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 217              		.loc 1 77 1
 218 0010 0300A0E1 		mov	r0, r3
 219 0014 0088BDE8 		pop	{fp, pc}
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 6


 220              		.cfi_endproc
 221              	.LFE0:
 223              		.section	.text.__RME_Putchar,"ax",%progbits
 224              		.align	2
 225              		.global	__RME_Putchar
 226              		.syntax unified
 227              		.arm
 229              	__RME_Putchar:
 230              	.LFB1:
  78:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
  79:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  80:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Putchar *****************************************************
  81:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Output a character to console. In Cortex-M, under most circumstances, 
  82:../../Source/Platform/A7A/rme_platform_a7a.c ****               we should use the ITM for such outputs.
  83:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : char Char - The character to print.
  84:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  85:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
  86:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  87:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Putchar(char Char)
  88:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 231              		.loc 1 88 1
 232              		.cfi_startproc
 233              		@ args = 0, pretend = 0, frame = 8
 234              		@ frame_needed = 1, uses_anonymous_args = 0
 235              		@ link register save eliminated.
 236 0000 04B02DE5 		str	fp, [sp, #-4]!
 237              		.cfi_def_cfa_offset 4
 238              		.cfi_offset 11, -4
 239 0004 00B08DE2 		add	fp, sp, #0
 240              		.cfi_def_cfa_register 11
 241 0008 0CD04DE2 		sub	sp, sp, #12
 242 000c 0030A0E1 		mov	r3, r0
 243 0010 05304BE5 		strb	r3, [fp, #-5]
 244              	.L4:
  89:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PUTCHAR(Char);
 245              		.loc 1 89 5 discriminator 1
 246 0014 2C3001E3 		movw	r3, #4140
 247 0018 00304EE3 		movt	r3, 57344
 248 001c 003093E5 		ldr	r3, [r3]
 249 0020 083003E2 		and	r3, r3, #8
 250 0024 000053E3 		cmp	r3, #0
 251 0028 F9FFFF0A 		beq	.L4
 252              		.loc 1 89 5 is_stmt 0 discriminator 2
 253 002c 303001E3 		movw	r3, #4144
 254 0030 00304EE3 		movt	r3, 57344
 255 0034 D5205BE1 		ldrsb	r2, [fp, #-5]
 256 0038 002083E5 		str	r2, [r3]
  90:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 257              		.loc 1 90 12 is_stmt 1
 258 003c 0030A0E3 		mov	r3, #0
  91:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 259              		.loc 1 91 1
 260 0040 0300A0E1 		mov	r0, r3
 261 0044 00D08BE2 		add	sp, fp, #0
 262              		.cfi_def_cfa_register 13
 263              		@ sp needed
 264 0048 04B09DE4 		ldr	fp, [sp], #4
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 7


 265              		.cfi_restore 11
 266              		.cfi_def_cfa_offset 0
 267 004c 1EFF2FE1 		bx	lr
 268              		.cfi_endproc
 269              	.LFE1:
 271              		.section	.rodata
 272              		.align	2
 273              	.LC0:
 274 0000 0D0A4137 		.ascii	"\015\012A7A-GIC: ProductID: \000"
 274      412D4749 
 274      433A2050 
 274      726F6475 
 274      63744944 
 275 0017 00       		.align	2
 276              	.LC1:
 277 0018 0D0A4137 		.ascii	"\015\012A7A-GIC: Variant: \000"
 277      412D4749 
 277      433A2056 
 277      61726961 
 277      6E743A20 
 278 002d 000000   		.align	2
 279              	.LC2:
 280 0030 0D0A4137 		.ascii	"\015\012A7A-GIC: Revision: \000"
 280      412D4749 
 280      433A2052 
 280      65766973 
 280      696F6E3A 
 281 0046 0000     		.align	2
 282              	.LC3:
 283 0048 0D0A4137 		.ascii	"\015\012A7A-GIC: Implementer: 0x\000"
 283      412D4749 
 283      433A2049 
 283      6D706C65 
 283      6D656E74 
 284 0063 00       		.align	2
 285              	.LC4:
 286 0064 0D0A4137 		.ascii	"\015\012A7A-GIC: SPI number: \000"
 286      412D4749 
 286      433A2053 
 286      5049206E 
 286      756D6265 
 287              		.align	2
 288              	.LC5:
 289 007c 0D0A4137 		.ascii	"\015\012A7A-GIC: Security extension: \000"
 289      412D4749 
 289      433A2053 
 289      65637572 
 289      69747920 
 290              		.align	2
 291              	.LC6:
 292 009c 0D0A4137 		.ascii	"\015\012A7A-GIC: CPU number: \000"
 292      412D4749 
 292      433A2043 
 292      5055206E 
 292      756D6265 
 293              		.align	2
 294              	.LC7:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 8


 295 00b4 0D0A4137 		.ascii	"\015\012A7A-GIC: Interrupt line number: \000"
 295      412D4749 
 295      433A2049 
 295      6E746572 
 295      72757074 
 296              		.section	.text.__RME_A7A_Int_Init,"ax",%progbits
 297              		.align	2
 298              		.syntax unified
 299              		.arm
 301              	__RME_A7A_Int_Init:
 302              	.LFB2:
  92:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Putchar ************************************************/
  93:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  94:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_CPU_Local_Get ******************************************
  95:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the CPU-local data structures. This is to identify where we are
  96:../../Source/Platform/A7A/rme_platform_a7a.c ****               executing.
  97:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  98:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  99:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : struct RME_CPU_Local* - The CPU-local data structures.
 100:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 101:../../Source/Platform/A7A/rme_platform_a7a.c **** /*struct RME_CPU_Local* __RME_A7A_CPU_Local_Get(void)
 102:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 103:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return &RME_A7A_Local[__RME_A7A_MPIDR_Get()&0x03];
 104:../../Source/Platform/A7A/rme_platform_a7a.c **** }*/
 105:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_CPU_Local_Get *************************************/
 106:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 107:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Init ***********************************************
 108:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 109:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 110:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 111:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 112:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 113:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 114:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 115:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Init(void)
 116:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 303              		.loc 1 116 1
 304              		.cfi_startproc
 305              		@ args = 0, pretend = 0, frame = 8
 306              		@ frame_needed = 1, uses_anonymous_args = 0
 307 0000 00482DE9 		push	{fp, lr}
 308              		.cfi_def_cfa_offset 8
 309              		.cfi_offset 11, -8
 310              		.cfi_offset 14, -4
 311 0004 04B08DE2 		add	fp, sp, #4
 312              		.cfi_def_cfa 11, 4
 313 0008 08D04DE2 		sub	sp, sp, #8
 117:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
 118:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Lines;
 119:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 120:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Who implemented the GIC, what variant, how many interrupts? */
 121:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_IIDR;
 314              		.loc 1 121 10
 315 000c 083001E3 		movw	r3, #4104
 316 0010 F0384FE3 		movt	r3, 63728
 317              		.loc 1 121 9
 318 0014 003093E5 		ldr	r3, [r3]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 9


 319 0018 08300BE5 		str	r3, [fp, #-8]
 122:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 320              		.loc 1 122 5
 321 001c 000000E3 		movw	r0, #:lower16:.LC0
 322 0020 000040E3 		movt	r0, #:upper16:.LC0
 323 0024 FEFFFFEB 		bl	RME_Str_Print
 123:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>24);
 324              		.loc 1 123 5
 325 0028 08301BE5 		ldr	r3, [fp, #-8]
 326 002c 233CA0E1 		lsr	r3, r3, #24
 327 0030 0300A0E1 		mov	r0, r3
 328 0034 FEFFFFEB 		bl	RME_Int_Print
 124:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Variant: ");
 329              		.loc 1 124 5
 330 0038 000000E3 		movw	r0, #:lower16:.LC1
 331 003c 000040E3 		movt	r0, #:upper16:.LC1
 332 0040 FEFFFFEB 		bl	RME_Str_Print
 125:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>20)&0xF);
 333              		.loc 1 125 5
 334 0044 08301BE5 		ldr	r3, [fp, #-8]
 335 0048 233AA0E1 		lsr	r3, r3, #20
 336 004c 0F3003E2 		and	r3, r3, #15
 337 0050 0300A0E1 		mov	r0, r3
 338 0054 FEFFFFEB 		bl	RME_Int_Print
 126:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Revision: ");
 339              		.loc 1 126 5
 340 0058 000000E3 		movw	r0, #:lower16:.LC2
 341 005c 000040E3 		movt	r0, #:upper16:.LC2
 342 0060 FEFFFFEB 		bl	RME_Str_Print
 127:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>12)&0xF);
 343              		.loc 1 127 5
 344 0064 08301BE5 		ldr	r3, [fp, #-8]
 345 0068 2336A0E1 		lsr	r3, r3, #12
 346 006c 0F3003E2 		and	r3, r3, #15
 347 0070 0300A0E1 		mov	r0, r3
 348 0074 FEFFFFEB 		bl	RME_Int_Print
 128:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Implementer: 0x");
 349              		.loc 1 128 5
 350 0078 000000E3 		movw	r0, #:lower16:.LC3
 351 007c 000040E3 		movt	r0, #:upper16:.LC3
 352 0080 FEFFFFEB 		bl	RME_Str_Print
 129:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Temp&0xFFF);
 353              		.loc 1 129 5
 354 0084 08301BE5 		ldr	r3, [fp, #-8]
 355 0088 5330EBE7 		ubfx	r3, r3, #0, #12
 356 008c 0300A0E1 		mov	r0, r3
 357 0090 FEFFFFEB 		bl	RME_Hex_Print
 130:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 131:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* How many locked SPIs, security extension enabled or not, number of
 132:../../Source/Platform/A7A/rme_platform_a7a.c ****      * actual CPUs and interrupt lines */
 133:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_TYPER;
 358              		.loc 1 133 10
 359 0094 043001E3 		movw	r3, #4100
 360 0098 F0384FE3 		movt	r3, 63728
 361              		.loc 1 133 9
 362 009c 003093E5 		ldr	r3, [r3]
 363 00a0 08300BE5 		str	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 10


 134:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
 364              		.loc 1 134 5
 365 00a4 000000E3 		movw	r0, #:lower16:.LC4
 366 00a8 000040E3 		movt	r0, #:upper16:.LC4
 367 00ac FEFFFFEB 		bl	RME_Str_Print
 135:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 368              		.loc 1 135 5
 369 00b0 08301BE5 		ldr	r3, [fp, #-8]
 370 00b4 2338A0E1 		lsr	r3, r3, #16
 371 00b8 0300A0E1 		mov	r0, r3
 372 00bc FEFFFFEB 		bl	RME_Int_Print
 136:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Security extension: ");
 373              		.loc 1 136 5
 374 00c0 000000E3 		movw	r0, #:lower16:.LC5
 375 00c4 000040E3 		movt	r0, #:upper16:.LC5
 376 00c8 FEFFFFEB 		bl	RME_Str_Print
 137:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>10)&0x1);
 377              		.loc 1 137 5
 378 00cc 08301BE5 		ldr	r3, [fp, #-8]
 379 00d0 2335A0E1 		lsr	r3, r3, #10
 380 00d4 013003E2 		and	r3, r3, #1
 381 00d8 0300A0E1 		mov	r0, r3
 382 00dc FEFFFFEB 		bl	RME_Int_Print
 138:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: CPU number: ");
 383              		.loc 1 138 5
 384 00e0 000000E3 		movw	r0, #:lower16:.LC6
 385 00e4 000040E3 		movt	r0, #:upper16:.LC6
 386 00e8 FEFFFFEB 		bl	RME_Str_Print
 139:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(((Temp>>5)&0x7)+1);
 387              		.loc 1 139 5
 388 00ec 08301BE5 		ldr	r3, [fp, #-8]
 389 00f0 A332A0E1 		lsr	r3, r3, #5
 390 00f4 073003E2 		and	r3, r3, #7
 391 00f8 013083E2 		add	r3, r3, #1
 392 00fc 0300A0E1 		mov	r0, r3
 393 0100 FEFFFFEB 		bl	RME_Int_Print
 140:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 394              		.loc 1 140 5
 395 0104 000000E3 		movw	r0, #:lower16:.LC7
 396 0108 000040E3 		movt	r0, #:upper16:.LC7
 397 010c FEFFFFEB 		bl	RME_Str_Print
 141:../../Source/Platform/A7A/rme_platform_a7a.c ****     Lines=((Temp&0x1F)+1)*32;
 398              		.loc 1 141 17
 399 0110 08301BE5 		ldr	r3, [fp, #-8]
 400 0114 1F3003E2 		and	r3, r3, #31
 401              		.loc 1 141 23
 402 0118 013083E2 		add	r3, r3, #1
 403              		.loc 1 141 10
 404 011c 8332A0E1 		lsl	r3, r3, #5
 405 0120 0C300BE5 		str	r3, [fp, #-12]
 142:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 406              		.loc 1 142 5
 407 0124 0C301BE5 		ldr	r3, [fp, #-12]
 408 0128 0300A0E1 		mov	r0, r3
 409 012c FEFFFFEB 		bl	RME_Int_Print
 143:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 144:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 11


 145:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 146:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 0, and disable all */
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/32;Temp++)
 410              		.loc 1 147 10
 411 0130 0030A0E3 		mov	r3, #0
 412 0134 08300BE5 		str	r3, [fp, #-8]
 413              		.loc 1 147 2
 414 0138 1A0000EA 		b	.L7
 415              	.L8:
 148:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 416              		.loc 1 149 3
 417 013c 08201BE5 		ldr	r2, [fp, #-8]
 418 0140 4A3EA0E3 		mov	r3, #1184
 419 0144 3C3E43E3 		movt	r3, 15932
 420 0148 033082E0 		add	r3, r2, r3
 421 014c 0331A0E1 		lsl	r3, r3, #2
 422 0150 0320A0E1 		mov	r2, r3
 423              		.loc 1 149 29
 424 0154 0030E0E3 		mvn	r3, #0
 425 0158 003082E5 		str	r3, [r2]
 150:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 426              		.loc 1 150 3
 427 015c 08201BE5 		ldr	r2, [fp, #-8]
 428 0160 423EA0E3 		mov	r3, #1056
 429 0164 3C3E43E3 		movt	r3, 15932
 430 0168 033082E0 		add	r3, r2, r3
 431 016c 0331A0E1 		lsl	r3, r3, #2
 432 0170 0320A0E1 		mov	r2, r3
 433              		.loc 1 150 29
 434 0174 0030A0E3 		mov	r3, #0
 435 0178 003082E5 		str	r3, [r2]
 151:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 436              		.loc 1 151 3
 437 017c 08201BE5 		ldr	r2, [fp, #-8]
 438 0180 463EA0E3 		mov	r3, #1120
 439 0184 3C3E43E3 		movt	r3, 15932
 440 0188 033082E0 		add	r3, r2, r3
 441 018c 0331A0E1 		lsl	r3, r3, #2
 442 0190 0320A0E1 		mov	r2, r3
 443              		.loc 1 151 31
 444 0194 0030E0E3 		mvn	r3, #0
 445 0198 003082E5 		str	r3, [r2]
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 446              		.loc 1 147 31 discriminator 3
 447 019c 08301BE5 		ldr	r3, [fp, #-8]
 448 01a0 013083E2 		add	r3, r3, #1
 449 01a4 08300BE5 		str	r3, [fp, #-8]
 450              	.L7:
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 451              		.loc 1 147 23 discriminator 1
 452 01a8 0C301BE5 		ldr	r3, [fp, #-12]
 453 01ac A332A0E1 		lsr	r3, r3, #5
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 454              		.loc 1 147 17 discriminator 1
 455 01b0 08201BE5 		ldr	r2, [fp, #-8]
 456 01b4 030052E1 		cmp	r2, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 12


 457 01b8 DFFFFF3A 		bcc	.L8
 152:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 153:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Set the priority of all such interrupts to the lowest level */
 155:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/4;Temp++)
 458              		.loc 1 155 10
 459 01bc 0030A0E3 		mov	r3, #0
 460 01c0 08300BE5 		str	r3, [fp, #-8]
 461              		.loc 1 155 2
 462 01c4 0B0000EA 		b	.L9
 463              	.L10:
 156:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 464              		.loc 1 156 3
 465 01c8 08201BE5 		ldr	r2, [fp, #-8]
 466 01cc 053CA0E3 		mov	r3, #1280
 467 01d0 3C3E43E3 		movt	r3, 15932
 468 01d4 033082E0 		add	r3, r2, r3
 469 01d8 0331A0E1 		lsl	r3, r3, #2
 470 01dc 0320A0E1 		mov	r2, r3
 471              		.loc 1 156 32
 472 01e0 A0300AE3 		movw	r3, #41120
 473 01e4 A0304AE3 		movt	r3, 41120
 474 01e8 003082E5 		str	r3, [r2]
 155:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 475              		.loc 1 155 30 discriminator 3
 476 01ec 08301BE5 		ldr	r3, [fp, #-8]
 477 01f0 013083E2 		add	r3, r3, #1
 478 01f4 08300BE5 		str	r3, [fp, #-8]
 479              	.L9:
 155:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 480              		.loc 1 155 23 discriminator 1
 481 01f8 0C301BE5 		ldr	r3, [fp, #-12]
 482 01fc 2331A0E1 		lsr	r3, r3, #2
 155:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 483              		.loc 1 155 17 discriminator 1
 484 0200 08201BE5 		ldr	r2, [fp, #-8]
 485 0204 030052E1 		cmp	r2, r3
 486 0208 EEFFFF3A 		bcc	.L10
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts target CPU0 */
 159:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=8;Temp<Lines/4;Temp++)
 487              		.loc 1 159 10
 488 020c 0830A0E3 		mov	r3, #8
 489 0210 08300BE5 		str	r3, [fp, #-8]
 490              		.loc 1 159 2
 491 0214 0B0000EA 		b	.L11
 492              	.L12:
 160:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 493              		.loc 1 160 3
 494 0218 08201BE5 		ldr	r2, [fp, #-8]
 495 021c 063CA0E3 		mov	r3, #1536
 496 0220 3C3E43E3 		movt	r3, 15932
 497 0224 033082E0 		add	r3, r2, r3
 498 0228 0331A0E1 		lsl	r3, r3, #2
 499 022c 0320A0E1 		mov	r2, r3
 500              		.loc 1 160 31
 501 0230 013100E3 		movw	r3, #257
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 13


 502 0234 013140E3 		movt	r3, 257
 503 0238 003082E5 		str	r3, [r2]
 159:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 504              		.loc 1 159 30 discriminator 3
 505 023c 08301BE5 		ldr	r3, [fp, #-8]
 506 0240 013083E2 		add	r3, r3, #1
 507 0244 08300BE5 		str	r3, [fp, #-8]
 508              	.L11:
 159:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 509              		.loc 1 159 23 discriminator 1
 510 0248 0C301BE5 		ldr	r3, [fp, #-12]
 511 024c 2331A0E1 		lsr	r3, r3, #2
 159:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 512              		.loc 1 159 17 discriminator 1
 513 0250 08201BE5 		ldr	r2, [fp, #-8]
 514 0254 030052E1 		cmp	r2, r3
 515 0258 EEFFFF3A 		bcc	.L12
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts are edge triggered, and use 1-N model */
 163:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/16;Temp++)
 516              		.loc 1 163 10
 517 025c 0030A0E3 		mov	r3, #0
 518 0260 08300BE5 		str	r3, [fp, #-8]
 519              		.loc 1 163 2
 520 0264 0B0000EA 		b	.L13
 521              	.L14:
 164:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 522              		.loc 1 164 3
 523 0268 08201BE5 		ldr	r2, [fp, #-8]
 524 026c 073CA0E3 		mov	r3, #1792
 525 0270 3C3E43E3 		movt	r3, 15932
 526 0274 033082E0 		add	r3, r2, r3
 527 0278 0331A0E1 		lsl	r3, r3, #2
 528 027c 0320A0E1 		mov	r2, r3
 529              		.loc 1 164 27
 530 0280 553505E3 		movw	r3, #21845
 531 0284 553545E3 		movt	r3, 21845
 532 0288 003082E5 		str	r3, [r2]
 163:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 533              		.loc 1 163 31 discriminator 3
 534 028c 08301BE5 		ldr	r3, [fp, #-8]
 535 0290 013083E2 		add	r3, r3, #1
 536 0294 08300BE5 		str	r3, [fp, #-8]
 537              	.L13:
 163:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 538              		.loc 1 163 23 discriminator 1
 539 0298 0C301BE5 		ldr	r3, [fp, #-12]
 540 029c 2332A0E1 		lsr	r3, r3, #4
 163:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 541              		.loc 1 163 17 discriminator 1
 542 02a0 08201BE5 		ldr	r2, [fp, #-8]
 543 02a4 030052E1 		cmp	r2, r3
 544 02a8 EEFFFF3A 		bcc	.L14
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 166:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable the interrupt controller */
 167:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 545              		.loc 1 167 2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 14


 546 02ac 013AA0E3 		mov	r3, #4096
 547 02b0 F0384FE3 		movt	r3, 63728
 548              		.loc 1 167 19
 549 02b4 0320A0E3 		mov	r2, #3
 550 02b8 002083E5 		str	r2, [r3]
 168:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 169:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 1, unless otherwise noted, and disable all */
 170:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/32;Temp++)
 171:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 172:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 173:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_IGROUPR(Temp)=0xFFFFFFFFU;
 174:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 175:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 176:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 177:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the priority of all such interrupts to the lowest level*/
 178:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/4;Temp++)
 179:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xE0E0E0E0U;
 180:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 181:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts target CPU0 */
 182:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=8;Temp<Lines/4;Temp++)
 183:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 184:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 185:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts are edge triggered, and use 1-N model */
 186:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/16;Temp++)
 187:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICFGR(Temp)=0xFFFFFFFFU;
 188:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 189:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the interrupt controller */
 190:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 191:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 192:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 551              		.loc 1 192 1
 552 02bc 00F020E3 		nop
 553 02c0 04D04BE2 		sub	sp, fp, #4
 554              		.cfi_def_cfa 13, 8
 555              		@ sp needed
 556 02c4 0088BDE8 		pop	{fp, pc}
 557              		.cfi_endproc
 558              	.LFE2:
 560              		.section	.text.__RME_A7A_Int_Local_Init,"ax",%progbits
 561              		.align	2
 562              		.global	__RME_A7A_Int_Local_Init
 563              		.syntax unified
 564              		.arm
 566              	__RME_A7A_Int_Local_Init:
 567              	.LFB3:
 193:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Init ******************************************/
 194:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 195:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Local_Init *****************************************
 196:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the local CPU interface of the processor.
 197:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 198:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 199:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 200:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 201:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Local_Init(void)
 202:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 568              		.loc 1 202 1
 569              		.cfi_startproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 15


 570              		@ args = 0, pretend = 0, frame = 0
 571              		@ frame_needed = 1, uses_anonymous_args = 0
 572              		@ link register save eliminated.
 573 0000 04B02DE5 		str	fp, [sp, #-4]!
 574              		.cfi_def_cfa_offset 4
 575              		.cfi_offset 11, -4
 576 0004 00B08DE2 		add	fp, sp, #0
 577              		.cfi_def_cfa_register 11
 203:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Priority grouping */
 204:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_BPR=RME_A7A_GIC_GROUPING;
 578              		.loc 1 204 2
 579 0008 413FA0E3 		mov	r3, #260
 580 000c F0384FE3 		movt	r3, 63728
 581              		.loc 1 204 18
 582 0010 0020A0E3 		mov	r2, #0
 583 0014 002083E5 		str	r2, [r3]
 205:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 207:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable all interrupts to this interface - FIQ is bypassed, and all
 208:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * interrupts go through the IRQ. The FIQ feature is only available on
 209:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * the standalone FIQ interrupt line */
 210:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_ENABLEGRP0;
 584              		.loc 1 210 2
 585 0018 013CA0E3 		mov	r3, #256
 586 001c F0384FE3 		movt	r3, 63728
 587              		.loc 1 210 19
 588 0020 0120A0E3 		mov	r2, #1
 589 0024 002083E5 		str	r2, [r3]
 211:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 212:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_CBPR|RME_A7A_GICC_FIQEN|
 213:../../Source/Platform/A7A/rme_platform_a7a.c **** 			           RME_A7A_GICC_ENABLEGRP1|RME_A7A_GICC_ENABLEGRP0;
 214:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 215:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 216:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* No interrupts are masked - This must be set at last because enabling
 217:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * will trash the contents of this register if previously set. To maintain
 218:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * compatibility across all possible implementations, no priority level
 219:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * lower than 0xF0 will be considered valid */
 220:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_PMR=0xF0U;
 590              		.loc 1 220 2
 591 0028 413FA0E3 		mov	r3, #260
 592 002c F0384FE3 		movt	r3, 63728
 593              		.loc 1 220 18
 594 0030 F020A0E3 		mov	r2, #240
 595 0034 002083E5 		str	r2, [r3]
 221:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 596              		.loc 1 221 1
 597 0038 00F020E3 		nop
 598 003c 00D08BE2 		add	sp, fp, #0
 599              		.cfi_def_cfa_register 13
 600              		@ sp needed
 601 0040 04B09DE4 		ldr	fp, [sp], #4
 602              		.cfi_restore 11
 603              		.cfi_def_cfa_offset 0
 604 0044 1EFF2FE1 		bx	lr
 605              		.cfi_endproc
 606              	.LFE3:
 608              		.section	.text.__RME_A7A_Timer_Init,"ax",%progbits
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 16


 609              		.align	2
 610              		.syntax unified
 611              		.arm
 613              	__RME_A7A_Timer_Init:
 614              	.LFB4:
 222:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Local_Init ************************************/
 223:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 224:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Timer_Init *********************************************
 225:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 226:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 227:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 228:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 229:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 230:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 231:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 232:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Timer_Init(void)
 233:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 615              		.loc 1 233 1
 616              		.cfi_startproc
 617              		@ args = 0, pretend = 0, frame = 0
 618              		@ frame_needed = 1, uses_anonymous_args = 0
 619              		@ link register save eliminated.
 620 0000 04B02DE5 		str	fp, [sp, #-4]!
 621              		.cfi_def_cfa_offset 4
 622              		.cfi_offset 11, -4
 623 0004 00B08DE2 		add	fp, sp, #0
 624              		.cfi_def_cfa_register 11
 234:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 235:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 236:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Writing this will also write the counter register as well */
 237:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTLR=RME_A7A_SYSTICK_VAL;
 625              		.loc 1 237 5
 626 0008 063CA0E3 		mov	r3, #1536
 627 000c F0384FE3 		movt	r3, 63728
 628              		.loc 1 237 22
 629 0010 782408E3 		movw	r2, #33912
 630 0014 3A2040E3 		movt	r2, 58
 631 0018 002083E5 		str	r2, [r3]
 238:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 239:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTISR=0;
 632              		.loc 1 239 5
 633 001c 0C3600E3 		movw	r3, #1548
 634 0020 F0384FE3 		movt	r3, 63728
 635              		.loc 1 239 23
 636 0024 0020A0E3 		mov	r2, #0
 637 0028 002083E5 		str	r2, [r3]
 240:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 241:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTCTLR=RME_A7A_PTWD_PTCTLR_PRESC(0)|
 638              		.loc 1 241 5
 639 002c 083600E3 		movw	r3, #1544
 640 0030 F0384FE3 		movt	r3, 63728
 641              		.loc 1 241 24
 642 0034 0720A0E3 		mov	r2, #7
 643 0038 002083E5 		str	r2, [r3]
 242:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 243:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_AUTOREL|
 244:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_TIMEN;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 17


 245:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 246:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the timer interrupt in the GIC */
 247:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_ISENABLER(0)|=1<<29;
 644              		.loc 1 247 5
 645 003c 113CA0E3 		mov	r3, #4352
 646 0040 F0384FE3 		movt	r3, 63728
 647 0044 002093E5 		ldr	r2, [r3]
 648 0048 113CA0E3 		mov	r3, #4352
 649 004c F0384FE3 		movt	r3, 63728
 650              		.loc 1 247 30
 651 0050 022282E3 		orr	r2, r2, #536870912
 652 0054 002083E5 		str	r2, [r3]
 248:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 249:../../Source/Platform/A7A/rme_platform_a7a.c **** 	#error Cortex-A7/8/15/17 is not supported at the moment.
 250:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cortex-A7/15/17 use the new generic timer, and Cortex-A8 does not
 251:../../Source/Platform/A7A/rme_platform_a7a.c **** 	have a processor timer due to very early release dates.
 252:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 253:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 653              		.loc 1 253 1
 654 0058 00F020E3 		nop
 655 005c 00D08BE2 		add	sp, fp, #0
 656              		.cfi_def_cfa_register 13
 657              		@ sp needed
 658 0060 04B09DE4 		ldr	fp, [sp], #4
 659              		.cfi_restore 11
 660              		.cfi_def_cfa_offset 0
 661 0064 1EFF2FE1 		bx	lr
 662              		.cfi_endproc
 663              	.LFE4:
 665              		.section	.text.__RME_A7A_Feature_Get,"ax",%progbits
 666              		.align	2
 667              		.global	__RME_A7A_Feature_Get
 668              		.syntax unified
 669              		.arm
 671              	__RME_A7A_Feature_Get:
 672              	.LFB5:
 254:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Timer_Init ****************************************/
 255:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 256:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Feature_Get ********************************************
 257:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Use the CPUID instruction extensively to get all the processor
 258:../../Source/Platform/A7A/rme_platform_a7a.c ****               information. We assume that all processors installed have the same
 259:../../Source/Platform/A7A/rme_platform_a7a.c ****               features.
 260:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 261:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 262:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 263:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 264:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Feature_Get(void)
 265:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 673              		.loc 1 265 1
 674              		.cfi_startproc
 675              		@ args = 0, pretend = 0, frame = 0
 676              		@ frame_needed = 1, uses_anonymous_args = 0
 677              		@ link register save eliminated.
 678 0000 04B02DE5 		str	fp, [sp, #-4]!
 679              		.cfi_def_cfa_offset 4
 680              		.cfi_offset 11, -4
 681 0004 00B08DE2 		add	fp, sp, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 18


 682              		.cfi_def_cfa_register 11
 266:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 267:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* TODO: Check these flags. If not satisfied, we hang immediately. */
 268:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 683              		.loc 1 268 1
 684 0008 00F020E3 		nop
 685 000c 00D08BE2 		add	sp, fp, #0
 686              		.cfi_def_cfa_register 13
 687              		@ sp needed
 688 0010 04B09DE4 		ldr	fp, [sp], #4
 689              		.cfi_restore 11
 690              		.cfi_def_cfa_offset 0
 691 0014 1EFF2FE1 		bx	lr
 692              		.cfi_endproc
 693              	.LFE5:
 695              		.section	.text.__RME_A7A_Mem_Init,"ax",%progbits
 696              		.align	2
 697              		.global	__RME_A7A_Mem_Init
 698              		.syntax unified
 699              		.arm
 701              	__RME_A7A_Mem_Init:
 702              	.LFB6:
 269:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Feature_Get ***************************************/
 270:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 271:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Mem_Init ***********************************************
 272:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the memory map, and get the size of kernel object
 273:../../Source/Platform/A7A/rme_platform_a7a.c ****               allocation registration table(Kot) and page table reference
 274:../../Source/Platform/A7A/rme_platform_a7a.c ****               count registration table(Pgreg).
 275:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t MMap_Addr - The GRUB multiboot memory map data address.
 276:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t MMap_Length - The GRUB multiboot memory map data length.
 277:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 278:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 279:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 280:../../Source/Platform/A7A/rme_platform_a7a.c **** const rme_ptr_t RME_A7A_Mem_Info[RME_A7A_MEM_ENTRIES]={RME_A7A_MEM_CONTENTS};
 281:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Mem_Init(rme_ptr_t MMap_Addr, rme_ptr_t MMap_Length)
 282:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 703              		.loc 1 282 1
 704              		.cfi_startproc
 705              		@ args = 0, pretend = 0, frame = 8
 706              		@ frame_needed = 1, uses_anonymous_args = 0
 707              		@ link register save eliminated.
 708 0000 04B02DE5 		str	fp, [sp, #-4]!
 709              		.cfi_def_cfa_offset 4
 710              		.cfi_offset 11, -4
 711 0004 00B08DE2 		add	fp, sp, #0
 712              		.cfi_def_cfa_register 11
 713 0008 0CD04DE2 		sub	sp, sp, #12
 714 000c 08000BE5 		str	r0, [fp, #-8]
 715 0010 0C100BE5 		str	r1, [fp, #-12]
 283:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 284:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 716              		.loc 1 284 1
 717 0014 00F020E3 		nop
 718 0018 00D08BE2 		add	sp, fp, #0
 719              		.cfi_def_cfa_register 13
 720              		@ sp needed
 721 001c 04B09DE4 		ldr	fp, [sp], #4
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 19


 722              		.cfi_restore 11
 723              		.cfi_def_cfa_offset 0
 724 0020 1EFF2FE1 		bx	lr
 725              		.cfi_endproc
 726              	.LFE6:
 728              		.section	.text.__RME_A7A_SMP_Init,"ax",%progbits
 729              		.align	2
 730              		.global	__RME_A7A_SMP_Init
 731              		.syntax unified
 732              		.arm
 734              	__RME_A7A_SMP_Init:
 735              	.LFB7:
 285:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Mem_Init ******************************************/
 286:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 287:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Init ***********************************************
 288:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Start all other processors, one by one.
 289:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 290:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 291:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 292:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 293:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Init(void)
 294:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 736              		.loc 1 294 1
 737              		.cfi_startproc
 738              		@ args = 0, pretend = 0, frame = 0
 739              		@ frame_needed = 1, uses_anonymous_args = 0
 740              		@ link register save eliminated.
 741 0000 04B02DE5 		str	fp, [sp, #-4]!
 742              		.cfi_def_cfa_offset 4
 743              		.cfi_offset 11, -4
 744 0004 00B08DE2 		add	fp, sp, #0
 745              		.cfi_def_cfa_register 11
 295:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 296:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 746              		.loc 1 296 1
 747 0008 00F020E3 		nop
 748 000c 00D08BE2 		add	sp, fp, #0
 749              		.cfi_def_cfa_register 13
 750              		@ sp needed
 751 0010 04B09DE4 		ldr	fp, [sp], #4
 752              		.cfi_restore 11
 753              		.cfi_def_cfa_offset 0
 754 0014 1EFF2FE1 		bx	lr
 755              		.cfi_endproc
 756              	.LFE7:
 758              		.section	.text.__RME_A7A_SMP_Tick,"ax",%progbits
 759              		.align	2
 760              		.global	__RME_A7A_SMP_Tick
 761              		.syntax unified
 762              		.arm
 764              	__RME_A7A_SMP_Tick:
 765              	.LFB8:
 297:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Init ******************************************/
 298:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 299:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Tick ***********************************************
 300:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Send IPI to all other cores,to run their handler on the time.
 301:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 20


 302:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 303:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 304:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 305:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Tick(void)
 306:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 766              		.loc 1 306 1
 767              		.cfi_startproc
 768              		@ args = 0, pretend = 0, frame = 0
 769              		@ frame_needed = 1, uses_anonymous_args = 0
 770              		@ link register save eliminated.
 771 0000 04B02DE5 		str	fp, [sp, #-4]!
 772              		.cfi_def_cfa_offset 4
 773              		.cfi_offset 11, -4
 774 0004 00B08DE2 		add	fp, sp, #0
 775              		.cfi_def_cfa_register 11
 307:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 308:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 776              		.loc 1 308 1
 777 0008 00F020E3 		nop
 778 000c 00D08BE2 		add	sp, fp, #0
 779              		.cfi_def_cfa_register 13
 780              		@ sp needed
 781 0010 04B09DE4 		ldr	fp, [sp], #4
 782              		.cfi_restore 11
 783              		.cfi_def_cfa_offset 0
 784 0014 1EFF2FE1 		bx	lr
 785              		.cfi_endproc
 786              	.LFE8:
 788              		.section	.rodata
 789 00d7 00       		.align	2
 790              	.LC8:
 791 00d8 0D0A4137 		.ascii	"\015\012A7A-Vector: 0x\000"
 791      412D5665 
 791      63746F72 
 791      3A203078 
 791      00
 792 00e9 000000   		.align	2
 793              	.LC9:
 794 00ec 0D0A4137 		.ascii	"\015\012A7A-Non-Secure: \000"
 794      412D4E6F 
 794      6E2D5365 
 794      63757265 
 794      3A2000
 795              		.section	.text.__RME_Lowlvl_Init,"ax",%progbits
 796              		.align	2
 797              		.global	__RME_Lowlvl_Init
 798              		.syntax unified
 799              		.arm
 801              	__RME_Lowlvl_Init:
 802              	.LFB9:
 309:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Tick *******************************************/
 310:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 311:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Lowlvl_Init **********************************************
 312:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the low-level hardware. This assumes that we are already
 313:../../Source/Platform/A7A/rme_platform_a7a.c ****               in Supervisor (SVC) mode.
 314:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 315:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 21


 316:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 317:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 318:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Lowlvl_Init(void)
 319:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 803              		.loc 1 319 1
 804              		.cfi_startproc
 805              		@ args = 0, pretend = 0, frame = 0
 806              		@ frame_needed = 1, uses_anonymous_args = 0
 807 0000 00482DE9 		push	{fp, lr}
 808              		.cfi_def_cfa_offset 8
 809              		.cfi_offset 11, -8
 810              		.cfi_offset 14, -4
 811 0004 04B08DE2 		add	fp, sp, #4
 812              		.cfi_def_cfa 11, 4
 320:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 321:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_LOW_LEVEL_INIT();
 322:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 323:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local data structure */
 324:../../Source/Platform/A7A/rme_platform_a7a.c ****     _RME_CPU_Local_Init(&RME_A7A_Local,0);
 813              		.loc 1 324 5
 814 0008 0010A0E3 		mov	r1, #0
 815 000c 000000E3 		movw	r0, #:lower16:RME_A7A_Local
 816 0010 000040E3 		movt	r0, #:upper16:RME_A7A_Local
 817 0014 FEFFFFEB 		bl	_RME_CPU_Local_Init
 325:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 326:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the interrupt controller */
 327:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_Int_Init();
 818              		.loc 1 327 5
 819 0018 FEFFFFEB 		bl	__RME_A7A_Int_Init
 328:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 329:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize CPU-local interrupt resources */
 330:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Int_Local_Init();
 820              		.loc 1 330 2
 821 001c FEFFFFEB 		bl	__RME_A7A_Int_Local_Init
 331:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 332:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the vector table */
 333:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Vector: 0x");
 822              		.loc 1 333 5
 823 0020 000000E3 		movw	r0, #:lower16:.LC8
 824 0024 000040E3 		movt	r0, #:upper16:.LC8
 825 0028 FEFFFFEB 		bl	RME_Str_Print
 334:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H((rme_ptr_t)&__RME_A7A_Vector_Table);
 826              		.loc 1 334 5
 827 002c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 828 0030 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 829 0034 0300A0E1 		mov	r0, r3
 830 0038 FEFFFFEB 		bl	RME_Hex_Print
 335:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_VBAR_Set((rme_ptr_t)&__RME_A7A_Vector_Table);
 831              		.loc 1 335 5
 832 003c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 833 0040 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 834 0044 0300A0E1 		mov	r0, r3
 835 0048 FEFFFFEB 		bl	__RME_A7A_VBAR_Set
 336:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 337:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Non-Secure: ");
 836              		.loc 1 337 5
 837 004c 000000E3 		movw	r0, #:lower16:.LC9
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 22


 838 0050 000040E3 		movt	r0, #:upper16:.LC9
 839 0054 FEFFFFEB 		bl	RME_Str_Print
 338:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(__RME_A7A_SCR_Get());
 840              		.loc 1 338 5
 841 0058 FEFFFFEB 		bl	__RME_A7A_SCR_Get
 842 005c 0030A0E1 		mov	r3, r0
 843              		.loc 1 338 5 is_stmt 0 discriminator 1
 844 0060 0300A0E1 		mov	r0, r3
 845 0064 FEFFFFEB 		bl	RME_Hex_Print
 339:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 846              		.loc 1 339 1 is_stmt 1
 847 0068 00F020E3 		nop
 848 006c 0088BDE8 		pop	{fp, pc}
 849              		.cfi_endproc
 850              	.LFE9:
 852              		.section	.text.__RME_Pgt_Kom_Init,"ax",%progbits
 853              		.align	2
 854              		.global	__RME_Pgt_Kom_Init
 855              		.syntax unified
 856              		.arm
 858              	__RME_Pgt_Kom_Init:
 859              	.LFB10:
 340:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Lowlvl_Init *****************************************/
 341:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 342:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Kom_Init *********************************************
 343:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the kernel mapping tables, so it can be added to all the
 344:../../Source/Platform/A7A/rme_platform_a7a.c ****               top-level page tables. Currently this have no consideration for >1TB
 345:../../Source/Platform/A7A/rme_platform_a7a.c ****               RAM, and is not NUMA-aware.
 346:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 347:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 348:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 349:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 350:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Kom_Init(void)
 351:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 860              		.loc 1 351 1
 861              		.cfi_startproc
 862              		@ args = 0, pretend = 0, frame = 0
 863              		@ frame_needed = 1, uses_anonymous_args = 0
 864              		@ link register save eliminated.
 865 0000 04B02DE5 		str	fp, [sp, #-4]!
 866              		.cfi_def_cfa_offset 4
 867              		.cfi_offset 11, -4
 868 0004 00B08DE2 		add	fp, sp, #0
 869              		.cfi_def_cfa_register 11
 352:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Use initial page table here instead for kernel, which is sufficient */
 353:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 354:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 870              		.loc 1 354 12
 871 0008 0030A0E3 		mov	r3, #0
 355:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 872              		.loc 1 355 1
 873 000c 0300A0E1 		mov	r0, r3
 874 0010 00D08BE2 		add	sp, fp, #0
 875              		.cfi_def_cfa_register 13
 876              		@ sp needed
 877 0014 04B09DE4 		ldr	fp, [sp], #4
 878              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 23


 879              		.cfi_def_cfa_offset 0
 880 0018 1EFF2FE1 		bx	lr
 881              		.cfi_endproc
 882              	.LFE10:
 884              		.section	.text.__RME_SMP_Low_Level_Init,"ax",%progbits
 885              		.align	2
 886              		.global	__RME_SMP_Low_Level_Init
 887              		.syntax unified
 888              		.arm
 890              	__RME_SMP_Low_Level_Init:
 891              	.LFB11:
 356:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Kom_Init ****************************************/
 357:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 358:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_SMP_Low_Level_Init ******************************************
 359:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Low-level initialization for all other cores.
 360:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 361:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 362:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 363:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 364:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_SMP_Low_Level_Init(void)
 365:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 892              		.loc 1 365 1
 893              		.cfi_startproc
 894              		@ args = 0, pretend = 0, frame = 0
 895              		@ frame_needed = 1, uses_anonymous_args = 0
 896              		@ link register save eliminated.
 897 0000 04B02DE5 		str	fp, [sp, #-4]!
 898              		.cfi_def_cfa_offset 4
 899              		.cfi_offset 11, -4
 900 0004 00B08DE2 		add	fp, sp, #0
 901              		.cfi_def_cfa_register 11
 366:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 367:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_SMP_LOW_LEVEL_INIT();
 368:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local variables */
 369:../../Source/Platform/A7A/rme_platform_a7a.c ****    // _RME_CPU_Local_Init(&RME_A7A_Local[RME_A7A_CPU_Cnt],RME_A7A_CPU_Cnt);
 370:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 902              		.loc 1 370 12
 903 0008 0030A0E3 		mov	r3, #0
 371:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 904              		.loc 1 371 1
 905 000c 0300A0E1 		mov	r0, r3
 906 0010 00D08BE2 		add	sp, fp, #0
 907              		.cfi_def_cfa_register 13
 908              		@ sp needed
 909 0014 04B09DE4 		ldr	fp, [sp], #4
 910              		.cfi_restore 11
 911              		.cfi_def_cfa_offset 0
 912 0018 1EFF2FE1 		bx	lr
 913              		.cfi_endproc
 914              	.LFE11:
 916              		.section	.rodata
 917 00ff 00       		.align	2
 918              	.LC10:
 919 0100 0D0A4372 		.ascii	"\015\012Creating boot-time capability table @ \000"
 919      65617469 
 919      6E672062 
 919      6F6F742D 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 24


 919      74696D65 
 920 0129 000000   		.align	2
 921              	.LC11:
 922 012c 30303A35 		.ascii	"00:58:05\000"
 922      383A3035 
 922      00
 923 0135 000000   		.align	2
 924              	.LC12:
 925 0138 4D617220 		.ascii	"Mar 10 2025\000"
 925      31302032 
 925      30323500 
 926              		.align	2
 927              	.LC13:
 928 0144 2E2E2F2E 		.ascii	"../../Source/Platform/A7A/rme_platform_a7a.c\000"
 928      2E2F536F 
 928      75726365 
 928      2F506C61 
 928      74666F72 
 929 0171 000000   		.align	2
 930              	.LC14:
 931 0174 0D0A4372 		.ascii	"\015\012Creating boot-time page table @ \000"
 931      65617469 
 931      6E672062 
 931      6F6F742D 
 931      74696D65 
 932 0197 00       		.align	2
 933              	.LC15:
 934 0198 0D0A4669 		.ascii	"\015\012First section's first entry \000"
 934      72737420 
 934      73656374 
 934      696F6E27 
 934      73206669 
 935 01b7 00       		.align	2
 936              	.LC16:
 937 01b8 20402000 		.ascii	" @ \000"
 938              		.align	2
 939              	.LC17:
 940 01bc 0D0A4669 		.ascii	"\015\012First section's 0x080th entry \000"
 940      72737420 
 940      73656374 
 940      696F6E27 
 940      73203078 
 941 01dd 000000   		.align	2
 942              	.LC18:
 943 01e0 0D0A5365 		.ascii	"\015\012Second section's first entry \000"
 943      636F6E64 
 943      20736563 
 943      74696F6E 
 943      27732066 
 944              		.align	2
 945              	.LC19:
 946 0200 0D0A5468 		.ascii	"\015\012Third section's first entry \000"
 946      69726420 
 946      73656374 
 946      696F6E27 
 946      73206669 
 947 021f 00       		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 25


 948              	.LC20:
 949 0220 0D0A4B65 		.ascii	"\015\012Kernel pgtbl's 80th entry \000"
 949      726E656C 
 949      20706774 
 949      626C2773 
 949      20383074 
 950 023d 000000   		.align	2
 951              	.LC21:
 952 0240 0D0A7374 		.ascii	"\015\012start prc creation.\000"
 952      61727420 
 952      70726320 
 952      63726561 
 952      74696F6E 
 953 0256 0000     		.align	2
 954              	.LC22:
 955 0258 0D0A4372 		.ascii	"\015\012Creating boot-time thread @ \000"
 955      65617469 
 955      6E672062 
 955      6F6F742D 
 955      74696D65 
 956 0277 00       		.align	2
 957              	.LC23:
 958 0278 0D0A4372 		.ascii	"\015\012Creating boot-time kernel function\000"
 958      65617469 
 958      6E672062 
 958      6F6F742D 
 958      74696D65 
 959 029d 000000   		.align	2
 960              	.LC24:
 961 02a0 0D0A4372 		.ascii	"\015\012Creating boot-time kernel memory\000"
 961      65617469 
 961      6E672062 
 961      6F6F742D 
 961      74696D65 
 962 02c3 00       		.align	2
 963              	.LC25:
 964 02c4 0D0A4372 		.ascii	"\015\012Create the initial kernel endpoint for time"
 964      65617465 
 964      20746865 
 964      20696E69 
 964      7469616C 
 965 02f1 72207469 		.ascii	"r ticks and interrupts\000"
 965      636B7320 
 965      616E6420 
 965      696E7465 
 965      72727570 
 966              		.align	2
 967              	.LC26:
 968 0308 0D0A656E 		.ascii	"\015\012enable interrupts\015\012\000"
 968      61626C65 
 968      20696E74 
 968      65727275 
 968      7074730D 
 969              		.section	.text.__RME_Boot,"ax",%progbits
 970              		.align	2
 971              		.global	__RME_Boot
 972              		.syntax unified
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 26


 973              		.arm
 975              	__RME_Boot:
 976              	.LFB12:
 372:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_SMP_Low_Level_Init *************************************/
 373:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 374:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Boot ********************************************************
 375:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Boot the first process in the system.
 376:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 377:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 378:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 379:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 380:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Boot(void)
 381:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 977              		.loc 1 381 1
 978              		.cfi_startproc
 979              		@ args = 0, pretend = 0, frame = 8
 980              		@ frame_needed = 1, uses_anonymous_args = 0
 981 0000 00482DE9 		push	{fp, lr}
 982              		.cfi_def_cfa_offset 8
 983              		.cfi_offset 11, -8
 984              		.cfi_offset 14, -4
 985 0004 04B08DE2 		add	fp, sp, #4
 986              		.cfi_def_cfa 11, 4
 987 0008 18D04DE2 		sub	sp, sp, #24
 382:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Count;
 383:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Cur_Addr;
 384:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 385:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr=RME_KOM_VA_BASE;
 988              		.loc 1 385 13
 989 000c 8134A0E3 		mov	r3, #-2130706432
 990 0010 0C300BE5 		str	r3, [fp, #-12]
 386:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 387:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the capability table for the init process */
 388:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time capability table @ ");
 991              		.loc 1 388 5
 992 0014 000000E3 		movw	r0, #:lower16:.LC10
 993 0018 000040E3 		movt	r0, #:upper16:.LC10
 994 001c FEFFFFEB 		bl	RME_Str_Print
 389:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 995              		.loc 1 389 5
 996 0020 0C001BE5 		ldr	r0, [fp, #-12]
 997 0024 FEFFFFEB 		bl	RME_Hex_Print
 390:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Cpt_Boot_Init(RME_BOOT_INIT_CPT,
 998              		.loc 1 390 5
 999 0028 8020A0E3 		mov	r2, #128
 1000 002c 0C101BE5 		ldr	r1, [fp, #-12]
 1001 0030 0000A0E3 		mov	r0, #0
 1002 0034 FEFFFFEB 		bl	_RME_Cpt_Boot_Init
 1003 0038 0030A0E1 		mov	r3, r0
 1004              		.loc 1 390 5 is_stmt 0 discriminator 1
 1005 003c 000053E3 		cmp	r3, #0
 1006 0040 0800000A 		beq	.L27
 1007 0044 003000E3 		movw	r3, #:lower16:.LC11
 1008 0048 003040E3 		movt	r3, #:upper16:.LC11
 1009 004c 002000E3 		movw	r2, #:lower16:.LC12
 1010 0050 002040E3 		movt	r2, #:upper16:.LC12
 1011 0054 861100E3 		movw	r1, #390
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 27


 1012 0058 000000E3 		movw	r0, #:lower16:.LC13
 1013 005c 000040E3 		movt	r0, #:upper16:.LC13
 1014 0060 FEFFFFEB 		bl	RME_Log
 1015              	.L28:
 1016              		.loc 1 390 5
 1017 0064 FEFFFFEA 		b	.L28
 1018              	.L27:
 391:../../Source/Platform/A7A/rme_platform_a7a.c ****                                   Cur_Addr,
 392:../../Source/Platform/A7A/rme_platform_a7a.c ****                                   RME_A7A_INIT_CPT_SIZE)==0);
 393:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_CPT_SIZE(RME_A7A_INIT_CPT_SIZE));
 1019              		.loc 1 393 13 is_stmt 1
 1020 0068 0C301BE5 		ldr	r3, [fp, #-12]
 1021 006c 013A83E2 		add	r3, r3, #4096
 1022 0070 0C300BE5 		str	r3, [fp, #-12]
 394:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 395:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The top-level page table - covers 1M address range - align to 16kB */
 396:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr=RME_ROUND_UP(Cur_Addr,16U);
 1023              		.loc 1 396 14
 1024 0074 0C301BE5 		ldr	r3, [fp, #-12]
 1025 0078 FF3C83E2 		add	r3, r3, #65280
 1026 007c FF3083E2 		add	r3, r3, #255
 1027              		.loc 1 396 13
 1028 0080 2338A0E1 		lsr	r3, r3, #16
 1029 0084 0338A0E1 		lsl	r3, r3, #16
 1030 0088 0C300BE5 		str	r3, [fp, #-12]
 397:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time page table @ ");
 1031              		.loc 1 397 5
 1032 008c 000000E3 		movw	r0, #:lower16:.LC14
 1033 0090 000040E3 		movt	r0, #:upper16:.LC14
 1034 0094 FEFFFFEB 		bl	RME_Str_Print
 398:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1035              		.loc 1 398 5
 1036 0098 0C001BE5 		ldr	r0, [fp, #-12]
 1037 009c FEFFFFEB 		bl	RME_Hex_Print
 399:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Pgt_Boot_Crt(RME_A7A_CPT,
 1038              		.loc 1 399 5
 1039 00a0 0C30A0E3 		mov	r3, #12
 1040 00a4 0C308DE5 		str	r3, [sp, #12]
 1041 00a8 1430A0E3 		mov	r3, #20
 1042 00ac 08308DE5 		str	r3, [sp, #8]
 1043 00b0 0130A0E3 		mov	r3, #1
 1044 00b4 04308DE5 		str	r3, [sp, #4]
 1045 00b8 0030A0E3 		mov	r3, #0
 1046 00bc 00308DE5 		str	r3, [sp]
 1047 00c0 0C301BE5 		ldr	r3, [fp, #-12]
 1048 00c4 0120A0E3 		mov	r2, #1
 1049 00c8 0010A0E3 		mov	r1, #0
 1050 00cc 8104A0E3 		mov	r0, #-2130706432
 1051 00d0 FEFFFFEB 		bl	_RME_Pgt_Boot_Crt
 1052 00d4 0030A0E1 		mov	r3, r0
 1053              		.loc 1 399 5 is_stmt 0 discriminator 1
 1054 00d8 000053E3 		cmp	r3, #0
 1055 00dc 0800000A 		beq	.L29
 1056 00e0 003000E3 		movw	r3, #:lower16:.LC11
 1057 00e4 003040E3 		movt	r3, #:upper16:.LC11
 1058 00e8 002000E3 		movw	r2, #:lower16:.LC12
 1059 00ec 002040E3 		movt	r2, #:upper16:.LC12
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 28


 1060 00f0 8F1100E3 		movw	r1, #399
 1061 00f4 000000E3 		movw	r0, #:lower16:.LC13
 1062 00f8 000040E3 		movt	r0, #:upper16:.LC13
 1063 00fc FEFFFFEB 		bl	RME_Log
 1064              	.L30:
 1065              		.loc 1 399 5
 1066 0100 FEFFFFEA 		b	.L30
 1067              	.L29:
 400:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 401:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PGT,
 402:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  Cur_Addr,
 403:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  0x00000000U,
 404:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_TOP,
 405:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_SIZE_1M,
 406:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_NUM_4K)==0);
 407:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 408:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Normal memory, 1GiB 0x00000000 -> 0x00000000 */
 409:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x400U;Count++)
 1068              		.loc 1 409 14 is_stmt 1
 1069 0104 0030A0E3 		mov	r3, #0
 1070 0108 08300BE5 		str	r3, [fp, #-8]
 1071              		.loc 1 409 5
 1072 010c 160000EA 		b	.L31
 1073              	.L34:
 410:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 411:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1074              		.loc 1 411 3
 1075 0110 08301BE5 		ldr	r3, [fp, #-8]
 1076 0114 032AA0E1 		lsl	r2, r3, #20
 1077 0118 1F30A0E3 		mov	r3, #31
 1078 011c 00308DE5 		str	r3, [sp]
 1079 0120 08301BE5 		ldr	r3, [fp, #-8]
 1080 0124 0110A0E3 		mov	r1, #1
 1081 0128 8104A0E3 		mov	r0, #-2130706432
 1082 012c FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1083 0130 0030A0E1 		mov	r3, r0
 1084              		.loc 1 411 3 is_stmt 0 discriminator 1
 1085 0134 000053E3 		cmp	r3, #0
 1086 0138 0800000A 		beq	.L32
 1087 013c 003000E3 		movw	r3, #:lower16:.LC11
 1088 0140 003040E3 		movt	r3, #:upper16:.LC11
 1089 0144 002000E3 		movw	r2, #:lower16:.LC12
 1090 0148 002040E3 		movt	r2, #:upper16:.LC12
 1091 014c 9B1100E3 		movw	r1, #411
 1092 0150 000000E3 		movw	r0, #:lower16:.LC13
 1093 0154 000040E3 		movt	r0, #:upper16:.LC13
 1094 0158 FEFFFFEB 		bl	RME_Log
 1095              	.L33:
 1096              		.loc 1 411 3
 1097 015c FEFFFFEA 		b	.L33
 1098              	.L32:
 409:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1099              		.loc 1 409 36 is_stmt 1 discriminator 2
 1100 0160 08301BE5 		ldr	r3, [fp, #-8]
 1101 0164 013083E2 		add	r3, r3, #1
 1102 0168 08300BE5 		str	r3, [fp, #-8]
 1103              	.L31:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 29


 409:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1104              		.loc 1 409 23 discriminator 1
 1105 016c 08301BE5 		ldr	r3, [fp, #-8]
 1106 0170 010B53E3 		cmp	r3, #1024
 1107 0174 E5FFFF3A 		bcc	.L34
 412:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 413:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 Count*RME_POW2(RME_PGT_SIZE_1M),
 414:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 Count,
 415:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      RME_PGT_ALL_DYN)==0);
 416:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 417:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Device memory 1, 512MiB 0x40000000 -> 0x40000000 */
 418:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 1108              		.loc 1 418 14
 1109 0178 0030A0E3 		mov	r3, #0
 1110 017c 08300BE5 		str	r3, [fp, #-8]
 1111              		.loc 1 418 5
 1112 0180 180000EA 		b	.L35
 1113              	.L38:
 419:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 420:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1114              		.loc 1 420 3
 1115 0184 08301BE5 		ldr	r3, [fp, #-8]
 1116 0188 013B83E2 		add	r3, r3, #1024
 1117 018c 032AA0E1 		lsl	r2, r3, #20
 1118 0190 08301BE5 		ldr	r3, [fp, #-8]
 1119 0194 013B83E2 		add	r3, r3, #1024
 1120 0198 0310A0E3 		mov	r1, #3
 1121 019c 00108DE5 		str	r1, [sp]
 1122 01a0 0110A0E3 		mov	r1, #1
 1123 01a4 8104A0E3 		mov	r0, #-2130706432
 1124 01a8 FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1125 01ac 0030A0E1 		mov	r3, r0
 1126              		.loc 1 420 3 is_stmt 0 discriminator 1
 1127 01b0 000053E3 		cmp	r3, #0
 1128 01b4 0800000A 		beq	.L36
 1129 01b8 003000E3 		movw	r3, #:lower16:.LC11
 1130 01bc 003040E3 		movt	r3, #:upper16:.LC11
 1131 01c0 002000E3 		movw	r2, #:lower16:.LC12
 1132 01c4 002040E3 		movt	r2, #:upper16:.LC12
 1133 01c8 691FA0E3 		mov	r1, #420
 1134 01cc 000000E3 		movw	r0, #:lower16:.LC13
 1135 01d0 000040E3 		movt	r0, #:upper16:.LC13
 1136 01d4 FEFFFFEB 		bl	RME_Log
 1137              	.L37:
 1138              		.loc 1 420 3
 1139 01d8 FEFFFFEA 		b	.L37
 1140              	.L36:
 418:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1141              		.loc 1 418 36 is_stmt 1 discriminator 2
 1142 01dc 08301BE5 		ldr	r3, [fp, #-8]
 1143 01e0 013083E2 		add	r3, r3, #1
 1144 01e4 08300BE5 		str	r3, [fp, #-8]
 1145              	.L35:
 418:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1146              		.loc 1 418 23 discriminator 1
 1147 01e8 08301BE5 		ldr	r3, [fp, #-8]
 1148 01ec 020C53E3 		cmp	r3, #512
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 30


 1149 01f0 E3FFFF3A 		bcc	.L38
 421:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 422:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x400U)*RME_POW2(RME_PGT_SIZE_1M),
 423:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x400U),
 424:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE)==0);
 425:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 426:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 427:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Device memory 2, 512MiB 0x60000000 -> 0xE0000000 */
 428:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 1150              		.loc 1 428 14
 1151 01f4 0030A0E3 		mov	r3, #0
 1152 01f8 08300BE5 		str	r3, [fp, #-8]
 1153              		.loc 1 428 5
 1154 01fc 180000EA 		b	.L39
 1155              	.L42:
 429:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 430:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1156              		.loc 1 430 3
 1157 0200 08301BE5 		ldr	r3, [fp, #-8]
 1158 0204 0E3C83E2 		add	r3, r3, #3584
 1159 0208 032AA0E1 		lsl	r2, r3, #20
 1160 020c 08301BE5 		ldr	r3, [fp, #-8]
 1161 0210 063C83E2 		add	r3, r3, #1536
 1162 0214 0310A0E3 		mov	r1, #3
 1163 0218 00108DE5 		str	r1, [sp]
 1164 021c 0110A0E3 		mov	r1, #1
 1165 0220 8104A0E3 		mov	r0, #-2130706432
 1166 0224 FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1167 0228 0030A0E1 		mov	r3, r0
 1168              		.loc 1 430 3 is_stmt 0 discriminator 1
 1169 022c 000053E3 		cmp	r3, #0
 1170 0230 0800000A 		beq	.L40
 1171 0234 003000E3 		movw	r3, #:lower16:.LC11
 1172 0238 003040E3 		movt	r3, #:upper16:.LC11
 1173 023c 002000E3 		movw	r2, #:lower16:.LC12
 1174 0240 002040E3 		movt	r2, #:upper16:.LC12
 1175 0244 AE1100E3 		movw	r1, #430
 1176 0248 000000E3 		movw	r0, #:lower16:.LC13
 1177 024c 000040E3 		movt	r0, #:upper16:.LC13
 1178 0250 FEFFFFEB 		bl	RME_Log
 1179              	.L41:
 1180              		.loc 1 430 3
 1181 0254 FEFFFFEA 		b	.L41
 1182              	.L40:
 428:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1183              		.loc 1 428 36 is_stmt 1 discriminator 2
 1184 0258 08301BE5 		ldr	r3, [fp, #-8]
 1185 025c 013083E2 		add	r3, r3, #1
 1186 0260 08300BE5 		str	r3, [fp, #-8]
 1187              	.L39:
 428:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1188              		.loc 1 428 23 discriminator 1
 1189 0264 08301BE5 		ldr	r3, [fp, #-8]
 1190 0268 020C53E3 		cmp	r3, #512
 1191 026c E3FFFF3A 		bcc	.L42
 431:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 432:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0xE00U)*RME_POW2(RME_PGT_SIZE_1M),
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 31


 433:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x600U),
 434:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE)==0);
 435:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 436:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 437:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nFirst section's first entry ");
 1192              		.loc 1 437 5
 1193 0270 000000E3 		movw	r0, #:lower16:.LC15
 1194 0274 000040E3 		movt	r0, #:upper16:.LC15
 1195 0278 FEFFFFEB 		bl	RME_Str_Print
 438:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(Cur_Addr));
 1196              		.loc 1 438 5
 1197 027c 0C301BE5 		ldr	r3, [fp, #-12]
 1198 0280 003093E5 		ldr	r3, [r3]
 1199 0284 0300A0E1 		mov	r0, r3
 1200 0288 FEFFFFEB 		bl	RME_Hex_Print
 439:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1201              		.loc 1 439 5
 1202 028c 000000E3 		movw	r0, #:lower16:.LC16
 1203 0290 000040E3 		movt	r0, #:upper16:.LC16
 1204 0294 FEFFFFEB 		bl	RME_Str_Print
 440:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1205              		.loc 1 440 5
 1206 0298 0C001BE5 		ldr	r0, [fp, #-12]
 1207 029c FEFFFFEB 		bl	RME_Hex_Print
 441:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 442:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nFirst section's 0x080th entry ");
 1208              		.loc 1 442 5
 1209 02a0 000000E3 		movw	r0, #:lower16:.LC17
 1210 02a4 000040E3 		movt	r0, #:upper16:.LC17
 1211 02a8 FEFFFFEB 		bl	RME_Str_Print
 443:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(Cur_Addr+0x080*RME_WORD_BYTE));
 1212              		.loc 1 443 5
 1213 02ac 0C301BE5 		ldr	r3, [fp, #-12]
 1214 02b0 023C83E2 		add	r3, r3, #512
 1215 02b4 003093E5 		ldr	r3, [r3]
 1216 02b8 0300A0E1 		mov	r0, r3
 1217 02bc FEFFFFEB 		bl	RME_Hex_Print
 444:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1218              		.loc 1 444 5
 1219 02c0 000000E3 		movw	r0, #:lower16:.LC16
 1220 02c4 000040E3 		movt	r0, #:upper16:.LC16
 1221 02c8 FEFFFFEB 		bl	RME_Str_Print
 445:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr+0x080*RME_WORD_BYTE);
 1222              		.loc 1 445 5
 1223 02cc 0C301BE5 		ldr	r3, [fp, #-12]
 1224 02d0 023C83E2 		add	r3, r3, #512
 1225 02d4 0300A0E1 		mov	r0, r3
 1226 02d8 FEFFFFEB 		bl	RME_Hex_Print
 446:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 447:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nSecond section's first entry ");
 1227              		.loc 1 447 5
 1228 02dc 000000E3 		movw	r0, #:lower16:.LC18
 1229 02e0 000040E3 		movt	r0, #:upper16:.LC18
 1230 02e4 FEFFFFEB 		bl	RME_Str_Print
 448:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(Cur_Addr+0x400*RME_WORD_BYTE));
 1231              		.loc 1 448 5
 1232 02e8 0C301BE5 		ldr	r3, [fp, #-12]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 32


 1233 02ec 013A83E2 		add	r3, r3, #4096
 1234 02f0 003093E5 		ldr	r3, [r3]
 1235 02f4 0300A0E1 		mov	r0, r3
 1236 02f8 FEFFFFEB 		bl	RME_Hex_Print
 449:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1237              		.loc 1 449 5
 1238 02fc 000000E3 		movw	r0, #:lower16:.LC16
 1239 0300 000040E3 		movt	r0, #:upper16:.LC16
 1240 0304 FEFFFFEB 		bl	RME_Str_Print
 450:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr+0x400*RME_WORD_BYTE);
 1241              		.loc 1 450 5
 1242 0308 0C301BE5 		ldr	r3, [fp, #-12]
 1243 030c 013A83E2 		add	r3, r3, #4096
 1244 0310 0300A0E1 		mov	r0, r3
 1245 0314 FEFFFFEB 		bl	RME_Hex_Print
 451:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 452:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nThird section's first entry ");
 1246              		.loc 1 452 5
 1247 0318 000000E3 		movw	r0, #:lower16:.LC19
 1248 031c 000040E3 		movt	r0, #:upper16:.LC19
 1249 0320 FEFFFFEB 		bl	RME_Str_Print
 453:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(Cur_Addr+0x600*RME_WORD_BYTE));
 1250              		.loc 1 453 5
 1251 0324 0C301BE5 		ldr	r3, [fp, #-12]
 1252 0328 063B83E2 		add	r3, r3, #6144
 1253 032c 003093E5 		ldr	r3, [r3]
 1254 0330 0300A0E1 		mov	r0, r3
 1255 0334 FEFFFFEB 		bl	RME_Hex_Print
 454:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1256              		.loc 1 454 5
 1257 0338 000000E3 		movw	r0, #:lower16:.LC16
 1258 033c 000040E3 		movt	r0, #:upper16:.LC16
 1259 0340 FEFFFFEB 		bl	RME_Str_Print
 455:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr+0x600*RME_WORD_BYTE);
 1260              		.loc 1 455 5
 1261 0344 0C301BE5 		ldr	r3, [fp, #-12]
 1262 0348 063B83E2 		add	r3, r3, #6144
 1263 034c 0300A0E1 		mov	r0, r3
 1264 0350 FEFFFFEB 		bl	RME_Hex_Print
 456:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 457:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nKernel pgtbl's 80th entry ");
 1265              		.loc 1 457 5
 1266 0354 000000E3 		movw	r0, #:lower16:.LC20
 1267 0358 000040E3 		movt	r0, #:upper16:.LC20
 1268 035c FEFFFFEB 		bl	RME_Str_Print
 458:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(((rme_ptr_t)(&__RME_A7A_Kern_Pgt))+0x080*RME_WORD_BYTE));
 1269              		.loc 1 458 5
 1270 0360 003000E3 		movw	r3, #:lower16:__RME_A7A_Kern_Pgt
 1271 0364 003040E3 		movt	r3, #:upper16:__RME_A7A_Kern_Pgt
 1272 0368 023C83E2 		add	r3, r3, #512
 1273 036c 003093E5 		ldr	r3, [r3]
 1274 0370 0300A0E1 		mov	r0, r3
 1275 0374 FEFFFFEB 		bl	RME_Hex_Print
 459:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1276              		.loc 1 459 5
 1277 0378 000000E3 		movw	r0, #:lower16:.LC16
 1278 037c 000040E3 		movt	r0, #:upper16:.LC16
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 33


 1279 0380 FEFFFFEB 		bl	RME_Str_Print
 460:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(((rme_ptr_t)(&__RME_A7A_Kern_Pgt))+0x080*RME_WORD_BYTE);
 1280              		.loc 1 460 5
 1281 0384 003000E3 		movw	r3, #:lower16:__RME_A7A_Kern_Pgt
 1282 0388 003040E3 		movt	r3, #:upper16:__RME_A7A_Kern_Pgt
 1283 038c 023C83E2 		add	r3, r3, #512
 1284 0390 0300A0E1 		mov	r0, r3
 1285 0394 FEFFFFEB 		bl	RME_Hex_Print
 461:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 462:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_PGT_SIZE_TOP(RME_PGT_NUM_4K));
 1286              		.loc 1 462 13
 1287 0398 0C301BE5 		ldr	r3, [fp, #-12]
 1288 039c 013983E2 		add	r3, r3, #16384
 1289 03a0 0C300BE5 		str	r3, [fp, #-12]
 463:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 464:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Activate the first process - This process cannot be deleted */
 465:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart prc creation.");
 1290              		.loc 1 465 5
 1291 03a4 000000E3 		movw	r0, #:lower16:.LC21
 1292 03a8 000040E3 		movt	r0, #:upper16:.LC21
 1293 03ac FEFFFFEB 		bl	RME_Str_Print
 466:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Prc_Boot_Crt(RME_A7A_CPT,
 1294              		.loc 1 466 5
 1295 03b0 0130A0E3 		mov	r3, #1
 1296 03b4 00308DE5 		str	r3, [sp]
 1297 03b8 0030A0E3 		mov	r3, #0
 1298 03bc 0220A0E3 		mov	r2, #2
 1299 03c0 0010A0E3 		mov	r1, #0
 1300 03c4 8104A0E3 		mov	r0, #-2130706432
 1301 03c8 FEFFFFEB 		bl	_RME_Prc_Boot_Crt
 1302 03cc 0030A0E1 		mov	r3, r0
 1303              		.loc 1 466 5 is_stmt 0 discriminator 1
 1304 03d0 000053E3 		cmp	r3, #0
 1305 03d4 0800000A 		beq	.L43
 1306 03d8 003000E3 		movw	r3, #:lower16:.LC11
 1307 03dc 003040E3 		movt	r3, #:upper16:.LC11
 1308 03e0 002000E3 		movw	r2, #:lower16:.LC12
 1309 03e4 002040E3 		movt	r2, #:upper16:.LC12
 1310 03e8 D21100E3 		movw	r1, #466
 1311 03ec 000000E3 		movw	r0, #:lower16:.LC13
 1312 03f0 000040E3 		movt	r0, #:upper16:.LC13
 1313 03f4 FEFFFFEB 		bl	RME_Log
 1314              	.L44:
 1315              		.loc 1 466 5
 1316 03f8 FEFFFFEA 		b	.L44
 1317              	.L43:
 467:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 468:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PRC,
 469:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 470:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PGT)==0U);
 471:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 472:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Activate the first thread, and set its priority */
 473:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time thread @ ");
 1318              		.loc 1 473 5 is_stmt 1
 1319 03fc 000000E3 		movw	r0, #:lower16:.LC22
 1320 0400 000040E3 		movt	r0, #:upper16:.LC22
 1321 0404 FEFFFFEB 		bl	RME_Str_Print
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 34


 474:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1322              		.loc 1 474 5
 1323 0408 0C001BE5 		ldr	r0, [fp, #-12]
 1324 040c FEFFFFEB 		bl	RME_Hex_Print
 475:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Thd_Boot_Crt(RME_A7A_CPT,
 1325              		.loc 1 475 5
 1326 0410 003000E3 		movw	r3, #:lower16:RME_A7A_Local
 1327 0414 003040E3 		movt	r3, #:upper16:RME_A7A_Local
 1328 0418 08308DE5 		str	r3, [sp, #8]
 1329 041c 0030A0E3 		mov	r3, #0
 1330 0420 04308DE5 		str	r3, [sp, #4]
 1331 0424 0C301BE5 		ldr	r3, [fp, #-12]
 1332 0428 00308DE5 		str	r3, [sp]
 1333 042c 0230A0E3 		mov	r3, #2
 1334 0430 0320A0E3 		mov	r2, #3
 1335 0434 0010A0E3 		mov	r1, #0
 1336 0438 8104A0E3 		mov	r0, #-2130706432
 1337 043c FEFFFFEB 		bl	_RME_Thd_Boot_Crt
 1338 0440 0030A0E1 		mov	r3, r0
 1339              		.loc 1 475 5 is_stmt 0 discriminator 1
 1340 0444 000053E3 		cmp	r3, #0
 1341 0448 0800000A 		beq	.L45
 1342 044c 003000E3 		movw	r3, #:lower16:.LC11
 1343 0450 003040E3 		movt	r3, #:upper16:.LC11
 1344 0454 002000E3 		movw	r2, #:lower16:.LC12
 1345 0458 002040E3 		movt	r2, #:upper16:.LC12
 1346 045c DB1100E3 		movw	r1, #475
 1347 0460 000000E3 		movw	r0, #:lower16:.LC13
 1348 0464 000040E3 		movt	r0, #:upper16:.LC13
 1349 0468 FEFFFFEB 		bl	RME_Log
 1350              	.L46:
 1351              		.loc 1 475 5
 1352 046c FEFFFFEA 		b	.L46
 1353              	.L45:
 476:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 477:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_THD,
 478:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PRC,
 479:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  Cur_Addr,
 480:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  0U,
 481:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  &RME_A7A_Local)==0);
 482:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_THD_SIZE(0U));
 1354              		.loc 1 482 13 is_stmt 1
 1355 0470 0C301BE5 		ldr	r3, [fp, #-12]
 1356 0474 A03083E2 		add	r3, r3, #160
 1357 0478 0C300BE5 		str	r3, [fp, #-12]
 483:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 484:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the initial kernel function capability, and kernel memory capability */
 485:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time kernel function");
 1358              		.loc 1 485 5
 1359 047c 000000E3 		movw	r0, #:lower16:.LC23
 1360 0480 000040E3 		movt	r0, #:upper16:.LC23
 1361 0484 FEFFFFEB 		bl	RME_Str_Print
 486:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Kfn_Boot_Crt(RME_A7A_CPT,
 1362              		.loc 1 486 5
 1363 0488 0420A0E3 		mov	r2, #4
 1364 048c 0010A0E3 		mov	r1, #0
 1365 0490 8104A0E3 		mov	r0, #-2130706432
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 35


 1366 0494 FEFFFFEB 		bl	_RME_Kfn_Boot_Crt
 1367 0498 0030A0E1 		mov	r3, r0
 1368              		.loc 1 486 5 is_stmt 0 discriminator 1
 1369 049c 000053E3 		cmp	r3, #0
 1370 04a0 0800000A 		beq	.L47
 1371 04a4 003000E3 		movw	r3, #:lower16:.LC11
 1372 04a8 003040E3 		movt	r3, #:upper16:.LC11
 1373 04ac 002000E3 		movw	r2, #:lower16:.LC12
 1374 04b0 002040E3 		movt	r2, #:upper16:.LC12
 1375 04b4 E61100E3 		movw	r1, #486
 1376 04b8 000000E3 		movw	r0, #:lower16:.LC13
 1377 04bc 000040E3 		movt	r0, #:upper16:.LC13
 1378 04c0 FEFFFFEB 		bl	RME_Log
 1379              	.L48:
 1380              		.loc 1 486 5
 1381 04c4 FEFFFFEA 		b	.L48
 1382              	.L47:
 487:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 488:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_KFN)==0);
 489:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time kernel memory");
 1383              		.loc 1 489 5 is_stmt 1
 1384 04c8 000000E3 		movw	r0, #:lower16:.LC24
 1385 04cc 000040E3 		movt	r0, #:upper16:.LC24
 1386 04d0 FEFFFFEB 		bl	RME_Str_Print
 490:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Kom_Boot_Crt(RME_A7A_CPT, 
 1387              		.loc 1 490 5
 1388 04d4 0F30A0E3 		mov	r3, #15
 1389 04d8 04308DE5 		str	r3, [sp, #4]
 1390 04dc 7E34E0E3 		mvn	r3, #2113929216
 1391 04e0 00308DE5 		str	r3, [sp]
 1392 04e4 8134A0E3 		mov	r3, #-2130706432
 1393 04e8 0520A0E3 		mov	r2, #5
 1394 04ec 0010A0E3 		mov	r1, #0
 1395 04f0 8104A0E3 		mov	r0, #-2130706432
 1396 04f4 FEFFFFEB 		bl	_RME_Kom_Boot_Crt
 1397 04f8 0030A0E1 		mov	r3, r0
 1398              		.loc 1 490 5 is_stmt 0 discriminator 1
 1399 04fc 000053E3 		cmp	r3, #0
 1400 0500 0800000A 		beq	.L49
 1401 0504 003000E3 		movw	r3, #:lower16:.LC11
 1402 0508 003040E3 		movt	r3, #:upper16:.LC11
 1403 050c 002000E3 		movw	r2, #:lower16:.LC12
 1404 0510 002040E3 		movt	r2, #:upper16:.LC12
 1405 0514 EA1100E3 		movw	r1, #490
 1406 0518 000000E3 		movw	r0, #:lower16:.LC13
 1407 051c 000040E3 		movt	r0, #:upper16:.LC13
 1408 0520 FEFFFFEB 		bl	RME_Log
 1409              	.L50:
 1410              		.loc 1 490 5
 1411 0524 FEFFFFEA 		b	.L50
 1412              	.L49:
 491:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT, 
 492:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_KOM,
 493:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_VA_BASE,
 494:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_VA_BASE+RME_KOM_VA_SIZE-1U,
 495:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_FLAG_ALL)==0U);
 496:../../Source/Platform/A7A/rme_platform_a7a.c ****     
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 36


 497:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the initial kernel endpoint for timer ticks and interrupts */
 498:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_Local.Sig_Tim=(struct RME_Cap_Sig*)&(RME_A7A_CPT[RME_BOOT_INIT_VCT]);
 1413              		.loc 1 498 26 is_stmt 1
 1414 0528 002000E3 		movw	r2, #:lower16:RME_A7A_Local
 1415 052c 002040E3 		movt	r2, #:upper16:RME_A7A_Local
 1416 0530 C030A0E3 		mov	r3, #192
 1417 0534 003148E3 		movt	r3, 33024
 1418 0538 083082E5 		str	r3, [r2, #8]
 499:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_Local.Sig_Vct=(struct RME_Cap_Sig*)&(RME_A7A_CPT[RME_BOOT_INIT_VCT]);
 1419              		.loc 1 499 26
 1420 053c 002000E3 		movw	r2, #:lower16:RME_A7A_Local
 1421 0540 002040E3 		movt	r2, #:upper16:RME_A7A_Local
 1422 0544 C030A0E3 		mov	r3, #192
 1423 0548 003148E3 		movt	r3, 33024
 1424 054c 0C3082E5 		str	r3, [r2, #12]
 500:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreate the initial kernel endpoint for timer ticks and interrupts");
 1425              		.loc 1 500 5
 1426 0550 000000E3 		movw	r0, #:lower16:.LC25
 1427 0554 000040E3 		movt	r0, #:upper16:.LC25
 1428 0558 FEFFFFEB 		bl	RME_Str_Print
 501:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Sig_Boot_Crt(RME_A7A_CPT,
 1429              		.loc 1 501 5
 1430 055c 0620A0E3 		mov	r2, #6
 1431 0560 0010A0E3 		mov	r1, #0
 1432 0564 8104A0E3 		mov	r0, #-2130706432
 1433 0568 FEFFFFEB 		bl	_RME_Sig_Boot_Crt
 1434 056c 0030A0E1 		mov	r3, r0
 1435              		.loc 1 501 5 is_stmt 0 discriminator 1
 1436 0570 000053E3 		cmp	r3, #0
 1437 0574 0800000A 		beq	.L51
 1438 0578 003000E3 		movw	r3, #:lower16:.LC11
 1439 057c 003040E3 		movt	r3, #:upper16:.LC11
 1440 0580 002000E3 		movw	r2, #:lower16:.LC12
 1441 0584 002040E3 		movt	r2, #:upper16:.LC12
 1442 0588 F51100E3 		movw	r1, #501
 1443 058c 000000E3 		movw	r0, #:lower16:.LC13
 1444 0590 000040E3 		movt	r0, #:upper16:.LC13
 1445 0594 FEFFFFEB 		bl	RME_Log
 1446              	.L52:
 1447              		.loc 1 501 5
 1448 0598 FEFFFFEA 		b	.L52
 1449              	.L51:
 502:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 503:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_VCT)==0);
 504:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 505:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set page table as current */
 506:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Pgt_Set(RME_A7A_Local.Thd_Cur->Sched.Prc->Pgt);
 1450              		.loc 1 506 32 is_stmt 1
 1451 059c 003000E3 		movw	r3, #:lower16:RME_A7A_Local
 1452 05a0 003040E3 		movt	r3, #:upper16:RME_A7A_Local
 1453 05a4 043093E5 		ldr	r3, [r3, #4]
 1454              		.loc 1 506 47
 1455 05a8 2C3093E5 		ldr	r3, [r3, #44]
 1456              		.loc 1 506 5
 1457 05ac 183093E5 		ldr	r3, [r3, #24]
 1458 05b0 0300A0E1 		mov	r0, r3
 1459 05b4 FEFFFFEB 		bl	__RME_Pgt_Set
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 37


 507:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 508:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize timer and enable interrupts */
 509:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nenable interrupts\r\n");
 1460              		.loc 1 509 5
 1461 05b8 000000E3 		movw	r0, #:lower16:.LC26
 1462 05bc 000040E3 		movt	r0, #:upper16:.LC26
 1463 05c0 FEFFFFEB 		bl	RME_Str_Print
 510:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//__RME_A7A_Timer_Init();
 511:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Int_Enable();
 1464              		.loc 1 511 5
 1465 05c4 FEFFFFEB 		bl	__RME_Int_Enable
 512:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 513:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Boot into the init thread */
 514:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_User_Enter(RME_A7A_INIT_ENTRY,RME_A7A_INIT_STACK,0U);
 1466              		.loc 1 514 5
 1467 05c8 0020A0E3 		mov	r2, #0
 1468 05cc FF1CA0E3 		mov	r1, #65280
 1469 05d0 1F1840E3 		movt	r1, 2079
 1470 05d4 0109A0E3 		mov	r0, #16384
 1471 05d8 000840E3 		movt	r0, 2048
 1472 05dc FEFFFFEB 		bl	__RME_User_Enter
 1473              	.L53:
 515:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 516:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Should never reach here */
 517:../../Source/Platform/A7A/rme_platform_a7a.c ****     while(1);
 1474              		.loc 1 517 10
 1475 05e0 FEFFFFEA 		b	.L53
 1476              		.cfi_endproc
 1477              	.LFE12:
 1479              		.section	.text.__RME_Reboot,"ax",%progbits
 1480              		.align	2
 1481              		.global	__RME_Reboot
 1482              		.syntax unified
 1483              		.arm
 1485              	__RME_Reboot:
 1486              	.LFB13:
 518:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 519:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Boot ***************************************************/
 520:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 521:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Reboot ******************************************************
 522:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Reboot the machine, abandon all operating system states.
 523:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 524:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 525:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 526:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 527:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Reboot(void)
 528:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1487              		.loc 1 528 1
 1488              		.cfi_startproc
 1489              		@ args = 0, pretend = 0, frame = 0
 1490              		@ frame_needed = 1, uses_anonymous_args = 0
 1491              		@ link register save eliminated.
 1492 0000 04B02DE5 		str	fp, [sp, #-4]!
 1493              		.cfi_def_cfa_offset 4
 1494              		.cfi_offset 11, -4
 1495 0004 00B08DE2 		add	fp, sp, #0
 1496              		.cfi_def_cfa_register 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 38


 529:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 530:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1497              		.loc 1 530 1
 1498 0008 00F020E3 		nop
 1499 000c 00D08BE2 		add	sp, fp, #0
 1500              		.cfi_def_cfa_register 13
 1501              		@ sp needed
 1502 0010 04B09DE4 		ldr	fp, [sp], #4
 1503              		.cfi_restore 11
 1504              		.cfi_def_cfa_offset 0
 1505 0014 1EFF2FE1 		bx	lr
 1506              		.cfi_endproc
 1507              	.LFE13:
 1509              		.section	.text.__RME_Shutdown,"ax",%progbits
 1510              		.align	2
 1511              		.global	__RME_Shutdown
 1512              		.syntax unified
 1513              		.arm
 1515              	__RME_Shutdown:
 1516              	.LFB14:
 531:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Reboot *************************************************/
 532:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 533:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Shutdown ****************************************************
 534:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Shutdown the machine, abandon all operating system states.
 535:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 536:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 537:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 538:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 539:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Shutdown(void)
 540:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1517              		.loc 1 540 1
 1518              		.cfi_startproc
 1519              		@ args = 0, pretend = 0, frame = 0
 1520              		@ frame_needed = 1, uses_anonymous_args = 0
 1521              		@ link register save eliminated.
 1522 0000 04B02DE5 		str	fp, [sp, #-4]!
 1523              		.cfi_def_cfa_offset 4
 1524              		.cfi_offset 11, -4
 1525 0004 00B08DE2 		add	fp, sp, #0
 1526              		.cfi_def_cfa_register 11
 541:../../Source/Platform/A7A/rme_platform_a7a.c ****    // RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 542:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1527              		.loc 1 542 1
 1528 0008 00F020E3 		nop
 1529 000c 00D08BE2 		add	sp, fp, #0
 1530              		.cfi_def_cfa_register 13
 1531              		@ sp needed
 1532 0010 04B09DE4 		ldr	fp, [sp], #4
 1533              		.cfi_restore 11
 1534              		.cfi_def_cfa_offset 0
 1535 0014 1EFF2FE1 		bx	lr
 1536              		.cfi_endproc
 1537              	.LFE14:
 1539              		.section	.text.__RME_Svc_Param_Get,"ax",%progbits
 1540              		.align	2
 1541              		.global	__RME_Svc_Param_Get
 1542              		.syntax unified
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 39


 1543              		.arm
 1545              	__RME_Svc_Param_Get:
 1546              	.LFB15:
 543:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Shutdown ***********************************************/
 544:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 545:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Get_Syscall_Param *******************************************
 546:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the system call parameters from the stack frame.
 547:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 548:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Svc - The system service number.
 549:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Capid - The capability ID number.
 550:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Param - The parameters.
 551:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 552:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 553:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Param_Get(struct RME_Reg_Struct* Reg,rme_ptr_t* Svc,rme_ptr_t* Capid,rme_ptr_t* Para
 554:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1547              		.loc 1 554 1
 1548              		.cfi_startproc
 1549              		@ args = 0, pretend = 0, frame = 16
 1550              		@ frame_needed = 1, uses_anonymous_args = 0
 1551              		@ link register save eliminated.
 1552 0000 04B02DE5 		str	fp, [sp, #-4]!
 1553              		.cfi_def_cfa_offset 4
 1554              		.cfi_offset 11, -4
 1555 0004 00B08DE2 		add	fp, sp, #0
 1556              		.cfi_def_cfa_register 11
 1557 0008 14D04DE2 		sub	sp, sp, #20
 1558 000c 08000BE5 		str	r0, [fp, #-8]
 1559 0010 0C100BE5 		str	r1, [fp, #-12]
 1560 0014 10200BE5 		str	r2, [fp, #-16]
 1561 0018 14300BE5 		str	r3, [fp, #-20]
 555:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Svc=(Reg->R0)>>16;
 1562              		.loc 1 555 14
 1563 001c 08301BE5 		ldr	r3, [fp, #-8]
 1564 0020 043093E5 		ldr	r3, [r3, #4]
 1565              		.loc 1 555 19
 1566 0024 2328A0E1 		lsr	r2, r3, #16
 1567              		.loc 1 555 9
 1568 0028 0C301BE5 		ldr	r3, [fp, #-12]
 1569 002c 002083E5 		str	r2, [r3]
 556:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Capid=(Reg->R0)&0xFFFF;
 1570              		.loc 1 556 16
 1571 0030 08301BE5 		ldr	r3, [fp, #-8]
 1572 0034 043093E5 		ldr	r3, [r3, #4]
 1573              		.loc 1 556 21
 1574 0038 7320FFE6 		uxth	r2, r3
 1575              		.loc 1 556 11
 1576 003c 10301BE5 		ldr	r3, [fp, #-16]
 1577 0040 002083E5 		str	r2, [r3]
 557:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[0]=Reg->R1;
 1578              		.loc 1 557 17
 1579 0044 08301BE5 		ldr	r3, [fp, #-8]
 1580 0048 082093E5 		ldr	r2, [r3, #8]
 1581              		.loc 1 557 13
 1582 004c 14301BE5 		ldr	r3, [fp, #-20]
 1583 0050 002083E5 		str	r2, [r3]
 558:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[1]=Reg->R2;
 1584              		.loc 1 558 10
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 40


 1585 0054 14301BE5 		ldr	r3, [fp, #-20]
 1586 0058 043083E2 		add	r3, r3, #4
 1587              		.loc 1 558 17
 1588 005c 08201BE5 		ldr	r2, [fp, #-8]
 1589 0060 0C2092E5 		ldr	r2, [r2, #12]
 1590              		.loc 1 558 13
 1591 0064 002083E5 		str	r2, [r3]
 559:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[2]=Reg->R3;
 1592              		.loc 1 559 10
 1593 0068 14301BE5 		ldr	r3, [fp, #-20]
 1594 006c 083083E2 		add	r3, r3, #8
 1595              		.loc 1 559 17
 1596 0070 08201BE5 		ldr	r2, [fp, #-8]
 1597 0074 102092E5 		ldr	r2, [r2, #16]
 1598              		.loc 1 559 13
 1599 0078 002083E5 		str	r2, [r3]
 560:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1600              		.loc 1 560 1
 1601 007c 00F020E3 		nop
 1602 0080 00D08BE2 		add	sp, fp, #0
 1603              		.cfi_def_cfa_register 13
 1604              		@ sp needed
 1605 0084 04B09DE4 		ldr	fp, [sp], #4
 1606              		.cfi_restore 11
 1607              		.cfi_def_cfa_offset 0
 1608 0088 1EFF2FE1 		bx	lr
 1609              		.cfi_endproc
 1610              	.LFE15:
 1612              		.section	.text.__RME_Svc_Retval_Set,"ax",%progbits
 1613              		.align	2
 1614              		.global	__RME_Svc_Retval_Set
 1615              		.syntax unified
 1616              		.arm
 1618              	__RME_Svc_Retval_Set:
 1619              	.LFB16:
 561:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Get_Syscall_Param **************************************/
 562:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 563:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Syscall_Retval ******************************************
 564:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the system call return value to the stack frame. This function 
 565:../../Source/Platform/A7A/rme_platform_a7a.c ****               may carry up to 4 return values. If the last 3 is not needed, just set
 566:../../Source/Platform/A7A/rme_platform_a7a.c ****               them to zero.
 567:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 568:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 569:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 570:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 571:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Retval_Set(struct RME_Reg_Struct* Reg,rme_ret_t Retval)
 572:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1620              		.loc 1 572 1
 1621              		.cfi_startproc
 1622              		@ args = 0, pretend = 0, frame = 8
 1623              		@ frame_needed = 1, uses_anonymous_args = 0
 1624              		@ link register save eliminated.
 1625 0000 04B02DE5 		str	fp, [sp, #-4]!
 1626              		.cfi_def_cfa_offset 4
 1627              		.cfi_offset 11, -4
 1628 0004 00B08DE2 		add	fp, sp, #0
 1629              		.cfi_def_cfa_register 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 41


 1630 0008 0CD04DE2 		sub	sp, sp, #12
 1631 000c 08000BE5 		str	r0, [fp, #-8]
 1632 0010 0C100BE5 		str	r1, [fp, #-12]
 573:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=(rme_ptr_t)Retval;
 1633              		.loc 1 573 13
 1634 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1635              		.loc 1 573 12
 1636 0018 08301BE5 		ldr	r3, [fp, #-8]
 1637 001c 042083E5 		str	r2, [r3, #4]
 574:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1638              		.loc 1 574 1
 1639 0020 00F020E3 		nop
 1640 0024 00D08BE2 		add	sp, fp, #0
 1641              		.cfi_def_cfa_register 13
 1642              		@ sp needed
 1643 0028 04B09DE4 		ldr	fp, [sp], #4
 1644              		.cfi_restore 11
 1645              		.cfi_def_cfa_offset 0
 1646 002c 1EFF2FE1 		bx	lr
 1647              		.cfi_endproc
 1648              	.LFE16:
 1650              		.section	.text.__RME_Thd_Reg_Init,"ax",%progbits
 1651              		.align	2
 1652              		.global	__RME_Thd_Reg_Init
 1653              		.syntax unified
 1654              		.arm
 1656              	__RME_Thd_Reg_Init:
 1657              	.LFB17:
 575:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Syscall_Retval *************************************/
 576:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 577:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Init ************************************************
 578:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the register set for the thread.
 579:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Entry - The thread entry address.
 580:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Stack - The thread stack address.
 581:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param - The parameter to pass to it.
 582:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set content generated.
 583:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 584:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 585:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Init(rme_ptr_t Attr,rme_ptr_t Entry,rme_ptr_t Stack,rme_ptr_t Param,
 586:../../Source/Platform/A7A/rme_platform_a7a.c ****                                        struct RME_Reg_Struct* Reg)
 587:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1658              		.loc 1 587 1
 1659              		.cfi_startproc
 1660              		@ args = 4, pretend = 0, frame = 16
 1661              		@ frame_needed = 1, uses_anonymous_args = 0
 1662              		@ link register save eliminated.
 1663 0000 04B02DE5 		str	fp, [sp, #-4]!
 1664              		.cfi_def_cfa_offset 4
 1665              		.cfi_offset 11, -4
 1666 0004 00B08DE2 		add	fp, sp, #0
 1667              		.cfi_def_cfa_register 11
 1668 0008 14D04DE2 		sub	sp, sp, #20
 1669 000c 08000BE5 		str	r0, [fp, #-8]
 1670 0010 0C100BE5 		str	r1, [fp, #-12]
 1671 0014 10200BE5 		str	r2, [fp, #-16]
 1672 0018 14300BE5 		str	r3, [fp, #-20]
 588:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the entry and stack */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 42


 589:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Entry;
 1673              		.loc 1 589 12
 1674 001c 04309BE5 		ldr	r3, [fp, #4]
 1675 0020 0C201BE5 		ldr	r2, [fp, #-12]
 1676 0024 3C2083E5 		str	r2, [r3, #60]
 590:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Stack;
 1677              		.loc 1 590 12
 1678 0028 04309BE5 		ldr	r3, [fp, #4]
 1679 002c 10201BE5 		ldr	r2, [fp, #-16]
 1680 0030 342083E5 		str	r2, [r3, #52]
 591:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the parameter */
 592:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=Param;
 1681              		.loc 1 592 12
 1682 0034 04309BE5 		ldr	r3, [fp, #4]
 1683 0038 14201BE5 		ldr	r2, [fp, #-20]
 1684 003c 042083E5 		str	r2, [r3, #4]
 593:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1685              		.loc 1 593 1
 1686 0040 00F020E3 		nop
 1687 0044 00D08BE2 		add	sp, fp, #0
 1688              		.cfi_def_cfa_register 13
 1689              		@ sp needed
 1690 0048 04B09DE4 		ldr	fp, [sp], #4
 1691              		.cfi_restore 11
 1692              		.cfi_def_cfa_offset 0
 1693 004c 1EFF2FE1 		bx	lr
 1694              		.cfi_endproc
 1695              	.LFE17:
 1697              		.section	.text.__RME_Thd_Reg_Copy,"ax",%progbits
 1698              		.align	2
 1699              		.global	__RME_Thd_Reg_Copy
 1700              		.syntax unified
 1701              		.arm
 1703              	__RME_Thd_Reg_Copy:
 1704              	.LFB18:
 594:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Init *******************************************/
 595:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 596:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Copy ************************************************
 597:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Copy one set of registers into another.
 598:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Src - The source register set.
 599:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Dst - The destination register set.
 600:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 601:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 602:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Copy(struct RME_Reg_Struct* Dst, struct RME_Reg_Struct* Src)
 603:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1705              		.loc 1 603 1
 1706              		.cfi_startproc
 1707              		@ args = 0, pretend = 0, frame = 8
 1708              		@ frame_needed = 1, uses_anonymous_args = 0
 1709              		@ link register save eliminated.
 1710 0000 04B02DE5 		str	fp, [sp, #-4]!
 1711              		.cfi_def_cfa_offset 4
 1712              		.cfi_offset 11, -4
 1713 0004 00B08DE2 		add	fp, sp, #0
 1714              		.cfi_def_cfa_register 11
 1715 0008 0CD04DE2 		sub	sp, sp, #12
 1716 000c 08000BE5 		str	r0, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 43


 1717 0010 0C100BE5 		str	r1, [fp, #-12]
 604:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that the ordering is the same so the compiler can optimize */
 605:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->CPSR=Src->CPSR;
 1718              		.loc 1 605 18
 1719 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1720 0018 002093E5 		ldr	r2, [r3]
 1721              		.loc 1 605 14
 1722 001c 08301BE5 		ldr	r3, [fp, #-8]
 1723 0020 002083E5 		str	r2, [r3]
 606:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R0=Src->R0;
 1724              		.loc 1 606 16
 1725 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1726 0028 042093E5 		ldr	r2, [r3, #4]
 1727              		.loc 1 606 12
 1728 002c 08301BE5 		ldr	r3, [fp, #-8]
 1729 0030 042083E5 		str	r2, [r3, #4]
 607:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R1=Src->R1;
 1730              		.loc 1 607 16
 1731 0034 0C301BE5 		ldr	r3, [fp, #-12]
 1732 0038 082093E5 		ldr	r2, [r3, #8]
 1733              		.loc 1 607 12
 1734 003c 08301BE5 		ldr	r3, [fp, #-8]
 1735 0040 082083E5 		str	r2, [r3, #8]
 608:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R2=Src->R2;
 1736              		.loc 1 608 16
 1737 0044 0C301BE5 		ldr	r3, [fp, #-12]
 1738 0048 0C2093E5 		ldr	r2, [r3, #12]
 1739              		.loc 1 608 12
 1740 004c 08301BE5 		ldr	r3, [fp, #-8]
 1741 0050 0C2083E5 		str	r2, [r3, #12]
 609:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R3=Src->R3;
 1742              		.loc 1 609 16
 1743 0054 0C301BE5 		ldr	r3, [fp, #-12]
 1744 0058 102093E5 		ldr	r2, [r3, #16]
 1745              		.loc 1 609 12
 1746 005c 08301BE5 		ldr	r3, [fp, #-8]
 1747 0060 102083E5 		str	r2, [r3, #16]
 610:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R4=Src->R4;
 1748              		.loc 1 610 16
 1749 0064 0C301BE5 		ldr	r3, [fp, #-12]
 1750 0068 142093E5 		ldr	r2, [r3, #20]
 1751              		.loc 1 610 12
 1752 006c 08301BE5 		ldr	r3, [fp, #-8]
 1753 0070 142083E5 		str	r2, [r3, #20]
 611:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R5=Src->R5;
 1754              		.loc 1 611 16
 1755 0074 0C301BE5 		ldr	r3, [fp, #-12]
 1756 0078 182093E5 		ldr	r2, [r3, #24]
 1757              		.loc 1 611 12
 1758 007c 08301BE5 		ldr	r3, [fp, #-8]
 1759 0080 182083E5 		str	r2, [r3, #24]
 612:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R6=Src->R6;
 1760              		.loc 1 612 16
 1761 0084 0C301BE5 		ldr	r3, [fp, #-12]
 1762 0088 1C2093E5 		ldr	r2, [r3, #28]
 1763              		.loc 1 612 12
 1764 008c 08301BE5 		ldr	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 44


 1765 0090 1C2083E5 		str	r2, [r3, #28]
 613:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R7=Src->R7;
 1766              		.loc 1 613 16
 1767 0094 0C301BE5 		ldr	r3, [fp, #-12]
 1768 0098 202093E5 		ldr	r2, [r3, #32]
 1769              		.loc 1 613 12
 1770 009c 08301BE5 		ldr	r3, [fp, #-8]
 1771 00a0 202083E5 		str	r2, [r3, #32]
 614:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R8=Src->R8;
 1772              		.loc 1 614 16
 1773 00a4 0C301BE5 		ldr	r3, [fp, #-12]
 1774 00a8 242093E5 		ldr	r2, [r3, #36]
 1775              		.loc 1 614 12
 1776 00ac 08301BE5 		ldr	r3, [fp, #-8]
 1777 00b0 242083E5 		str	r2, [r3, #36]
 615:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R9=Src->R9;
 1778              		.loc 1 615 16
 1779 00b4 0C301BE5 		ldr	r3, [fp, #-12]
 1780 00b8 282093E5 		ldr	r2, [r3, #40]
 1781              		.loc 1 615 12
 1782 00bc 08301BE5 		ldr	r3, [fp, #-8]
 1783 00c0 282083E5 		str	r2, [r3, #40]
 616:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R10=Src->R10;
 1784              		.loc 1 616 17
 1785 00c4 0C301BE5 		ldr	r3, [fp, #-12]
 1786 00c8 2C2093E5 		ldr	r2, [r3, #44]
 1787              		.loc 1 616 13
 1788 00cc 08301BE5 		ldr	r3, [fp, #-8]
 1789 00d0 2C2083E5 		str	r2, [r3, #44]
 617:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R11=Src->R11;
 1790              		.loc 1 617 17
 1791 00d4 0C301BE5 		ldr	r3, [fp, #-12]
 1792 00d8 302093E5 		ldr	r2, [r3, #48]
 1793              		.loc 1 617 13
 1794 00dc 08301BE5 		ldr	r3, [fp, #-8]
 1795 00e0 302083E5 		str	r2, [r3, #48]
 618:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->SP=Src->SP;
 1796              		.loc 1 618 16
 1797 00e4 0C301BE5 		ldr	r3, [fp, #-12]
 1798 00e8 342093E5 		ldr	r2, [r3, #52]
 1799              		.loc 1 618 12
 1800 00ec 08301BE5 		ldr	r3, [fp, #-8]
 1801 00f0 342083E5 		str	r2, [r3, #52]
 619:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->LR=Src->LR;
 1802              		.loc 1 619 16
 1803 00f4 0C301BE5 		ldr	r3, [fp, #-12]
 1804 00f8 382093E5 		ldr	r2, [r3, #56]
 1805              		.loc 1 619 12
 1806 00fc 08301BE5 		ldr	r3, [fp, #-8]
 1807 0100 382083E5 		str	r2, [r3, #56]
 620:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->PC=Src->PC;
 1808              		.loc 1 620 16
 1809 0104 0C301BE5 		ldr	r3, [fp, #-12]
 1810 0108 3C2093E5 		ldr	r2, [r3, #60]
 1811              		.loc 1 620 12
 1812 010c 08301BE5 		ldr	r3, [fp, #-8]
 1813 0110 3C2083E5 		str	r2, [r3, #60]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 45


 621:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1814              		.loc 1 621 1
 1815 0114 00F020E3 		nop
 1816 0118 00D08BE2 		add	sp, fp, #0
 1817              		.cfi_def_cfa_register 13
 1818              		@ sp needed
 1819 011c 04B09DE4 		ldr	fp, [sp], #4
 1820              		.cfi_restore 11
 1821              		.cfi_def_cfa_offset 0
 1822 0120 1EFF2FE1 		bx	lr
 1823              		.cfi_endproc
 1824              	.LFE18:
 1826              		.section	.text.__RME_Thd_Cop_Init,"ax",%progbits
 1827              		.align	2
 1828              		.global	__RME_Thd_Cop_Init
 1829              		.syntax unified
 1830              		.arm
 1832              	__RME_Thd_Cop_Init:
 1833              	.LFB19:
 622:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Copy *******************************************/
 623:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 624:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Init ************************************************
 625:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the coprocessor register set for the thread.
 626:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register struct to help initialize the coprocessor.
 627:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Cop_Struct* Cop_Reg - The register set content generated.
 628:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 629:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 630:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Init(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 631:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1834              		.loc 1 631 1
 1835              		.cfi_startproc
 1836              		@ args = 0, pretend = 0, frame = 8
 1837              		@ frame_needed = 1, uses_anonymous_args = 0
 1838              		@ link register save eliminated.
 1839 0000 04B02DE5 		str	fp, [sp, #-4]!
 1840              		.cfi_def_cfa_offset 4
 1841              		.cfi_offset 11, -4
 1842 0004 00B08DE2 		add	fp, sp, #0
 1843              		.cfi_def_cfa_register 11
 1844 0008 0CD04DE2 		sub	sp, sp, #12
 1845 000c 08000BE5 		str	r0, [fp, #-8]
 1846 0010 0C100BE5 		str	r1, [fp, #-12]
 632:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Empty function, return immediately. The FPU contents is not predictable */
 633:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1847              		.loc 1 633 1
 1848 0014 00F020E3 		nop
 1849 0018 00D08BE2 		add	sp, fp, #0
 1850              		.cfi_def_cfa_register 13
 1851              		@ sp needed
 1852 001c 04B09DE4 		ldr	fp, [sp], #4
 1853              		.cfi_restore 11
 1854              		.cfi_def_cfa_offset 0
 1855 0020 1EFF2FE1 		bx	lr
 1856              		.cfi_endproc
 1857              	.LFE19:
 1859              		.section	.text.__RME_Thd_Cop_Save,"ax",%progbits
 1860              		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 46


 1861              		.global	__RME_Thd_Cop_Save
 1862              		.syntax unified
 1863              		.arm
 1865              	__RME_Thd_Cop_Save:
 1866              	.LFB20:
 634:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Reg_Init ***************************************/
 635:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 636:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Save ************************************************
 637:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the co-op register sets. This operation is flexible - If the
 638:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save its context.
 639:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 640:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 641:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 642:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 643:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 644:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Save(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 645:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1867              		.loc 1 645 1
 1868              		.cfi_startproc
 1869              		@ args = 0, pretend = 0, frame = 8
 1870              		@ frame_needed = 1, uses_anonymous_args = 0
 1871              		@ link register save eliminated.
 1872 0000 04B02DE5 		str	fp, [sp, #-4]!
 1873              		.cfi_def_cfa_offset 4
 1874              		.cfi_offset 11, -4
 1875 0004 00B08DE2 		add	fp, sp, #0
 1876              		.cfi_def_cfa_register 11
 1877 0008 0CD04DE2 		sub	sp, sp, #12
 1878 000c 08000BE5 		str	r0, [fp, #-8]
 1879 0010 0C100BE5 		str	r1, [fp, #-12]
 646:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 647:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1880              		.loc 1 647 1
 1881 0014 00F020E3 		nop
 1882 0018 00D08BE2 		add	sp, fp, #0
 1883              		.cfi_def_cfa_register 13
 1884              		@ sp needed
 1885 001c 04B09DE4 		ldr	fp, [sp], #4
 1886              		.cfi_restore 11
 1887              		.cfi_def_cfa_offset 0
 1888 0020 1EFF2FE1 		bx	lr
 1889              		.cfi_endproc
 1890              	.LFE20:
 1892              		.section	.text.__RME_Thd_Cop_Restore,"ax",%progbits
 1893              		.align	2
 1894              		.global	__RME_Thd_Cop_Restore
 1895              		.syntax unified
 1896              		.arm
 1898              	__RME_Thd_Cop_Restore:
 1899              	.LFB21:
 648:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Save *******************************************/
 649:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 650:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Restore *********************************************
 651:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the co-op register sets. This operation is flexible - If the
 652:../../Source/Platform/A7A/rme_platform_a7a.c ****               FPU is not used, we do not restore its context.
 653:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 654:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 47


 655:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 656:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 657:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 658:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Restore(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 659:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1900              		.loc 1 659 1
 1901              		.cfi_startproc
 1902              		@ args = 0, pretend = 0, frame = 8
 1903              		@ frame_needed = 1, uses_anonymous_args = 0
 1904              		@ link register save eliminated.
 1905 0000 04B02DE5 		str	fp, [sp, #-4]!
 1906              		.cfi_def_cfa_offset 4
 1907              		.cfi_offset 11, -4
 1908 0004 00B08DE2 		add	fp, sp, #0
 1909              		.cfi_def_cfa_register 11
 1910 0008 0CD04DE2 		sub	sp, sp, #12
 1911 000c 08000BE5 		str	r0, [fp, #-8]
 1912 0010 0C100BE5 		str	r1, [fp, #-12]
 660:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 661:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1913              		.loc 1 661 1
 1914 0014 00F020E3 		nop
 1915 0018 00D08BE2 		add	sp, fp, #0
 1916              		.cfi_def_cfa_register 13
 1917              		@ sp needed
 1918 001c 04B09DE4 		ldr	fp, [sp], #4
 1919              		.cfi_restore 11
 1920              		.cfi_def_cfa_offset 0
 1921 0020 1EFF2FE1 		bx	lr
 1922              		.cfi_endproc
 1923              	.LFE21:
 1925              		.section	.text.__RME_Inv_Reg_Save,"ax",%progbits
 1926              		.align	2
 1927              		.global	__RME_Inv_Reg_Save
 1928              		.syntax unified
 1929              		.arm
 1931              	__RME_Inv_Reg_Save:
 1932              	.LFB22:
 662:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Restore ****************************************/
 663:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Save ************************************************
 665:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the necessary registers on invocation for returning. Only the
 666:../../Source/Platform/A7A/rme_platform_a7a.c ****               registers that will influence program control flow will be saved.
 667:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 668:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Iret_Struct* Ret - The invocation return register context.
 669:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 670:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 671:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Save(struct RME_Iret_Struct* Ret, struct RME_Reg_Struct* Reg)
 672:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1933              		.loc 1 672 1
 1934              		.cfi_startproc
 1935              		@ args = 0, pretend = 0, frame = 8
 1936              		@ frame_needed = 1, uses_anonymous_args = 0
 1937              		@ link register save eliminated.
 1938 0000 04B02DE5 		str	fp, [sp, #-4]!
 1939              		.cfi_def_cfa_offset 4
 1940              		.cfi_offset 11, -4
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 48


 1941 0004 00B08DE2 		add	fp, sp, #0
 1942              		.cfi_def_cfa_register 11
 1943 0008 0CD04DE2 		sub	sp, sp, #12
 1944 000c 08000BE5 		str	r0, [fp, #-8]
 1945 0010 0C100BE5 		str	r1, [fp, #-12]
 673:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->PC=Reg->PC;
 1946              		.loc 1 673 16
 1947 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1948 0018 3C2093E5 		ldr	r2, [r3, #60]
 1949              		.loc 1 673 12
 1950 001c 08301BE5 		ldr	r3, [fp, #-8]
 1951 0020 002083E5 		str	r2, [r3]
 674:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->SP=Reg->SP;
 1952              		.loc 1 674 16
 1953 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1954 0028 342093E5 		ldr	r2, [r3, #52]
 1955              		.loc 1 674 12
 1956 002c 08301BE5 		ldr	r3, [fp, #-8]
 1957 0030 042083E5 		str	r2, [r3, #4]
 675:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1958              		.loc 1 675 1
 1959 0034 00F020E3 		nop
 1960 0038 00D08BE2 		add	sp, fp, #0
 1961              		.cfi_def_cfa_register 13
 1962              		@ sp needed
 1963 003c 04B09DE4 		ldr	fp, [sp], #4
 1964              		.cfi_restore 11
 1965              		.cfi_def_cfa_offset 0
 1966 0040 1EFF2FE1 		bx	lr
 1967              		.cfi_endproc
 1968              	.LFE22:
 1970              		.section	.text.__RME_Inv_Reg_Restore,"ax",%progbits
 1971              		.align	2
 1972              		.global	__RME_Inv_Reg_Restore
 1973              		.syntax unified
 1974              		.arm
 1976              	__RME_Inv_Reg_Restore:
 1977              	.LFB23:
 676:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Save *******************************************/
 677:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Restore *********************************************
 679:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the necessary registers for returning from an invocation.
 680:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Iret_Struct* Ret - The invocation return register context.
 681:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 682:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 683:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 684:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Restore(struct RME_Reg_Struct* Reg, struct RME_Iret_Struct* Ret)
 685:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1978              		.loc 1 685 1
 1979              		.cfi_startproc
 1980              		@ args = 0, pretend = 0, frame = 8
 1981              		@ frame_needed = 1, uses_anonymous_args = 0
 1982              		@ link register save eliminated.
 1983 0000 04B02DE5 		str	fp, [sp, #-4]!
 1984              		.cfi_def_cfa_offset 4
 1985              		.cfi_offset 11, -4
 1986 0004 00B08DE2 		add	fp, sp, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 49


 1987              		.cfi_def_cfa_register 11
 1988 0008 0CD04DE2 		sub	sp, sp, #12
 1989 000c 08000BE5 		str	r0, [fp, #-8]
 1990 0010 0C100BE5 		str	r1, [fp, #-12]
 686:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Ret->PC;
 1991              		.loc 1 686 16
 1992 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1993 0018 002093E5 		ldr	r2, [r3]
 1994              		.loc 1 686 12
 1995 001c 08301BE5 		ldr	r3, [fp, #-8]
 1996 0020 3C2083E5 		str	r2, [r3, #60]
 687:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Ret->SP;
 1997              		.loc 1 687 16
 1998 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1999 0028 042093E5 		ldr	r2, [r3, #4]
 2000              		.loc 1 687 12
 2001 002c 08301BE5 		ldr	r3, [fp, #-8]
 2002 0030 342083E5 		str	r2, [r3, #52]
 688:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2003              		.loc 1 688 1
 2004 0034 00F020E3 		nop
 2005 0038 00D08BE2 		add	sp, fp, #0
 2006              		.cfi_def_cfa_register 13
 2007              		@ sp needed
 2008 003c 04B09DE4 		ldr	fp, [sp], #4
 2009              		.cfi_restore 11
 2010              		.cfi_def_cfa_offset 0
 2011 0040 1EFF2FE1 		bx	lr
 2012              		.cfi_endproc
 2013              	.LFE23:
 2015              		.section	.text.__RME_Inv_Retval_Set,"ax",%progbits
 2016              		.align	2
 2017              		.global	__RME_Inv_Retval_Set
 2018              		.syntax unified
 2019              		.arm
 2021              	__RME_Inv_Retval_Set:
 2022              	.LFB24:
 689:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Restore ****************************************/
 690:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 691:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Retval_Set **********************************************
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 693:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 694:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 695:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 697:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Retval_Set(struct RME_Reg_Struct* Reg,
 698:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ret_t Retval)
 699:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2023              		.loc 1 699 1
 2024              		.cfi_startproc
 2025              		@ args = 0, pretend = 0, frame = 8
 2026              		@ frame_needed = 1, uses_anonymous_args = 0
 2027              		@ link register save eliminated.
 2028 0000 04B02DE5 		str	fp, [sp, #-4]!
 2029              		.cfi_def_cfa_offset 4
 2030              		.cfi_offset 11, -4
 2031 0004 00B08DE2 		add	fp, sp, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 50


 2032              		.cfi_def_cfa_register 11
 2033 0008 0CD04DE2 		sub	sp, sp, #12
 2034 000c 08000BE5 		str	r0, [fp, #-8]
 2035 0010 0C100BE5 		str	r1, [fp, #-12]
 700:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R5=(rme_ptr_t)Retval;
 2036              		.loc 1 700 13
 2037 0014 0C201BE5 		ldr	r2, [fp, #-12]
 2038              		.loc 1 700 12
 2039 0018 08301BE5 		ldr	r3, [fp, #-8]
 2040 001c 182083E5 		str	r2, [r3, #24]
 701:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2041              		.loc 1 701 1
 2042 0020 00F020E3 		nop
 2043 0024 00D08BE2 		add	sp, fp, #0
 2044              		.cfi_def_cfa_register 13
 2045              		@ sp needed
 2046 0028 04B09DE4 		ldr	fp, [sp], #4
 2047              		.cfi_restore 11
 2048              		.cfi_def_cfa_offset 0
 2049 002c 1EFF2FE1 		bx	lr
 2050              		.cfi_endproc
 2051              	.LFE24:
 2053              		.section	.text.__RME_Set_Inv_Retval,"ax",%progbits
 2054              		.align	2
 2055              		.global	__RME_Set_Inv_Retval
 2056              		.syntax unified
 2057              		.arm
 2059              	__RME_Set_Inv_Retval:
 2060              	.LFB25:
 702:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Retval_Set *****************************************/
 703:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 704:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Inv_Retval **********************************************
 705:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 706:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 707:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 708:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 709:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 710:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Set_Inv_Retval(struct RME_Reg_Struct* Reg, rme_ret_t Retval)
 711:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2061              		.loc 1 711 1
 2062              		.cfi_startproc
 2063              		@ args = 0, pretend = 0, frame = 8
 2064              		@ frame_needed = 1, uses_anonymous_args = 0
 2065              		@ link register save eliminated.
 2066 0000 04B02DE5 		str	fp, [sp, #-4]!
 2067              		.cfi_def_cfa_offset 4
 2068              		.cfi_offset 11, -4
 2069 0004 00B08DE2 		add	fp, sp, #0
 2070              		.cfi_def_cfa_register 11
 2071 0008 0CD04DE2 		sub	sp, sp, #12
 2072 000c 08000BE5 		str	r0, [fp, #-8]
 2073 0010 0C100BE5 		str	r1, [fp, #-12]
 712:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R1=(rme_ptr_t)Retval;
 2074              		.loc 1 712 13
 2075 0014 0C201BE5 		ldr	r2, [fp, #-12]
 2076              		.loc 1 712 12
 2077 0018 08301BE5 		ldr	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 51


 2078 001c 082083E5 		str	r2, [r3, #8]
 713:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2079              		.loc 1 713 1
 2080 0020 00F020E3 		nop
 2081 0024 00D08BE2 		add	sp, fp, #0
 2082              		.cfi_def_cfa_register 13
 2083              		@ sp needed
 2084 0028 04B09DE4 		ldr	fp, [sp], #4
 2085              		.cfi_restore 11
 2086              		.cfi_def_cfa_offset 0
 2087 002c 1EFF2FE1 		bx	lr
 2088              		.cfi_endproc
 2089              	.LFE25:
 2091              		.section	.text.__RME_Thd_Cop_Swap,"ax",%progbits
 2092              		.align	2
 2093              		.global	__RME_Thd_Cop_Swap
 2094              		.syntax unified
 2095              		.arm
 2097              	__RME_Thd_Cop_Swap:
 2098              	.LFB26:
 714:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Inv_Retval *****************************************/
 715:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 716:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Swap ************************************************
 717:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Swap the cop register sets. This operation is flexible - If the
 718:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save/restore its context.
 719:../../Source/Platform/A7A/rme_platform_a7a.c ****               We do not need to turn off lazy stacking, because even if a fault
 720:../../Source/Platform/A7A/rme_platform_a7a.c ****               occurs, it (1) tails the execution of activates the will get dropped
 721:../../Source/Platform/A7A/rme_platform_a7a.c ****               by our handler deliberately and will not cause wrong attribution.
 722:../../Source/Platform/A7A/rme_platform_a7a.c ****               They can be alternatively disabled as well if you wish.
 723:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Attr_New - The attribute of the context to switch to.
 724:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_New - Whether the context to switch to is a
 725:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 726:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_New - The context to switch to.
 727:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Attr_Cur - The attribute of the context to switch from.
 728:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_Cur - Whether the context to switch from is a
 729:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 730:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_Cur - The context to switch from.
 731:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : void* Cop_New - The coprocessor context to switch to.
 732:../../Source/Platform/A7A/rme_platform_a7a.c ****               void* Cop_Cur - The coprocessor context to switch from.
 733:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 734:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 735:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Swap(rme_ptr_t Attr_New,
 736:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_New,
 737:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_New,
 738:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_New,
 739:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Attr_Cur,
 740:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_Cur,
 741:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_Cur,
 742:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_Cur)
 743:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2099              		.loc 1 743 1
 2100              		.cfi_startproc
 2101              		@ args = 16, pretend = 0, frame = 16
 2102              		@ frame_needed = 1, uses_anonymous_args = 0
 2103              		@ link register save eliminated.
 2104 0000 04B02DE5 		str	fp, [sp, #-4]!
 2105              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 52


 2106              		.cfi_offset 11, -4
 2107 0004 00B08DE2 		add	fp, sp, #0
 2108              		.cfi_def_cfa_register 11
 2109 0008 14D04DE2 		sub	sp, sp, #20
 2110 000c 08000BE5 		str	r0, [fp, #-8]
 2111 0010 0C100BE5 		str	r1, [fp, #-12]
 2112 0014 10200BE5 		str	r2, [fp, #-16]
 2113 0018 14300BE5 		str	r3, [fp, #-20]
 744:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 745:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2114              		.loc 1 745 1
 2115 001c 00F020E3 		nop
 2116 0020 00D08BE2 		add	sp, fp, #0
 2117              		.cfi_def_cfa_register 13
 2118              		@ sp needed
 2119 0024 04B09DE4 		ldr	fp, [sp], #4
 2120              		.cfi_restore 11
 2121              		.cfi_def_cfa_offset 0
 2122 0028 1EFF2FE1 		bx	lr
 2123              		.cfi_endproc
 2124              	.LFE26:
 2126              		.section	.text.__RME_Kfn_Handler,"ax",%progbits
 2127              		.align	2
 2128              		.global	__RME_Kfn_Handler
 2129              		.syntax unified
 2130              		.arm
 2132              	__RME_Kfn_Handler:
 2133              	.LFB27:
 746:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Swap *******************************************/
 747:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 748:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Kern_Func_Handler *******************************************
 749:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Handle kernel function calls.
 750:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The current register set.
 751:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Func_ID - The function ID.
 752:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Sub_ID - The sub function ID.
 753:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param1 - The first parameter.
 754:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param2 - The second parameter.
 755:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 756:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - The value that the function returned.
 757:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 758:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Kfn_Handler(struct RME_Cap_Cpt* Cpt,
 759:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            struct RME_Reg_Struct* Reg,
 760:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Func_ID,
 761:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Sub_ID,
 762:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param1,
 763:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param2)
 764:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2134              		.loc 1 764 1
 2135              		.cfi_startproc
 2136              		@ args = 8, pretend = 0, frame = 16
 2137              		@ frame_needed = 1, uses_anonymous_args = 0
 2138              		@ link register save eliminated.
 2139 0000 04B02DE5 		str	fp, [sp, #-4]!
 2140              		.cfi_def_cfa_offset 4
 2141              		.cfi_offset 11, -4
 2142 0004 00B08DE2 		add	fp, sp, #0
 2143              		.cfi_def_cfa_register 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 53


 2144 0008 14D04DE2 		sub	sp, sp, #20
 2145 000c 08000BE5 		str	r0, [fp, #-8]
 2146 0010 0C100BE5 		str	r1, [fp, #-12]
 2147 0014 10200BE5 		str	r2, [fp, #-16]
 2148 0018 14300BE5 		str	r3, [fp, #-20]
 765:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Currently no kernel function implemented */
 766:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2149              		.loc 1 766 12
 2150 001c 0030A0E3 		mov	r3, #0
 767:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2151              		.loc 1 767 1
 2152 0020 0300A0E1 		mov	r0, r3
 2153 0024 00D08BE2 		add	sp, fp, #0
 2154              		.cfi_def_cfa_register 13
 2155              		@ sp needed
 2156 0028 04B09DE4 		ldr	fp, [sp], #4
 2157              		.cfi_restore 11
 2158              		.cfi_def_cfa_offset 0
 2159 002c 1EFF2FE1 		bx	lr
 2160              		.cfi_endproc
 2161              	.LFE27:
 2163              		.section	.rodata
 2164 031e 0000     		.align	2
 2165              	.LC27:
 2166 0320 556E6465 		.ascii	"Undefined_Handler\000"
 2166      66696E65 
 2166      645F4861 
 2166      6E646C65 
 2166      7200
 2167 0332 0000     		.align	2
 2168              	.LC28:
 2169 0334 20504320 		.ascii	" PC - \000"
 2169      2D2000
 2170 033b 00       		.align	2
 2171              	.LC29:
 2172 033c 20535020 		.ascii	" SP - \000"
 2172      2D2000
 2173              		.section	.text.__RME_A7A_Undefined_Handler,"ax",%progbits
 2174              		.align	2
 2175              		.global	__RME_A7A_Undefined_Handler
 2176              		.syntax unified
 2177              		.arm
 2179              	__RME_A7A_Undefined_Handler:
 2180              	.LFB28:
 768:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Kern_Func_Handler **************************************/
 769:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 770:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Undefined_Handler **************************************
 771:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The undefined instruction vector handler of RME.
 772:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 773:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 774:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 775:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 776:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Undefined_Handler(struct RME_Reg_Struct* Reg)
 777:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2181              		.loc 1 777 1
 2182              		.cfi_startproc
 2183              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 54


 2184              		@ frame_needed = 1, uses_anonymous_args = 0
 2185 0000 00482DE9 		push	{fp, lr}
 2186              		.cfi_def_cfa_offset 8
 2187              		.cfi_offset 11, -8
 2188              		.cfi_offset 14, -4
 2189 0004 04B08DE2 		add	fp, sp, #4
 2190              		.cfi_def_cfa 11, 4
 2191 0008 08D04DE2 		sub	sp, sp, #8
 2192 000c 08000BE5 		str	r0, [fp, #-8]
 778:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle undefined instructions now */
 779:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S("Undefined_Handler");
 2193              		.loc 1 779 2
 2194 0010 000000E3 		movw	r0, #:lower16:.LC27
 2195 0014 000040E3 		movt	r0, #:upper16:.LC27
 2196 0018 FEFFFFEB 		bl	RME_Str_Print
 780:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" PC - ");
 2197              		.loc 1 780 2
 2198 001c 000000E3 		movw	r0, #:lower16:.LC28
 2199 0020 000040E3 		movt	r0, #:upper16:.LC28
 2200 0024 FEFFFFEB 		bl	RME_Str_Print
 781:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->PC);
 2201              		.loc 1 781 2
 2202 0028 08301BE5 		ldr	r3, [fp, #-8]
 2203 002c 3C3093E5 		ldr	r3, [r3, #60]
 2204 0030 0300A0E1 		mov	r0, r3
 2205 0034 FEFFFFEB 		bl	RME_Hex_Print
 782:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" SP - ");
 2206              		.loc 1 782 2
 2207 0038 000000E3 		movw	r0, #:lower16:.LC29
 2208 003c 000040E3 		movt	r0, #:upper16:.LC29
 2209 0040 FEFFFFEB 		bl	RME_Str_Print
 783:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->SP);
 2210              		.loc 1 783 2
 2211 0044 08301BE5 		ldr	r3, [fp, #-8]
 2212 0048 343093E5 		ldr	r3, [r3, #52]
 2213 004c 0300A0E1 		mov	r0, r3
 2214 0050 FEFFFFEB 		bl	RME_Hex_Print
 2215              	.L71:
 784:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2216              		.loc 1 784 7
 2217 0054 FEFFFFEA 		b	.L71
 2218              		.cfi_endproc
 2219              	.LFE28:
 2221              		.section	.rodata
 2222 0343 00       		.align	2
 2223              	.LC30:
 2224 0344 50726566 		.ascii	"Prefetch_Abort_Handler\000"
 2224      65746368 
 2224      5F41626F 
 2224      72745F48 
 2224      616E646C 
 2225              		.section	.text.__RME_A7A_Prefetch_Abort_Handler,"ax",%progbits
 2226              		.align	2
 2227              		.global	__RME_A7A_Prefetch_Abort_Handler
 2228              		.syntax unified
 2229              		.arm
 2231              	__RME_A7A_Prefetch_Abort_Handler:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 55


 2232              	.LFB29:
 785:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 786:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Undefined_Handler *********************************/
 787:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 788:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Prefetch_Abort_Handler *********************************
 789:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The prefetch abort vector handler of RME.
 790:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 791:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 792:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 793:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 794:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Prefetch_Abort_Handler(struct RME_Reg_Struct* Reg)
 795:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2233              		.loc 1 795 1
 2234              		.cfi_startproc
 2235              		@ args = 0, pretend = 0, frame = 8
 2236              		@ frame_needed = 1, uses_anonymous_args = 0
 2237 0000 00482DE9 		push	{fp, lr}
 2238              		.cfi_def_cfa_offset 8
 2239              		.cfi_offset 11, -8
 2240              		.cfi_offset 14, -4
 2241 0004 04B08DE2 		add	fp, sp, #4
 2242              		.cfi_def_cfa 11, 4
 2243 0008 08D04DE2 		sub	sp, sp, #8
 2244 000c 08000BE5 		str	r0, [fp, #-8]
 796:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle prefetch aborts now */
 797:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S("Prefetch_Abort_Handler");
 2245              		.loc 1 797 2
 2246 0010 000000E3 		movw	r0, #:lower16:.LC30
 2247 0014 000040E3 		movt	r0, #:upper16:.LC30
 2248 0018 FEFFFFEB 		bl	RME_Str_Print
 798:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" PC - ");
 2249              		.loc 1 798 2
 2250 001c 000000E3 		movw	r0, #:lower16:.LC28
 2251 0020 000040E3 		movt	r0, #:upper16:.LC28
 2252 0024 FEFFFFEB 		bl	RME_Str_Print
 799:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->PC);
 2253              		.loc 1 799 2
 2254 0028 08301BE5 		ldr	r3, [fp, #-8]
 2255 002c 3C3093E5 		ldr	r3, [r3, #60]
 2256 0030 0300A0E1 		mov	r0, r3
 2257 0034 FEFFFFEB 		bl	RME_Hex_Print
 800:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" SP - ");
 2258              		.loc 1 800 2
 2259 0038 000000E3 		movw	r0, #:lower16:.LC29
 2260 003c 000040E3 		movt	r0, #:upper16:.LC29
 2261 0040 FEFFFFEB 		bl	RME_Str_Print
 801:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->SP);
 2262              		.loc 1 801 2
 2263 0044 08301BE5 		ldr	r3, [fp, #-8]
 2264 0048 343093E5 		ldr	r3, [r3, #52]
 2265 004c 0300A0E1 		mov	r0, r3
 2266 0050 FEFFFFEB 		bl	RME_Hex_Print
 2267              	.L73:
 802:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2268              		.loc 1 802 7
 2269 0054 FEFFFFEA 		b	.L73
 2270              		.cfi_endproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 56


 2271              	.LFE29:
 2273              		.section	.rodata
 2274 035b 00       		.align	2
 2275              	.LC31:
 2276 035c 44617461 		.ascii	"Data_Abort_Handler\000"
 2276      5F41626F 
 2276      72745F48 
 2276      616E646C 
 2276      657200
 2277              		.section	.text.__RME_A7A_Data_Abort_Handler,"ax",%progbits
 2278              		.align	2
 2279              		.global	__RME_A7A_Data_Abort_Handler
 2280              		.syntax unified
 2281              		.arm
 2283              	__RME_A7A_Data_Abort_Handler:
 2284              	.LFB30:
 803:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 804:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Prefetch_Abort_Handler ****************************/
 805:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 806:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Data_Abort_Handler *************************************
 807:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The data abort vector handler of RME.
 808:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 809:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 810:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 811:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 812:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Data_Abort_Handler(struct RME_Reg_Struct* Reg)
 813:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2285              		.loc 1 813 1
 2286              		.cfi_startproc
 2287              		@ args = 0, pretend = 0, frame = 8
 2288              		@ frame_needed = 1, uses_anonymous_args = 0
 2289 0000 00482DE9 		push	{fp, lr}
 2290              		.cfi_def_cfa_offset 8
 2291              		.cfi_offset 11, -8
 2292              		.cfi_offset 14, -4
 2293 0004 04B08DE2 		add	fp, sp, #4
 2294              		.cfi_def_cfa 11, 4
 2295 0008 08D04DE2 		sub	sp, sp, #8
 2296 000c 08000BE5 		str	r0, [fp, #-8]
 814:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle data aborts now */
 815:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S("Data_Abort_Handler");
 2297              		.loc 1 815 2
 2298 0010 000000E3 		movw	r0, #:lower16:.LC31
 2299 0014 000040E3 		movt	r0, #:upper16:.LC31
 2300 0018 FEFFFFEB 		bl	RME_Str_Print
 816:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" PC - ");
 2301              		.loc 1 816 2
 2302 001c 000000E3 		movw	r0, #:lower16:.LC28
 2303 0020 000040E3 		movt	r0, #:upper16:.LC28
 2304 0024 FEFFFFEB 		bl	RME_Str_Print
 817:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->PC);
 2305              		.loc 1 817 2
 2306 0028 08301BE5 		ldr	r3, [fp, #-8]
 2307 002c 3C3093E5 		ldr	r3, [r3, #60]
 2308 0030 0300A0E1 		mov	r0, r3
 2309 0034 FEFFFFEB 		bl	RME_Hex_Print
 818:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" SP - ");
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 57


 2310              		.loc 1 818 2
 2311 0038 000000E3 		movw	r0, #:lower16:.LC29
 2312 003c 000040E3 		movt	r0, #:upper16:.LC29
 2313 0040 FEFFFFEB 		bl	RME_Str_Print
 819:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->SP);
 2314              		.loc 1 819 2
 2315 0044 08301BE5 		ldr	r3, [fp, #-8]
 2316 0048 343093E5 		ldr	r3, [r3, #52]
 2317 004c 0300A0E1 		mov	r0, r3
 2318 0050 FEFFFFEB 		bl	RME_Hex_Print
 2319              	.L75:
 820:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2320              		.loc 1 820 7
 2321 0054 FEFFFFEA 		b	.L75
 2322              		.cfi_endproc
 2323              	.LFE30:
 2325              		.section	.rodata
 2326 036f 00       		.align	2
 2327              	.LC32:
 2328 0370 0D0A494E 		.ascii	"\015\012INT_ID is \000"
 2328      545F4944 
 2328      20697320 
 2328      00
 2329              		.section	.text.__RME_A7A_IRQ_Handler,"ax",%progbits
 2330              		.align	2
 2331              		.global	__RME_A7A_IRQ_Handler
 2332              		.syntax unified
 2333              		.arm
 2335              	__RME_A7A_IRQ_Handler:
 2336              	.LFB31:
 821:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 822:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Data_Abort_Handler ********************************/
 823:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 824:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_IRQ_Handler ********************************************
 825:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The regular interrupt vector handler of RME.
 826:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 827:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 828:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 829:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 830:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_IRQ_Handler(struct RME_Reg_Struct* Reg)
 831:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2337              		.loc 1 831 1
 2338              		.cfi_startproc
 2339              		@ args = 0, pretend = 0, frame = 16
 2340              		@ frame_needed = 1, uses_anonymous_args = 0
 2341 0000 00482DE9 		push	{fp, lr}
 2342              		.cfi_def_cfa_offset 8
 2343              		.cfi_offset 11, -8
 2344              		.cfi_offset 14, -4
 2345 0004 04B08DE2 		add	fp, sp, #4
 2346              		.cfi_def_cfa 11, 4
 2347 0008 10D04DE2 		sub	sp, sp, #16
 2348 000c 10000BE5 		str	r0, [fp, #-16]
 832:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t Int_ID;
 833:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t CPUID;
 834:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 835:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* What interrupt is this? */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 58


 836:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID=RME_A7A_GICC_IAR;
 2349              		.loc 1 836 9
 2350 0010 433FA0E3 		mov	r3, #268
 2351 0014 F0384FE3 		movt	r3, 63728
 2352              		.loc 1 836 8
 2353 0018 003093E5 		ldr	r3, [r3]
 2354 001c 08300BE5 		str	r3, [fp, #-8]
 837:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 2355              		.loc 1 837 7
 2356 0020 08301BE5 		ldr	r3, [fp, #-8]
 2357 0024 2335A0E1 		lsr	r3, r3, #10
 2358 0028 0C300BE5 		str	r3, [fp, #-12]
 838:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID&=0x3FFU;
 2359              		.loc 1 838 8
 2360 002c 08301BE5 		ldr	r3, [fp, #-8]
 2361 0030 5330E9E7 		ubfx	r3, r3, #0, #10
 2362 0034 08300BE5 		str	r3, [fp, #-8]
 839:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nINT_ID is ");
 2363              		.loc 1 839 5
 2364 0038 000000E3 		movw	r0, #:lower16:.LC32
 2365 003c 000040E3 		movt	r0, #:upper16:.LC32
 2366 0040 FEFFFFEB 		bl	RME_Str_Print
 840:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_I(Int_ID);
 2367              		.loc 1 840 2
 2368 0044 08301BE5 		ldr	r3, [fp, #-8]
 2369 0048 0300A0E1 		mov	r0, r3
 2370 004c FEFFFFEB 		bl	RME_Int_Print
 841:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 842:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 843:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a spurious interrupt? (Can't be 1022 because GICv1 don't have group1) */
 844:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(Int_ID!=1022);
 2371              		.loc 1 844 2
 2372 0050 08301BE5 		ldr	r3, [fp, #-8]
 2373 0054 FE2300E3 		movw	r2, #1022
 2374 0058 020053E1 		cmp	r3, r2
 2375 005c 0800001A 		bne	.L77
 2376              		.loc 1 844 2 is_stmt 0 discriminator 1
 2377 0060 003000E3 		movw	r3, #:lower16:.LC11
 2378 0064 003040E3 		movt	r3, #:upper16:.LC11
 2379 0068 002000E3 		movw	r2, #:lower16:.LC12
 2380 006c 002040E3 		movt	r2, #:upper16:.LC12
 2381 0070 D31FA0E3 		mov	r1, #844
 2382 0074 000000E3 		movw	r0, #:lower16:.LC13
 2383 0078 000040E3 		movt	r0, #:upper16:.LC13
 2384 007c FEFFFFEB 		bl	RME_Log
 2385              	.L78:
 2386              		.loc 1 844 2
 2387 0080 FEFFFFEA 		b	.L78
 2388              	.L77:
 845:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 2389              		.loc 1 845 4 is_stmt 1
 2390 0084 08301BE5 		ldr	r3, [fp, #-8]
 2391 0088 FF2300E3 		movw	r2, #1023
 2392 008c 020053E1 		cmp	r3, r2
 2393 0090 3D00000A 		beq	.L87
 846:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 847:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 59


 848:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 849:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 850:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is is an timer interrupt? (we know that it is at 29) */
 851:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==29)
 2394              		.loc 1 851 4
 2395 0094 08301BE5 		ldr	r3, [fp, #-8]
 2396 0098 1D0053E3 		cmp	r3, #29
 2397 009c 0B00001A 		bne	.L81
 852:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 853:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Clear the interrupt flag */
 854:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    RME_A7A_PTWD_PTISR=0;
 2398              		.loc 1 854 6
 2399 00a0 0C3600E3 		movw	r3, #1548
 2400 00a4 F0384FE3 		movt	r3, 63728
 2401              		.loc 1 854 24
 2402 00a8 0020A0E3 		mov	r2, #0
 2403 00ac 002083E5 		str	r2, [r3]
 855:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 856:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    _RME_Tim_Handler(Reg,1);
 2404              		.loc 1 856 6
 2405 00b0 0110A0E3 		mov	r1, #1
 2406 00b4 10001BE5 		ldr	r0, [fp, #-16]
 2407 00b8 FEFFFFEB 		bl	_RME_Tim_Handler
 857:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Send interrupt to all other processors to notify them about this */
 858:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 859:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 2408              		.loc 1 859 3
 2409 00bc 113EA0E3 		mov	r3, #272
 2410 00c0 F0384FE3 		movt	r3, 63728
 2411              		.loc 1 859 20
 2412 00c4 08201BE5 		ldr	r2, [fp, #-8]
 2413 00c8 002083E5 		str	r2, [r3]
 860:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2414              		.loc 1 860 3
 2415 00cc 2F0000EA 		b	.L76
 2416              	.L81:
 861:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 862:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 863:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 864:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 865:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 866:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 867:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 868:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 869:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a coprocessor timer interrupt? (We use interrupt number 0 for these) */
 870:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==0)
 2417              		.loc 1 870 4
 2418 00d0 08301BE5 		ldr	r3, [fp, #-8]
 2419 00d4 000053E3 		cmp	r3, #0
 2420 00d8 1000001A 		bne	.L82
 871:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 872:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* This must have originated from interface 0 */
 873:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(CPUID==0);
 2421              		.loc 1 873 3
 2422 00dc 0C301BE5 		ldr	r3, [fp, #-12]
 2423 00e0 000053E3 		cmp	r3, #0
 2424 00e4 0800000A 		beq	.L83
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 60


 2425              		.loc 1 873 3 is_stmt 0 discriminator 1
 2426 00e8 003000E3 		movw	r3, #:lower16:.LC11
 2427 00ec 003040E3 		movt	r3, #:upper16:.LC11
 2428 00f0 002000E3 		movw	r2, #:lower16:.LC12
 2429 00f4 002040E3 		movt	r2, #:upper16:.LC12
 2430 00f8 691300E3 		movw	r1, #873
 2431 00fc 000000E3 		movw	r0, #:lower16:.LC13
 2432 0100 000040E3 		movt	r0, #:upper16:.LC13
 2433 0104 FEFFFFEB 		bl	RME_Log
 2434              	.L84:
 2435              		.loc 1 873 3
 2436 0108 FEFFFFEA 		b	.L84
 2437              	.L83:
 874:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 875:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 876:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 2438              		.loc 1 876 3 is_stmt 1
 2439 010c 113EA0E3 		mov	r3, #272
 2440 0110 F0384FE3 		movt	r3, 63728
 2441              		.loc 1 876 20
 2442 0114 08201BE5 		ldr	r2, [fp, #-8]
 2443 0118 002083E5 		str	r2, [r3]
 877:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2444              		.loc 1 877 3
 2445 011c 1B0000EA 		b	.L76
 2446              	.L82:
 878:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 879:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 880:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an other IPI? (All the rest of the SGIs are these) */
 881:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID<16)
 2447              		.loc 1 881 4
 2448 0120 08301BE5 		ldr	r3, [fp, #-8]
 2449 0124 0F0053E3 		cmp	r3, #15
 2450 0128 0B00008A 		bhi	.L85
 882:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 883:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_A7A_SGI_Handler(Reg,CPUID,Int_ID);
 2451              		.loc 1 883 3
 2452 012c 08201BE5 		ldr	r2, [fp, #-8]
 2453 0130 0C101BE5 		ldr	r1, [fp, #-12]
 2454 0134 10001BE5 		ldr	r0, [fp, #-16]
 2455 0138 FEFFFFEB 		bl	_RME_A7A_SGI_Handler
 884:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 885:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=(CPUID<<10U)|Int_ID;
 2456              		.loc 1 885 27
 2457 013c 0C301BE5 		ldr	r3, [fp, #-12]
 2458 0140 0315A0E1 		lsl	r1, r3, #10
 2459              		.loc 1 885 3
 2460 0144 113EA0E3 		mov	r3, #272
 2461 0148 F0384FE3 		movt	r3, 63728
 2462              		.loc 1 885 33
 2463 014c 08201BE5 		ldr	r2, [fp, #-8]
 2464 0150 022081E1 		orr	r2, r1, r2
 2465              		.loc 1 885 20
 2466 0154 002083E5 		str	r2, [r3]
 886:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2467              		.loc 1 886 3
 2468 0158 0C0000EA 		b	.L76
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 61


 2469              	.L85:
 887:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 888:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 889:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an casual interrupt? */
 890:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(CPUID==0);
 2470              		.loc 1 890 2
 2471 015c 0C301BE5 		ldr	r3, [fp, #-12]
 2472 0160 000053E3 		cmp	r3, #0
 2473 0164 0900000A 		beq	.L76
 2474              		.loc 1 890 2 is_stmt 0 discriminator 1
 2475 0168 003000E3 		movw	r3, #:lower16:.LC11
 2476 016c 003040E3 		movt	r3, #:upper16:.LC11
 2477 0170 002000E3 		movw	r2, #:lower16:.LC12
 2478 0174 002040E3 		movt	r2, #:upper16:.LC12
 2479 0178 7A1300E3 		movw	r1, #890
 2480 017c 000000E3 		movw	r0, #:lower16:.LC13
 2481 0180 000040E3 		movt	r0, #:upper16:.LC13
 2482 0184 FEFFFFEB 		bl	RME_Log
 2483              	.L86:
 2484              		.loc 1 890 2
 2485 0188 FEFFFFEA 		b	.L86
 2486              	.L87:
 846:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 2487              		.loc 1 846 3 is_stmt 1
 2488 018c 00F020E3 		nop
 2489              	.L76:
 891:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 892:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2490              		.loc 1 892 1
 2491 0190 04D04BE2 		sub	sp, fp, #4
 2492              		.cfi_def_cfa 13, 8
 2493              		@ sp needed
 2494 0194 0088BDE8 		pop	{fp, pc}
 2495              		.cfi_endproc
 2496              	.LFE31:
 2498              		.section	.text._RME_A7A_SGI_Handler,"ax",%progbits
 2499              		.align	2
 2500              		.global	_RME_A7A_SGI_Handler
 2501              		.syntax unified
 2502              		.arm
 2504              	_RME_A7A_SGI_Handler:
 2505              	.LFB32:
 893:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_IRQ_Handler ***************************************/
 894:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 895:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:_RME_A7A_SGI_Handler *********************************************
 896:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for x64.
 897:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 898:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t CPUID - The ID of the sender CPU.
 899:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_ID - The ID of the SGI.
 900:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 901:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 902:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 903:../../Source/Platform/A7A/rme_platform_a7a.c **** void _RME_A7A_SGI_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t CPUID, rme_ptr_t Int_ID)
 904:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2506              		.loc 1 904 1
 2507              		.cfi_startproc
 2508              		@ args = 0, pretend = 0, frame = 16
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 62


 2509              		@ frame_needed = 1, uses_anonymous_args = 0
 2510              		@ link register save eliminated.
 2511 0000 04B02DE5 		str	fp, [sp, #-4]!
 2512              		.cfi_def_cfa_offset 4
 2513              		.cfi_offset 11, -4
 2514 0004 00B08DE2 		add	fp, sp, #0
 2515              		.cfi_def_cfa_register 11
 2516 0008 14D04DE2 		sub	sp, sp, #20
 2517 000c 08000BE5 		str	r0, [fp, #-8]
 2518 0010 0C100BE5 		str	r1, [fp, #-12]
 2519 0014 10200BE5 		str	r2, [fp, #-16]
 905:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Not handling SGIs */
 906:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return;
 2520              		.loc 1 906 2
 2521 0018 00F020E3 		nop
 907:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2522              		.loc 1 907 1
 2523 001c 00D08BE2 		add	sp, fp, #0
 2524              		.cfi_def_cfa_register 13
 2525              		@ sp needed
 2526 0020 04B09DE4 		ldr	fp, [sp], #4
 2527              		.cfi_restore 11
 2528              		.cfi_def_cfa_offset 0
 2529 0024 1EFF2FE1 		bx	lr
 2530              		.cfi_endproc
 2531              	.LFE32:
 2533              		.section	.rodata
 2534 037d 000000   		.align	2
 2535              	.LC33:
 2536 0380 0D0A4765 		.ascii	"\015\012General int:\000"
 2536      6E657261 
 2536      6C20696E 
 2536      743A00
 2537              		.section	.text.__RME_A7A_Generic_Handler,"ax",%progbits
 2538              		.align	2
 2539              		.global	__RME_A7A_Generic_Handler
 2540              		.syntax unified
 2541              		.arm
 2543              	__RME_A7A_Generic_Handler:
 2544              	.LFB33:
 908:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:_RME_A7A_SGI_Handler ****************************************/
 909:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 910:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Generic_Handler ****************************************
 911:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for Cortex-A (ARMv7).
 912:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 913:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_Num - The interrupt number.
 914:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 915:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 916:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 917:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Generic_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t Int_Num)
 918:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2545              		.loc 1 918 1
 2546              		.cfi_startproc
 2547              		@ args = 0, pretend = 0, frame = 8
 2548              		@ frame_needed = 1, uses_anonymous_args = 0
 2549 0000 00482DE9 		push	{fp, lr}
 2550              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 63


 2551              		.cfi_offset 11, -8
 2552              		.cfi_offset 14, -4
 2553 0004 04B08DE2 		add	fp, sp, #4
 2554              		.cfi_def_cfa 11, 4
 2555 0008 08D04DE2 		sub	sp, sp, #8
 2556 000c 08000BE5 		str	r0, [fp, #-8]
 2557 0010 0C100BE5 		str	r1, [fp, #-12]
 919:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 920:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nGeneral int:");
 2558              		.loc 1 920 5
 2559 0014 000000E3 		movw	r0, #:lower16:.LC33
 2560 0018 000040E3 		movt	r0, #:upper16:.LC33
 2561 001c FEFFFFEB 		bl	RME_Str_Print
 921:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 2562              		.loc 1 921 5
 2563 0020 0C301BE5 		ldr	r3, [fp, #-12]
 2564 0024 0300A0E1 		mov	r0, r3
 2565 0028 FEFFFFEB 		bl	RME_Int_Print
 922:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 923:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling anything */
 924:../../Source/Platform/A7A/rme_platform_a7a.c ****     switch(Int_Num)
 925:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 926:../../Source/Platform/A7A/rme_platform_a7a.c ****         default:break;
 2566              		.loc 1 926 17
 2567 002c 00F020E3 		nop
 927:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 928:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Remember to perform context switch after any kernel sends */
 929:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2568              		.loc 1 929 1
 2569 0030 00F020E3 		nop
 2570 0034 04D04BE2 		sub	sp, fp, #4
 2571              		.cfi_def_cfa 13, 8
 2572              		@ sp needed
 2573 0038 0088BDE8 		pop	{fp, pc}
 2574              		.cfi_endproc
 2575              	.LFE33:
 2577              		.section	.rodata
 2578 038f 00       		.align	2
 2579              	.LC34:
 2580 0390 0D0A5F5F 		.ascii	"\015\012__RME_Pgt_Set table kernel VA @ \000"
 2580      524D455F 
 2580      5067745F 
 2580      53657420 
 2580      7461626C 
 2581              		.section	.text.__RME_Pgt_Set,"ax",%progbits
 2582              		.align	2
 2583              		.global	__RME_Pgt_Set
 2584              		.syntax unified
 2585              		.arm
 2587              	__RME_Pgt_Set:
 2588              	.LFB34:
 930:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Generic_Handler ***********************************/
 931:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 932:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Set ***************************************************
 933:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the processor's page table.
 934:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Pgt - The virtual address of the page table.
 935:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 64


 936:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 937:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 938:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Pgt_Set(struct RME_Cap_Pgt* Pgt)
 939:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2589              		.loc 1 939 1
 2590              		.cfi_startproc
 2591              		@ args = 0, pretend = 0, frame = 16
 2592              		@ frame_needed = 1, uses_anonymous_args = 0
 2593 0000 00482DE9 		push	{fp, lr}
 2594              		.cfi_def_cfa_offset 8
 2595              		.cfi_offset 11, -8
 2596              		.cfi_offset 14, -4
 2597 0004 04B08DE2 		add	fp, sp, #4
 2598              		.cfi_def_cfa 11, 4
 2599 0008 10D04DE2 		sub	sp, sp, #16
 2600 000c 10000BE5 		str	r0, [fp, #-16]
 940:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
 941:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 942:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the actual table */
 943:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ptr=RME_CAP_GETOBJ(Pgt,rme_ptr_t*);
 2601              		.loc 1 943 9
 2602 0010 10301BE5 		ldr	r3, [fp, #-16]
 2603 0014 0C3093E5 		ldr	r3, [r3, #12]
 2604              		.loc 1 943 8
 2605 0018 08300BE5 		str	r3, [fp, #-8]
 944:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 945:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\n__RME_Pgt_Set table kernel VA @ ");
 2606              		.loc 1 945 5
 2607 001c 000000E3 		movw	r0, #:lower16:.LC34
 2608 0020 000040E3 		movt	r0, #:upper16:.LC34
 2609 0024 FEFFFFEB 		bl	RME_Str_Print
 946:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Ptr);
 2610              		.loc 1 946 5
 2611 0028 08301BE5 		ldr	r3, [fp, #-8]
 2612 002c 0300A0E1 		mov	r0, r3
 2613 0030 FEFFFFEB 		bl	RME_Hex_Print
 947:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 948:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_TTBR0_Set(RME_A7A_VA2PA(Ptr)|0x4A);
 2614              		.loc 1 948 25
 2615 0034 08301BE5 		ldr	r3, [fp, #-8]
 2616 0038 023183E2 		add	r3, r3, #-2147483648
 2617              		.loc 1 948 5
 2618 003c 4A3083E3 		orr	r3, r3, #74
 2619 0040 0300A0E1 		mov	r0, r3
 2620 0044 FEFFFFEB 		bl	__RME_A7A_TTBR0_Set
 949:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_TLBIALL_Set(0);
 2621              		.loc 1 949 2
 2622 0048 0000A0E3 		mov	r0, #0
 2623 004c FEFFFFEB 		bl	__RME_A7A_TLBIALL_Set
 950:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2624              		.loc 1 950 1
 2625 0050 00F020E3 		nop
 2626 0054 04D04BE2 		sub	sp, fp, #4
 2627              		.cfi_def_cfa 13, 8
 2628              		@ sp needed
 2629 0058 0088BDE8 		pop	{fp, pc}
 2630              		.cfi_endproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 65


 2631              	.LFE34:
 2633              		.section	.rodata
 2634 03b3 00       		.align	2
 2635              	.LC35:
 2636 03b4 0D0A7661 		.ascii	"\015\012vaddr error= \000"
 2636      64647220 
 2636      6572726F 
 2636      723D2000 
 2637              		.section	.text.__RME_Pgt_Check,"ax",%progbits
 2638              		.align	2
 2639              		.global	__RME_Pgt_Check
 2640              		.syntax unified
 2641              		.arm
 2643              	__RME_Pgt_Check:
 2644              	.LFB35:
 951:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Set **********************************************/
 952:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 953:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Check *************************************************
 954:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table parameters are feasible, according to the
 955:../../Source/Platform/A7A/rme_platform_a7a.c ****               parameters. This is only used in page table creation. The following
 956:../../Source/Platform/A7A/rme_platform_a7a.c ****               restrictions apply:
 957:../../Source/Platform/A7A/rme_platform_a7a.c **** 1. PAE is not supported by this port: if you have that much memory, use the Cortex-A
 958:../../Source/Platform/A7A/rme_platform_a7a.c ****    64-bit port instead. The translation scheme here is always:
 959:../../Source/Platform/A7A/rme_platform_a7a.c ****    4GB VA -> {Supersection, Section} -> {Large Page, Small Page}.
 960:../../Source/Platform/A7A/rme_platform_a7a.c ****    The supersection is described in ARMv7-AR ARM as optional, but is implemented on
 961:../../Source/Platform/A7A/rme_platform_a7a.c ****    all known ARMv7-A processors.
 962:../../Source/Platform/A7A/rme_platform_a7a.c ****    We only user TTBR0 here and we set value N to 0 as always. Using TTBR1 is nonsense
 963:../../Source/Platform/A7A/rme_platform_a7a.c ****    in our context, as it gives little benefit.
 964:../../Source/Platform/A7A/rme_platform_a7a.c **** 2. The ARM page tables have idiosyncrasy that allow two page size mappings to exist
 965:../../Source/Platform/A7A/rme_platform_a7a.c ****    in the same page table.
 966:../../Source/Platform/A7A/rme_platform_a7a.c **** 3. ARM page tables use repetition when it comes to supersections and large pages.
 967:../../Source/Platform/A7A/rme_platform_a7a.c ****    This breaks our numorder-sizeorder assumption, and for this reason, we do not
 968:../../Source/Platform/A7A/rme_platform_a7a.c ****    support these two page sizes explicitly. These two sizes are supported by kernel
 969:../../Source/Platform/A7A/rme_platform_a7a.c ****    functions instead, and the kernel function always maps/unmaps the pages as needed
 970:../../Source/Platform/A7A/rme_platform_a7a.c ****    without checking for any permissions; this can be viewed as a hack, and require
 971:../../Source/Platform/A7A/rme_platform_a7a.c ****    some caution when we are mapping pages in.
 972:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Base - The start mapping address.
 973:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Top - The top-level flag,
 974:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Size_Order - The size order of the page directory.
 975:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Num_Order - The number order of the page directory.
 976:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address of the page directory.
 977:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 978:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 979:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 980:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Check(rme_ptr_t Base, rme_ptr_t Is_Top,
 981:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ptr_t Size_Order, rme_ptr_t Num_Order, rme_ptr_t Vaddr)
 982:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2645              		.loc 1 982 1
 2646              		.cfi_startproc
 2647              		@ args = 4, pretend = 0, frame = 16
 2648              		@ frame_needed = 1, uses_anonymous_args = 0
 2649 0000 00482DE9 		push	{fp, lr}
 2650              		.cfi_def_cfa_offset 8
 2651              		.cfi_offset 11, -8
 2652              		.cfi_offset 14, -4
 2653 0004 04B08DE2 		add	fp, sp, #4
 2654              		.cfi_def_cfa 11, 4
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 66


 2655 0008 10D04DE2 		sub	sp, sp, #16
 2656 000c 08000BE5 		str	r0, [fp, #-8]
 2657 0010 0C100BE5 		str	r1, [fp, #-12]
 2658 0014 10200BE5 		str	r2, [fp, #-16]
 2659 0018 14300BE5 		str	r3, [fp, #-20]
 983:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Top-level - 1MiB pages, 4096 entries, 16KiB alignment */
 984:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Is_Top!=0)
 2660              		.loc 1 984 7
 2661 001c 0C301BE5 		ldr	r3, [fp, #-12]
 2662 0020 000053E3 		cmp	r3, #0
 2663 0024 1400000A 		beq	.L93
 985:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 986:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_1M)
 2664              		.loc 1 986 11
 2665 0028 10301BE5 		ldr	r3, [fp, #-16]
 2666 002c 140053E3 		cmp	r3, #20
 2667 0030 0100000A 		beq	.L94
 987:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2668              		.loc 1 987 20
 2669 0034 0030E0E3 		mvn	r3, #0
 2670 0038 200000EA 		b	.L95
 2671              	.L94:
 988:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_4K)
 2672              		.loc 1 988 11
 2673 003c 14301BE5 		ldr	r3, [fp, #-20]
 2674 0040 0C0053E3 		cmp	r3, #12
 2675 0044 0100000A 		beq	.L96
 989:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2676              		.loc 1 989 20
 2677 0048 0030E0E3 		mvn	r3, #0
 2678 004c 1B0000EA 		b	.L95
 2679              	.L96:
 990:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 2680              		.loc 1 990 18
 2681 0050 04309BE5 		ldr	r3, [fp, #4]
 2682 0054 5330EDE7 		ubfx	r3, r3, #0, #14
 2683              		.loc 1 990 11
 2684 0058 000053E3 		cmp	r3, #0
 2685 005c 1600000A 		beq	.L97
 991:../../Source/Platform/A7A/rme_platform_a7a.c ****         {
 992:../../Source/Platform/A7A/rme_platform_a7a.c ****             RME_DBG_S("\r\nvaddr error= ");
 2686              		.loc 1 992 13
 2687 0060 000000E3 		movw	r0, #:lower16:.LC35
 2688 0064 000040E3 		movt	r0, #:upper16:.LC35
 2689 0068 FEFFFFEB 		bl	RME_Str_Print
 993:../../Source/Platform/A7A/rme_platform_a7a.c ****             RME_DBG_H(Vaddr);
 2690              		.loc 1 993 13
 2691 006c 04009BE5 		ldr	r0, [fp, #4]
 2692 0070 FEFFFFEB 		bl	RME_Hex_Print
 994:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2693              		.loc 1 994 20
 2694 0074 0030E0E3 		mvn	r3, #0
 2695 0078 100000EA 		b	.L95
 2696              	.L93:
 995:../../Source/Platform/A7A/rme_platform_a7a.c ****         }
 996:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 997:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Second-level - 4KiB pages, 256 entries, 1KiB alignment */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 67


 998:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 999:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1000:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_4K)
 2697              		.loc 1 1000 11
 2698 007c 10301BE5 		ldr	r3, [fp, #-16]
 2699 0080 0C0053E3 		cmp	r3, #12
 2700 0084 0100000A 		beq	.L98
1001:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2701              		.loc 1 1001 20
 2702 0088 0030E0E3 		mvn	r3, #0
 2703 008c 0B0000EA 		b	.L95
 2704              	.L98:
1002:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_256)
 2705              		.loc 1 1002 11
 2706 0090 14301BE5 		ldr	r3, [fp, #-20]
 2707 0094 080053E3 		cmp	r3, #8
 2708 0098 0100000A 		beq	.L99
1003:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2709              		.loc 1 1003 20
 2710 009c 0030E0E3 		mvn	r3, #0
 2711 00a0 060000EA 		b	.L95
 2712              	.L99:
1004:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FF)!=0)
 2713              		.loc 1 1004 18
 2714 00a4 04309BE5 		ldr	r3, [fp, #4]
 2715 00a8 5330E9E7 		ubfx	r3, r3, #0, #10
 2716              		.loc 1 1004 11
 2717 00ac 000053E3 		cmp	r3, #0
 2718 00b0 0100000A 		beq	.L97
1005:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2719              		.loc 1 1005 20
 2720 00b4 0030E0E3 		mvn	r3, #0
 2721 00b8 000000EA 		b	.L95
 2722              	.L97:
1006:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1007:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1008:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2723              		.loc 1 1008 12
 2724 00bc 0030A0E3 		mov	r3, #0
 2725              	.L95:
1009:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2726              		.loc 1 1009 1
 2727 00c0 0300A0E1 		mov	r0, r3
 2728 00c4 04D04BE2 		sub	sp, fp, #4
 2729              		.cfi_def_cfa 13, 8
 2730              		@ sp needed
 2731 00c8 0088BDE8 		pop	{fp, pc}
 2732              		.cfi_endproc
 2733              	.LFE35:
 2735              		.section	.text.__RME_Pgt_Init,"ax",%progbits
 2736              		.align	2
 2737              		.global	__RME_Pgt_Init
 2738              		.syntax unified
 2739              		.arm
 2741              	__RME_Pgt_Init:
 2742              	.LFB36:
1010:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Check ********************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 68


1011:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1012:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Init **************************************************
1013:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the page table data structure, according to the capability.
1014:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
1015:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1016:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1017:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1018:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Init(struct RME_Cap_Pgt* Pgt_Op)
1019:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2743              		.loc 1 1019 1
 2744              		.cfi_startproc
 2745              		@ args = 0, pretend = 0, frame = 16
 2746              		@ frame_needed = 1, uses_anonymous_args = 0
 2747              		@ link register save eliminated.
 2748 0000 04B02DE5 		str	fp, [sp, #-4]!
 2749              		.cfi_def_cfa_offset 4
 2750              		.cfi_offset 11, -4
 2751 0004 00B08DE2 		add	fp, sp, #0
 2752              		.cfi_def_cfa_register 11
 2753 0008 14D04DE2 		sub	sp, sp, #20
 2754 000c 10000BE5 		str	r0, [fp, #-16]
1020:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_cnt_t Count;
1021:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
1022:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1023:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the actual table */
1024:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ptr=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);  //*((volatile rme_ptr_t*)0x12345678)
 2755              		.loc 1 1024 9
 2756 0010 10301BE5 		ldr	r3, [fp, #-16]
 2757 0014 0C3093E5 		ldr	r3, [r3, #12]
 2758              		.loc 1 1024 8
 2759 0018 0C300BE5 		str	r3, [fp, #-12]
1025:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1026:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a first-level or a second-level? */
1027:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Base&RME_PGT_TOP)!=0)
 2760              		.loc 1 1027 15
 2761 001c 10301BE5 		ldr	r3, [fp, #-16]
 2762 0020 183093E5 		ldr	r3, [r3, #24]
 2763              		.loc 1 1027 21
 2764 0024 013003E2 		and	r3, r3, #1
 2765              		.loc 1 1027 7
 2766 0028 000053E3 		cmp	r3, #0
 2767 002c 2100000A 		beq	.L101
1028:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1029:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* First-level - clean up the first half and map in the second half as kernel entries */
1030:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<2048;Count++)
 2768              		.loc 1 1030 12
 2769 0030 0030A0E3 		mov	r3, #0
 2770 0034 08300BE5 		str	r3, [fp, #-8]
 2771              		.loc 1 1030 3
 2772 0038 080000EA 		b	.L102
 2773              	.L103:
1031:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2774              		.loc 1 1031 7
 2775 003c 08301BE5 		ldr	r3, [fp, #-8]
 2776 0040 0331A0E1 		lsl	r3, r3, #2
 2777 0044 0C201BE5 		ldr	r2, [fp, #-12]
 2778 0048 033082E0 		add	r3, r2, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 69


 2779              		.loc 1 1031 14
 2780 004c 0020A0E3 		mov	r2, #0
 2781 0050 002083E5 		str	r2, [r3]
1030:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2782              		.loc 1 1030 31 discriminator 3
 2783 0054 08301BE5 		ldr	r3, [fp, #-8]
 2784 0058 013083E2 		add	r3, r3, #1
 2785 005c 08300BE5 		str	r3, [fp, #-8]
 2786              	.L102:
1030:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2787              		.loc 1 1030 20 discriminator 1
 2788 0060 08301BE5 		ldr	r3, [fp, #-8]
 2789 0064 020B53E3 		cmp	r3, #2048
 2790 0068 F3FFFFBA 		blt	.L103
1032:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1033:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(;Count<4096;Count++)
 2791              		.loc 1 1033 3
 2792 006c 0D0000EA 		b	.L104
 2793              	.L105:
1034:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 2794              		.loc 1 1034 36
 2795 0070 08301BE5 		ldr	r3, [fp, #-8]
 2796 0074 0321A0E1 		lsl	r2, r3, #2
 2797 0078 003000E3 		movw	r3, #:lower16:__RME_A7A_Kern_Pgt
 2798 007c 003040E3 		movt	r3, #:upper16:__RME_A7A_Kern_Pgt
 2799 0080 032082E0 		add	r2, r2, r3
 2800              		.loc 1 1034 7
 2801 0084 08301BE5 		ldr	r3, [fp, #-8]
 2802 0088 0331A0E1 		lsl	r3, r3, #2
 2803 008c 0C101BE5 		ldr	r1, [fp, #-12]
 2804 0090 033081E0 		add	r3, r1, r3
 2805              		.loc 1 1034 36
 2806 0094 002092E5 		ldr	r2, [r2]
 2807              		.loc 1 1034 14
 2808 0098 002083E5 		str	r2, [r3]
1033:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 2809              		.loc 1 1033 24 discriminator 2
 2810 009c 08301BE5 		ldr	r3, [fp, #-8]
 2811 00a0 013083E2 		add	r3, r3, #1
 2812 00a4 08300BE5 		str	r3, [fp, #-8]
 2813              	.L104:
1033:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 2814              		.loc 1 1033 13 discriminator 1
 2815 00a8 08301BE5 		ldr	r3, [fp, #-8]
 2816 00ac 010A53E3 		cmp	r3, #4096
 2817 00b0 EEFFFFBA 		blt	.L105
 2818 00b4 0E0000EA 		b	.L106
 2819              	.L101:
1035:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1036:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1037:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1038:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Second-level - just clean it up to all zeros */
1039:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<256;Count++)
 2820              		.loc 1 1039 12
 2821 00b8 0030A0E3 		mov	r3, #0
 2822 00bc 08300BE5 		str	r3, [fp, #-8]
 2823              		.loc 1 1039 3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 70


 2824 00c0 080000EA 		b	.L107
 2825              	.L108:
1040:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2826              		.loc 1 1040 7
 2827 00c4 08301BE5 		ldr	r3, [fp, #-8]
 2828 00c8 0331A0E1 		lsl	r3, r3, #2
 2829 00cc 0C201BE5 		ldr	r2, [fp, #-12]
 2830 00d0 033082E0 		add	r3, r2, r3
 2831              		.loc 1 1040 14
 2832 00d4 0020A0E3 		mov	r2, #0
 2833 00d8 002083E5 		str	r2, [r3]
1039:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2834              		.loc 1 1039 30 discriminator 3
 2835 00dc 08301BE5 		ldr	r3, [fp, #-8]
 2836 00e0 013083E2 		add	r3, r3, #1
 2837 00e4 08300BE5 		str	r3, [fp, #-8]
 2838              	.L107:
1039:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2839              		.loc 1 1039 20 discriminator 1
 2840 00e8 08301BE5 		ldr	r3, [fp, #-8]
 2841 00ec FF0053E3 		cmp	r3, #255
 2842 00f0 F3FFFFDA 		ble	.L108
 2843              	.L106:
1041:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1042:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1043:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2844              		.loc 1 1043 12
 2845 00f4 0030A0E3 		mov	r3, #0
1044:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2846              		.loc 1 1044 1
 2847 00f8 0300A0E1 		mov	r0, r3
 2848 00fc 00D08BE2 		add	sp, fp, #0
 2849              		.cfi_def_cfa_register 13
 2850              		@ sp needed
 2851 0100 04B09DE4 		ldr	fp, [sp], #4
 2852              		.cfi_restore 11
 2853              		.cfi_def_cfa_offset 0
 2854 0104 1EFF2FE1 		bx	lr
 2855              		.cfi_endproc
 2856              	.LFE36:
 2858              		.section	.text.__RME_Pgt_Del_Check,"ax",%progbits
 2859              		.align	2
 2860              		.global	__RME_Pgt_Del_Check
 2861              		.syntax unified
 2862              		.arm
 2864              	__RME_Pgt_Del_Check:
 2865              	.LFB37:
1045:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Init *********************************************/
1046:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1047:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Del_Check *********************************************
1048:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table can be deleted.
1049:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt Pgt_Op* - The capability to the page table to operate on.
1050:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1051:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If can be deleted, 0; else RME_ERR_HAL_FAIL.
1052:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1053:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Del_Check(struct RME_Cap_Pgt* Pgt_Op)
1054:../../Source/Platform/A7A/rme_platform_a7a.c **** {
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 71


 2866              		.loc 1 1054 1
 2867              		.cfi_startproc
 2868              		@ args = 0, pretend = 0, frame = 8
 2869              		@ frame_needed = 1, uses_anonymous_args = 0
 2870              		@ link register save eliminated.
 2871 0000 04B02DE5 		str	fp, [sp, #-4]!
 2872              		.cfi_def_cfa_offset 4
 2873              		.cfi_offset 11, -4
 2874 0004 00B08DE2 		add	fp, sp, #0
 2875              		.cfi_def_cfa_register 11
 2876 0008 0CD04DE2 		sub	sp, sp, #12
 2877 000c 08000BE5 		str	r0, [fp, #-8]
1055:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2878              		.loc 1 1055 12
 2879 0010 0030A0E3 		mov	r3, #0
1056:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2880              		.loc 1 1056 1
 2881 0014 0300A0E1 		mov	r0, r3
 2882 0018 00D08BE2 		add	sp, fp, #0
 2883              		.cfi_def_cfa_register 13
 2884              		@ sp needed
 2885 001c 04B09DE4 		ldr	fp, [sp], #4
 2886              		.cfi_restore 11
 2887              		.cfi_def_cfa_offset 0
 2888 0020 1EFF2FE1 		bx	lr
 2889              		.cfi_endproc
 2890              	.LFE37:
 2892              		.section	.rodata
 2893              		.align	2
 2894              	.LC36:
 2895 03c4 0D0A756E 		.ascii	"\015\012unreadable\000"
 2895      72656164 
 2895      61626C65 
 2895      00
 2896 03d1 000000   		.align	2
 2897              	.LC37:
 2898 03d4 0D0A4172 		.ascii	"\015\012Are we trying to map into the kernel space "
 2898      65207765 
 2898      20747279 
 2898      696E6720 
 2898      746F206D 
 2899 0401 6F6E2074 		.ascii	"on the top level?\000"
 2899      68652074 
 2899      6F70206C 
 2899      6576656C 
 2899      3F00
 2900 0413 00       		.align	2
 2901              	.LC38:
 2902 0414 0D0A2654 		.ascii	"\015\012&Table[Pos] = \000"
 2902      61626C65 
 2902      5B506F73 
 2902      5D203D20 
 2902      00
 2903 0425 000000   		.align	2
 2904              	.LC39:
 2905 0428 0D0A2A28 		.ascii	"\015\012*(Table[Pos])\000"
 2905      5461626C 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 72


 2905      655B506F 
 2905      735D2900 
 2906              		.align	2
 2907              	.LC40:
 2908 0438 0D0A6D61 		.ascii	"\015\012map it in error\000"
 2908      70206974 
 2908      20696E20 
 2908      6572726F 
 2908      7200
 2909              		.section	.text.__RME_Pgt_Page_Map,"ax",%progbits
 2910              		.align	2
 2911              		.global	__RME_Pgt_Page_Map
 2912              		.syntax unified
 2913              		.arm
 2915              	__RME_Pgt_Page_Map:
 2916              	.LFB38:
1057:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Del_Check ****************************************/
1058:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1059:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Map **********************************************
1060:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page into the page table. This architecture requires that the
1061:../../Source/Platform/A7A/rme_platform_a7a.c ****               mapping is always at least readable. The Cortex-A's super pages are
1062:../../Source/Platform/A7A/rme_platform_a7a.c ****               not supported by this. Also, RME dfoesn't use the domain model; all
1063:../../Source/Platform/A7A/rme_platform_a7a.c ****               page tables' domain is always client, which means that the permission
1064:../../Source/Platform/A7A/rme_platform_a7a.c ****               flags will always be checked.
1065:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The cap ability to the page table to operate on.
1066:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Paddr - The physical address to map to. If we are unmapping,
1067:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 this have no effect.
1068:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1069:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard page attributes. Need to translate
1070:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 them into architecture specific page table's settings.
1071:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1072:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1073:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1074:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Map(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Paddr, rme_ptr_t Pos, rme_ptr_t 
1075:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2917              		.loc 1 1075 1
 2918              		.cfi_startproc
 2919              		@ args = 0, pretend = 0, frame = 24
 2920              		@ frame_needed = 1, uses_anonymous_args = 0
 2921 0000 00482DE9 		push	{fp, lr}
 2922              		.cfi_def_cfa_offset 8
 2923              		.cfi_offset 11, -8
 2924              		.cfi_offset 14, -4
 2925 0004 04B08DE2 		add	fp, sp, #4
 2926              		.cfi_def_cfa 11, 4
 2927 0008 18D04DE2 		sub	sp, sp, #24
 2928 000c 10000BE5 		str	r0, [fp, #-16]
 2929 0010 14100BE5 		str	r1, [fp, #-20]
 2930 0014 18200BE5 		str	r2, [fp, #-24]
 2931 0018 1C300BE5 		str	r3, [fp, #-28]
1076:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1077:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*RME_DBG_S("\r\nPgt_Op->Order");
1078:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Pgt_Op->Order);
1079:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nPgt_Op->Order ");
1080:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_PGT_SZORD(Pgt_Op->Order));
1081:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nPgt_Op->Order ");
1082:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_PGT_SZORD(Pgt_Op->Order));
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 73


1083:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)!=0U)
1084:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1085:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nhhhhhhhhhhhhhhh ");
1086:../../Source/Platform/A7A/rme_platform_a7a.c ****     }*/
1087:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1088:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1089:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1090:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1091:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
1092:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 2932              		.loc 1 1092 14
 2933 001c 1C301BE5 		ldr	r3, [fp, #-28]
 2934 0020 013003E2 		and	r3, r3, #1
 2935              		.loc 1 1092 7
 2936 0024 000053E3 		cmp	r3, #0
 2937 0028 0400001A 		bne	.L113
1093:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1094:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nunreadable");
 2938              		.loc 1 1094 9
 2939 002c 000000E3 		movw	r0, #:lower16:.LC36
 2940 0030 000040E3 		movt	r0, #:upper16:.LC36
 2941 0034 FEFFFFEB 		bl	RME_Str_Print
1095:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2942              		.loc 1 1095 16
 2943 0038 0030E0E3 		mvn	r3, #0
 2944 003c 4E0000EA 		b	.L114
 2945              	.L113:
1096:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1097:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1098:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1099:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base&RME_PGT_TOP)!=0)&&(Pos>=2048)){
 2946              		.loc 1 1099 16
 2947 0040 10301BE5 		ldr	r3, [fp, #-16]
 2948 0044 183093E5 		ldr	r3, [r3, #24]
 2949              		.loc 1 1099 22
 2950 0048 013003E2 		and	r3, r3, #1
 2951              		.loc 1 1099 7
 2952 004c 000053E3 		cmp	r3, #0
 2953 0050 0700000A 		beq	.L115
 2954              		.loc 1 1099 39 discriminator 1
 2955 0054 18301BE5 		ldr	r3, [fp, #-24]
 2956 0058 020B53E3 		cmp	r3, #2048
 2957 005c 0400003A 		bcc	.L115
1100:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nAre we trying to map into the kernel space on the top level?");
 2958              		.loc 1 1100 9
 2959 0060 000000E3 		movw	r0, #:lower16:.LC37
 2960 0064 000040E3 		movt	r0, #:upper16:.LC37
 2961 0068 FEFFFFEB 		bl	RME_Str_Print
1101:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2962              		.loc 1 1101 16
 2963 006c 0030E0E3 		mvn	r3, #0
 2964 0070 410000EA 		b	.L114
 2965              	.L115:
1102:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1103:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1104:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 2966              		.loc 1 1104 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 74


 2967 0074 10301BE5 		ldr	r3, [fp, #-16]
 2968 0078 0C3093E5 		ldr	r3, [r3, #12]
 2969              		.loc 1 1104 10
 2970 007c 0C300BE5 		str	r3, [fp, #-12]
1105:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1106:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate flags */
1107:../../Source/Platform/A7A/rme_platform_a7a.c ****     //if(RME_PGT_SZORD(Pgt_Op->Order)==RME_PGT_SIZE_4K)
1108:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)!=0U)
 2971              		.loc 1 1108 16
 2972 0080 10301BE5 		ldr	r3, [fp, #-16]
 2973 0084 183093E5 		ldr	r3, [r3, #24]
 2974              		.loc 1 1108 23
 2975 0088 013003E2 		and	r3, r3, #1
 2976              		.loc 1 1108 7
 2977 008c 000053E3 		cmp	r3, #0
 2978 0090 0C00000A 		beq	.L116
1109:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1110:../../Source/Platform/A7A/rme_platform_a7a.c ****         Flags&=(~RME_PGT_STATIC);
 2979              		.loc 1 1110 14
 2980 0094 1C301BE5 		ldr	r3, [fp, #-28]
 2981 0098 2030C3E3 		bic	r3, r3, #32
 2982 009c 1C300BE5 		str	r3, [fp, #-28]
1111:../../Source/Platform/A7A/rme_platform_a7a.c ****         /*RME_DBG_S("\r\n Flags ");
1112:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(Flags); */
1113:../../Source/Platform/A7A/rme_platform_a7a.c ****         
1114:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_1M_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_1M_RME2NAT(Flags);
 2983              		.loc 1 1114 19
 2984 00a0 14301BE5 		ldr	r3, [fp, #-20]
 2985 00a4 233AA0E1 		lsr	r3, r3, #20
 2986 00a8 033AA0E1 		lsl	r3, r3, #20
 2987              		.loc 1 1114 51
 2988 00ac 002000E3 		movw	r2, #:lower16:RME_A7A_Pgflg_1M_RME2NAT
 2989 00b0 002040E3 		movt	r2, #:upper16:RME_A7A_Pgflg_1M_RME2NAT
 2990 00b4 1C101BE5 		ldr	r1, [fp, #-28]
 2991 00b8 012192E7 		ldr	r2, [r2, r1, lsl #2]
 2992              		.loc 1 1114 18
 2993 00bc 023083E1 		orr	r3, r3, r2
 2994 00c0 08300BE5 		str	r3, [fp, #-8]
 2995 00c4 080000EA 		b	.L117
 2996              	.L116:
1115:../../Source/Platform/A7A/rme_platform_a7a.c ****         /*RME_DBG_S("\r\n A7A_Flags= ");
1116:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(A7A_Flags);*/
1117:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1118:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1119:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_4K_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_4K_RME2NAT(Flags);
 2997              		.loc 1 1119 19
 2998 00c8 14301BE5 		ldr	r3, [fp, #-20]
 2999 00cc FF3EC3E3 		bic	r3, r3, #4080
 3000 00d0 0F30C3E3 		bic	r3, r3, #15
 3001              		.loc 1 1119 51
 3002 00d4 002000E3 		movw	r2, #:lower16:RME_A7A_Pgflg_4K_RME2NAT
 3003 00d8 002040E3 		movt	r2, #:upper16:RME_A7A_Pgflg_4K_RME2NAT
 3004 00dc 1C101BE5 		ldr	r1, [fp, #-28]
 3005 00e0 012192E7 		ldr	r2, [r2, r1, lsl #2]
 3006              		.loc 1 1119 18
 3007 00e4 023083E1 		orr	r3, r3, r2
 3008 00e8 08300BE5 		str	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 75


 3009              	.L117:
1120:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in */
1121:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),0,A7A_Flags)==0)
 3010              		.loc 1 1121 8
 3011 00ec 18301BE5 		ldr	r3, [fp, #-24]
 3012 00f0 0331A0E1 		lsl	r3, r3, #2
 3013 00f4 0C201BE5 		ldr	r2, [fp, #-12]
 3014 00f8 033082E0 		add	r3, r2, r3
 3015 00fc 08201BE5 		ldr	r2, [fp, #-8]
 3016 0100 0010A0E3 		mov	r1, #0
 3017 0104 0300A0E1 		mov	r0, r3
 3018 0108 FEFFFFEB 		bl	_RME_Comp_Swap_Single
 3019 010c 0030A0E1 		mov	r3, r0
 3020              		.loc 1 1121 7 discriminator 1
 3021 0110 000053E3 		cmp	r3, #0
 3022 0114 1700001A 		bne	.L118
1122:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1123:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\n&Table[Pos] = ");
 3023              		.loc 1 1123 9
 3024 0118 000000E3 		movw	r0, #:lower16:.LC38
 3025 011c 000040E3 		movt	r0, #:upper16:.LC38
 3026 0120 FEFFFFEB 		bl	RME_Str_Print
1124:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(&Table[Pos]);
 3027              		.loc 1 1124 9
 3028 0124 18301BE5 		ldr	r3, [fp, #-24]
 3029 0128 0331A0E1 		lsl	r3, r3, #2
 3030 012c 0C201BE5 		ldr	r2, [fp, #-12]
 3031 0130 033082E0 		add	r3, r2, r3
 3032 0134 0300A0E1 		mov	r0, r3
 3033 0138 FEFFFFEB 		bl	RME_Hex_Print
1125:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\n*(Table[Pos])");
 3034              		.loc 1 1125 9
 3035 013c 000000E3 		movw	r0, #:lower16:.LC39
 3036 0140 000040E3 		movt	r0, #:upper16:.LC39
 3037 0144 FEFFFFEB 		bl	RME_Str_Print
1126:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(Table[Pos]);
 3038              		.loc 1 1126 9
 3039 0148 18301BE5 		ldr	r3, [fp, #-24]
 3040 014c 0331A0E1 		lsl	r3, r3, #2
 3041 0150 0C201BE5 		ldr	r2, [fp, #-12]
 3042 0154 033082E0 		add	r3, r2, r3
 3043 0158 003093E5 		ldr	r3, [r3]
 3044 015c 0300A0E1 		mov	r0, r3
 3045 0160 FEFFFFEB 		bl	RME_Hex_Print
1127:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nmap it in error");
 3046              		.loc 1 1127 9
 3047 0164 000000E3 		movw	r0, #:lower16:.LC40
 3048 0168 000040E3 		movt	r0, #:upper16:.LC40
 3049 016c FEFFFFEB 		bl	RME_Str_Print
1128:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3050              		.loc 1 1128 16
 3051 0170 0030E0E3 		mvn	r3, #0
 3052 0174 000000EA 		b	.L114
 3053              	.L118:
1129:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1130:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1131:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*RME_DBG_S("\r\n&Table[Pos] = ");
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 76


1132:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(&Table[Pos]);
1133:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\n*(Table[Pos])");
1134:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Table[Pos]);*/
1135:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1136:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3054              		.loc 1 1136 12
 3055 0178 0030A0E3 		mov	r3, #0
 3056              	.L114:
1137:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3057              		.loc 1 1137 1
 3058 017c 0300A0E1 		mov	r0, r3
 3059 0180 04D04BE2 		sub	sp, fp, #4
 3060              		.cfi_def_cfa 13, 8
 3061              		@ sp needed
 3062 0184 0088BDE8 		pop	{fp, pc}
 3063              		.cfi_endproc
 3064              	.LFE38:
 3066              		.section	.text.__RME_Pgt_Page_Unmap,"ax",%progbits
 3067              		.align	2
 3068              		.global	__RME_Pgt_Page_Unmap
 3069              		.syntax unified
 3070              		.arm
 3072              	__RME_Pgt_Page_Unmap:
 3073              	.LFB39:
1138:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Map *****************************************/
1139:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1140:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Unmap ********************************************
1141:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page from the page table.
1142:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
1143:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1144:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1145:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1146:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1147:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Unmap(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos)
1148:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3074              		.loc 1 1148 1
 3075              		.cfi_startproc
 3076              		@ args = 0, pretend = 0, frame = 16
 3077              		@ frame_needed = 1, uses_anonymous_args = 0
 3078 0000 00482DE9 		push	{fp, lr}
 3079              		.cfi_def_cfa_offset 8
 3080              		.cfi_offset 11, -8
 3081              		.cfi_offset 14, -4
 3082 0004 04B08DE2 		add	fp, sp, #4
 3083              		.cfi_def_cfa 11, 4
 3084 0008 10D04DE2 		sub	sp, sp, #16
 3085 000c 10000BE5 		str	r0, [fp, #-16]
 3086 0010 14100BE5 		str	r1, [fp, #-20]
1149:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1150:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1151:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1152:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to unmap the kernel space on the top level? */
1153:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base&RME_PGT_TOP)!=0)&&(Pos>=2048))
 3087              		.loc 1 1153 16
 3088 0014 10301BE5 		ldr	r3, [fp, #-16]
 3089 0018 183093E5 		ldr	r3, [r3, #24]
 3090              		.loc 1 1153 22
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 77


 3091 001c 013003E2 		and	r3, r3, #1
 3092              		.loc 1 1153 7
 3093 0020 000053E3 		cmp	r3, #0
 3094 0024 0400000A 		beq	.L120
 3095              		.loc 1 1153 39 discriminator 1
 3096 0028 14301BE5 		ldr	r3, [fp, #-20]
 3097 002c 020B53E3 		cmp	r3, #2048
 3098 0030 0100003A 		bcc	.L120
1154:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3099              		.loc 1 1154 16
 3100 0034 0030E0E3 		mvn	r3, #0
 3101 0038 260000EA 		b	.L121
 3102              	.L120:
1155:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1156:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1157:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 3103              		.loc 1 1157 11
 3104 003c 10301BE5 		ldr	r3, [fp, #-16]
 3105 0040 0C3093E5 		ldr	r3, [r3, #12]
 3106              		.loc 1 1157 10
 3107 0044 08300BE5 		str	r3, [fp, #-8]
1158:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1159:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that there is something */
1160:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 3108              		.loc 1 1160 15
 3109 0048 14301BE5 		ldr	r3, [fp, #-20]
 3110 004c 0331A0E1 		lsl	r3, r3, #2
 3111 0050 08201BE5 		ldr	r2, [fp, #-8]
 3112 0054 033082E0 		add	r3, r2, r3
 3113              		.loc 1 1160 9
 3114 0058 003093E5 		ldr	r3, [r3]
 3115 005c 0C300BE5 		str	r3, [fp, #-12]
1161:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Temp==0)
 3116              		.loc 1 1161 7
 3117 0060 0C301BE5 		ldr	r3, [fp, #-12]
 3118 0064 000053E3 		cmp	r3, #0
 3119 0068 0100001A 		bne	.L122
1162:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3120              		.loc 1 1162 16
 3121 006c 0030E0E3 		mvn	r3, #0
 3122 0070 180000EA 		b	.L121
 3123              	.L122:
1163:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1164:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a page directory? We cannot unmap page directories like this */
1165:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((RME_PGT_SZORD(Pgt_Op->Order)!=RME_PGT_SIZE_4K)&&((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0))
 3124              		.loc 1 1165 9
 3125 0074 10301BE5 		ldr	r3, [fp, #-16]
 3126 0078 143093E5 		ldr	r3, [r3, #20]
 3127 007c 2338A0E1 		lsr	r3, r3, #16
 3128              		.loc 1 1165 7
 3129 0080 0C0053E3 		cmp	r3, #12
 3130 0084 0500000A 		beq	.L123
 3131              		.loc 1 1165 63 discriminator 1
 3132 0088 0C301BE5 		ldr	r3, [fp, #-12]
 3133 008c 013003E2 		and	r3, r3, #1
 3134              		.loc 1 1165 55 discriminator 1
 3135 0090 000053E3 		cmp	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 78


 3136 0094 0100000A 		beq	.L123
1166:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3137              		.loc 1 1166 16
 3138 0098 0030E0E3 		mvn	r3, #0
 3139 009c 0D0000EA 		b	.L121
 3140              	.L123:
1167:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1168:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to unmap it. Use CAS just in case */
1169:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),Temp,0)==0)
 3141              		.loc 1 1169 8
 3142 00a0 14301BE5 		ldr	r3, [fp, #-20]
 3143 00a4 0331A0E1 		lsl	r3, r3, #2
 3144 00a8 08201BE5 		ldr	r2, [fp, #-8]
 3145 00ac 033082E0 		add	r3, r2, r3
 3146 00b0 0020A0E3 		mov	r2, #0
 3147 00b4 0C101BE5 		ldr	r1, [fp, #-12]
 3148 00b8 0300A0E1 		mov	r0, r3
 3149 00bc FEFFFFEB 		bl	_RME_Comp_Swap_Single
 3150 00c0 0030A0E1 		mov	r3, r0
 3151              		.loc 1 1169 7 discriminator 1
 3152 00c4 000053E3 		cmp	r3, #0
 3153 00c8 0100001A 		bne	.L124
1170:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3154              		.loc 1 1170 16
 3155 00cc 0030E0E3 		mvn	r3, #0
 3156 00d0 000000EA 		b	.L121
 3157              	.L124:
1171:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1172:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3158              		.loc 1 1172 12
 3159 00d4 0030A0E3 		mov	r3, #0
 3160              	.L121:
1173:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3161              		.loc 1 1173 1
 3162 00d8 0300A0E1 		mov	r0, r3
 3163 00dc 04D04BE2 		sub	sp, fp, #4
 3164              		.cfi_def_cfa 13, 8
 3165              		@ sp needed
 3166 00e0 0088BDE8 		pop	{fp, pc}
 3167              		.cfi_endproc
 3168              	.LFE39:
 3170              		.section	.text.__RME_Pgt_Pgdir_Map,"ax",%progbits
 3171              		.align	2
 3172              		.global	__RME_Pgt_Pgdir_Map
 3173              		.syntax unified
 3174              		.arm
 3176              	__RME_Pgt_Pgdir_Map:
 3177              	.LFB40:
1174:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Unmap ***************************************/
1175:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1176:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Map *********************************************
1177:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page directory into the page table. It is surprising that
1178:../../Source/Platform/A7A/rme_platform_a7a.c ****               Cortex-A (ARMv7) does not support any kind of page directory flags.
1179:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Parent - The parent page table.
1180:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Cap_Pgt* Pgt_Child - The child page table.
1181:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the destination page table.
1182:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard flags for the child page table.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 79


1183:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1184:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1185:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1186:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Pgdir_Map(struct RME_Cap_Pgt* Pgt_Parent, rme_ptr_t Pos,
1187:../../Source/Platform/A7A/rme_platform_a7a.c ****                               struct RME_Cap_Pgt* Pgt_Child, rme_ptr_t Flags)
1188:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3178              		.loc 1 1188 1
 3179              		.cfi_startproc
 3180              		@ args = 0, pretend = 0, frame = 32
 3181              		@ frame_needed = 1, uses_anonymous_args = 0
 3182 0000 00482DE9 		push	{fp, lr}
 3183              		.cfi_def_cfa_offset 8
 3184              		.cfi_offset 11, -8
 3185              		.cfi_offset 14, -4
 3186 0004 04B08DE2 		add	fp, sp, #4
 3187              		.cfi_def_cfa 11, 4
 3188 0008 20D04DE2 		sub	sp, sp, #32
 3189 000c 18000BE5 		str	r0, [fp, #-24]
 3190 0010 1C100BE5 		str	r1, [fp, #-28]
 3191 0014 20200BE5 		str	r2, [fp, #-32]
 3192 0018 24300BE5 		str	r3, [fp, #-36]
1189:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Parent_Table;
1190:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Child_Table;
1191:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1192:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1193:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
1194:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 3193              		.loc 1 1194 14
 3194 001c 24301BE5 		ldr	r3, [fp, #-36]
 3195 0020 013003E2 		and	r3, r3, #1
 3196              		.loc 1 1194 7
 3197 0024 000053E3 		cmp	r3, #0
 3198 0028 0100001A 		bne	.L126
1195:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3199              		.loc 1 1195 16
 3200 002c 0030E0E3 		mvn	r3, #0
 3201 0030 230000EA 		b	.L127
 3202              	.L126:
1196:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1197:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1198:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Parent->Base&RME_PGT_TOP)!=0)&&(Pos>=2048))
 3203              		.loc 1 1198 20
 3204 0034 18301BE5 		ldr	r3, [fp, #-24]
 3205 0038 183093E5 		ldr	r3, [r3, #24]
 3206              		.loc 1 1198 26
 3207 003c 013003E2 		and	r3, r3, #1
 3208              		.loc 1 1198 7
 3209 0040 000053E3 		cmp	r3, #0
 3210 0044 0400000A 		beq	.L128
 3211              		.loc 1 1198 43 discriminator 1
 3212 0048 1C301BE5 		ldr	r3, [fp, #-28]
 3213 004c 020B53E3 		cmp	r3, #2048
 3214 0050 0100003A 		bcc	.L128
1199:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3215              		.loc 1 1199 16
 3216 0054 0030E0E3 		mvn	r3, #0
 3217 0058 190000EA 		b	.L127
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 80


 3218              	.L128:
1200:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1201:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1202:../../Source/Platform/A7A/rme_platform_a7a.c ****     Parent_Table=RME_CAP_GETOBJ(Pgt_Parent,rme_ptr_t*);
 3219              		.loc 1 1202 18
 3220 005c 18301BE5 		ldr	r3, [fp, #-24]
 3221 0060 0C3093E5 		ldr	r3, [r3, #12]
 3222              		.loc 1 1202 17
 3223 0064 08300BE5 		str	r3, [fp, #-8]
1203:../../Source/Platform/A7A/rme_platform_a7a.c ****     Child_Table=RME_CAP_GETOBJ(Pgt_Child,rme_ptr_t*);
 3224              		.loc 1 1203 17
 3225 0068 20301BE5 		ldr	r3, [fp, #-32]
 3226 006c 0C3093E5 		ldr	r3, [r3, #12]
 3227              		.loc 1 1203 16
 3228 0070 0C300BE5 		str	r3, [fp, #-12]
1204:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1205:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate the content */
1206:../../Source/Platform/A7A/rme_platform_a7a.c ****     A7A_Flags=RME_A7A_MMU_1M_PGT_ADDR(RME_A7A_VA2PA(Child_Table))|RME_A7A_MMU_1M_PGDIR_PRESENT;
 3229              		.loc 1 1206 15
 3230 0074 0C301BE5 		ldr	r3, [fp, #-12]
 3231 0078 023183E2 		add	r3, r3, #-2147483648
 3232 007c FF3FC3E3 		bic	r3, r3, #1020
 3233 0080 0330C3E3 		bic	r3, r3, #3
 3234              		.loc 1 1206 14
 3235 0084 013083E3 		orr	r3, r3, #1
 3236 0088 10300BE5 		str	r3, [fp, #-16]
1207:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1208:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in - may need to increase some count */
1209:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Parent_Table[Pos]),0,A7A_Flags)==0)
 3237              		.loc 1 1209 8
 3238 008c 1C301BE5 		ldr	r3, [fp, #-28]
 3239 0090 0331A0E1 		lsl	r3, r3, #2
 3240 0094 08201BE5 		ldr	r2, [fp, #-8]
 3241 0098 033082E0 		add	r3, r2, r3
 3242 009c 10201BE5 		ldr	r2, [fp, #-16]
 3243 00a0 0010A0E3 		mov	r1, #0
 3244 00a4 0300A0E1 		mov	r0, r3
 3245 00a8 FEFFFFEB 		bl	_RME_Comp_Swap_Single
 3246 00ac 0030A0E1 		mov	r3, r0
 3247              		.loc 1 1209 7 discriminator 1
 3248 00b0 000053E3 		cmp	r3, #0
 3249 00b4 0100001A 		bne	.L129
1210:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3250              		.loc 1 1210 16
 3251 00b8 0030E0E3 		mvn	r3, #0
 3252 00bc 000000EA 		b	.L127
 3253              	.L129:
1211:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1212:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3254              		.loc 1 1212 12
 3255 00c0 0030A0E3 		mov	r3, #0
 3256              	.L127:
1213:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3257              		.loc 1 1213 1
 3258 00c4 0300A0E1 		mov	r0, r3
 3259 00c8 04D04BE2 		sub	sp, fp, #4
 3260              		.cfi_def_cfa 13, 8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 81


 3261              		@ sp needed
 3262 00cc 0088BDE8 		pop	{fp, pc}
 3263              		.cfi_endproc
 3264              	.LFE40:
 3266              		.section	.text.__RME_Pgt_Pgdir_Unmap,"ax",%progbits
 3267              		.align	2
 3268              		.global	__RME_Pgt_Pgdir_Unmap
 3269              		.syntax unified
 3270              		.arm
 3272              	__RME_Pgt_Pgdir_Unmap:
 3273              	.LFB41:
1214:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Map ****************************************/
1215:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1216:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Unmap *******************************************
1217:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page directory from the page table.
1218:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to operate on.
1219:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1220:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1221:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1222:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1223:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Pgt_Pgdir_Unmap(struct RME_Cap_Pgt* Pgt_Parent,rme_ptr_t Pos,
1224:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 struct RME_Cap_Pgt* Pgt_Child)
1225:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3274              		.loc 1 1225 1
 3275              		.cfi_startproc
 3276              		@ args = 0, pretend = 0, frame = 16
 3277              		@ frame_needed = 1, uses_anonymous_args = 0
 3278              		@ link register save eliminated.
 3279 0000 04B02DE5 		str	fp, [sp, #-4]!
 3280              		.cfi_def_cfa_offset 4
 3281              		.cfi_offset 11, -4
 3282 0004 00B08DE2 		add	fp, sp, #0
 3283              		.cfi_def_cfa_register 11
 3284 0008 14D04DE2 		sub	sp, sp, #20
 3285 000c 08000BE5 		str	r0, [fp, #-8]
 3286 0010 0C100BE5 		str	r1, [fp, #-12]
 3287 0014 10200BE5 		str	r2, [fp, #-16]
1226:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1227:../../Source/Platform/A7A/rme_platform_a7a.c ****    return 0;
 3288              		.loc 1 1227 11
 3289 0018 0030A0E3 		mov	r3, #0
1228:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3290              		.loc 1 1228 1
 3291 001c 0300A0E1 		mov	r0, r3
 3292 0020 00D08BE2 		add	sp, fp, #0
 3293              		.cfi_def_cfa_register 13
 3294              		@ sp needed
 3295 0024 04B09DE4 		ldr	fp, [sp], #4
 3296              		.cfi_restore 11
 3297              		.cfi_def_cfa_offset 0
 3298 0028 1EFF2FE1 		bx	lr
 3299              		.cfi_endproc
 3300              	.LFE41:
 3302              		.section	.text.__RME_Pgt_Lookup,"ax",%progbits
 3303              		.align	2
 3304              		.global	__RME_Pgt_Lookup
 3305              		.syntax unified
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 82


 3306              		.arm
 3308              	__RME_Pgt_Lookup:
 3309              	.LFB42:
1229:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Unmap **************************************/
1230:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1231:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Lookup **************************************************
1232:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Lookup a page entry in a page directory. This function cannot deal
1233:../../Source/Platform/A7A/rme_platform_a7a.c ****               with large pages and super sections - it is the user's responsibility
1234:../../Source/Platform/A7A/rme_platform_a7a.c ****               to avoid this.
1235:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page directory to lookup.
1236:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position to look up.
1237:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Paddr - The physical address of the page.
1238:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1239:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1240:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1241:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Lookup(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos, rme_ptr_t* Paddr, rme_ptr_t* 
1242:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3310              		.loc 1 1242 1
 3311              		.cfi_startproc
 3312              		@ args = 0, pretend = 0, frame = 24
 3313              		@ frame_needed = 1, uses_anonymous_args = 0
 3314              		@ link register save eliminated.
 3315 0000 04B02DE5 		str	fp, [sp, #-4]!
 3316              		.cfi_def_cfa_offset 4
 3317              		.cfi_offset 11, -4
 3318 0004 00B08DE2 		add	fp, sp, #0
 3319              		.cfi_def_cfa_register 11
 3320 0008 1CD04DE2 		sub	sp, sp, #28
 3321 000c 10000BE5 		str	r0, [fp, #-16]
 3322 0010 14100BE5 		str	r1, [fp, #-20]
 3323 0014 18200BE5 		str	r2, [fp, #-24]
 3324 0018 1C300BE5 		str	r3, [fp, #-28]
1243:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1244:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1245:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1246:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if the position is within the range of this page table */
1247:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pos>>RME_PGT_NMORD(Pgt_Op->Order))!=0)
 3325              		.loc 1 1247 14
 3326 001c 10301BE5 		ldr	r3, [fp, #-16]
 3327 0020 143093E5 		ldr	r3, [r3, #20]
 3328 0024 7330FFE6 		uxth	r3, r3
 3329              		.loc 1 1247 12
 3330 0028 14201BE5 		ldr	r2, [fp, #-20]
 3331 002c 3233A0E1 		lsr	r3, r2, r3
 3332              		.loc 1 1247 7
 3333 0030 000053E3 		cmp	r3, #0
 3334 0034 0100000A 		beq	.L133
1248:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3335              		.loc 1 1248 16
 3336 0038 0030E0E3 		mvn	r3, #0
 3337 003c 580000EA 		b	.L134
 3338              	.L133:
1249:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1250:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1251:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 3339              		.loc 1 1251 11
 3340 0040 10301BE5 		ldr	r3, [fp, #-16]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 83


 3341 0044 0C3093E5 		ldr	r3, [r3, #12]
 3342              		.loc 1 1251 10
 3343 0048 08300BE5 		str	r3, [fp, #-8]
1252:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the position requested - atomic read */
1253:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 3344              		.loc 1 1253 15
 3345 004c 14301BE5 		ldr	r3, [fp, #-20]
 3346 0050 0331A0E1 		lsl	r3, r3, #2
 3347 0054 08201BE5 		ldr	r2, [fp, #-8]
 3348 0058 033082E0 		add	r3, r2, r3
 3349              		.loc 1 1253 9
 3350 005c 003093E5 		ldr	r3, [r3]
 3351 0060 0C300BE5 		str	r3, [fp, #-12]
1254:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1255:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start lookup - is this a terminal page, or? */
1256:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SZORD(Pgt_Op->Order)==RME_PGT_SIZE_4K)
 3352              		.loc 1 1256 8
 3353 0064 10301BE5 		ldr	r3, [fp, #-16]
 3354 0068 143093E5 		ldr	r3, [r3, #20]
 3355 006c 2338A0E1 		lsr	r3, r3, #16
 3356              		.loc 1 1256 7
 3357 0070 0C0053E3 		cmp	r3, #12
 3358 0074 2400001A 		bne	.L135
1257:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1258:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)==0)
 3359              		.loc 1 1258 17
 3360 0078 0C301BE5 		ldr	r3, [fp, #-12]
 3361 007c 023003E2 		and	r3, r3, #2
 3362              		.loc 1 1258 11
 3363 0080 000053E3 		cmp	r3, #0
 3364 0084 0100001A 		bne	.L136
1259:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 3365              		.loc 1 1259 20
 3366 0088 0030E0E3 		mvn	r3, #0
 3367 008c 440000EA 		b	.L134
 3368              	.L136:
1260:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1261:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a small page. Return the physical address and flags */
1262:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
 3369              		.loc 1 1262 11
 3370 0090 18301BE5 		ldr	r3, [fp, #-24]
 3371 0094 000053E3 		cmp	r3, #0
 3372 0098 0400000A 		beq	.L137
1263:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
 3373              		.loc 1 1263 17
 3374 009c 0C301BE5 		ldr	r3, [fp, #-12]
 3375 00a0 FF3EC3E3 		bic	r3, r3, #4080
 3376 00a4 0F30C3E3 		bic	r3, r3, #15
 3377              		.loc 1 1263 16
 3378 00a8 18201BE5 		ldr	r2, [fp, #-24]
 3379 00ac 003082E5 		str	r3, [r2]
 3380              	.L137:
1264:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
 3381              		.loc 1 1264 11
 3382 00b0 1C301BE5 		ldr	r3, [fp, #-28]
 3383 00b4 000053E3 		cmp	r3, #0
 3384 00b8 3800000A 		beq	.L138
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 84


1265:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
 3385              		.loc 1 1265 20
 3386 00bc 0C301BE5 		ldr	r3, [fp, #-12]
 3387 00c0 2333A0E1 		lsr	r3, r3, #6
 3388 00c4 082003E2 		and	r2, r3, #8
 3389 00c8 0C301BE5 		ldr	r3, [fp, #-12]
 3390 00cc A330A0E1 		lsr	r3, r3, #1
 3391 00d0 043003E2 		and	r3, r3, #4
 3392 00d4 032082E1 		orr	r2, r2, r3
 3393 00d8 0C301BE5 		ldr	r3, [fp, #-12]
 3394 00dc A330A0E1 		lsr	r3, r3, #1
 3395 00e0 023003E2 		and	r3, r3, #2
 3396 00e4 032082E1 		orr	r2, r2, r3
 3397 00e8 0C301BE5 		ldr	r3, [fp, #-12]
 3398 00ec 013003E2 		and	r3, r3, #1
 3399 00f0 032082E1 		orr	r2, r2, r3
 3400 00f4 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_4K_NAT2RME
 3401 00f8 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_4K_NAT2RME
 3402 00fc 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3403              		.loc 1 1265 19
 3404 0100 1C301BE5 		ldr	r3, [fp, #-28]
 3405 0104 002083E5 		str	r2, [r3]
 3406 0108 240000EA 		b	.L138
 3407              	.L135:
1266:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1267:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1268:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1269:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)==0)
 3408              		.loc 1 1269 17
 3409 010c 0C301BE5 		ldr	r3, [fp, #-12]
 3410 0110 023003E2 		and	r3, r3, #2
 3411              		.loc 1 1269 11
 3412 0114 000053E3 		cmp	r3, #0
 3413 0118 0100001A 		bne	.L139
1270:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 3414              		.loc 1 1270 20
 3415 011c 0030E0E3 		mvn	r3, #0
 3416 0120 1F0000EA 		b	.L134
 3417              	.L139:
1271:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1272:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a section. Return the physical address and flags */
1273:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
 3418              		.loc 1 1273 11
 3419 0124 18301BE5 		ldr	r3, [fp, #-24]
 3420 0128 000053E3 		cmp	r3, #0
 3421 012c 0400000A 		beq	.L140
1274:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
 3422              		.loc 1 1274 17
 3423 0130 0C301BE5 		ldr	r3, [fp, #-12]
 3424 0134 233AA0E1 		lsr	r3, r3, #20
 3425 0138 033AA0E1 		lsl	r3, r3, #20
 3426              		.loc 1 1274 16
 3427 013c 18201BE5 		ldr	r2, [fp, #-24]
 3428 0140 003082E5 		str	r3, [r2]
 3429              	.L140:
1275:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
 3430              		.loc 1 1275 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 85


 3431 0144 1C301BE5 		ldr	r3, [fp, #-28]
 3432 0148 000053E3 		cmp	r3, #0
 3433 014c 1300000A 		beq	.L138
1276:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
 3434              		.loc 1 1276 20
 3435 0150 0C301BE5 		ldr	r3, [fp, #-12]
 3436 0154 2336A0E1 		lsr	r3, r3, #12
 3437 0158 082003E2 		and	r2, r3, #8
 3438 015c 0C301BE5 		ldr	r3, [fp, #-12]
 3439 0160 2331A0E1 		lsr	r3, r3, #2
 3440 0164 043003E2 		and	r3, r3, #4
 3441 0168 032082E1 		orr	r2, r2, r3
 3442 016c 0C301BE5 		ldr	r3, [fp, #-12]
 3443 0170 2331A0E1 		lsr	r3, r3, #2
 3444 0174 023003E2 		and	r3, r3, #2
 3445 0178 032082E1 		orr	r2, r2, r3
 3446 017c 0C301BE5 		ldr	r3, [fp, #-12]
 3447 0180 2331A0E1 		lsr	r3, r3, #2
 3448 0184 013003E2 		and	r3, r3, #1
 3449 0188 032082E1 		orr	r2, r2, r3
 3450 018c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_1M_NAT2RME
 3451 0190 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_1M_NAT2RME
 3452 0194 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3453              		.loc 1 1276 19
 3454 0198 1C301BE5 		ldr	r3, [fp, #-28]
 3455 019c 002083E5 		str	r2, [r3]
 3456              	.L138:
1277:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1278:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1279:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3457              		.loc 1 1279 12
 3458 01a0 0030A0E3 		mov	r3, #0
 3459              	.L134:
1280:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3460              		.loc 1 1280 1
 3461 01a4 0300A0E1 		mov	r0, r3
 3462 01a8 00D08BE2 		add	sp, fp, #0
 3463              		.cfi_def_cfa_register 13
 3464              		@ sp needed
 3465 01ac 04B09DE4 		ldr	fp, [sp], #4
 3466              		.cfi_restore 11
 3467              		.cfi_def_cfa_offset 0
 3468 01b0 1EFF2FE1 		bx	lr
 3469              		.cfi_endproc
 3470              	.LFE42:
 3472              		.section	.text.__RME_Pgt_Walk,"ax",%progbits
 3473              		.align	2
 3474              		.global	__RME_Pgt_Walk
 3475              		.syntax unified
 3476              		.arm
 3478              	__RME_Pgt_Walk:
 3479              	.LFB43:
1281:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Lookup *******************************************/
1282:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1283:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Walk **************************************************
1284:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Walking function for the page table. This function just does page
1285:../../Source/Platform/A7A/rme_platform_a7a.c ****               table lookups. The page table that is being walked must be the top-
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 86


1286:../../Source/Platform/A7A/rme_platform_a7a.c ****               level page table. The output values are optional; only pass in pointers
1287:../../Source/Platform/A7A/rme_platform_a7a.c ****               when you need that value.
1288:../../Source/Platform/A7A/rme_platform_a7a.c ****               Walking kernel page tables is prohibited.
1289:../../Source/Platform/A7A/rme_platform_a7a.c ****               This function also does not support large pages and super sections.
1290:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to walk.
1291:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address to look up.
1292:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Pgt - The pointer to the page table level.
1293:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Map_Vaddr - The virtual address that starts mapping.
1294:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Paddr - The physical address of the page.
1295:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Size_Order - The size order of the page.
1296:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Num_Order - The entry order of the page.
1297:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1298:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1299:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1300:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Walk(struct RME_Cap_Pgt* Pgt_Op, 
1301:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t Vaddr, 
1302:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t* Pgt,
1303:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Map_Vaddr, 
1304:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Paddr, 
1305:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Size_Order, 
1306:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Num_Order, 
1307:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Flags)
1308:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3480              		.loc 1 1308 1
 3481              		.cfi_startproc
 3482              		@ args = 16, pretend = 0, frame = 32
 3483              		@ frame_needed = 1, uses_anonymous_args = 0
 3484              		@ link register save eliminated.
 3485 0000 04B02DE5 		str	fp, [sp, #-4]!
 3486              		.cfi_def_cfa_offset 4
 3487              		.cfi_offset 11, -4
 3488 0004 00B08DE2 		add	fp, sp, #0
 3489              		.cfi_def_cfa_register 11
 3490 0008 24D04DE2 		sub	sp, sp, #36
 3491 000c 18000BE5 		str	r0, [fp, #-24]
 3492 0010 1C100BE5 		str	r1, [fp, #-28]
 3493 0014 20200BE5 		str	r2, [fp, #-32]
 3494 0018 24300BE5 		str	r3, [fp, #-36]
1309:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1310:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Pos;
1311:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1312:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1313:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if this is the top-level page table */
1314:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)==0)
 3495              		.loc 1 1314 16
 3496 001c 18301BE5 		ldr	r3, [fp, #-24]
 3497 0020 183093E5 		ldr	r3, [r3, #24]
 3498              		.loc 1 1314 23
 3499 0024 013003E2 		and	r3, r3, #1
 3500              		.loc 1 1314 7
 3501 0028 000053E3 		cmp	r3, #0
 3502 002c 0100001A 		bne	.L142
1315:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3503              		.loc 1 1315 16
 3504 0030 0030E0E3 		mvn	r3, #0
 3505 0034 A30000EA 		b	.L143
 3506              	.L142:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 87


1316:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1317:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we attempting a kernel or non-canonical lookup? If yes, stop immediately */
1318:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Vaddr>=0x7FFFFFFFU)
 3507              		.loc 1 1318 7
 3508 0038 1C301BE5 		ldr	r3, [fp, #-28]
 3509 003c 0A0173E3 		cmn	r3, #-2147483646
 3510 0040 0100009A 		bls	.L144
1319:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3511              		.loc 1 1319 16
 3512 0044 0030E0E3 		mvn	r3, #0
 3513 0048 9E0000EA 		b	.L143
 3514              	.L144:
1320:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1321:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table and start lookup - We know that there are only 2 levels */
1322:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op, rme_ptr_t*);
 3515              		.loc 1 1322 11
 3516 004c 18301BE5 		ldr	r3, [fp, #-24]
 3517 0050 0C3093E5 		ldr	r3, [r3, #12]
 3518              		.loc 1 1322 10
 3519 0054 08300BE5 		str	r3, [fp, #-8]
1323:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1324:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Calculate where is the entry - always 0 to 4096 */
1325:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Pos=(Vaddr>>RME_PGT_SIZE_1M)&0xFFFU;
 3520              		.loc 1 1325 5
 3521 0058 1C301BE5 		ldr	r3, [fp, #-28]
 3522 005c 233AA0E1 		lsr	r3, r3, #20
 3523 0060 0C300BE5 		str	r3, [fp, #-12]
1326:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Atomic read */
1327:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Temp=Table[Pos];
 3524              		.loc 1 1327 12
 3525 0064 0C301BE5 		ldr	r3, [fp, #-12]
 3526 0068 0331A0E1 		lsl	r3, r3, #2
 3527 006c 08201BE5 		ldr	r2, [fp, #-8]
 3528 0070 033082E0 		add	r3, r2, r3
 3529              		.loc 1 1327 6
 3530 0074 003093E5 		ldr	r3, [r3]
 3531 0078 10300BE5 		str	r3, [fp, #-16]
1328:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1329:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Find the position of the entry - Is there a page, a directory, or nothing? */
1330:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)!=0)
 3532              		.loc 1 1330 10
 3533 007c 10301BE5 		ldr	r3, [fp, #-16]
 3534 0080 023003E2 		and	r3, r3, #2
 3535              		.loc 1 1330 4
 3536 0084 000053E3 		cmp	r3, #0
 3537 0088 3900000A 		beq	.L145
1331:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1332:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* There is a 1M page */
1333:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Pgt!=0)
 3538              		.loc 1 1333 5
 3539 008c 20301BE5 		ldr	r3, [fp, #-32]
 3540 0090 000053E3 		cmp	r3, #0
 3541 0094 0200000A 		beq	.L146
1334:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Pgt=(rme_ptr_t)Table;
 3542              		.loc 1 1334 9
 3543 0098 08201BE5 		ldr	r2, [fp, #-8]
 3544              		.loc 1 1334 8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 88


 3545 009c 20301BE5 		ldr	r3, [fp, #-32]
 3546 00a0 002083E5 		str	r2, [r3]
 3547              	.L146:
1335:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Map_Vaddr!=0)
 3548              		.loc 1 1335 5
 3549 00a4 24301BE5 		ldr	r3, [fp, #-36]
 3550 00a8 000053E3 		cmp	r3, #0
 3551 00ac 0400000A 		beq	.L147
1336:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_1M);
 3552              		.loc 1 1336 15
 3553 00b0 1C301BE5 		ldr	r3, [fp, #-28]
 3554 00b4 233AA0E1 		lsr	r3, r3, #20
 3555 00b8 033AA0E1 		lsl	r3, r3, #20
 3556              		.loc 1 1336 14
 3557 00bc 24201BE5 		ldr	r2, [fp, #-36]
 3558 00c0 003082E5 		str	r3, [r2]
 3559              	.L147:
1337:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Paddr!=0)
 3560              		.loc 1 1337 5
 3561 00c4 04309BE5 		ldr	r3, [fp, #4]
 3562 00c8 000053E3 		cmp	r3, #0
 3563 00cc 0400000A 		beq	.L148
1338:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
 3564              		.loc 1 1338 11
 3565 00d0 10301BE5 		ldr	r3, [fp, #-16]
 3566 00d4 233AA0E1 		lsr	r3, r3, #20
 3567 00d8 033AA0E1 		lsl	r3, r3, #20
 3568              		.loc 1 1338 10
 3569 00dc 04209BE5 		ldr	r2, [fp, #4]
 3570 00e0 003082E5 		str	r3, [r2]
 3571              	.L148:
1339:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Size_Order!=0)
 3572              		.loc 1 1339 5
 3573 00e4 08309BE5 		ldr	r3, [fp, #8]
 3574 00e8 000053E3 		cmp	r3, #0
 3575 00ec 0200000A 		beq	.L149
1340:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Size_Order=RME_PGT_SIZE_1M;
 3576              		.loc 1 1340 15
 3577 00f0 08309BE5 		ldr	r3, [fp, #8]
 3578 00f4 1420A0E3 		mov	r2, #20
 3579 00f8 002083E5 		str	r2, [r3]
 3580              	.L149:
1341:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Num_Order!=0)
 3581              		.loc 1 1341 5
 3582 00fc 0C309BE5 		ldr	r3, [fp, #12]
 3583 0100 000053E3 		cmp	r3, #0
 3584 0104 0200000A 		beq	.L150
1342:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Num_Order=RME_PGT_NUM_4K;
 3585              		.loc 1 1342 14
 3586 0108 0C309BE5 		ldr	r3, [fp, #12]
 3587 010c 0C20A0E3 		mov	r2, #12
 3588 0110 002083E5 		str	r2, [r3]
 3589              	.L150:
1343:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Flags!=0)
 3590              		.loc 1 1343 5
 3591 0114 10309BE5 		ldr	r3, [fp, #16]
 3592 0118 000053E3 		cmp	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 89


 3593 011c 6800000A 		beq	.L151
1344:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
 3594              		.loc 1 1344 11
 3595 0120 10301BE5 		ldr	r3, [fp, #-16]
 3596 0124 2336A0E1 		lsr	r3, r3, #12
 3597 0128 082003E2 		and	r2, r3, #8
 3598 012c 10301BE5 		ldr	r3, [fp, #-16]
 3599 0130 2331A0E1 		lsr	r3, r3, #2
 3600 0134 043003E2 		and	r3, r3, #4
 3601 0138 032082E1 		orr	r2, r2, r3
 3602 013c 10301BE5 		ldr	r3, [fp, #-16]
 3603 0140 2331A0E1 		lsr	r3, r3, #2
 3604 0144 023003E2 		and	r3, r3, #2
 3605 0148 032082E1 		orr	r2, r2, r3
 3606 014c 10301BE5 		ldr	r3, [fp, #-16]
 3607 0150 2331A0E1 		lsr	r3, r3, #2
 3608 0154 013003E2 		and	r3, r3, #1
 3609 0158 032082E1 		orr	r2, r2, r3
 3610 015c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_1M_NAT2RME
 3611 0160 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_1M_NAT2RME
 3612 0164 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3613              		.loc 1 1344 10
 3614 0168 10309BE5 		ldr	r3, [fp, #16]
 3615 016c 002083E5 		str	r2, [r3]
 3616 0170 530000EA 		b	.L151
 3617              	.L145:
1345:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1346:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1347:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else if((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0)
 3618              		.loc 1 1347 15
 3619 0174 10301BE5 		ldr	r3, [fp, #-16]
 3620 0178 013003E2 		and	r3, r3, #1
 3621              		.loc 1 1347 9
 3622 017c 000053E3 		cmp	r3, #0
 3623 0180 4D00000A 		beq	.L152
1348:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1349:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Table=(rme_ptr_t*)RME_A7A_PA2VA(RME_A7A_MMU_1M_PGT_ADDR(Temp));
 3624              		.loc 1 1349 21
 3625 0184 10301BE5 		ldr	r3, [fp, #-16]
 3626 0188 FF3FC3E3 		bic	r3, r3, #1020
 3627 018c 0330C3E3 		bic	r3, r3, #3
 3628 0190 023183E2 		add	r3, r3, #-2147483648
 3629              		.loc 1 1349 8
 3630 0194 08300BE5 		str	r3, [fp, #-8]
1350:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Calculate where is the entry - always 0 to 256 */
1351:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Pos=(Vaddr>>RME_PGT_SIZE_4K)&0xFFU;
 3631              		.loc 1 1351 13
 3632 0198 1C301BE5 		ldr	r3, [fp, #-28]
 3633 019c 2336A0E1 		lsr	r3, r3, #12
 3634              		.loc 1 1351 6
 3635 01a0 7330EFE6 		uxtb	r3, r3
 3636 01a4 0C300BE5 		str	r3, [fp, #-12]
1352:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Atomic read */
1353:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Temp=Table[Pos];
 3637              		.loc 1 1353 13
 3638 01a8 0C301BE5 		ldr	r3, [fp, #-12]
 3639 01ac 0331A0E1 		lsl	r3, r3, #2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 90


 3640 01b0 08201BE5 		ldr	r2, [fp, #-8]
 3641 01b4 033082E0 		add	r3, r2, r3
 3642              		.loc 1 1353 7
 3643 01b8 003093E5 		ldr	r3, [r3]
 3644 01bc 10300BE5 		str	r3, [fp, #-16]
1354:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1355:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)!=0)
 3645              		.loc 1 1355 11
 3646 01c0 10301BE5 		ldr	r3, [fp, #-16]
 3647 01c4 023003E2 		and	r3, r3, #2
 3648              		.loc 1 1355 5
 3649 01c8 000053E3 		cmp	r3, #0
 3650 01cc 3800000A 		beq	.L153
1356:../../Source/Platform/A7A/rme_platform_a7a.c **** 		{
1357:../../Source/Platform/A7A/rme_platform_a7a.c **** 			/* There is a 4k page */
1358:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Pgt!=0)
 3651              		.loc 1 1358 6
 3652 01d0 20301BE5 		ldr	r3, [fp, #-32]
 3653 01d4 000053E3 		cmp	r3, #0
 3654 01d8 0200000A 		beq	.L154
1359:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Pgt=(rme_ptr_t)Table;
 3655              		.loc 1 1359 10
 3656 01dc 08201BE5 		ldr	r2, [fp, #-8]
 3657              		.loc 1 1359 9
 3658 01e0 20301BE5 		ldr	r3, [fp, #-32]
 3659 01e4 002083E5 		str	r2, [r3]
 3660              	.L154:
1360:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Map_Vaddr!=0)
 3661              		.loc 1 1360 6
 3662 01e8 24301BE5 		ldr	r3, [fp, #-36]
 3663 01ec 000053E3 		cmp	r3, #0
 3664 01f0 0400000A 		beq	.L155
1361:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_4K);
 3665              		.loc 1 1361 16
 3666 01f4 1C301BE5 		ldr	r3, [fp, #-28]
 3667 01f8 FF3EC3E3 		bic	r3, r3, #4080
 3668 01fc 0F30C3E3 		bic	r3, r3, #15
 3669              		.loc 1 1361 15
 3670 0200 24201BE5 		ldr	r2, [fp, #-36]
 3671 0204 003082E5 		str	r3, [r2]
 3672              	.L155:
1362:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Paddr!=0)
 3673              		.loc 1 1362 6
 3674 0208 04309BE5 		ldr	r3, [fp, #4]
 3675 020c 000053E3 		cmp	r3, #0
 3676 0210 0400000A 		beq	.L156
1363:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
 3677              		.loc 1 1363 12
 3678 0214 10301BE5 		ldr	r3, [fp, #-16]
 3679 0218 FF3EC3E3 		bic	r3, r3, #4080
 3680 021c 0F30C3E3 		bic	r3, r3, #15
 3681              		.loc 1 1363 11
 3682 0220 04209BE5 		ldr	r2, [fp, #4]
 3683 0224 003082E5 		str	r3, [r2]
 3684              	.L156:
1364:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Size_Order!=0)
 3685              		.loc 1 1364 6
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 91


 3686 0228 08309BE5 		ldr	r3, [fp, #8]
 3687 022c 000053E3 		cmp	r3, #0
 3688 0230 0200000A 		beq	.L157
1365:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Size_Order=RME_PGT_SIZE_4K;
 3689              		.loc 1 1365 16
 3690 0234 08309BE5 		ldr	r3, [fp, #8]
 3691 0238 0C20A0E3 		mov	r2, #12
 3692 023c 002083E5 		str	r2, [r3]
 3693              	.L157:
1366:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Num_Order!=0)
 3694              		.loc 1 1366 6
 3695 0240 0C309BE5 		ldr	r3, [fp, #12]
 3696 0244 000053E3 		cmp	r3, #0
 3697 0248 0200000A 		beq	.L158
1367:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Num_Order=RME_PGT_NUM_256;
 3698              		.loc 1 1367 15
 3699 024c 0C309BE5 		ldr	r3, [fp, #12]
 3700 0250 0820A0E3 		mov	r2, #8
 3701 0254 002083E5 		str	r2, [r3]
 3702              	.L158:
1368:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Flags!=0)
 3703              		.loc 1 1368 6
 3704 0258 10309BE5 		ldr	r3, [fp, #16]
 3705 025c 000053E3 		cmp	r3, #0
 3706 0260 1700000A 		beq	.L151
1369:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
 3707              		.loc 1 1369 12
 3708 0264 10301BE5 		ldr	r3, [fp, #-16]
 3709 0268 2333A0E1 		lsr	r3, r3, #6
 3710 026c 082003E2 		and	r2, r3, #8
 3711 0270 10301BE5 		ldr	r3, [fp, #-16]
 3712 0274 A330A0E1 		lsr	r3, r3, #1
 3713 0278 043003E2 		and	r3, r3, #4
 3714 027c 032082E1 		orr	r2, r2, r3
 3715 0280 10301BE5 		ldr	r3, [fp, #-16]
 3716 0284 A330A0E1 		lsr	r3, r3, #1
 3717 0288 023003E2 		and	r3, r3, #2
 3718 028c 032082E1 		orr	r2, r2, r3
 3719 0290 10301BE5 		ldr	r3, [fp, #-16]
 3720 0294 013003E2 		and	r3, r3, #1
 3721 0298 032082E1 		orr	r2, r2, r3
 3722 029c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_4K_NAT2RME
 3723 02a0 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_4K_NAT2RME
 3724 02a4 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3725              		.loc 1 1369 11
 3726 02a8 10309BE5 		ldr	r3, [fp, #16]
 3727 02ac 002083E5 		str	r2, [r3]
 3728 02b0 030000EA 		b	.L151
 3729              	.L153:
1370:../../Source/Platform/A7A/rme_platform_a7a.c **** 		}
1371:../../Source/Platform/A7A/rme_platform_a7a.c **** 		else
1372:../../Source/Platform/A7A/rme_platform_a7a.c **** 			return RME_ERR_HAL_FAIL;
 3730              		.loc 1 1372 11
 3731 02b4 0030E0E3 		mvn	r3, #0
 3732 02b8 020000EA 		b	.L143
 3733              	.L152:
1373:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 92


1374:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else
1375:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return RME_ERR_HAL_FAIL;
 3734              		.loc 1 1375 10
 3735 02bc 0030E0E3 		mvn	r3, #0
 3736 02c0 000000EA 		b	.L143
 3737              	.L151:
1376:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1377:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3738              		.loc 1 1377 12
 3739 02c4 0030A0E3 		mov	r3, #0
 3740              	.L143:
1378:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3741              		.loc 1 1378 1
 3742 02c8 0300A0E1 		mov	r0, r3
 3743 02cc 00D08BE2 		add	sp, fp, #0
 3744              		.cfi_def_cfa_register 13
 3745              		@ sp needed
 3746 02d0 04B09DE4 		ldr	fp, [sp], #4
 3747              		.cfi_restore 11
 3748              		.cfi_def_cfa_offset 0
 3749 02d4 1EFF2FE1 		bx	lr
 3750              		.cfi_endproc
 3751              	.LFE43:
 3753              		.text
 3754              	.Letext0:
 3755              		.file 2 "../../Include/Platform/A7A/rme_platform_a7a.h"
 3756              		.file 3 "../../Include/Kernel/rme_kernel.h"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 93


DEFINED SYMBOLS
                            *ABS*:00000000 rme_platform_a7a.c
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:21     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:24     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 RME_A7A_Pgflg_1M_RME2NAT
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:58     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:61     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 RME_A7A_Pgflg_4K_RME2NAT
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:95     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:98     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 RME_A7A_Pgflg_1M_NAT2RME
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:116    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:119    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 RME_A7A_Pgflg_4K_NAT2RME
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:141    .bss.RME_A7A_Timestamp:00000000 RME_A7A_Timestamp
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:138    .bss.RME_A7A_Timestamp:00000000 $d
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:148    .bss.RME_A7A_Local:00000000 RME_A7A_Local
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:145    .bss.RME_A7A_Local:00000000 $d
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:155    .bss.RME_A7A_Kot:00000000 RME_A7A_Kot
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:152    .bss.RME_A7A_Kot:00000000 $d
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:162    .rodata.RME_A7A_Mem_Info:00000000 RME_A7A_Mem_Info
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:159    .rodata.RME_A7A_Mem_Info:00000000 $d
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:193    .bss.RME_A7A_CPU_Cnt:00000000 RME_A7A_CPU_Cnt
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:190    .bss.RME_A7A_CPU_Cnt:00000000 $d
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:196    .text.main:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:201    .text.main:00000000 main
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:224    .text.__RME_Putchar:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:229    .text.__RME_Putchar:00000000 __RME_Putchar
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:272    .rodata:00000000 $d
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:273    .rodata:00000000 .LC0
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:276    .rodata:00000018 .LC1
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:279    .rodata:00000030 .LC2
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:282    .rodata:00000048 .LC3
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:285    .rodata:00000064 .LC4
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:288    .rodata:0000007c .LC5
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:291    .rodata:0000009c .LC6
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:294    .rodata:000000b4 .LC7
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:297    .text.__RME_A7A_Int_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:301    .text.__RME_A7A_Int_Init:00000000 __RME_A7A_Int_Init
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:561    .text.__RME_A7A_Int_Local_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:566    .text.__RME_A7A_Int_Local_Init:00000000 __RME_A7A_Int_Local_Init
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:609    .text.__RME_A7A_Timer_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:613    .text.__RME_A7A_Timer_Init:00000000 __RME_A7A_Timer_Init
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:666    .text.__RME_A7A_Feature_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:671    .text.__RME_A7A_Feature_Get:00000000 __RME_A7A_Feature_Get
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:696    .text.__RME_A7A_Mem_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:701    .text.__RME_A7A_Mem_Init:00000000 __RME_A7A_Mem_Init
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:729    .text.__RME_A7A_SMP_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:734    .text.__RME_A7A_SMP_Init:00000000 __RME_A7A_SMP_Init
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:759    .text.__RME_A7A_SMP_Tick:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:764    .text.__RME_A7A_SMP_Tick:00000000 __RME_A7A_SMP_Tick
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:790    .rodata:000000d8 .LC8
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:793    .rodata:000000ec .LC9
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:796    .text.__RME_Lowlvl_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:801    .text.__RME_Lowlvl_Init:00000000 __RME_Lowlvl_Init
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:853    .text.__RME_Pgt_Kom_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:858    .text.__RME_Pgt_Kom_Init:00000000 __RME_Pgt_Kom_Init
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:885    .text.__RME_SMP_Low_Level_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:890    .text.__RME_SMP_Low_Level_Init:00000000 __RME_SMP_Low_Level_Init
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:918    .rodata:00000100 .LC10
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:921    .rodata:0000012c .LC11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 94


C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:924    .rodata:00000138 .LC12
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:927    .rodata:00000144 .LC13
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:930    .rodata:00000174 .LC14
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:933    .rodata:00000198 .LC15
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:936    .rodata:000001b8 .LC16
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:939    .rodata:000001bc .LC17
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:942    .rodata:000001e0 .LC18
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:945    .rodata:00000200 .LC19
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:948    .rodata:00000220 .LC20
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:951    .rodata:00000240 .LC21
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:954    .rodata:00000258 .LC22
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:957    .rodata:00000278 .LC23
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:960    .rodata:000002a0 .LC24
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:963    .rodata:000002c4 .LC25
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:967    .rodata:00000308 .LC26
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:970    .text.__RME_Boot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:975    .text.__RME_Boot:00000000 __RME_Boot
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2587   .text.__RME_Pgt_Set:00000000 __RME_Pgt_Set
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1480   .text.__RME_Reboot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1485   .text.__RME_Reboot:00000000 __RME_Reboot
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1510   .text.__RME_Shutdown:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1515   .text.__RME_Shutdown:00000000 __RME_Shutdown
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1540   .text.__RME_Svc_Param_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1545   .text.__RME_Svc_Param_Get:00000000 __RME_Svc_Param_Get
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1613   .text.__RME_Svc_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1618   .text.__RME_Svc_Retval_Set:00000000 __RME_Svc_Retval_Set
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1651   .text.__RME_Thd_Reg_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1656   .text.__RME_Thd_Reg_Init:00000000 __RME_Thd_Reg_Init
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1698   .text.__RME_Thd_Reg_Copy:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1703   .text.__RME_Thd_Reg_Copy:00000000 __RME_Thd_Reg_Copy
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1827   .text.__RME_Thd_Cop_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1832   .text.__RME_Thd_Cop_Init:00000000 __RME_Thd_Cop_Init
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1860   .text.__RME_Thd_Cop_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1865   .text.__RME_Thd_Cop_Save:00000000 __RME_Thd_Cop_Save
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1893   .text.__RME_Thd_Cop_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1898   .text.__RME_Thd_Cop_Restore:00000000 __RME_Thd_Cop_Restore
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1926   .text.__RME_Inv_Reg_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1931   .text.__RME_Inv_Reg_Save:00000000 __RME_Inv_Reg_Save
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1971   .text.__RME_Inv_Reg_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:1976   .text.__RME_Inv_Reg_Restore:00000000 __RME_Inv_Reg_Restore
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2016   .text.__RME_Inv_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2021   .text.__RME_Inv_Retval_Set:00000000 __RME_Inv_Retval_Set
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2054   .text.__RME_Set_Inv_Retval:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2059   .text.__RME_Set_Inv_Retval:00000000 __RME_Set_Inv_Retval
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2092   .text.__RME_Thd_Cop_Swap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2097   .text.__RME_Thd_Cop_Swap:00000000 __RME_Thd_Cop_Swap
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2127   .text.__RME_Kfn_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2132   .text.__RME_Kfn_Handler:00000000 __RME_Kfn_Handler
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2165   .rodata:00000320 .LC27
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2168   .rodata:00000334 .LC28
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2171   .rodata:0000033c .LC29
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2174   .text.__RME_A7A_Undefined_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2179   .text.__RME_A7A_Undefined_Handler:00000000 __RME_A7A_Undefined_Handler
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2223   .rodata:00000344 .LC30
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2226   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2231   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 __RME_A7A_Prefetch_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2275   .rodata:0000035c .LC31
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 95


C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2278   .text.__RME_A7A_Data_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2283   .text.__RME_A7A_Data_Abort_Handler:00000000 __RME_A7A_Data_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2327   .rodata:00000370 .LC32
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2330   .text.__RME_A7A_IRQ_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2335   .text.__RME_A7A_IRQ_Handler:00000000 __RME_A7A_IRQ_Handler
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2504   .text._RME_A7A_SGI_Handler:00000000 _RME_A7A_SGI_Handler
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2499   .text._RME_A7A_SGI_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2535   .rodata:00000380 .LC33
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2538   .text.__RME_A7A_Generic_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2543   .text.__RME_A7A_Generic_Handler:00000000 __RME_A7A_Generic_Handler
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2579   .rodata:00000390 .LC34
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2582   .text.__RME_Pgt_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2635   .rodata:000003b4 .LC35
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2638   .text.__RME_Pgt_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2643   .text.__RME_Pgt_Check:00000000 __RME_Pgt_Check
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2736   .text.__RME_Pgt_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2741   .text.__RME_Pgt_Init:00000000 __RME_Pgt_Init
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2859   .text.__RME_Pgt_Del_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2864   .text.__RME_Pgt_Del_Check:00000000 __RME_Pgt_Del_Check
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2894   .rodata:000003c4 .LC36
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2897   .rodata:000003d4 .LC37
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2901   .rodata:00000414 .LC38
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2904   .rodata:00000428 .LC39
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2907   .rodata:00000438 .LC40
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2910   .text.__RME_Pgt_Page_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:2915   .text.__RME_Pgt_Page_Map:00000000 __RME_Pgt_Page_Map
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:3067   .text.__RME_Pgt_Page_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:3072   .text.__RME_Pgt_Page_Unmap:00000000 __RME_Pgt_Page_Unmap
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:3171   .text.__RME_Pgt_Pgdir_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:3176   .text.__RME_Pgt_Pgdir_Map:00000000 __RME_Pgt_Pgdir_Map
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:3267   .text.__RME_Pgt_Pgdir_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:3272   .text.__RME_Pgt_Pgdir_Unmap:00000000 __RME_Pgt_Pgdir_Unmap
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:3303   .text.__RME_Pgt_Lookup:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:3308   .text.__RME_Pgt_Lookup:00000000 __RME_Pgt_Lookup
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:3473   .text.__RME_Pgt_Walk:00000000 $a
C:\Users\even\AppData\Local\Temp\ccVjXQjM.s:3478   .text.__RME_Pgt_Walk:00000000 __RME_Pgt_Walk
                           .group:00000000 wm4.0.3b9f63523dc4e8d86e863c7e7e762be7
                           .group:00000000 wm4.rme_platform_a7a.h.12.6f31e4bbf2ba0e08caa014445997fe37
                           .group:00000000 wm4.rme_platform_xc7z020.h.16.ad2f0318b93804fb8601302b8cc407b4
                           .group:00000000 wm4.rme_platform_a7a.h.137.fdc6a038503ac117e4f4f30ba1107f52
                           .group:00000000 wm4.rme_kernel.h.27.716340edb41bad57d522729bf2b8a38a
                           .group:00000000 wm4.rme.h.11.105c42759f88404be372052d8d99e5e6
                           .group:00000000 wm4.rme_kernel.h.185.d02db6497e1a69d04e005d15d216f811
                           .group:00000000 wm4.rme_platform_a7a.h.390.918e282e9d9d990fe491c99e3e90944b
                           .group:00000000 wm4.rme_kernel.h.678.0572fdf2012fb48f701f562b23d175bb
                           .group:00000000 wm4.rme_platform_a7a.h.506.b69c5b88dcc791c376596804bd7b1b26
                           .group:00000000 wm4.rme_kernel.h.930.0bcd107bd9a9b6f5fe5bbd4088ddbec4

UNDEFINED SYMBOLS
RME_Kmain
RME_Str_Print
RME_Int_Print
RME_Hex_Print
_RME_CPU_Local_Init
__RME_A7A_Vector_Table
__RME_A7A_VBAR_Set
__RME_A7A_SCR_Get
ARM GAS  C:\Users\even\AppData\Local\Temp\ccVjXQjM.s 			page 96


_RME_Cpt_Boot_Init
RME_Log
_RME_Pgt_Boot_Crt
_RME_Pgt_Boot_Add
__RME_A7A_Kern_Pgt
_RME_Prc_Boot_Crt
_RME_Thd_Boot_Crt
_RME_Kfn_Boot_Crt
_RME_Kom_Boot_Crt
_RME_Sig_Boot_Crt
__RME_Int_Enable
__RME_User_Enter
_RME_Tim_Handler
__RME_A7A_TTBR0_Set
__RME_A7A_TLBIALL_Set
_RME_Comp_Swap_Single
