ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 1


   1              		.cpu cortex-a9
   2              		.arch armv7-a
   3              		.fpu neon-fp16
   4              		.arch_extension mp
   5              		.arch_extension sec
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"rme_platform_a7a.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "../../Source/Platform/A7A/rme_platform_a7a.c"
  20              		.section	.rodata.RME_A7A_Pgflg_1M_RME2NAT,"a"
  21              		.align	2
  24              	RME_A7A_Pgflg_1M_RME2NAT:
  25 0000 11880300 		.word	231441
  26 0004 11880300 		.word	231441
  27 0008 11080300 		.word	198673
  28 000c 11080300 		.word	198673
  29 0010 01880300 		.word	231425
  30 0014 01880300 		.word	231425
  31 0018 01080300 		.word	198657
  32 001c 01080300 		.word	198657
  33 0020 19880300 		.word	231449
  34 0024 19880300 		.word	231449
  35 0028 19080300 		.word	198681
  36 002c 19080300 		.word	198681
  37 0030 09880300 		.word	231433
  38 0034 09880300 		.word	231433
  39 0038 09080300 		.word	198665
  40 003c 09080300 		.word	198665
  41 0040 15880300 		.word	231445
  42 0044 15880300 		.word	231445
  43 0048 15080300 		.word	198677
  44 004c 15080300 		.word	198677
  45 0050 05880300 		.word	231429
  46 0054 05880300 		.word	231429
  47 0058 05080300 		.word	198661
  48 005c 05080300 		.word	198661
  49 0060 1D880300 		.word	231453
  50 0064 1D880300 		.word	231453
  51 0068 1D080300 		.word	198685
  52 006c 1D080300 		.word	198685
  53 0070 0D880300 		.word	231437
  54 0074 0D880300 		.word	231437
  55 0078 0D080300 		.word	198669
  56 007c 0D080300 		.word	198669
  57              		.section	.rodata.RME_A7A_Pgflg_4K_RME2NAT,"a"
  58              		.align	2
  61              	RME_A7A_Pgflg_4K_RME2NAT:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 2


  62 0000 230E0000 		.word	3619
  63 0004 230E0000 		.word	3619
  64 0008 230C0000 		.word	3107
  65 000c 230C0000 		.word	3107
  66 0010 220E0000 		.word	3618
  67 0014 220E0000 		.word	3618
  68 0018 220C0000 		.word	3106
  69 001c 220C0000 		.word	3106
  70 0020 2B0E0000 		.word	3627
  71 0024 2B0E0000 		.word	3627
  72 0028 2B0C0000 		.word	3115
  73 002c 2B0C0000 		.word	3115
  74 0030 2A0E0000 		.word	3626
  75 0034 2A0E0000 		.word	3626
  76 0038 2A0C0000 		.word	3114
  77 003c 2A0C0000 		.word	3114
  78 0040 270E0000 		.word	3623
  79 0044 270E0000 		.word	3623
  80 0048 270C0000 		.word	3111
  81 004c 270C0000 		.word	3111
  82 0050 260E0000 		.word	3622
  83 0054 260E0000 		.word	3622
  84 0058 260C0000 		.word	3110
  85 005c 260C0000 		.word	3110
  86 0060 2F0E0000 		.word	3631
  87 0064 2F0E0000 		.word	3631
  88 0068 2F0C0000 		.word	3119
  89 006c 2F0C0000 		.word	3119
  90 0070 2E0E0000 		.word	3630
  91 0074 2E0E0000 		.word	3630
  92 0078 2E0C0000 		.word	3118
  93 007c 2E0C0000 		.word	3118
  94              		.section	.rodata.RME_A7A_Pgflg_1M_NAT2RME,"a"
  95              		.align	2
  98              	RME_A7A_Pgflg_1M_NAT2RME:
  99 0000 07000000 		.word	7
 100 0004 17000000 		.word	23
 101 0008 0F000000 		.word	15
 102 000c 1F000000 		.word	31
 103 0010 03000000 		.word	3
 104 0014 13000000 		.word	19
 105 0018 0B000000 		.word	11
 106 001c 1B000000 		.word	27
 107 0020 05000000 		.word	5
 108 0024 15000000 		.word	21
 109 0028 0D000000 		.word	13
 110 002c 1D000000 		.word	29
 111 0030 01000000 		.word	1
 112 0034 11000000 		.word	17
 113 0038 09000000 		.word	9
 114 003c 19000000 		.word	25
 115              		.section	.rodata.RME_A7A_Pgflg_4K_NAT2RME,"a"
 116              		.align	2
 119              	RME_A7A_Pgflg_4K_NAT2RME:
 120 0000 07000000 		.word	7
 121 0004 03000000 		.word	3
 122 0008 17000000 		.word	23
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 3


 123 000c 13000000 		.word	19
 124 0010 0F000000 		.word	15
 125 0014 0B000000 		.word	11
 126 0018 1F000000 		.word	31
 127 001c 1B000000 		.word	27
 128 0020 05000000 		.word	5
 129 0024 01000000 		.word	1
 130 0028 15000000 		.word	21
 131 002c 11000000 		.word	17
 132 0030 0D000000 		.word	13
 133 0034 09000000 		.word	9
 134 0038 1D000000 		.word	29
 135 003c 19000000 		.word	25
 136              		.global	RME_A7A_Timestamp
 137              		.section	.bss.RME_A7A_Timestamp,"aw",%nobits
 138              		.align	2
 141              	RME_A7A_Timestamp:
 142 0000 00000000 		.space	4
 143              		.global	RME_A7A_Local
 144              		.section	.bss.RME_A7A_Local,"aw",%nobits
 145              		.align	2
 148              	RME_A7A_Local:
 149 0000 00000000 		.space	276
 149      00000000 
 149      00000000 
 149      00000000 
 149      00000000 
 150              		.global	RME_A7A_Kot
 151              		.section	.bss.RME_A7A_Kot,"aw",%nobits
 152              		.align	2
 155              	RME_A7A_Kot:
 156 0000 00000000 		.space	8388608
 156      00000000 
 156      00000000 
 156      00000000 
 156      00000000 
 157              		.global	RME_A7A_Mem_Info
 158              		.section	.rodata.RME_A7A_Mem_Info,"a"
 159              		.align	2
 162              	RME_A7A_Mem_Info:
 163 0000 19000000 		.word	25
 164 0004 00000000 		.word	0
 165 0008 00000000 		.word	0
 166 000c 00040000 		.word	1024
 167 0010 0E0C0300 		.word	199694
 168 0014 00000040 		.word	1073741824
 169 0018 00000040 		.word	1073741824
 170 001c 00020000 		.word	512
 171 0020 020C0300 		.word	199682
 172 0024 000000E0 		.word	-536870912
 173 0028 00000060 		.word	1610612736
 174 002c 00020000 		.word	512
 175 0030 020C0300 		.word	199682
 176 0034 00000000 		.word	0
 177 0038 00000080 		.word	-2147483648
 178 003c 00040000 		.word	1024
 179 0040 0E040300 		.word	197646
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 4


 180 0044 00000040 		.word	1073741824
 181 0048 000000C0 		.word	-1073741824
 182 004c 00020000 		.word	512
 183 0050 02040300 		.word	197634
 184 0054 000000E0 		.word	-536870912
 185 0058 000000E0 		.word	-536870912
 186 005c 00020000 		.word	512
 187 0060 02040300 		.word	197634
 188              		.global	RME_A7A_CPU_Cnt
 189              		.section	.bss.RME_A7A_CPU_Cnt,"aw",%nobits
 190              		.align	2
 193              	RME_A7A_CPU_Cnt:
 194 0000 00000000 		.space	4
 195              		.section	.text.main,"ax",%progbits
 196              		.align	2
 197              		.global	main
 198              		.syntax unified
 199              		.arm
 201              	main:
 202              	.LFB0:
   1:../../Source/Platform/A7A/rme_platform_a7a.c **** /******************************************************************************
   2:../../Source/Platform/A7A/rme_platform_a7a.c **** Filename    : platform_a7a.c
   3:../../Source/Platform/A7A/rme_platform_a7a.c **** Author      : pry
   4:../../Source/Platform/A7A/rme_platform_a7a.c **** Date        : 01/04/2017
   5:../../Source/Platform/A7A/rme_platform_a7a.c **** Licence     : LGPL v3+; see COPYING for details.
   6:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The hardware abstraction layer for ARMv7-A machines.
   7:../../Source/Platform/A7A/rme_platform_a7a.c ****               1. Interrupt controller
   8:../../Source/Platform/A7A/rme_platform_a7a.c ****               2. Timer
   9:../../Source/Platform/A7A/rme_platform_a7a.c ****               3. Pgt setup
  10:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  11:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  12:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Include *******************************************************************/
  13:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_DEF__
  14:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  15:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  16:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_DEF__
  17:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  18:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_STRUCT__
  19:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  20:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  21:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_STRUCT__
  22:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  23:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Private include */
  24:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  25:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  26:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_PUBLIC__
  27:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  28:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_PUBLIC__
  29:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Include ***************************************************************/
  30:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  31:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:main **************************************************************
  32:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The entrance of the operating system.
  33:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  34:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  35:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : int - This function never returns.
  36:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  37:../../Source/Platform/A7A/rme_platform_a7a.c **** int main(void)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 5


  38:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 203              		.loc 1 38 1
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 0
 206              		@ frame_needed = 1, uses_anonymous_args = 0
 207 0000 00482DE9 		push	{fp, lr}
 208              		.cfi_def_cfa_offset 8
 209              		.cfi_offset 11, -8
 210              		.cfi_offset 14, -4
 211 0004 04B08DE2 		add	fp, sp, #4
 212              		.cfi_def_cfa 11, 4
  39:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_H(__RME_A7A_ID_ISAR0_Get());
  40:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_I(10);
  41:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//while(1);
  42:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('h');
  43:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('e');
  44:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  45:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  46:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  47:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar(' ');
  48:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('w');*/
  49:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  50:../../Source/Platform/A7A/rme_platform_a7a.c ****    /* RME_DBG_S("0123456789\n");
  51:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  52:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  53:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  54:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  55:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  56:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  57:../../Source/Platform/A7A/rme_platform_a7a.c ****     while(1);*/
  58:../../Source/Platform/A7A/rme_platform_a7a.c ****    // __RME_Putchar('h');
  59:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('e');
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  61:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');*/
  62:../../Source/Platform/A7A/rme_platform_a7a.c ****     //__RME_Putchar('o');
  63:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('w');
  64:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  65:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('r');
  66:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  67:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('d');*/
  68:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_Kmain();
 213              		.loc 1 68 5
 214 0008 FEFFFFEB 		bl	RME_Kmain
  69:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  70:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  71:../../Source/Platform/A7A/rme_platform_a7a.c ****     //test
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The main function of the kernel - we will start our kernel boot here */
  73:../../Source/Platform/A7A/rme_platform_a7a.c ****     //_RME_Kmain(RME_KOM_STACK_ADDR);
  74:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  75:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 215              		.loc 1 75 12
 216 000c 0030A0E3 		mov	r3, #0
  76:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 217              		.loc 1 76 1
 218 0010 0300A0E1 		mov	r0, r3
 219 0014 0088BDE8 		pop	{fp, pc}
 220              		.cfi_endproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 6


 221              	.LFE0:
 223              		.section	.text.__RME_Putchar,"ax",%progbits
 224              		.align	2
 225              		.global	__RME_Putchar
 226              		.syntax unified
 227              		.arm
 229              	__RME_Putchar:
 230              	.LFB1:
  77:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
  78:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  79:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Putchar *****************************************************
  80:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Output a character to console. In Cortex-M, under most circumstances, 
  81:../../Source/Platform/A7A/rme_platform_a7a.c ****               we should use the ITM for such outputs.
  82:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : char Char - The character to print.
  83:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  84:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
  85:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  86:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Putchar(char Char)
  87:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 231              		.loc 1 87 1
 232              		.cfi_startproc
 233              		@ args = 0, pretend = 0, frame = 8
 234              		@ frame_needed = 1, uses_anonymous_args = 0
 235              		@ link register save eliminated.
 236 0000 04B02DE5 		str	fp, [sp, #-4]!
 237              		.cfi_def_cfa_offset 4
 238              		.cfi_offset 11, -4
 239 0004 00B08DE2 		add	fp, sp, #0
 240              		.cfi_def_cfa_register 11
 241 0008 0CD04DE2 		sub	sp, sp, #12
 242 000c 0030A0E1 		mov	r3, r0
 243 0010 05304BE5 		strb	r3, [fp, #-5]
 244              	.L4:
  88:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PUTCHAR(Char);
 245              		.loc 1 88 5 discriminator 1
 246 0014 2C3001E3 		movw	r3, #4140
 247 0018 00304EE3 		movt	r3, 57344
 248 001c 003093E5 		ldr	r3, [r3]
 249 0020 083003E2 		and	r3, r3, #8
 250 0024 000053E3 		cmp	r3, #0
 251 0028 F9FFFF0A 		beq	.L4
 252              		.loc 1 88 5 is_stmt 0 discriminator 2
 253 002c 303001E3 		movw	r3, #4144
 254 0030 00304EE3 		movt	r3, 57344
 255 0034 D5205BE1 		ldrsb	r2, [fp, #-5]
 256 0038 002083E5 		str	r2, [r3]
  89:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 257              		.loc 1 89 12 is_stmt 1
 258 003c 0030A0E3 		mov	r3, #0
  90:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 259              		.loc 1 90 1
 260 0040 0300A0E1 		mov	r0, r3
 261 0044 00D08BE2 		add	sp, fp, #0
 262              		.cfi_def_cfa_register 13
 263              		@ sp needed
 264 0048 04B09DE4 		ldr	fp, [sp], #4
 265              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 7


 266              		.cfi_def_cfa_offset 0
 267 004c 1EFF2FE1 		bx	lr
 268              		.cfi_endproc
 269              	.LFE1:
 271              		.section	.rodata
 272              		.align	2
 273              	.LC0:
 274 0000 0D0A4137 		.ascii	"\015\012A7A-GIC: ProductID: \000"
 274      412D4749 
 274      433A2050 
 274      726F6475 
 274      63744944 
 275 0017 00       		.align	2
 276              	.LC1:
 277 0018 0D0A4137 		.ascii	"\015\012A7A-GIC: Variant: \000"
 277      412D4749 
 277      433A2056 
 277      61726961 
 277      6E743A20 
 278 002d 000000   		.align	2
 279              	.LC2:
 280 0030 0D0A4137 		.ascii	"\015\012A7A-GIC: Revision: \000"
 280      412D4749 
 280      433A2052 
 280      65766973 
 280      696F6E3A 
 281 0046 0000     		.align	2
 282              	.LC3:
 283 0048 0D0A4137 		.ascii	"\015\012A7A-GIC: Implementer: 0x\000"
 283      412D4749 
 283      433A2049 
 283      6D706C65 
 283      6D656E74 
 284 0063 00       		.align	2
 285              	.LC4:
 286 0064 0D0A4137 		.ascii	"\015\012A7A-GIC: SPI number: \000"
 286      412D4749 
 286      433A2053 
 286      5049206E 
 286      756D6265 
 287              		.align	2
 288              	.LC5:
 289 007c 0D0A4137 		.ascii	"\015\012A7A-GIC: Security extension: \000"
 289      412D4749 
 289      433A2053 
 289      65637572 
 289      69747920 
 290              		.align	2
 291              	.LC6:
 292 009c 0D0A4137 		.ascii	"\015\012A7A-GIC: CPU number: \000"
 292      412D4749 
 292      433A2043 
 292      5055206E 
 292      756D6265 
 293              		.align	2
 294              	.LC7:
 295 00b4 0D0A4137 		.ascii	"\015\012A7A-GIC: Interrupt line number: \000"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 8


 295      412D4749 
 295      433A2049 
 295      6E746572 
 295      72757074 
 296              		.section	.text.__RME_A7A_Int_Init,"ax",%progbits
 297              		.align	2
 298              		.syntax unified
 299              		.arm
 301              	__RME_A7A_Int_Init:
 302              	.LFB2:
  91:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Putchar ************************************************/
  92:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  93:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_CPU_Local_Get ******************************************
  94:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the CPU-local data structures. This is to identify where we are
  95:../../Source/Platform/A7A/rme_platform_a7a.c ****               executing.
  96:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  97:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  98:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : struct RME_CPU_Local* - The CPU-local data structures.
  99:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 100:../../Source/Platform/A7A/rme_platform_a7a.c **** /*struct RME_CPU_Local* __RME_A7A_CPU_Local_Get(void)
 101:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 102:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return &RME_A7A_Local[__RME_A7A_MPIDR_Get()&0x03];
 103:../../Source/Platform/A7A/rme_platform_a7a.c **** }*/
 104:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_CPU_Local_Get *************************************/
 105:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 106:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Init ***********************************************
 107:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 108:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 109:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 110:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 111:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 112:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 113:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 114:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Init(void)
 115:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 303              		.loc 1 115 1
 304              		.cfi_startproc
 305              		@ args = 0, pretend = 0, frame = 8
 306              		@ frame_needed = 1, uses_anonymous_args = 0
 307 0000 00482DE9 		push	{fp, lr}
 308              		.cfi_def_cfa_offset 8
 309              		.cfi_offset 11, -8
 310              		.cfi_offset 14, -4
 311 0004 04B08DE2 		add	fp, sp, #4
 312              		.cfi_def_cfa 11, 4
 313 0008 08D04DE2 		sub	sp, sp, #8
 116:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
 117:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Lines;
 118:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 119:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Who implemented the GIC, what variant, how many interrupts? */
 120:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_IIDR;
 314              		.loc 1 120 10
 315 000c 083001E3 		movw	r3, #4104
 316 0010 F0384FE3 		movt	r3, 63728
 317              		.loc 1 120 9
 318 0014 003093E5 		ldr	r3, [r3]
 319 0018 08300BE5 		str	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 9


 121:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 320              		.loc 1 121 5
 321 001c 000000E3 		movw	r0, #:lower16:.LC0
 322 0020 000040E3 		movt	r0, #:upper16:.LC0
 323 0024 FEFFFFEB 		bl	RME_Str_Print
 122:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>24);
 324              		.loc 1 122 5
 325 0028 08301BE5 		ldr	r3, [fp, #-8]
 326 002c 233CA0E1 		lsr	r3, r3, #24
 327 0030 0300A0E1 		mov	r0, r3
 328 0034 FEFFFFEB 		bl	RME_Int_Print
 123:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Variant: ");
 329              		.loc 1 123 5
 330 0038 000000E3 		movw	r0, #:lower16:.LC1
 331 003c 000040E3 		movt	r0, #:upper16:.LC1
 332 0040 FEFFFFEB 		bl	RME_Str_Print
 124:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>20)&0xF);
 333              		.loc 1 124 5
 334 0044 08301BE5 		ldr	r3, [fp, #-8]
 335 0048 233AA0E1 		lsr	r3, r3, #20
 336 004c 0F3003E2 		and	r3, r3, #15
 337 0050 0300A0E1 		mov	r0, r3
 338 0054 FEFFFFEB 		bl	RME_Int_Print
 125:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Revision: ");
 339              		.loc 1 125 5
 340 0058 000000E3 		movw	r0, #:lower16:.LC2
 341 005c 000040E3 		movt	r0, #:upper16:.LC2
 342 0060 FEFFFFEB 		bl	RME_Str_Print
 126:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>12)&0xF);
 343              		.loc 1 126 5
 344 0064 08301BE5 		ldr	r3, [fp, #-8]
 345 0068 2336A0E1 		lsr	r3, r3, #12
 346 006c 0F3003E2 		and	r3, r3, #15
 347 0070 0300A0E1 		mov	r0, r3
 348 0074 FEFFFFEB 		bl	RME_Int_Print
 127:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Implementer: 0x");
 349              		.loc 1 127 5
 350 0078 000000E3 		movw	r0, #:lower16:.LC3
 351 007c 000040E3 		movt	r0, #:upper16:.LC3
 352 0080 FEFFFFEB 		bl	RME_Str_Print
 128:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Temp&0xFFF);
 353              		.loc 1 128 5
 354 0084 08301BE5 		ldr	r3, [fp, #-8]
 355 0088 5330EBE7 		ubfx	r3, r3, #0, #12
 356 008c 0300A0E1 		mov	r0, r3
 357 0090 FEFFFFEB 		bl	RME_Hex_Print
 129:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 130:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* How many locked SPIs, security extension enabled or not, number of
 131:../../Source/Platform/A7A/rme_platform_a7a.c ****      * actual CPUs and interrupt lines */
 132:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_TYPER;
 358              		.loc 1 132 10
 359 0094 043001E3 		movw	r3, #4100
 360 0098 F0384FE3 		movt	r3, 63728
 361              		.loc 1 132 9
 362 009c 003093E5 		ldr	r3, [r3]
 363 00a0 08300BE5 		str	r3, [fp, #-8]
 133:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 10


 364              		.loc 1 133 5
 365 00a4 000000E3 		movw	r0, #:lower16:.LC4
 366 00a8 000040E3 		movt	r0, #:upper16:.LC4
 367 00ac FEFFFFEB 		bl	RME_Str_Print
 134:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 368              		.loc 1 134 5
 369 00b0 08301BE5 		ldr	r3, [fp, #-8]
 370 00b4 2338A0E1 		lsr	r3, r3, #16
 371 00b8 0300A0E1 		mov	r0, r3
 372 00bc FEFFFFEB 		bl	RME_Int_Print
 135:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Security extension: ");
 373              		.loc 1 135 5
 374 00c0 000000E3 		movw	r0, #:lower16:.LC5
 375 00c4 000040E3 		movt	r0, #:upper16:.LC5
 376 00c8 FEFFFFEB 		bl	RME_Str_Print
 136:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>10)&0x1);
 377              		.loc 1 136 5
 378 00cc 08301BE5 		ldr	r3, [fp, #-8]
 379 00d0 2335A0E1 		lsr	r3, r3, #10
 380 00d4 013003E2 		and	r3, r3, #1
 381 00d8 0300A0E1 		mov	r0, r3
 382 00dc FEFFFFEB 		bl	RME_Int_Print
 137:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: CPU number: ");
 383              		.loc 1 137 5
 384 00e0 000000E3 		movw	r0, #:lower16:.LC6
 385 00e4 000040E3 		movt	r0, #:upper16:.LC6
 386 00e8 FEFFFFEB 		bl	RME_Str_Print
 138:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(((Temp>>5)&0x7)+1);
 387              		.loc 1 138 5
 388 00ec 08301BE5 		ldr	r3, [fp, #-8]
 389 00f0 A332A0E1 		lsr	r3, r3, #5
 390 00f4 073003E2 		and	r3, r3, #7
 391 00f8 013083E2 		add	r3, r3, #1
 392 00fc 0300A0E1 		mov	r0, r3
 393 0100 FEFFFFEB 		bl	RME_Int_Print
 139:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 394              		.loc 1 139 5
 395 0104 000000E3 		movw	r0, #:lower16:.LC7
 396 0108 000040E3 		movt	r0, #:upper16:.LC7
 397 010c FEFFFFEB 		bl	RME_Str_Print
 140:../../Source/Platform/A7A/rme_platform_a7a.c ****     Lines=((Temp&0x1F)+1)*32;
 398              		.loc 1 140 17
 399 0110 08301BE5 		ldr	r3, [fp, #-8]
 400 0114 1F3003E2 		and	r3, r3, #31
 401              		.loc 1 140 23
 402 0118 013083E2 		add	r3, r3, #1
 403              		.loc 1 140 10
 404 011c 8332A0E1 		lsl	r3, r3, #5
 405 0120 0C300BE5 		str	r3, [fp, #-12]
 141:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 406              		.loc 1 141 5
 407 0124 0C301BE5 		ldr	r3, [fp, #-12]
 408 0128 0300A0E1 		mov	r0, r3
 409 012c FEFFFFEB 		bl	RME_Int_Print
 142:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 143:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 144:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 11


 145:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 0, and disable all */
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/32;Temp++)
 410              		.loc 1 146 10
 411 0130 0030A0E3 		mov	r3, #0
 412 0134 08300BE5 		str	r3, [fp, #-8]
 413              		.loc 1 146 2
 414 0138 1A0000EA 		b	.L7
 415              	.L8:
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 148:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 416              		.loc 1 148 3
 417 013c 08201BE5 		ldr	r2, [fp, #-8]
 418 0140 4A3EA0E3 		mov	r3, #1184
 419 0144 3C3E43E3 		movt	r3, 15932
 420 0148 033082E0 		add	r3, r2, r3
 421 014c 0331A0E1 		lsl	r3, r3, #2
 422 0150 0320A0E1 		mov	r2, r3
 423              		.loc 1 148 29
 424 0154 0030E0E3 		mvn	r3, #0
 425 0158 003082E5 		str	r3, [r2]
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 426              		.loc 1 149 3
 427 015c 08201BE5 		ldr	r2, [fp, #-8]
 428 0160 423EA0E3 		mov	r3, #1056
 429 0164 3C3E43E3 		movt	r3, 15932
 430 0168 033082E0 		add	r3, r2, r3
 431 016c 0331A0E1 		lsl	r3, r3, #2
 432 0170 0320A0E1 		mov	r2, r3
 433              		.loc 1 149 29
 434 0174 0030A0E3 		mov	r3, #0
 435 0178 003082E5 		str	r3, [r2]
 150:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 436              		.loc 1 150 3
 437 017c 08201BE5 		ldr	r2, [fp, #-8]
 438 0180 463EA0E3 		mov	r3, #1120
 439 0184 3C3E43E3 		movt	r3, 15932
 440 0188 033082E0 		add	r3, r2, r3
 441 018c 0331A0E1 		lsl	r3, r3, #2
 442 0190 0320A0E1 		mov	r2, r3
 443              		.loc 1 150 31
 444 0194 0030E0E3 		mvn	r3, #0
 445 0198 003082E5 		str	r3, [r2]
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 446              		.loc 1 146 31 discriminator 3
 447 019c 08301BE5 		ldr	r3, [fp, #-8]
 448 01a0 013083E2 		add	r3, r3, #1
 449 01a4 08300BE5 		str	r3, [fp, #-8]
 450              	.L7:
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 451              		.loc 1 146 23 discriminator 1
 452 01a8 0C301BE5 		ldr	r3, [fp, #-12]
 453 01ac A332A0E1 		lsr	r3, r3, #5
 146:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 454              		.loc 1 146 17 discriminator 1
 455 01b0 08201BE5 		ldr	r2, [fp, #-8]
 456 01b4 030052E1 		cmp	r2, r3
 457 01b8 DFFFFF3A 		bcc	.L8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 12


 151:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 152:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 153:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Set the priority of all such interrupts to the lowest level */
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/4;Temp++)
 458              		.loc 1 154 10
 459 01bc 0030A0E3 		mov	r3, #0
 460 01c0 08300BE5 		str	r3, [fp, #-8]
 461              		.loc 1 154 2
 462 01c4 0B0000EA 		b	.L9
 463              	.L10:
 155:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 464              		.loc 1 155 3
 465 01c8 08201BE5 		ldr	r2, [fp, #-8]
 466 01cc 053CA0E3 		mov	r3, #1280
 467 01d0 3C3E43E3 		movt	r3, 15932
 468 01d4 033082E0 		add	r3, r2, r3
 469 01d8 0331A0E1 		lsl	r3, r3, #2
 470 01dc 0320A0E1 		mov	r2, r3
 471              		.loc 1 155 32
 472 01e0 A0300AE3 		movw	r3, #41120
 473 01e4 A0304AE3 		movt	r3, 41120
 474 01e8 003082E5 		str	r3, [r2]
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 475              		.loc 1 154 30 discriminator 3
 476 01ec 08301BE5 		ldr	r3, [fp, #-8]
 477 01f0 013083E2 		add	r3, r3, #1
 478 01f4 08300BE5 		str	r3, [fp, #-8]
 479              	.L9:
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 480              		.loc 1 154 23 discriminator 1
 481 01f8 0C301BE5 		ldr	r3, [fp, #-12]
 482 01fc 2331A0E1 		lsr	r3, r3, #2
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 483              		.loc 1 154 17 discriminator 1
 484 0200 08201BE5 		ldr	r2, [fp, #-8]
 485 0204 030052E1 		cmp	r2, r3
 486 0208 EEFFFF3A 		bcc	.L10
 156:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts target CPU0 */
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=8;Temp<Lines/4;Temp++)
 487              		.loc 1 158 10
 488 020c 0830A0E3 		mov	r3, #8
 489 0210 08300BE5 		str	r3, [fp, #-8]
 490              		.loc 1 158 2
 491 0214 0B0000EA 		b	.L11
 492              	.L12:
 159:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 493              		.loc 1 159 3
 494 0218 08201BE5 		ldr	r2, [fp, #-8]
 495 021c 063CA0E3 		mov	r3, #1536
 496 0220 3C3E43E3 		movt	r3, 15932
 497 0224 033082E0 		add	r3, r2, r3
 498 0228 0331A0E1 		lsl	r3, r3, #2
 499 022c 0320A0E1 		mov	r2, r3
 500              		.loc 1 159 31
 501 0230 013100E3 		movw	r3, #257
 502 0234 013140E3 		movt	r3, 257
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 13


 503 0238 003082E5 		str	r3, [r2]
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 504              		.loc 1 158 30 discriminator 3
 505 023c 08301BE5 		ldr	r3, [fp, #-8]
 506 0240 013083E2 		add	r3, r3, #1
 507 0244 08300BE5 		str	r3, [fp, #-8]
 508              	.L11:
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 509              		.loc 1 158 23 discriminator 1
 510 0248 0C301BE5 		ldr	r3, [fp, #-12]
 511 024c 2331A0E1 		lsr	r3, r3, #2
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 512              		.loc 1 158 17 discriminator 1
 513 0250 08201BE5 		ldr	r2, [fp, #-8]
 514 0254 030052E1 		cmp	r2, r3
 515 0258 EEFFFF3A 		bcc	.L12
 160:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts are edge triggered, and use 1-N model */
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/16;Temp++)
 516              		.loc 1 162 10
 517 025c 0030A0E3 		mov	r3, #0
 518 0260 08300BE5 		str	r3, [fp, #-8]
 519              		.loc 1 162 2
 520 0264 0B0000EA 		b	.L13
 521              	.L14:
 163:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 522              		.loc 1 163 3
 523 0268 08201BE5 		ldr	r2, [fp, #-8]
 524 026c 073CA0E3 		mov	r3, #1792
 525 0270 3C3E43E3 		movt	r3, 15932
 526 0274 033082E0 		add	r3, r2, r3
 527 0278 0331A0E1 		lsl	r3, r3, #2
 528 027c 0320A0E1 		mov	r2, r3
 529              		.loc 1 163 27
 530 0280 553505E3 		movw	r3, #21845
 531 0284 553545E3 		movt	r3, 21845
 532 0288 003082E5 		str	r3, [r2]
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 533              		.loc 1 162 31 discriminator 3
 534 028c 08301BE5 		ldr	r3, [fp, #-8]
 535 0290 013083E2 		add	r3, r3, #1
 536 0294 08300BE5 		str	r3, [fp, #-8]
 537              	.L13:
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 538              		.loc 1 162 23 discriminator 1
 539 0298 0C301BE5 		ldr	r3, [fp, #-12]
 540 029c 2332A0E1 		lsr	r3, r3, #4
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 541              		.loc 1 162 17 discriminator 1
 542 02a0 08201BE5 		ldr	r2, [fp, #-8]
 543 02a4 030052E1 		cmp	r2, r3
 544 02a8 EEFFFF3A 		bcc	.L14
 164:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable the interrupt controller */
 166:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 545              		.loc 1 166 2
 546 02ac 013AA0E3 		mov	r3, #4096
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 14


 547 02b0 F0384FE3 		movt	r3, 63728
 548              		.loc 1 166 19
 549 02b4 0320A0E3 		mov	r2, #3
 550 02b8 002083E5 		str	r2, [r3]
 167:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 168:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 1, unless otherwise noted, and disable all */
 169:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/32;Temp++)
 170:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 171:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 172:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_IGROUPR(Temp)=0xFFFFFFFFU;
 173:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 174:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 175:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 176:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the priority of all such interrupts to the lowest level*/
 177:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/4;Temp++)
 178:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xE0E0E0E0U;
 179:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 180:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts target CPU0 */
 181:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=8;Temp<Lines/4;Temp++)
 182:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 183:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 184:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts are edge triggered, and use 1-N model */
 185:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/16;Temp++)
 186:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICFGR(Temp)=0xFFFFFFFFU;
 187:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 188:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the interrupt controller */
 189:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 190:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 191:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 551              		.loc 1 191 1
 552 02bc 00F020E3 		nop
 553 02c0 04D04BE2 		sub	sp, fp, #4
 554              		.cfi_def_cfa 13, 8
 555              		@ sp needed
 556 02c4 0088BDE8 		pop	{fp, pc}
 557              		.cfi_endproc
 558              	.LFE2:
 560              		.section	.text.__RME_A7A_Int_Local_Init,"ax",%progbits
 561              		.align	2
 562              		.global	__RME_A7A_Int_Local_Init
 563              		.syntax unified
 564              		.arm
 566              	__RME_A7A_Int_Local_Init:
 567              	.LFB3:
 192:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Init ******************************************/
 193:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 194:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Local_Init *****************************************
 195:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the local CPU interface of the processor.
 196:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 197:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 198:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 199:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 200:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Local_Init(void)
 201:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 568              		.loc 1 201 1
 569              		.cfi_startproc
 570              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 15


 571              		@ frame_needed = 1, uses_anonymous_args = 0
 572              		@ link register save eliminated.
 573 0000 04B02DE5 		str	fp, [sp, #-4]!
 574              		.cfi_def_cfa_offset 4
 575              		.cfi_offset 11, -4
 576 0004 00B08DE2 		add	fp, sp, #0
 577              		.cfi_def_cfa_register 11
 202:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Priority grouping */
 203:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_BPR=RME_A7A_GIC_GROUPING;
 578              		.loc 1 203 2
 579 0008 413FA0E3 		mov	r3, #260
 580 000c F0384FE3 		movt	r3, 63728
 581              		.loc 1 203 18
 582 0010 0020A0E3 		mov	r2, #0
 583 0014 002083E5 		str	r2, [r3]
 204:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 205:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable all interrupts to this interface - FIQ is bypassed, and all
 207:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * interrupts go through the IRQ. The FIQ feature is only available on
 208:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * the standalone FIQ interrupt line */
 209:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_ENABLEGRP0;
 584              		.loc 1 209 2
 585 0018 013CA0E3 		mov	r3, #256
 586 001c F0384FE3 		movt	r3, 63728
 587              		.loc 1 209 19
 588 0020 0120A0E3 		mov	r2, #1
 589 0024 002083E5 		str	r2, [r3]
 210:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 211:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_CBPR|RME_A7A_GICC_FIQEN|
 212:../../Source/Platform/A7A/rme_platform_a7a.c **** 			           RME_A7A_GICC_ENABLEGRP1|RME_A7A_GICC_ENABLEGRP0;
 213:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 214:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 215:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* No interrupts are masked - This must be set at last because enabling
 216:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * will trash the contents of this register if previously set. To maintain
 217:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * compatibility across all possible implementations, no priority level
 218:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * lower than 0xF0 will be considered valid */
 219:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_PMR=0xF0U;
 590              		.loc 1 219 2
 591 0028 413FA0E3 		mov	r3, #260
 592 002c F0384FE3 		movt	r3, 63728
 593              		.loc 1 219 18
 594 0030 F020A0E3 		mov	r2, #240
 595 0034 002083E5 		str	r2, [r3]
 220:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 596              		.loc 1 220 1
 597 0038 00F020E3 		nop
 598 003c 00D08BE2 		add	sp, fp, #0
 599              		.cfi_def_cfa_register 13
 600              		@ sp needed
 601 0040 04B09DE4 		ldr	fp, [sp], #4
 602              		.cfi_restore 11
 603              		.cfi_def_cfa_offset 0
 604 0044 1EFF2FE1 		bx	lr
 605              		.cfi_endproc
 606              	.LFE3:
 608              		.section	.text.__RME_A7A_Timer_Init,"ax",%progbits
 609              		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 16


 610              		.syntax unified
 611              		.arm
 613              	__RME_A7A_Timer_Init:
 614              	.LFB4:
 221:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Local_Init ************************************/
 222:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 223:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Timer_Init *********************************************
 224:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 225:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 226:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 227:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 228:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 229:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 230:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 231:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Timer_Init(void)
 232:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 615              		.loc 1 232 1
 616              		.cfi_startproc
 617              		@ args = 0, pretend = 0, frame = 0
 618              		@ frame_needed = 1, uses_anonymous_args = 0
 619              		@ link register save eliminated.
 620 0000 04B02DE5 		str	fp, [sp, #-4]!
 621              		.cfi_def_cfa_offset 4
 622              		.cfi_offset 11, -4
 623 0004 00B08DE2 		add	fp, sp, #0
 624              		.cfi_def_cfa_register 11
 233:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 234:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 235:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Writing this will also write the counter register as well */
 236:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTLR=RME_A7A_SYSTICK_VAL;
 625              		.loc 1 236 5
 626 0008 063CA0E3 		mov	r3, #1536
 627 000c F0384FE3 		movt	r3, 63728
 628              		.loc 1 236 22
 629 0010 782408E3 		movw	r2, #33912
 630 0014 3A2040E3 		movt	r2, 58
 631 0018 002083E5 		str	r2, [r3]
 237:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 238:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTISR=0;
 632              		.loc 1 238 5
 633 001c 0C3600E3 		movw	r3, #1548
 634 0020 F0384FE3 		movt	r3, 63728
 635              		.loc 1 238 23
 636 0024 0020A0E3 		mov	r2, #0
 637 0028 002083E5 		str	r2, [r3]
 239:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 240:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTCTLR=RME_A7A_PTWD_PTCTLR_PRESC(0)|
 638              		.loc 1 240 5
 639 002c 083600E3 		movw	r3, #1544
 640 0030 F0384FE3 		movt	r3, 63728
 641              		.loc 1 240 24
 642 0034 0720A0E3 		mov	r2, #7
 643 0038 002083E5 		str	r2, [r3]
 241:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 242:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_AUTOREL|
 243:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_TIMEN;
 244:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 17


 245:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the timer interrupt in the GIC */
 246:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_ISENABLER(0)|=1<<29;
 644              		.loc 1 246 5
 645 003c 113CA0E3 		mov	r3, #4352
 646 0040 F0384FE3 		movt	r3, 63728
 647 0044 002093E5 		ldr	r2, [r3]
 648 0048 113CA0E3 		mov	r3, #4352
 649 004c F0384FE3 		movt	r3, 63728
 650              		.loc 1 246 30
 651 0050 022282E3 		orr	r2, r2, #536870912
 652 0054 002083E5 		str	r2, [r3]
 247:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 248:../../Source/Platform/A7A/rme_platform_a7a.c **** 	#error Cortex-A7/8/15/17 is not supported at the moment.
 249:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cortex-A7/15/17 use the new generic timer, and Cortex-A8 does not
 250:../../Source/Platform/A7A/rme_platform_a7a.c **** 	have a processor timer due to very early release dates.
 251:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 252:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 653              		.loc 1 252 1
 654 0058 00F020E3 		nop
 655 005c 00D08BE2 		add	sp, fp, #0
 656              		.cfi_def_cfa_register 13
 657              		@ sp needed
 658 0060 04B09DE4 		ldr	fp, [sp], #4
 659              		.cfi_restore 11
 660              		.cfi_def_cfa_offset 0
 661 0064 1EFF2FE1 		bx	lr
 662              		.cfi_endproc
 663              	.LFE4:
 665              		.section	.text.__RME_A7A_Feature_Get,"ax",%progbits
 666              		.align	2
 667              		.global	__RME_A7A_Feature_Get
 668              		.syntax unified
 669              		.arm
 671              	__RME_A7A_Feature_Get:
 672              	.LFB5:
 253:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Timer_Init ****************************************/
 254:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 255:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Feature_Get ********************************************
 256:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Use the CPUID instruction extensively to get all the processor
 257:../../Source/Platform/A7A/rme_platform_a7a.c ****               information. We assume that all processors installed have the same
 258:../../Source/Platform/A7A/rme_platform_a7a.c ****               features.
 259:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 260:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 261:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 262:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 263:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Feature_Get(void)
 264:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 673              		.loc 1 264 1
 674              		.cfi_startproc
 675              		@ args = 0, pretend = 0, frame = 0
 676              		@ frame_needed = 1, uses_anonymous_args = 0
 677              		@ link register save eliminated.
 678 0000 04B02DE5 		str	fp, [sp, #-4]!
 679              		.cfi_def_cfa_offset 4
 680              		.cfi_offset 11, -4
 681 0004 00B08DE2 		add	fp, sp, #0
 682              		.cfi_def_cfa_register 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 18


 265:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 266:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* TODO: Check these flags. If not satisfied, we hang immediately. */
 267:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 683              		.loc 1 267 1
 684 0008 00F020E3 		nop
 685 000c 00D08BE2 		add	sp, fp, #0
 686              		.cfi_def_cfa_register 13
 687              		@ sp needed
 688 0010 04B09DE4 		ldr	fp, [sp], #4
 689              		.cfi_restore 11
 690              		.cfi_def_cfa_offset 0
 691 0014 1EFF2FE1 		bx	lr
 692              		.cfi_endproc
 693              	.LFE5:
 695              		.section	.text.__RME_A7A_Mem_Init,"ax",%progbits
 696              		.align	2
 697              		.global	__RME_A7A_Mem_Init
 698              		.syntax unified
 699              		.arm
 701              	__RME_A7A_Mem_Init:
 702              	.LFB6:
 268:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Feature_Get ***************************************/
 269:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 270:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Mem_Init ***********************************************
 271:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the memory map, and get the size of kernel object
 272:../../Source/Platform/A7A/rme_platform_a7a.c ****               allocation registration table(Kot) and page table reference
 273:../../Source/Platform/A7A/rme_platform_a7a.c ****               count registration table(Pgreg).
 274:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t MMap_Addr - The GRUB multiboot memory map data address.
 275:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t MMap_Length - The GRUB multiboot memory map data length.
 276:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 277:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 278:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 279:../../Source/Platform/A7A/rme_platform_a7a.c **** const rme_ptr_t RME_A7A_Mem_Info[RME_A7A_MEM_ENTRIES]={RME_A7A_MEM_CONTENTS};
 280:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Mem_Init(rme_ptr_t MMap_Addr, rme_ptr_t MMap_Length)
 281:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 703              		.loc 1 281 1
 704              		.cfi_startproc
 705              		@ args = 0, pretend = 0, frame = 8
 706              		@ frame_needed = 1, uses_anonymous_args = 0
 707              		@ link register save eliminated.
 708 0000 04B02DE5 		str	fp, [sp, #-4]!
 709              		.cfi_def_cfa_offset 4
 710              		.cfi_offset 11, -4
 711 0004 00B08DE2 		add	fp, sp, #0
 712              		.cfi_def_cfa_register 11
 713 0008 0CD04DE2 		sub	sp, sp, #12
 714 000c 08000BE5 		str	r0, [fp, #-8]
 715 0010 0C100BE5 		str	r1, [fp, #-12]
 282:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 283:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 716              		.loc 1 283 1
 717 0014 00F020E3 		nop
 718 0018 00D08BE2 		add	sp, fp, #0
 719              		.cfi_def_cfa_register 13
 720              		@ sp needed
 721 001c 04B09DE4 		ldr	fp, [sp], #4
 722              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 19


 723              		.cfi_def_cfa_offset 0
 724 0020 1EFF2FE1 		bx	lr
 725              		.cfi_endproc
 726              	.LFE6:
 728              		.section	.text.__RME_A7A_SMP_Init,"ax",%progbits
 729              		.align	2
 730              		.global	__RME_A7A_SMP_Init
 731              		.syntax unified
 732              		.arm
 734              	__RME_A7A_SMP_Init:
 735              	.LFB7:
 284:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Mem_Init ******************************************/
 285:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 286:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Init ***********************************************
 287:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Start all other processors, one by one.
 288:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 289:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 290:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 291:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 292:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Init(void)
 293:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 736              		.loc 1 293 1
 737              		.cfi_startproc
 738              		@ args = 0, pretend = 0, frame = 0
 739              		@ frame_needed = 1, uses_anonymous_args = 0
 740              		@ link register save eliminated.
 741 0000 04B02DE5 		str	fp, [sp, #-4]!
 742              		.cfi_def_cfa_offset 4
 743              		.cfi_offset 11, -4
 744 0004 00B08DE2 		add	fp, sp, #0
 745              		.cfi_def_cfa_register 11
 294:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 295:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 746              		.loc 1 295 1
 747 0008 00F020E3 		nop
 748 000c 00D08BE2 		add	sp, fp, #0
 749              		.cfi_def_cfa_register 13
 750              		@ sp needed
 751 0010 04B09DE4 		ldr	fp, [sp], #4
 752              		.cfi_restore 11
 753              		.cfi_def_cfa_offset 0
 754 0014 1EFF2FE1 		bx	lr
 755              		.cfi_endproc
 756              	.LFE7:
 758              		.section	.text.__RME_A7A_SMP_Tick,"ax",%progbits
 759              		.align	2
 760              		.global	__RME_A7A_SMP_Tick
 761              		.syntax unified
 762              		.arm
 764              	__RME_A7A_SMP_Tick:
 765              	.LFB8:
 296:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Init ******************************************/
 297:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 298:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Tick ***********************************************
 299:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Send IPI to all other cores,to run their handler on the time.
 300:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 301:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 20


 302:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 303:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 304:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Tick(void)
 305:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 766              		.loc 1 305 1
 767              		.cfi_startproc
 768              		@ args = 0, pretend = 0, frame = 0
 769              		@ frame_needed = 1, uses_anonymous_args = 0
 770              		@ link register save eliminated.
 771 0000 04B02DE5 		str	fp, [sp, #-4]!
 772              		.cfi_def_cfa_offset 4
 773              		.cfi_offset 11, -4
 774 0004 00B08DE2 		add	fp, sp, #0
 775              		.cfi_def_cfa_register 11
 306:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 307:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 776              		.loc 1 307 1
 777 0008 00F020E3 		nop
 778 000c 00D08BE2 		add	sp, fp, #0
 779              		.cfi_def_cfa_register 13
 780              		@ sp needed
 781 0010 04B09DE4 		ldr	fp, [sp], #4
 782              		.cfi_restore 11
 783              		.cfi_def_cfa_offset 0
 784 0014 1EFF2FE1 		bx	lr
 785              		.cfi_endproc
 786              	.LFE8:
 788              		.section	.rodata
 789 00d7 00       		.align	2
 790              	.LC8:
 791 00d8 0D0A4137 		.ascii	"\015\012A7A-Vector: 0x\000"
 791      412D5665 
 791      63746F72 
 791      3A203078 
 791      00
 792 00e9 000000   		.align	2
 793              	.LC9:
 794 00ec 0D0A4137 		.ascii	"\015\012A7A-Non-Secure: \000"
 794      412D4E6F 
 794      6E2D5365 
 794      63757265 
 794      3A2000
 795              		.section	.text.__RME_Lowlvl_Init,"ax",%progbits
 796              		.align	2
 797              		.global	__RME_Lowlvl_Init
 798              		.syntax unified
 799              		.arm
 801              	__RME_Lowlvl_Init:
 802              	.LFB9:
 308:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Tick *******************************************/
 309:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 310:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Lowlvl_Init **********************************************
 311:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the low-level hardware. This assumes that we are already
 312:../../Source/Platform/A7A/rme_platform_a7a.c ****               in Supervisor (SVC) mode.
 313:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 314:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 315:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 21


 316:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 317:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Lowlvl_Init(void)
 318:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 803              		.loc 1 318 1
 804              		.cfi_startproc
 805              		@ args = 0, pretend = 0, frame = 0
 806              		@ frame_needed = 1, uses_anonymous_args = 0
 807 0000 00482DE9 		push	{fp, lr}
 808              		.cfi_def_cfa_offset 8
 809              		.cfi_offset 11, -8
 810              		.cfi_offset 14, -4
 811 0004 04B08DE2 		add	fp, sp, #4
 812              		.cfi_def_cfa 11, 4
 319:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 320:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_LOW_LEVEL_INIT();
 321:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 322:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local data structure */
 323:../../Source/Platform/A7A/rme_platform_a7a.c ****     _RME_CPU_Local_Init(&RME_A7A_Local,0);
 813              		.loc 1 323 5
 814 0008 0010A0E3 		mov	r1, #0
 815 000c 000000E3 		movw	r0, #:lower16:RME_A7A_Local
 816 0010 000040E3 		movt	r0, #:upper16:RME_A7A_Local
 817 0014 FEFFFFEB 		bl	_RME_CPU_Local_Init
 324:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 325:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the interrupt controller */
 326:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_Int_Init();
 818              		.loc 1 326 5
 819 0018 FEFFFFEB 		bl	__RME_A7A_Int_Init
 327:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 328:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize CPU-local interrupt resources */
 329:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Int_Local_Init();
 820              		.loc 1 329 2
 821 001c FEFFFFEB 		bl	__RME_A7A_Int_Local_Init
 330:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 331:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the vector table */
 332:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Vector: 0x");
 822              		.loc 1 332 5
 823 0020 000000E3 		movw	r0, #:lower16:.LC8
 824 0024 000040E3 		movt	r0, #:upper16:.LC8
 825 0028 FEFFFFEB 		bl	RME_Str_Print
 333:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H((rme_ptr_t)&__RME_A7A_Vector_Table);
 826              		.loc 1 333 5
 827 002c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 828 0030 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 829 0034 0300A0E1 		mov	r0, r3
 830 0038 FEFFFFEB 		bl	RME_Hex_Print
 334:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_VBAR_Set((rme_ptr_t)&__RME_A7A_Vector_Table);
 831              		.loc 1 334 5
 832 003c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 833 0040 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 834 0044 0300A0E1 		mov	r0, r3
 835 0048 FEFFFFEB 		bl	__RME_A7A_VBAR_Set
 335:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 336:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Non-Secure: ");
 836              		.loc 1 336 5
 837 004c 000000E3 		movw	r0, #:lower16:.LC9
 838 0050 000040E3 		movt	r0, #:upper16:.LC9
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 22


 839 0054 FEFFFFEB 		bl	RME_Str_Print
 337:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(__RME_A7A_SCR_Get());
 840              		.loc 1 337 5
 841 0058 FEFFFFEB 		bl	__RME_A7A_SCR_Get
 842 005c 0030A0E1 		mov	r3, r0
 843              		.loc 1 337 5 is_stmt 0 discriminator 1
 844 0060 0300A0E1 		mov	r0, r3
 845 0064 FEFFFFEB 		bl	RME_Hex_Print
 338:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 846              		.loc 1 338 1 is_stmt 1
 847 0068 00F020E3 		nop
 848 006c 0088BDE8 		pop	{fp, pc}
 849              		.cfi_endproc
 850              	.LFE9:
 852              		.section	.text.__RME_Pgt_Kom_Init,"ax",%progbits
 853              		.align	2
 854              		.global	__RME_Pgt_Kom_Init
 855              		.syntax unified
 856              		.arm
 858              	__RME_Pgt_Kom_Init:
 859              	.LFB10:
 339:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Lowlvl_Init *****************************************/
 340:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 341:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Kom_Init *********************************************
 342:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the kernel mapping tables, so it can be added to all the
 343:../../Source/Platform/A7A/rme_platform_a7a.c ****               top-level page tables. Currently this have no consideration for >1TB
 344:../../Source/Platform/A7A/rme_platform_a7a.c ****               RAM, and is not NUMA-aware.
 345:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 346:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 347:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 348:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 349:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Kom_Init(void)
 350:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 860              		.loc 1 350 1
 861              		.cfi_startproc
 862              		@ args = 0, pretend = 0, frame = 0
 863              		@ frame_needed = 1, uses_anonymous_args = 0
 864              		@ link register save eliminated.
 865 0000 04B02DE5 		str	fp, [sp, #-4]!
 866              		.cfi_def_cfa_offset 4
 867              		.cfi_offset 11, -4
 868 0004 00B08DE2 		add	fp, sp, #0
 869              		.cfi_def_cfa_register 11
 351:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Use initial page table here instead for kernel, which is sufficient */
 352:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 353:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 870              		.loc 1 353 12
 871 0008 0030A0E3 		mov	r3, #0
 354:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 872              		.loc 1 354 1
 873 000c 0300A0E1 		mov	r0, r3
 874 0010 00D08BE2 		add	sp, fp, #0
 875              		.cfi_def_cfa_register 13
 876              		@ sp needed
 877 0014 04B09DE4 		ldr	fp, [sp], #4
 878              		.cfi_restore 11
 879              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 23


 880 0018 1EFF2FE1 		bx	lr
 881              		.cfi_endproc
 882              	.LFE10:
 884              		.section	.text.__RME_SMP_Low_Level_Init,"ax",%progbits
 885              		.align	2
 886              		.global	__RME_SMP_Low_Level_Init
 887              		.syntax unified
 888              		.arm
 890              	__RME_SMP_Low_Level_Init:
 891              	.LFB11:
 355:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Kom_Init ****************************************/
 356:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 357:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_SMP_Low_Level_Init ******************************************
 358:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Low-level initialization for all other cores.
 359:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 360:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 361:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 362:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 363:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_SMP_Low_Level_Init(void)
 364:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 892              		.loc 1 364 1
 893              		.cfi_startproc
 894              		@ args = 0, pretend = 0, frame = 0
 895              		@ frame_needed = 1, uses_anonymous_args = 0
 896              		@ link register save eliminated.
 897 0000 04B02DE5 		str	fp, [sp, #-4]!
 898              		.cfi_def_cfa_offset 4
 899              		.cfi_offset 11, -4
 900 0004 00B08DE2 		add	fp, sp, #0
 901              		.cfi_def_cfa_register 11
 365:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 366:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_SMP_LOW_LEVEL_INIT();
 367:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local variables */
 368:../../Source/Platform/A7A/rme_platform_a7a.c ****    // _RME_CPU_Local_Init(&RME_A7A_Local[RME_A7A_CPU_Cnt],RME_A7A_CPU_Cnt);
 369:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 902              		.loc 1 369 12
 903 0008 0030A0E3 		mov	r3, #0
 370:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 904              		.loc 1 370 1
 905 000c 0300A0E1 		mov	r0, r3
 906 0010 00D08BE2 		add	sp, fp, #0
 907              		.cfi_def_cfa_register 13
 908              		@ sp needed
 909 0014 04B09DE4 		ldr	fp, [sp], #4
 910              		.cfi_restore 11
 911              		.cfi_def_cfa_offset 0
 912 0018 1EFF2FE1 		bx	lr
 913              		.cfi_endproc
 914              	.LFE11:
 916              		.section	.rodata
 917 00ff 00       		.align	2
 918              	.LC10:
 919 0100 0D0A6375 		.ascii	"\015\012cur addr= \000"
 919      72206164 
 919      64723D20 
 919      00
 920 010d 000000   		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 24


 921              	.LC11:
 922 0110 0D0A7374 		.ascii	"\015\012start rme boot\000"
 922      61727420 
 922      726D6520 
 922      626F6F74 
 922      00
 923 0121 000000   		.align	2
 924              	.LC12:
 925 0124 0D0A7374 		.ascii	"\015\012start cpt creation\000"
 925      61727420 
 925      63707420 
 925      63726561 
 925      74696F6E 
 926 0139 000000   		.align	2
 927              	.LC13:
 928 013c 32333A35 		.ascii	"23:58:24\000"
 928      383A3234 
 928      00
 929 0145 000000   		.align	2
 930              	.LC14:
 931 0148 4D617220 		.ascii	"Mar  6 2025\000"
 931      20362032 
 931      30323500 
 932              		.align	2
 933              	.LC15:
 934 0154 2E2E2F2E 		.ascii	"../../Source/Platform/A7A/rme_platform_a7a.c\000"
 934      2E2F536F 
 934      75726365 
 934      2F506C61 
 934      74666F72 
 935 0181 000000   		.align	2
 936              	.LC16:
 937 0184 0D0A7374 		.ascii	"\015\012start pgt creation.\000"
 937      61727420 
 937      70677420 
 937      63726561 
 937      74696F6E 
 938 019a 0000     		.align	2
 939              	.LC17:
 940 019c 0D0A7374 		.ascii	"\015\012start prc creation.\000"
 940      61727420 
 940      70726320 
 940      63726561 
 940      74696F6E 
 941 01b2 0000     		.align	2
 942              	.LC18:
 943 01b4 0D0A7374 		.ascii	"\015\012start kfn/kom creation.\000"
 943      61727420 
 943      6B666E2F 
 943      6B6F6D20 
 943      63726561 
 944 01ce 0000     		.align	2
 945              	.LC19:
 946 01d0 0D0A4372 		.ascii	"\015\012Create the initial kernel endpoint for time"
 946      65617465 
 946      20746865 
 946      20696E69 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 25


 946      7469616C 
 947 01fd 72207469 		.ascii	"r ticks and interrupts\000"
 947      636B7320 
 947      616E6420 
 947      696E7465 
 947      72727570 
 948              		.align	2
 949              	.LC20:
 950 0214 0D0A656E 		.ascii	"\015\012enable interrupts\000"
 950      61626C65 
 950      20696E74 
 950      65727275 
 950      70747300 
 951              		.section	.text.__RME_Boot,"ax",%progbits
 952              		.align	2
 953              		.global	__RME_Boot
 954              		.syntax unified
 955              		.arm
 957              	__RME_Boot:
 958              	.LFB12:
 371:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_SMP_Low_Level_Init *************************************/
 372:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 373:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Boot ********************************************************
 374:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Boot the first process in the system.
 375:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 376:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 377:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 378:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 379:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Boot(void)
 380:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 959              		.loc 1 380 1
 960              		.cfi_startproc
 961              		@ args = 0, pretend = 0, frame = 8
 962              		@ frame_needed = 1, uses_anonymous_args = 0
 963 0000 00482DE9 		push	{fp, lr}
 964              		.cfi_def_cfa_offset 8
 965              		.cfi_offset 11, -8
 966              		.cfi_offset 14, -4
 967 0004 04B08DE2 		add	fp, sp, #4
 968              		.cfi_def_cfa 11, 4
 969 0008 18D04DE2 		sub	sp, sp, #24
 381:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Count;
 382:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Cur_Addr;
 383:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr=RME_KOM_VA_BASE;
 970              		.loc 1 383 13
 971 000c 8134A0E3 		mov	r3, #-2130706432
 972 0010 0C300BE5 		str	r3, [fp, #-12]
 384:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\ncur addr= ");
 973              		.loc 1 384 5
 974 0014 000000E3 		movw	r0, #:lower16:.LC10
 975 0018 000040E3 		movt	r0, #:upper16:.LC10
 976 001c FEFFFFEB 		bl	RME_Str_Print
 385:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 977              		.loc 1 385 5
 978 0020 0C001BE5 		ldr	r0, [fp, #-12]
 979 0024 FEFFFFEB 		bl	RME_Hex_Print
 386:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart rme boot");
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 26


 980              		.loc 1 386 5
 981 0028 000000E3 		movw	r0, #:lower16:.LC11
 982 002c 000040E3 		movt	r0, #:upper16:.LC11
 983 0030 FEFFFFEB 		bl	RME_Str_Print
 387:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 388:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the capability table for the init process */
 389:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart cpt creation");
 984              		.loc 1 389 5
 985 0034 000000E3 		movw	r0, #:lower16:.LC12
 986 0038 000040E3 		movt	r0, #:upper16:.LC12
 987 003c FEFFFFEB 		bl	RME_Str_Print
 390:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Cpt_Boot_Init(RME_BOOT_INIT_CPT,
 988              		.loc 1 390 5
 989 0040 8020A0E3 		mov	r2, #128
 990 0044 0C101BE5 		ldr	r1, [fp, #-12]
 991 0048 0000A0E3 		mov	r0, #0
 992 004c FEFFFFEB 		bl	_RME_Cpt_Boot_Init
 993 0050 0030A0E1 		mov	r3, r0
 994              		.loc 1 390 5 is_stmt 0 discriminator 1
 995 0054 000053E3 		cmp	r3, #0
 996 0058 0800000A 		beq	.L27
 997 005c 003000E3 		movw	r3, #:lower16:.LC13
 998 0060 003040E3 		movt	r3, #:upper16:.LC13
 999 0064 002000E3 		movw	r2, #:lower16:.LC14
 1000 0068 002040E3 		movt	r2, #:upper16:.LC14
 1001 006c 861100E3 		movw	r1, #390
 1002 0070 000000E3 		movw	r0, #:lower16:.LC15
 1003 0074 000040E3 		movt	r0, #:upper16:.LC15
 1004 0078 FEFFFFEB 		bl	RME_Log
 1005              	.L28:
 1006              		.loc 1 390 5
 1007 007c FEFFFFEA 		b	.L28
 1008              	.L27:
 391:../../Source/Platform/A7A/rme_platform_a7a.c ****                                   Cur_Addr,
 392:../../Source/Platform/A7A/rme_platform_a7a.c ****                                   RME_A7A_INIT_CPT_SIZE)==0);
 393:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_CPT_SIZE(RME_A7A_INIT_CPT_SIZE));
 1009              		.loc 1 393 13 is_stmt 1
 1010 0080 0C301BE5 		ldr	r3, [fp, #-12]
 1011 0084 013A83E2 		add	r3, r3, #4096
 1012 0088 0C300BE5 		str	r3, [fp, #-12]
 394:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\ncur addr= ");
 1013              		.loc 1 394 5
 1014 008c 000000E3 		movw	r0, #:lower16:.LC10
 1015 0090 000040E3 		movt	r0, #:upper16:.LC10
 1016 0094 FEFFFFEB 		bl	RME_Str_Print
 395:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1017              		.loc 1 395 5
 1018 0098 0C001BE5 		ldr	r0, [fp, #-12]
 1019 009c FEFFFFEB 		bl	RME_Hex_Print
 396:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The top-level page table - covers 1M address range - align to 16kB */
 397:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart pgt creation.");
 1020              		.loc 1 397 5
 1021 00a0 000000E3 		movw	r0, #:lower16:.LC16
 1022 00a4 000040E3 		movt	r0, #:upper16:.LC16
 1023 00a8 FEFFFFEB 		bl	RME_Str_Print
 398:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr=RME_ROUND_UP(Cur_Addr,14U);
 1024              		.loc 1 398 14
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 27


 1025 00ac 0C301BE5 		ldr	r3, [fp, #-12]
 1026 00b0 FF3D83E2 		add	r3, r3, #16320
 1027 00b4 3F3083E2 		add	r3, r3, #63
 1028              		.loc 1 398 13
 1029 00b8 FF3DC3E3 		bic	r3, r3, #16320
 1030 00bc 3F30C3E3 		bic	r3, r3, #63
 1031 00c0 0C300BE5 		str	r3, [fp, #-12]
 399:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\ncur addr= ");
 1032              		.loc 1 399 5
 1033 00c4 000000E3 		movw	r0, #:lower16:.LC10
 1034 00c8 000040E3 		movt	r0, #:upper16:.LC10
 1035 00cc FEFFFFEB 		bl	RME_Str_Print
 400:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1036              		.loc 1 400 5
 1037 00d0 0C001BE5 		ldr	r0, [fp, #-12]
 1038 00d4 FEFFFFEB 		bl	RME_Hex_Print
 401:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Pgt_Boot_Crt(RME_A7A_CPT,
 1039              		.loc 1 401 5
 1040 00d8 0C30A0E3 		mov	r3, #12
 1041 00dc 0C308DE5 		str	r3, [sp, #12]
 1042 00e0 1430A0E3 		mov	r3, #20
 1043 00e4 08308DE5 		str	r3, [sp, #8]
 1044 00e8 0130A0E3 		mov	r3, #1
 1045 00ec 04308DE5 		str	r3, [sp, #4]
 1046 00f0 0030A0E3 		mov	r3, #0
 1047 00f4 00308DE5 		str	r3, [sp]
 1048 00f8 0C301BE5 		ldr	r3, [fp, #-12]
 1049 00fc 0120A0E3 		mov	r2, #1
 1050 0100 0010A0E3 		mov	r1, #0
 1051 0104 8104A0E3 		mov	r0, #-2130706432
 1052 0108 FEFFFFEB 		bl	_RME_Pgt_Boot_Crt
 1053 010c 0030A0E1 		mov	r3, r0
 1054              		.loc 1 401 5 is_stmt 0 discriminator 1
 1055 0110 000053E3 		cmp	r3, #0
 1056 0114 0800000A 		beq	.L29
 1057 0118 003000E3 		movw	r3, #:lower16:.LC13
 1058 011c 003040E3 		movt	r3, #:upper16:.LC13
 1059 0120 002000E3 		movw	r2, #:lower16:.LC14
 1060 0124 002040E3 		movt	r2, #:upper16:.LC14
 1061 0128 911100E3 		movw	r1, #401
 1062 012c 000000E3 		movw	r0, #:lower16:.LC15
 1063 0130 000040E3 		movt	r0, #:upper16:.LC15
 1064 0134 FEFFFFEB 		bl	RME_Log
 1065              	.L30:
 1066              		.loc 1 401 5
 1067 0138 FEFFFFEA 		b	.L30
 1068              	.L29:
 402:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 403:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PGT,
 404:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  Cur_Addr,
 405:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  0x00000000U,
 406:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_TOP,
 407:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_SIZE_1M,
 408:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_NUM_4K)==0);
 409:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_PGT_SIZE_TOP(RME_PGT_NUM_4K));
 1069              		.loc 1 409 13 is_stmt 1
 1070 013c 0C301BE5 		ldr	r3, [fp, #-12]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 28


 1071 0140 013A83E2 		add	r3, r3, #4096
 1072 0144 0C300BE5 		str	r3, [fp, #-12]
 410:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 411:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Normal memory, 1GiB 0x00000000 -> 0x00000000 */
 412:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x400U;Count++)
 1073              		.loc 1 412 14
 1074 0148 0030A0E3 		mov	r3, #0
 1075 014c 08300BE5 		str	r3, [fp, #-8]
 1076              		.loc 1 412 5
 1077 0150 160000EA 		b	.L31
 1078              	.L34:
 413:../../Source/Platform/A7A/rme_platform_a7a.c ****     //for(Count=0U;Count<0x3U;Count++)
 414:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 415:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1079              		.loc 1 415 3
 1080 0154 08301BE5 		ldr	r3, [fp, #-8]
 1081 0158 032AA0E1 		lsl	r2, r3, #20
 1082 015c 1F30A0E3 		mov	r3, #31
 1083 0160 00308DE5 		str	r3, [sp]
 1084 0164 08301BE5 		ldr	r3, [fp, #-8]
 1085 0168 0110A0E3 		mov	r1, #1
 1086 016c 8104A0E3 		mov	r0, #-2130706432
 1087 0170 FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1088 0174 0030A0E1 		mov	r3, r0
 1089              		.loc 1 415 3 is_stmt 0 discriminator 1
 1090 0178 000053E3 		cmp	r3, #0
 1091 017c 0800000A 		beq	.L32
 1092 0180 003000E3 		movw	r3, #:lower16:.LC13
 1093 0184 003040E3 		movt	r3, #:upper16:.LC13
 1094 0188 002000E3 		movw	r2, #:lower16:.LC14
 1095 018c 002040E3 		movt	r2, #:upper16:.LC14
 1096 0190 9F1100E3 		movw	r1, #415
 1097 0194 000000E3 		movw	r0, #:lower16:.LC15
 1098 0198 000040E3 		movt	r0, #:upper16:.LC15
 1099 019c FEFFFFEB 		bl	RME_Log
 1100              	.L33:
 1101              		.loc 1 415 3
 1102 01a0 FEFFFFEA 		b	.L33
 1103              	.L32:
 412:../../Source/Platform/A7A/rme_platform_a7a.c ****     //for(Count=0U;Count<0x3U;Count++)
 1104              		.loc 1 412 36 is_stmt 1 discriminator 2
 1105 01a4 08301BE5 		ldr	r3, [fp, #-8]
 1106 01a8 013083E2 		add	r3, r3, #1
 1107 01ac 08300BE5 		str	r3, [fp, #-8]
 1108              	.L31:
 412:../../Source/Platform/A7A/rme_platform_a7a.c ****     //for(Count=0U;Count<0x3U;Count++)
 1109              		.loc 1 412 23 discriminator 1
 1110 01b0 08301BE5 		ldr	r3, [fp, #-8]
 1111 01b4 010B53E3 		cmp	r3, #1024
 1112 01b8 E5FFFF3A 		bcc	.L34
 416:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 417:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 Count*RME_POW2(RME_PGT_SIZE_1M),
 418:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 Count,
 419:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      RME_PGT_ALL_DYN)==0);
 420:../../Source/Platform/A7A/rme_platform_a7a.c ****                           
 421:../../Source/Platform/A7A/rme_platform_a7a.c ****          /*
 422:../../Source/Platform/A7A/rme_platform_a7a.c ****          RME_DBG_S("\r\npaddr= ");
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 29


 423:../../Source/Platform/A7A/rme_platform_a7a.c ****          RME_DBG_H(Cur_Addr+Count*4-RME_PGT_SIZE_TOP(RME_PGT_NUM_4K));
 424:../../Source/Platform/A7A/rme_platform_a7a.c ****          RME_DBG_S("\r\nreg= ");
 425:../../Source/Platform/A7A/rme_platform_a7a.c ****          RME_DBG_H(RME_A7A_REG(Cur_Addr+Count*4-RME_PGT_SIZE_TOP(RME_PGT_NUM_4K)));*/
 426:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 427:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 428:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Device memory 1, 512MiB 0x40000000 -> 0x40000000 */
 429:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 1113              		.loc 1 429 14
 1114 01bc 0030A0E3 		mov	r3, #0
 1115 01c0 08300BE5 		str	r3, [fp, #-8]
 1116              		.loc 1 429 5
 1117 01c4 180000EA 		b	.L35
 1118              	.L38:
 430:../../Source/Platform/A7A/rme_platform_a7a.c ****     //for(Count=0U;Count<0x3U;Count++)
 431:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 432:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1119              		.loc 1 432 3
 1120 01c8 08301BE5 		ldr	r3, [fp, #-8]
 1121 01cc 013B83E2 		add	r3, r3, #1024
 1122 01d0 032AA0E1 		lsl	r2, r3, #20
 1123 01d4 08301BE5 		ldr	r3, [fp, #-8]
 1124 01d8 013B83E2 		add	r3, r3, #1024
 1125 01dc 2310A0E3 		mov	r1, #35
 1126 01e0 00108DE5 		str	r1, [sp]
 1127 01e4 0110A0E3 		mov	r1, #1
 1128 01e8 8104A0E3 		mov	r0, #-2130706432
 1129 01ec FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1130 01f0 0030A0E1 		mov	r3, r0
 1131              		.loc 1 432 3 is_stmt 0 discriminator 1
 1132 01f4 000053E3 		cmp	r3, #0
 1133 01f8 0800000A 		beq	.L36
 1134 01fc 003000E3 		movw	r3, #:lower16:.LC13
 1135 0200 003040E3 		movt	r3, #:upper16:.LC13
 1136 0204 002000E3 		movw	r2, #:lower16:.LC14
 1137 0208 002040E3 		movt	r2, #:upper16:.LC14
 1138 020c 1B1EA0E3 		mov	r1, #432
 1139 0210 000000E3 		movw	r0, #:lower16:.LC15
 1140 0214 000040E3 		movt	r0, #:upper16:.LC15
 1141 0218 FEFFFFEB 		bl	RME_Log
 1142              	.L37:
 1143              		.loc 1 432 3
 1144 021c FEFFFFEA 		b	.L37
 1145              	.L36:
 429:../../Source/Platform/A7A/rme_platform_a7a.c ****     //for(Count=0U;Count<0x3U;Count++)
 1146              		.loc 1 429 36 is_stmt 1 discriminator 2
 1147 0220 08301BE5 		ldr	r3, [fp, #-8]
 1148 0224 013083E2 		add	r3, r3, #1
 1149 0228 08300BE5 		str	r3, [fp, #-8]
 1150              	.L35:
 429:../../Source/Platform/A7A/rme_platform_a7a.c ****     //for(Count=0U;Count<0x3U;Count++)
 1151              		.loc 1 429 23 discriminator 1
 1152 022c 08301BE5 		ldr	r3, [fp, #-8]
 1153 0230 020C53E3 		cmp	r3, #512
 1154 0234 E3FFFF3A 		bcc	.L38
 433:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 434:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x400U)*RME_POW2(RME_PGT_SIZE_1M),
 435:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x400U),
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 30


 436:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE|RME_PGT_STATIC)==0);
 437:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      /*RME_DBG_S("\r\npaddr= ");
 438:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      RME_DBG_H(Cur_Addr+Count*4-RME_PGT_SIZE_TOP(RME_PGT_NUM_4K));
 439:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      RME_DBG_S("\r\nreg= ");
 440:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      RME_DBG_H(RME_A7A_REG(Cur_Addr+Count*4-RME_PGT_SIZE_TOP(RME_PG
 441:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 442:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Device memory 2, 512MiB 0x60000000 -> 0xE0000000 */
 443:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 1155              		.loc 1 443 14
 1156 0238 0030A0E3 		mov	r3, #0
 1157 023c 08300BE5 		str	r3, [fp, #-8]
 1158              		.loc 1 443 5
 1159 0240 180000EA 		b	.L39
 1160              	.L42:
 444:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 445:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1161              		.loc 1 445 3
 1162 0244 08301BE5 		ldr	r3, [fp, #-8]
 1163 0248 0E3C83E2 		add	r3, r3, #3584
 1164 024c 032AA0E1 		lsl	r2, r3, #20
 1165 0250 08301BE5 		ldr	r3, [fp, #-8]
 1166 0254 063C83E2 		add	r3, r3, #1536
 1167 0258 2310A0E3 		mov	r1, #35
 1168 025c 00108DE5 		str	r1, [sp]
 1169 0260 0110A0E3 		mov	r1, #1
 1170 0264 8104A0E3 		mov	r0, #-2130706432
 1171 0268 FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1172 026c 0030A0E1 		mov	r3, r0
 1173              		.loc 1 445 3 is_stmt 0 discriminator 1
 1174 0270 000053E3 		cmp	r3, #0
 1175 0274 0800000A 		beq	.L40
 1176 0278 003000E3 		movw	r3, #:lower16:.LC13
 1177 027c 003040E3 		movt	r3, #:upper16:.LC13
 1178 0280 002000E3 		movw	r2, #:lower16:.LC14
 1179 0284 002040E3 		movt	r2, #:upper16:.LC14
 1180 0288 BD1100E3 		movw	r1, #445
 1181 028c 000000E3 		movw	r0, #:lower16:.LC15
 1182 0290 000040E3 		movt	r0, #:upper16:.LC15
 1183 0294 FEFFFFEB 		bl	RME_Log
 1184              	.L41:
 1185              		.loc 1 445 3
 1186 0298 FEFFFFEA 		b	.L41
 1187              	.L40:
 443:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1188              		.loc 1 443 36 is_stmt 1 discriminator 2
 1189 029c 08301BE5 		ldr	r3, [fp, #-8]
 1190 02a0 013083E2 		add	r3, r3, #1
 1191 02a4 08300BE5 		str	r3, [fp, #-8]
 1192              	.L39:
 443:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1193              		.loc 1 443 23 discriminator 1
 1194 02a8 08301BE5 		ldr	r3, [fp, #-8]
 1195 02ac 020C53E3 		cmp	r3, #512
 1196 02b0 E3FFFF3A 		bcc	.L42
 446:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 447:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0xE00U)*RME_POW2(RME_PGT_SIZE_1M),
 448:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x600U),
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 31


 449:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE|RME_PGT_STATIC)==0);
 450:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 451:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 452:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Activate the first process - This process cannot be deleted */
 453:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart prc creation.");
 1197              		.loc 1 453 5
 1198 02b4 000000E3 		movw	r0, #:lower16:.LC17
 1199 02b8 000040E3 		movt	r0, #:upper16:.LC17
 1200 02bc FEFFFFEB 		bl	RME_Str_Print
 454:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Prc_Boot_Crt(RME_A7A_CPT,
 1201              		.loc 1 454 5
 1202 02c0 0130A0E3 		mov	r3, #1
 1203 02c4 00308DE5 		str	r3, [sp]
 1204 02c8 0030A0E3 		mov	r3, #0
 1205 02cc 0220A0E3 		mov	r2, #2
 1206 02d0 0010A0E3 		mov	r1, #0
 1207 02d4 8104A0E3 		mov	r0, #-2130706432
 1208 02d8 FEFFFFEB 		bl	_RME_Prc_Boot_Crt
 1209 02dc 0030A0E1 		mov	r3, r0
 1210              		.loc 1 454 5 is_stmt 0 discriminator 1
 1211 02e0 000053E3 		cmp	r3, #0
 1212 02e4 0800000A 		beq	.L43
 1213 02e8 003000E3 		movw	r3, #:lower16:.LC13
 1214 02ec 003040E3 		movt	r3, #:upper16:.LC13
 1215 02f0 002000E3 		movw	r2, #:lower16:.LC14
 1216 02f4 002040E3 		movt	r2, #:upper16:.LC14
 1217 02f8 C61100E3 		movw	r1, #454
 1218 02fc 000000E3 		movw	r0, #:lower16:.LC15
 1219 0300 000040E3 		movt	r0, #:upper16:.LC15
 1220 0304 FEFFFFEB 		bl	RME_Log
 1221              	.L44:
 1222              		.loc 1 454 5
 1223 0308 FEFFFFEA 		b	.L44
 1224              	.L43:
 455:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 456:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PRC,
 457:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 458:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PGT)==0U);
 459:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 460:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Activate the first thread, and set its priority */
 461:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Thd_Boot_Crt(RME_A7A_CPT,
 1225              		.loc 1 461 5 is_stmt 1
 1226 030c 003000E3 		movw	r3, #:lower16:RME_A7A_Local
 1227 0310 003040E3 		movt	r3, #:upper16:RME_A7A_Local
 1228 0314 08308DE5 		str	r3, [sp, #8]
 1229 0318 0030A0E3 		mov	r3, #0
 1230 031c 04308DE5 		str	r3, [sp, #4]
 1231 0320 0C301BE5 		ldr	r3, [fp, #-12]
 1232 0324 00308DE5 		str	r3, [sp]
 1233 0328 0230A0E3 		mov	r3, #2
 1234 032c 0320A0E3 		mov	r2, #3
 1235 0330 0010A0E3 		mov	r1, #0
 1236 0334 8104A0E3 		mov	r0, #-2130706432
 1237 0338 FEFFFFEB 		bl	_RME_Thd_Boot_Crt
 1238 033c 0030A0E1 		mov	r3, r0
 1239              		.loc 1 461 5 is_stmt 0 discriminator 1
 1240 0340 000053E3 		cmp	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 32


 1241 0344 0800000A 		beq	.L45
 1242 0348 003000E3 		movw	r3, #:lower16:.LC13
 1243 034c 003040E3 		movt	r3, #:upper16:.LC13
 1244 0350 002000E3 		movw	r2, #:lower16:.LC14
 1245 0354 002040E3 		movt	r2, #:upper16:.LC14
 1246 0358 CD1100E3 		movw	r1, #461
 1247 035c 000000E3 		movw	r0, #:lower16:.LC15
 1248 0360 000040E3 		movt	r0, #:upper16:.LC15
 1249 0364 FEFFFFEB 		bl	RME_Log
 1250              	.L46:
 1251              		.loc 1 461 5
 1252 0368 FEFFFFEA 		b	.L46
 1253              	.L45:
 462:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 463:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_THD,
 464:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PRC,
 465:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  Cur_Addr,
 466:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  0U,
 467:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  &RME_A7A_Local)==0);
 468:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_THD_SIZE(0U));
 1254              		.loc 1 468 13 is_stmt 1
 1255 036c 0C301BE5 		ldr	r3, [fp, #-12]
 1256 0370 A03083E2 		add	r3, r3, #160
 1257 0374 0C300BE5 		str	r3, [fp, #-12]
 469:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 470:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the initial kernel function capability, and kernel memory capability */
 471:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart kfn/kom creation.");
 1258              		.loc 1 471 5
 1259 0378 000000E3 		movw	r0, #:lower16:.LC18
 1260 037c 000040E3 		movt	r0, #:upper16:.LC18
 1261 0380 FEFFFFEB 		bl	RME_Str_Print
 472:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Kfn_Boot_Crt(RME_A7A_CPT,
 1262              		.loc 1 472 5
 1263 0384 0420A0E3 		mov	r2, #4
 1264 0388 0010A0E3 		mov	r1, #0
 1265 038c 8104A0E3 		mov	r0, #-2130706432
 1266 0390 FEFFFFEB 		bl	_RME_Kfn_Boot_Crt
 1267 0394 0030A0E1 		mov	r3, r0
 1268              		.loc 1 472 5 is_stmt 0 discriminator 1
 1269 0398 000053E3 		cmp	r3, #0
 1270 039c 0800000A 		beq	.L47
 1271 03a0 003000E3 		movw	r3, #:lower16:.LC13
 1272 03a4 003040E3 		movt	r3, #:upper16:.LC13
 1273 03a8 002000E3 		movw	r2, #:lower16:.LC14
 1274 03ac 002040E3 		movt	r2, #:upper16:.LC14
 1275 03b0 761FA0E3 		mov	r1, #472
 1276 03b4 000000E3 		movw	r0, #:lower16:.LC15
 1277 03b8 000040E3 		movt	r0, #:upper16:.LC15
 1278 03bc FEFFFFEB 		bl	RME_Log
 1279              	.L48:
 1280              		.loc 1 472 5
 1281 03c0 FEFFFFEA 		b	.L48
 1282              	.L47:
 473:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 474:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_KFN)==0);
 475:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Kom_Boot_Crt(RME_A7A_CPT, 
 1283              		.loc 1 475 5 is_stmt 1
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 33


 1284 03c4 0F30A0E3 		mov	r3, #15
 1285 03c8 04308DE5 		str	r3, [sp, #4]
 1286 03cc 3F34E0E3 		mvn	r3, #1056964608
 1287 03d0 00308DE5 		str	r3, [sp]
 1288 03d4 8134A0E3 		mov	r3, #-2130706432
 1289 03d8 0520A0E3 		mov	r2, #5
 1290 03dc 0010A0E3 		mov	r1, #0
 1291 03e0 8104A0E3 		mov	r0, #-2130706432
 1292 03e4 FEFFFFEB 		bl	_RME_Kom_Boot_Crt
 1293 03e8 0030A0E1 		mov	r3, r0
 1294              		.loc 1 475 5 is_stmt 0 discriminator 1
 1295 03ec 000053E3 		cmp	r3, #0
 1296 03f0 0800000A 		beq	.L49
 1297 03f4 003000E3 		movw	r3, #:lower16:.LC13
 1298 03f8 003040E3 		movt	r3, #:upper16:.LC13
 1299 03fc 002000E3 		movw	r2, #:lower16:.LC14
 1300 0400 002040E3 		movt	r2, #:upper16:.LC14
 1301 0404 DB1100E3 		movw	r1, #475
 1302 0408 000000E3 		movw	r0, #:lower16:.LC15
 1303 040c 000040E3 		movt	r0, #:upper16:.LC15
 1304 0410 FEFFFFEB 		bl	RME_Log
 1305              	.L50:
 1306              		.loc 1 475 5
 1307 0414 FEFFFFEA 		b	.L50
 1308              	.L49:
 476:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT, 
 477:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_KOM,
 478:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_VA_BASE,
 479:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_VA_BASE+RME_KOM_VA_SIZE-1U,
 480:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_FLAG_ALL)==0U);
 481:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 482:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the initial kernel endpoint for timer ticks and interrupts */
 483:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_Local.Sig_Tim=(struct RME_Cap_Sig*)&(RME_A7A_CPT[RME_BOOT_INIT_VCT]);
 1309              		.loc 1 483 26 is_stmt 1
 1310 0418 002000E3 		movw	r2, #:lower16:RME_A7A_Local
 1311 041c 002040E3 		movt	r2, #:upper16:RME_A7A_Local
 1312 0420 C030A0E3 		mov	r3, #192
 1313 0424 003148E3 		movt	r3, 33024
 1314 0428 083082E5 		str	r3, [r2, #8]
 484:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_Local.Sig_Vct=(struct RME_Cap_Sig*)&(RME_A7A_CPT[RME_BOOT_INIT_VCT]);
 1315              		.loc 1 484 26
 1316 042c 002000E3 		movw	r2, #:lower16:RME_A7A_Local
 1317 0430 002040E3 		movt	r2, #:upper16:RME_A7A_Local
 1318 0434 C030A0E3 		mov	r3, #192
 1319 0438 003148E3 		movt	r3, 33024
 1320 043c 0C3082E5 		str	r3, [r2, #12]
 485:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreate the initial kernel endpoint for timer ticks and interrupts");
 1321              		.loc 1 485 5
 1322 0440 000000E3 		movw	r0, #:lower16:.LC19
 1323 0444 000040E3 		movt	r0, #:upper16:.LC19
 1324 0448 FEFFFFEB 		bl	RME_Str_Print
 486:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Sig_Boot_Crt(RME_A7A_CPT,
 1325              		.loc 1 486 5
 1326 044c 0620A0E3 		mov	r2, #6
 1327 0450 0010A0E3 		mov	r1, #0
 1328 0454 8104A0E3 		mov	r0, #-2130706432
 1329 0458 FEFFFFEB 		bl	_RME_Sig_Boot_Crt
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 34


 1330 045c 0030A0E1 		mov	r3, r0
 1331              		.loc 1 486 5 is_stmt 0 discriminator 1
 1332 0460 000053E3 		cmp	r3, #0
 1333 0464 0800000A 		beq	.L51
 1334 0468 003000E3 		movw	r3, #:lower16:.LC13
 1335 046c 003040E3 		movt	r3, #:upper16:.LC13
 1336 0470 002000E3 		movw	r2, #:lower16:.LC14
 1337 0474 002040E3 		movt	r2, #:upper16:.LC14
 1338 0478 E61100E3 		movw	r1, #486
 1339 047c 000000E3 		movw	r0, #:lower16:.LC15
 1340 0480 000040E3 		movt	r0, #:upper16:.LC15
 1341 0484 FEFFFFEB 		bl	RME_Log
 1342              	.L52:
 1343              		.loc 1 486 5
 1344 0488 FEFFFFEA 		b	.L52
 1345              	.L51:
 487:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 488:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_VCT)==0);
 489:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 490:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set page table as current */
 491:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Pgt_Set(RME_A7A_Local.Thd_Cur->Sched.Prc->Pgt);
 1346              		.loc 1 491 32 is_stmt 1
 1347 048c 003000E3 		movw	r3, #:lower16:RME_A7A_Local
 1348 0490 003040E3 		movt	r3, #:upper16:RME_A7A_Local
 1349 0494 043093E5 		ldr	r3, [r3, #4]
 1350              		.loc 1 491 47
 1351 0498 2C3093E5 		ldr	r3, [r3, #44]
 1352              		.loc 1 491 5
 1353 049c 183093E5 		ldr	r3, [r3, #24]
 1354 04a0 0300A0E1 		mov	r0, r3
 1355 04a4 FEFFFFEB 		bl	__RME_Pgt_Set
 492:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 493:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize timer and enable interrupts */
 494:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nenable interrupts");
 1356              		.loc 1 494 5
 1357 04a8 000000E3 		movw	r0, #:lower16:.LC20
 1358 04ac 000040E3 		movt	r0, #:upper16:.LC20
 1359 04b0 FEFFFFEB 		bl	RME_Str_Print
 495:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Timer_Init();
 1360              		.loc 1 495 2
 1361 04b4 FEFFFFEB 		bl	__RME_A7A_Timer_Init
 496:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Int_Enable();
 1362              		.loc 1 496 5
 1363 04b8 FEFFFFEB 		bl	__RME_Int_Enable
 497:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 498:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Boot into the init thread */
 499:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_User_Enter(RME_A7A_INIT_ENTRY,RME_A7A_INIT_STACK,0U);
 1364              		.loc 1 499 5
 1365 04bc 0020A0E3 		mov	r2, #0
 1366 04c0 FF1CA0E3 		mov	r1, #65280
 1367 04c4 1F1840E3 		movt	r1, 2079
 1368 04c8 0109A0E3 		mov	r0, #16384
 1369 04cc 000840E3 		movt	r0, 2048
 1370 04d0 FEFFFFEB 		bl	__RME_User_Enter
 1371              	.L53:
 500:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 501:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Should never reach here */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 35


 502:../../Source/Platform/A7A/rme_platform_a7a.c ****     while(1);
 1372              		.loc 1 502 10
 1373 04d4 FEFFFFEA 		b	.L53
 1374              		.cfi_endproc
 1375              	.LFE12:
 1377              		.section	.text.__RME_Reboot,"ax",%progbits
 1378              		.align	2
 1379              		.global	__RME_Reboot
 1380              		.syntax unified
 1381              		.arm
 1383              	__RME_Reboot:
 1384              	.LFB13:
 503:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 504:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Boot ***************************************************/
 505:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 506:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Reboot ******************************************************
 507:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Reboot the machine, abandon all operating system states.
 508:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 509:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 510:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 511:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 512:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Reboot(void)
 513:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1385              		.loc 1 513 1
 1386              		.cfi_startproc
 1387              		@ args = 0, pretend = 0, frame = 0
 1388              		@ frame_needed = 1, uses_anonymous_args = 0
 1389              		@ link register save eliminated.
 1390 0000 04B02DE5 		str	fp, [sp, #-4]!
 1391              		.cfi_def_cfa_offset 4
 1392              		.cfi_offset 11, -4
 1393 0004 00B08DE2 		add	fp, sp, #0
 1394              		.cfi_def_cfa_register 11
 514:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 515:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1395              		.loc 1 515 1
 1396 0008 00F020E3 		nop
 1397 000c 00D08BE2 		add	sp, fp, #0
 1398              		.cfi_def_cfa_register 13
 1399              		@ sp needed
 1400 0010 04B09DE4 		ldr	fp, [sp], #4
 1401              		.cfi_restore 11
 1402              		.cfi_def_cfa_offset 0
 1403 0014 1EFF2FE1 		bx	lr
 1404              		.cfi_endproc
 1405              	.LFE13:
 1407              		.section	.text.__RME_Shutdown,"ax",%progbits
 1408              		.align	2
 1409              		.global	__RME_Shutdown
 1410              		.syntax unified
 1411              		.arm
 1413              	__RME_Shutdown:
 1414              	.LFB14:
 516:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Reboot *************************************************/
 517:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 518:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Shutdown ****************************************************
 519:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Shutdown the machine, abandon all operating system states.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 36


 520:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 521:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 522:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 523:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 524:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Shutdown(void)
 525:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1415              		.loc 1 525 1
 1416              		.cfi_startproc
 1417              		@ args = 0, pretend = 0, frame = 0
 1418              		@ frame_needed = 1, uses_anonymous_args = 0
 1419              		@ link register save eliminated.
 1420 0000 04B02DE5 		str	fp, [sp, #-4]!
 1421              		.cfi_def_cfa_offset 4
 1422              		.cfi_offset 11, -4
 1423 0004 00B08DE2 		add	fp, sp, #0
 1424              		.cfi_def_cfa_register 11
 526:../../Source/Platform/A7A/rme_platform_a7a.c ****    // RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 527:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1425              		.loc 1 527 1
 1426 0008 00F020E3 		nop
 1427 000c 00D08BE2 		add	sp, fp, #0
 1428              		.cfi_def_cfa_register 13
 1429              		@ sp needed
 1430 0010 04B09DE4 		ldr	fp, [sp], #4
 1431              		.cfi_restore 11
 1432              		.cfi_def_cfa_offset 0
 1433 0014 1EFF2FE1 		bx	lr
 1434              		.cfi_endproc
 1435              	.LFE14:
 1437              		.section	.text.__RME_Svc_Param_Get,"ax",%progbits
 1438              		.align	2
 1439              		.global	__RME_Svc_Param_Get
 1440              		.syntax unified
 1441              		.arm
 1443              	__RME_Svc_Param_Get:
 1444              	.LFB15:
 528:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Shutdown ***********************************************/
 529:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 530:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Get_Syscall_Param *******************************************
 531:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the system call parameters from the stack frame.
 532:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 533:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Svc - The system service number.
 534:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Capid - The capability ID number.
 535:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Param - The parameters.
 536:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 537:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 538:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Param_Get(struct RME_Reg_Struct* Reg,rme_ptr_t* Svc,rme_ptr_t* Capid,rme_ptr_t* Para
 539:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1445              		.loc 1 539 1
 1446              		.cfi_startproc
 1447              		@ args = 0, pretend = 0, frame = 16
 1448              		@ frame_needed = 1, uses_anonymous_args = 0
 1449              		@ link register save eliminated.
 1450 0000 04B02DE5 		str	fp, [sp, #-4]!
 1451              		.cfi_def_cfa_offset 4
 1452              		.cfi_offset 11, -4
 1453 0004 00B08DE2 		add	fp, sp, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 37


 1454              		.cfi_def_cfa_register 11
 1455 0008 14D04DE2 		sub	sp, sp, #20
 1456 000c 08000BE5 		str	r0, [fp, #-8]
 1457 0010 0C100BE5 		str	r1, [fp, #-12]
 1458 0014 10200BE5 		str	r2, [fp, #-16]
 1459 0018 14300BE5 		str	r3, [fp, #-20]
 540:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Svc=(Reg->R0)>>16;
 1460              		.loc 1 540 14
 1461 001c 08301BE5 		ldr	r3, [fp, #-8]
 1462 0020 043093E5 		ldr	r3, [r3, #4]
 1463              		.loc 1 540 19
 1464 0024 2328A0E1 		lsr	r2, r3, #16
 1465              		.loc 1 540 9
 1466 0028 0C301BE5 		ldr	r3, [fp, #-12]
 1467 002c 002083E5 		str	r2, [r3]
 541:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Capid=(Reg->R0)&0xFFFF;
 1468              		.loc 1 541 16
 1469 0030 08301BE5 		ldr	r3, [fp, #-8]
 1470 0034 043093E5 		ldr	r3, [r3, #4]
 1471              		.loc 1 541 21
 1472 0038 7320FFE6 		uxth	r2, r3
 1473              		.loc 1 541 11
 1474 003c 10301BE5 		ldr	r3, [fp, #-16]
 1475 0040 002083E5 		str	r2, [r3]
 542:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[0]=Reg->R1;
 1476              		.loc 1 542 17
 1477 0044 08301BE5 		ldr	r3, [fp, #-8]
 1478 0048 082093E5 		ldr	r2, [r3, #8]
 1479              		.loc 1 542 13
 1480 004c 14301BE5 		ldr	r3, [fp, #-20]
 1481 0050 002083E5 		str	r2, [r3]
 543:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[1]=Reg->R2;
 1482              		.loc 1 543 10
 1483 0054 14301BE5 		ldr	r3, [fp, #-20]
 1484 0058 043083E2 		add	r3, r3, #4
 1485              		.loc 1 543 17
 1486 005c 08201BE5 		ldr	r2, [fp, #-8]
 1487 0060 0C2092E5 		ldr	r2, [r2, #12]
 1488              		.loc 1 543 13
 1489 0064 002083E5 		str	r2, [r3]
 544:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[2]=Reg->R3;
 1490              		.loc 1 544 10
 1491 0068 14301BE5 		ldr	r3, [fp, #-20]
 1492 006c 083083E2 		add	r3, r3, #8
 1493              		.loc 1 544 17
 1494 0070 08201BE5 		ldr	r2, [fp, #-8]
 1495 0074 102092E5 		ldr	r2, [r2, #16]
 1496              		.loc 1 544 13
 1497 0078 002083E5 		str	r2, [r3]
 545:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1498              		.loc 1 545 1
 1499 007c 00F020E3 		nop
 1500 0080 00D08BE2 		add	sp, fp, #0
 1501              		.cfi_def_cfa_register 13
 1502              		@ sp needed
 1503 0084 04B09DE4 		ldr	fp, [sp], #4
 1504              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 38


 1505              		.cfi_def_cfa_offset 0
 1506 0088 1EFF2FE1 		bx	lr
 1507              		.cfi_endproc
 1508              	.LFE15:
 1510              		.section	.text.__RME_Svc_Retval_Set,"ax",%progbits
 1511              		.align	2
 1512              		.global	__RME_Svc_Retval_Set
 1513              		.syntax unified
 1514              		.arm
 1516              	__RME_Svc_Retval_Set:
 1517              	.LFB16:
 546:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Get_Syscall_Param **************************************/
 547:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 548:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Syscall_Retval ******************************************
 549:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the system call return value to the stack frame. This function 
 550:../../Source/Platform/A7A/rme_platform_a7a.c ****               may carry up to 4 return values. If the last 3 is not needed, just set
 551:../../Source/Platform/A7A/rme_platform_a7a.c ****               them to zero.
 552:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 553:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 554:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 555:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 556:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Retval_Set(struct RME_Reg_Struct* Reg,rme_ret_t Retval)
 557:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1518              		.loc 1 557 1
 1519              		.cfi_startproc
 1520              		@ args = 0, pretend = 0, frame = 8
 1521              		@ frame_needed = 1, uses_anonymous_args = 0
 1522              		@ link register save eliminated.
 1523 0000 04B02DE5 		str	fp, [sp, #-4]!
 1524              		.cfi_def_cfa_offset 4
 1525              		.cfi_offset 11, -4
 1526 0004 00B08DE2 		add	fp, sp, #0
 1527              		.cfi_def_cfa_register 11
 1528 0008 0CD04DE2 		sub	sp, sp, #12
 1529 000c 08000BE5 		str	r0, [fp, #-8]
 1530 0010 0C100BE5 		str	r1, [fp, #-12]
 558:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=(rme_ptr_t)Retval;
 1531              		.loc 1 558 13
 1532 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1533              		.loc 1 558 12
 1534 0018 08301BE5 		ldr	r3, [fp, #-8]
 1535 001c 042083E5 		str	r2, [r3, #4]
 559:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1536              		.loc 1 559 1
 1537 0020 00F020E3 		nop
 1538 0024 00D08BE2 		add	sp, fp, #0
 1539              		.cfi_def_cfa_register 13
 1540              		@ sp needed
 1541 0028 04B09DE4 		ldr	fp, [sp], #4
 1542              		.cfi_restore 11
 1543              		.cfi_def_cfa_offset 0
 1544 002c 1EFF2FE1 		bx	lr
 1545              		.cfi_endproc
 1546              	.LFE16:
 1548              		.section	.text.__RME_Thd_Reg_Init,"ax",%progbits
 1549              		.align	2
 1550              		.global	__RME_Thd_Reg_Init
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 39


 1551              		.syntax unified
 1552              		.arm
 1554              	__RME_Thd_Reg_Init:
 1555              	.LFB17:
 560:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Syscall_Retval *************************************/
 561:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 562:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Init ************************************************
 563:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the register set for the thread.
 564:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Entry - The thread entry address.
 565:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Stack - The thread stack address.
 566:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param - The parameter to pass to it.
 567:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set content generated.
 568:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 569:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 570:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Init(rme_ptr_t Attr,rme_ptr_t Entry,rme_ptr_t Stack,rme_ptr_t Param,
 571:../../Source/Platform/A7A/rme_platform_a7a.c ****                                        struct RME_Reg_Struct* Reg)
 572:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1556              		.loc 1 572 1
 1557              		.cfi_startproc
 1558              		@ args = 4, pretend = 0, frame = 16
 1559              		@ frame_needed = 1, uses_anonymous_args = 0
 1560              		@ link register save eliminated.
 1561 0000 04B02DE5 		str	fp, [sp, #-4]!
 1562              		.cfi_def_cfa_offset 4
 1563              		.cfi_offset 11, -4
 1564 0004 00B08DE2 		add	fp, sp, #0
 1565              		.cfi_def_cfa_register 11
 1566 0008 14D04DE2 		sub	sp, sp, #20
 1567 000c 08000BE5 		str	r0, [fp, #-8]
 1568 0010 0C100BE5 		str	r1, [fp, #-12]
 1569 0014 10200BE5 		str	r2, [fp, #-16]
 1570 0018 14300BE5 		str	r3, [fp, #-20]
 573:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the entry and stack */
 574:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Entry;
 1571              		.loc 1 574 12
 1572 001c 04309BE5 		ldr	r3, [fp, #4]
 1573 0020 0C201BE5 		ldr	r2, [fp, #-12]
 1574 0024 3C2083E5 		str	r2, [r3, #60]
 575:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Stack;
 1575              		.loc 1 575 12
 1576 0028 04309BE5 		ldr	r3, [fp, #4]
 1577 002c 10201BE5 		ldr	r2, [fp, #-16]
 1578 0030 342083E5 		str	r2, [r3, #52]
 576:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the parameter */
 577:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=Param;
 1579              		.loc 1 577 12
 1580 0034 04309BE5 		ldr	r3, [fp, #4]
 1581 0038 14201BE5 		ldr	r2, [fp, #-20]
 1582 003c 042083E5 		str	r2, [r3, #4]
 578:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1583              		.loc 1 578 1
 1584 0040 00F020E3 		nop
 1585 0044 00D08BE2 		add	sp, fp, #0
 1586              		.cfi_def_cfa_register 13
 1587              		@ sp needed
 1588 0048 04B09DE4 		ldr	fp, [sp], #4
 1589              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 40


 1590              		.cfi_def_cfa_offset 0
 1591 004c 1EFF2FE1 		bx	lr
 1592              		.cfi_endproc
 1593              	.LFE17:
 1595              		.section	.text.__RME_Thd_Reg_Copy,"ax",%progbits
 1596              		.align	2
 1597              		.global	__RME_Thd_Reg_Copy
 1598              		.syntax unified
 1599              		.arm
 1601              	__RME_Thd_Reg_Copy:
 1602              	.LFB18:
 579:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Init *******************************************/
 580:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 581:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Copy ************************************************
 582:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Copy one set of registers into another.
 583:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Src - The source register set.
 584:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Dst - The destination register set.
 585:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 586:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 587:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Copy(struct RME_Reg_Struct* Dst, struct RME_Reg_Struct* Src)
 588:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1603              		.loc 1 588 1
 1604              		.cfi_startproc
 1605              		@ args = 0, pretend = 0, frame = 8
 1606              		@ frame_needed = 1, uses_anonymous_args = 0
 1607              		@ link register save eliminated.
 1608 0000 04B02DE5 		str	fp, [sp, #-4]!
 1609              		.cfi_def_cfa_offset 4
 1610              		.cfi_offset 11, -4
 1611 0004 00B08DE2 		add	fp, sp, #0
 1612              		.cfi_def_cfa_register 11
 1613 0008 0CD04DE2 		sub	sp, sp, #12
 1614 000c 08000BE5 		str	r0, [fp, #-8]
 1615 0010 0C100BE5 		str	r1, [fp, #-12]
 589:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that the ordering is the same so the compiler can optimize */
 590:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->CPSR=Src->CPSR;
 1616              		.loc 1 590 18
 1617 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1618 0018 002093E5 		ldr	r2, [r3]
 1619              		.loc 1 590 14
 1620 001c 08301BE5 		ldr	r3, [fp, #-8]
 1621 0020 002083E5 		str	r2, [r3]
 591:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R0=Src->R0;
 1622              		.loc 1 591 16
 1623 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1624 0028 042093E5 		ldr	r2, [r3, #4]
 1625              		.loc 1 591 12
 1626 002c 08301BE5 		ldr	r3, [fp, #-8]
 1627 0030 042083E5 		str	r2, [r3, #4]
 592:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R1=Src->R1;
 1628              		.loc 1 592 16
 1629 0034 0C301BE5 		ldr	r3, [fp, #-12]
 1630 0038 082093E5 		ldr	r2, [r3, #8]
 1631              		.loc 1 592 12
 1632 003c 08301BE5 		ldr	r3, [fp, #-8]
 1633 0040 082083E5 		str	r2, [r3, #8]
 593:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R2=Src->R2;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 41


 1634              		.loc 1 593 16
 1635 0044 0C301BE5 		ldr	r3, [fp, #-12]
 1636 0048 0C2093E5 		ldr	r2, [r3, #12]
 1637              		.loc 1 593 12
 1638 004c 08301BE5 		ldr	r3, [fp, #-8]
 1639 0050 0C2083E5 		str	r2, [r3, #12]
 594:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R3=Src->R3;
 1640              		.loc 1 594 16
 1641 0054 0C301BE5 		ldr	r3, [fp, #-12]
 1642 0058 102093E5 		ldr	r2, [r3, #16]
 1643              		.loc 1 594 12
 1644 005c 08301BE5 		ldr	r3, [fp, #-8]
 1645 0060 102083E5 		str	r2, [r3, #16]
 595:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R4=Src->R4;
 1646              		.loc 1 595 16
 1647 0064 0C301BE5 		ldr	r3, [fp, #-12]
 1648 0068 142093E5 		ldr	r2, [r3, #20]
 1649              		.loc 1 595 12
 1650 006c 08301BE5 		ldr	r3, [fp, #-8]
 1651 0070 142083E5 		str	r2, [r3, #20]
 596:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R5=Src->R5;
 1652              		.loc 1 596 16
 1653 0074 0C301BE5 		ldr	r3, [fp, #-12]
 1654 0078 182093E5 		ldr	r2, [r3, #24]
 1655              		.loc 1 596 12
 1656 007c 08301BE5 		ldr	r3, [fp, #-8]
 1657 0080 182083E5 		str	r2, [r3, #24]
 597:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R6=Src->R6;
 1658              		.loc 1 597 16
 1659 0084 0C301BE5 		ldr	r3, [fp, #-12]
 1660 0088 1C2093E5 		ldr	r2, [r3, #28]
 1661              		.loc 1 597 12
 1662 008c 08301BE5 		ldr	r3, [fp, #-8]
 1663 0090 1C2083E5 		str	r2, [r3, #28]
 598:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R7=Src->R7;
 1664              		.loc 1 598 16
 1665 0094 0C301BE5 		ldr	r3, [fp, #-12]
 1666 0098 202093E5 		ldr	r2, [r3, #32]
 1667              		.loc 1 598 12
 1668 009c 08301BE5 		ldr	r3, [fp, #-8]
 1669 00a0 202083E5 		str	r2, [r3, #32]
 599:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R8=Src->R8;
 1670              		.loc 1 599 16
 1671 00a4 0C301BE5 		ldr	r3, [fp, #-12]
 1672 00a8 242093E5 		ldr	r2, [r3, #36]
 1673              		.loc 1 599 12
 1674 00ac 08301BE5 		ldr	r3, [fp, #-8]
 1675 00b0 242083E5 		str	r2, [r3, #36]
 600:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R9=Src->R9;
 1676              		.loc 1 600 16
 1677 00b4 0C301BE5 		ldr	r3, [fp, #-12]
 1678 00b8 282093E5 		ldr	r2, [r3, #40]
 1679              		.loc 1 600 12
 1680 00bc 08301BE5 		ldr	r3, [fp, #-8]
 1681 00c0 282083E5 		str	r2, [r3, #40]
 601:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R10=Src->R10;
 1682              		.loc 1 601 17
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 42


 1683 00c4 0C301BE5 		ldr	r3, [fp, #-12]
 1684 00c8 2C2093E5 		ldr	r2, [r3, #44]
 1685              		.loc 1 601 13
 1686 00cc 08301BE5 		ldr	r3, [fp, #-8]
 1687 00d0 2C2083E5 		str	r2, [r3, #44]
 602:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R11=Src->R11;
 1688              		.loc 1 602 17
 1689 00d4 0C301BE5 		ldr	r3, [fp, #-12]
 1690 00d8 302093E5 		ldr	r2, [r3, #48]
 1691              		.loc 1 602 13
 1692 00dc 08301BE5 		ldr	r3, [fp, #-8]
 1693 00e0 302083E5 		str	r2, [r3, #48]
 603:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->SP=Src->SP;
 1694              		.loc 1 603 16
 1695 00e4 0C301BE5 		ldr	r3, [fp, #-12]
 1696 00e8 342093E5 		ldr	r2, [r3, #52]
 1697              		.loc 1 603 12
 1698 00ec 08301BE5 		ldr	r3, [fp, #-8]
 1699 00f0 342083E5 		str	r2, [r3, #52]
 604:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->LR=Src->LR;
 1700              		.loc 1 604 16
 1701 00f4 0C301BE5 		ldr	r3, [fp, #-12]
 1702 00f8 382093E5 		ldr	r2, [r3, #56]
 1703              		.loc 1 604 12
 1704 00fc 08301BE5 		ldr	r3, [fp, #-8]
 1705 0100 382083E5 		str	r2, [r3, #56]
 605:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->PC=Src->PC;
 1706              		.loc 1 605 16
 1707 0104 0C301BE5 		ldr	r3, [fp, #-12]
 1708 0108 3C2093E5 		ldr	r2, [r3, #60]
 1709              		.loc 1 605 12
 1710 010c 08301BE5 		ldr	r3, [fp, #-8]
 1711 0110 3C2083E5 		str	r2, [r3, #60]
 606:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1712              		.loc 1 606 1
 1713 0114 00F020E3 		nop
 1714 0118 00D08BE2 		add	sp, fp, #0
 1715              		.cfi_def_cfa_register 13
 1716              		@ sp needed
 1717 011c 04B09DE4 		ldr	fp, [sp], #4
 1718              		.cfi_restore 11
 1719              		.cfi_def_cfa_offset 0
 1720 0120 1EFF2FE1 		bx	lr
 1721              		.cfi_endproc
 1722              	.LFE18:
 1724              		.section	.text.__RME_Thd_Cop_Init,"ax",%progbits
 1725              		.align	2
 1726              		.global	__RME_Thd_Cop_Init
 1727              		.syntax unified
 1728              		.arm
 1730              	__RME_Thd_Cop_Init:
 1731              	.LFB19:
 607:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Copy *******************************************/
 608:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 609:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Init ************************************************
 610:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the coprocessor register set for the thread.
 611:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register struct to help initialize the coprocessor.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 43


 612:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Cop_Struct* Cop_Reg - The register set content generated.
 613:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 614:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 615:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Init(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 616:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1732              		.loc 1 616 1
 1733              		.cfi_startproc
 1734              		@ args = 0, pretend = 0, frame = 8
 1735              		@ frame_needed = 1, uses_anonymous_args = 0
 1736              		@ link register save eliminated.
 1737 0000 04B02DE5 		str	fp, [sp, #-4]!
 1738              		.cfi_def_cfa_offset 4
 1739              		.cfi_offset 11, -4
 1740 0004 00B08DE2 		add	fp, sp, #0
 1741              		.cfi_def_cfa_register 11
 1742 0008 0CD04DE2 		sub	sp, sp, #12
 1743 000c 08000BE5 		str	r0, [fp, #-8]
 1744 0010 0C100BE5 		str	r1, [fp, #-12]
 617:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Empty function, return immediately. The FPU contents is not predictable */
 618:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1745              		.loc 1 618 1
 1746 0014 00F020E3 		nop
 1747 0018 00D08BE2 		add	sp, fp, #0
 1748              		.cfi_def_cfa_register 13
 1749              		@ sp needed
 1750 001c 04B09DE4 		ldr	fp, [sp], #4
 1751              		.cfi_restore 11
 1752              		.cfi_def_cfa_offset 0
 1753 0020 1EFF2FE1 		bx	lr
 1754              		.cfi_endproc
 1755              	.LFE19:
 1757              		.section	.text.__RME_Thd_Cop_Save,"ax",%progbits
 1758              		.align	2
 1759              		.global	__RME_Thd_Cop_Save
 1760              		.syntax unified
 1761              		.arm
 1763              	__RME_Thd_Cop_Save:
 1764              	.LFB20:
 619:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Reg_Init ***************************************/
 620:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 621:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Save ************************************************
 622:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the co-op register sets. This operation is flexible - If the
 623:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save its context.
 624:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 625:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 626:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 627:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 628:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 629:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Save(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 630:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1765              		.loc 1 630 1
 1766              		.cfi_startproc
 1767              		@ args = 0, pretend = 0, frame = 8
 1768              		@ frame_needed = 1, uses_anonymous_args = 0
 1769              		@ link register save eliminated.
 1770 0000 04B02DE5 		str	fp, [sp, #-4]!
 1771              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 44


 1772              		.cfi_offset 11, -4
 1773 0004 00B08DE2 		add	fp, sp, #0
 1774              		.cfi_def_cfa_register 11
 1775 0008 0CD04DE2 		sub	sp, sp, #12
 1776 000c 08000BE5 		str	r0, [fp, #-8]
 1777 0010 0C100BE5 		str	r1, [fp, #-12]
 631:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 632:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1778              		.loc 1 632 1
 1779 0014 00F020E3 		nop
 1780 0018 00D08BE2 		add	sp, fp, #0
 1781              		.cfi_def_cfa_register 13
 1782              		@ sp needed
 1783 001c 04B09DE4 		ldr	fp, [sp], #4
 1784              		.cfi_restore 11
 1785              		.cfi_def_cfa_offset 0
 1786 0020 1EFF2FE1 		bx	lr
 1787              		.cfi_endproc
 1788              	.LFE20:
 1790              		.section	.text.__RME_Thd_Cop_Restore,"ax",%progbits
 1791              		.align	2
 1792              		.global	__RME_Thd_Cop_Restore
 1793              		.syntax unified
 1794              		.arm
 1796              	__RME_Thd_Cop_Restore:
 1797              	.LFB21:
 633:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Save *******************************************/
 634:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 635:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Restore *********************************************
 636:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the co-op register sets. This operation is flexible - If the
 637:../../Source/Platform/A7A/rme_platform_a7a.c ****               FPU is not used, we do not restore its context.
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 639:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 640:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 641:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 642:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 643:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Restore(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 644:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1798              		.loc 1 644 1
 1799              		.cfi_startproc
 1800              		@ args = 0, pretend = 0, frame = 8
 1801              		@ frame_needed = 1, uses_anonymous_args = 0
 1802              		@ link register save eliminated.
 1803 0000 04B02DE5 		str	fp, [sp, #-4]!
 1804              		.cfi_def_cfa_offset 4
 1805              		.cfi_offset 11, -4
 1806 0004 00B08DE2 		add	fp, sp, #0
 1807              		.cfi_def_cfa_register 11
 1808 0008 0CD04DE2 		sub	sp, sp, #12
 1809 000c 08000BE5 		str	r0, [fp, #-8]
 1810 0010 0C100BE5 		str	r1, [fp, #-12]
 645:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 646:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1811              		.loc 1 646 1
 1812 0014 00F020E3 		nop
 1813 0018 00D08BE2 		add	sp, fp, #0
 1814              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 45


 1815              		@ sp needed
 1816 001c 04B09DE4 		ldr	fp, [sp], #4
 1817              		.cfi_restore 11
 1818              		.cfi_def_cfa_offset 0
 1819 0020 1EFF2FE1 		bx	lr
 1820              		.cfi_endproc
 1821              	.LFE21:
 1823              		.section	.text.__RME_Inv_Reg_Save,"ax",%progbits
 1824              		.align	2
 1825              		.global	__RME_Inv_Reg_Save
 1826              		.syntax unified
 1827              		.arm
 1829              	__RME_Inv_Reg_Save:
 1830              	.LFB22:
 647:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Restore ****************************************/
 648:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 649:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Save ************************************************
 650:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the necessary registers on invocation for returning. Only the
 651:../../Source/Platform/A7A/rme_platform_a7a.c ****               registers that will influence program control flow will be saved.
 652:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 653:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Iret_Struct* Ret - The invocation return register context.
 654:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 655:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 656:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Save(struct RME_Iret_Struct* Ret, struct RME_Reg_Struct* Reg)
 657:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1831              		.loc 1 657 1
 1832              		.cfi_startproc
 1833              		@ args = 0, pretend = 0, frame = 8
 1834              		@ frame_needed = 1, uses_anonymous_args = 0
 1835              		@ link register save eliminated.
 1836 0000 04B02DE5 		str	fp, [sp, #-4]!
 1837              		.cfi_def_cfa_offset 4
 1838              		.cfi_offset 11, -4
 1839 0004 00B08DE2 		add	fp, sp, #0
 1840              		.cfi_def_cfa_register 11
 1841 0008 0CD04DE2 		sub	sp, sp, #12
 1842 000c 08000BE5 		str	r0, [fp, #-8]
 1843 0010 0C100BE5 		str	r1, [fp, #-12]
 658:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->PC=Reg->PC;
 1844              		.loc 1 658 16
 1845 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1846 0018 3C2093E5 		ldr	r2, [r3, #60]
 1847              		.loc 1 658 12
 1848 001c 08301BE5 		ldr	r3, [fp, #-8]
 1849 0020 002083E5 		str	r2, [r3]
 659:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->SP=Reg->SP;
 1850              		.loc 1 659 16
 1851 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1852 0028 342093E5 		ldr	r2, [r3, #52]
 1853              		.loc 1 659 12
 1854 002c 08301BE5 		ldr	r3, [fp, #-8]
 1855 0030 042083E5 		str	r2, [r3, #4]
 660:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1856              		.loc 1 660 1
 1857 0034 00F020E3 		nop
 1858 0038 00D08BE2 		add	sp, fp, #0
 1859              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 46


 1860              		@ sp needed
 1861 003c 04B09DE4 		ldr	fp, [sp], #4
 1862              		.cfi_restore 11
 1863              		.cfi_def_cfa_offset 0
 1864 0040 1EFF2FE1 		bx	lr
 1865              		.cfi_endproc
 1866              	.LFE22:
 1868              		.section	.text.__RME_Inv_Reg_Restore,"ax",%progbits
 1869              		.align	2
 1870              		.global	__RME_Inv_Reg_Restore
 1871              		.syntax unified
 1872              		.arm
 1874              	__RME_Inv_Reg_Restore:
 1875              	.LFB23:
 661:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Save *******************************************/
 662:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 663:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Restore *********************************************
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the necessary registers for returning from an invocation.
 665:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Iret_Struct* Ret - The invocation return register context.
 666:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 667:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 668:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 669:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Restore(struct RME_Reg_Struct* Reg, struct RME_Iret_Struct* Ret)
 670:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1876              		.loc 1 670 1
 1877              		.cfi_startproc
 1878              		@ args = 0, pretend = 0, frame = 8
 1879              		@ frame_needed = 1, uses_anonymous_args = 0
 1880              		@ link register save eliminated.
 1881 0000 04B02DE5 		str	fp, [sp, #-4]!
 1882              		.cfi_def_cfa_offset 4
 1883              		.cfi_offset 11, -4
 1884 0004 00B08DE2 		add	fp, sp, #0
 1885              		.cfi_def_cfa_register 11
 1886 0008 0CD04DE2 		sub	sp, sp, #12
 1887 000c 08000BE5 		str	r0, [fp, #-8]
 1888 0010 0C100BE5 		str	r1, [fp, #-12]
 671:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Ret->PC;
 1889              		.loc 1 671 16
 1890 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1891 0018 002093E5 		ldr	r2, [r3]
 1892              		.loc 1 671 12
 1893 001c 08301BE5 		ldr	r3, [fp, #-8]
 1894 0020 3C2083E5 		str	r2, [r3, #60]
 672:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Ret->SP;
 1895              		.loc 1 672 16
 1896 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1897 0028 042093E5 		ldr	r2, [r3, #4]
 1898              		.loc 1 672 12
 1899 002c 08301BE5 		ldr	r3, [fp, #-8]
 1900 0030 342083E5 		str	r2, [r3, #52]
 673:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1901              		.loc 1 673 1
 1902 0034 00F020E3 		nop
 1903 0038 00D08BE2 		add	sp, fp, #0
 1904              		.cfi_def_cfa_register 13
 1905              		@ sp needed
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 47


 1906 003c 04B09DE4 		ldr	fp, [sp], #4
 1907              		.cfi_restore 11
 1908              		.cfi_def_cfa_offset 0
 1909 0040 1EFF2FE1 		bx	lr
 1910              		.cfi_endproc
 1911              	.LFE23:
 1913              		.section	.text.__RME_Inv_Retval_Set,"ax",%progbits
 1914              		.align	2
 1915              		.global	__RME_Inv_Retval_Set
 1916              		.syntax unified
 1917              		.arm
 1919              	__RME_Inv_Retval_Set:
 1920              	.LFB24:
 674:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Restore ****************************************/
 675:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 676:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Retval_Set **********************************************
 677:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 679:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 680:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 681:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 682:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Retval_Set(struct RME_Reg_Struct* Reg,
 683:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ret_t Retval)
 684:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1921              		.loc 1 684 1
 1922              		.cfi_startproc
 1923              		@ args = 0, pretend = 0, frame = 8
 1924              		@ frame_needed = 1, uses_anonymous_args = 0
 1925              		@ link register save eliminated.
 1926 0000 04B02DE5 		str	fp, [sp, #-4]!
 1927              		.cfi_def_cfa_offset 4
 1928              		.cfi_offset 11, -4
 1929 0004 00B08DE2 		add	fp, sp, #0
 1930              		.cfi_def_cfa_register 11
 1931 0008 0CD04DE2 		sub	sp, sp, #12
 1932 000c 08000BE5 		str	r0, [fp, #-8]
 1933 0010 0C100BE5 		str	r1, [fp, #-12]
 685:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R5=(rme_ptr_t)Retval;
 1934              		.loc 1 685 13
 1935 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1936              		.loc 1 685 12
 1937 0018 08301BE5 		ldr	r3, [fp, #-8]
 1938 001c 182083E5 		str	r2, [r3, #24]
 686:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1939              		.loc 1 686 1
 1940 0020 00F020E3 		nop
 1941 0024 00D08BE2 		add	sp, fp, #0
 1942              		.cfi_def_cfa_register 13
 1943              		@ sp needed
 1944 0028 04B09DE4 		ldr	fp, [sp], #4
 1945              		.cfi_restore 11
 1946              		.cfi_def_cfa_offset 0
 1947 002c 1EFF2FE1 		bx	lr
 1948              		.cfi_endproc
 1949              	.LFE24:
 1951              		.section	.text.__RME_Set_Inv_Retval,"ax",%progbits
 1952              		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 48


 1953              		.global	__RME_Set_Inv_Retval
 1954              		.syntax unified
 1955              		.arm
 1957              	__RME_Set_Inv_Retval:
 1958              	.LFB25:
 687:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Retval_Set *****************************************/
 688:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 689:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Inv_Retval **********************************************
 690:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 691:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 693:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 694:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 695:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Set_Inv_Retval(struct RME_Reg_Struct* Reg, rme_ret_t Retval)
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1959              		.loc 1 696 1
 1960              		.cfi_startproc
 1961              		@ args = 0, pretend = 0, frame = 8
 1962              		@ frame_needed = 1, uses_anonymous_args = 0
 1963              		@ link register save eliminated.
 1964 0000 04B02DE5 		str	fp, [sp, #-4]!
 1965              		.cfi_def_cfa_offset 4
 1966              		.cfi_offset 11, -4
 1967 0004 00B08DE2 		add	fp, sp, #0
 1968              		.cfi_def_cfa_register 11
 1969 0008 0CD04DE2 		sub	sp, sp, #12
 1970 000c 08000BE5 		str	r0, [fp, #-8]
 1971 0010 0C100BE5 		str	r1, [fp, #-12]
 697:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R1=(rme_ptr_t)Retval;
 1972              		.loc 1 697 13
 1973 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1974              		.loc 1 697 12
 1975 0018 08301BE5 		ldr	r3, [fp, #-8]
 1976 001c 082083E5 		str	r2, [r3, #8]
 698:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1977              		.loc 1 698 1
 1978 0020 00F020E3 		nop
 1979 0024 00D08BE2 		add	sp, fp, #0
 1980              		.cfi_def_cfa_register 13
 1981              		@ sp needed
 1982 0028 04B09DE4 		ldr	fp, [sp], #4
 1983              		.cfi_restore 11
 1984              		.cfi_def_cfa_offset 0
 1985 002c 1EFF2FE1 		bx	lr
 1986              		.cfi_endproc
 1987              	.LFE25:
 1989              		.section	.text.__RME_Thd_Cop_Swap,"ax",%progbits
 1990              		.align	2
 1991              		.global	__RME_Thd_Cop_Swap
 1992              		.syntax unified
 1993              		.arm
 1995              	__RME_Thd_Cop_Swap:
 1996              	.LFB26:
 699:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Inv_Retval *****************************************/
 700:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 701:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Swap ************************************************
 702:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Swap the cop register sets. This operation is flexible - If the
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 49


 703:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save/restore its context.
 704:../../Source/Platform/A7A/rme_platform_a7a.c ****               We do not need to turn off lazy stacking, because even if a fault
 705:../../Source/Platform/A7A/rme_platform_a7a.c ****               occurs, it (1) tails the execution of activates the will get dropped
 706:../../Source/Platform/A7A/rme_platform_a7a.c ****               by our handler deliberately and will not cause wrong attribution.
 707:../../Source/Platform/A7A/rme_platform_a7a.c ****               They can be alternatively disabled as well if you wish.
 708:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Attr_New - The attribute of the context to switch to.
 709:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_New - Whether the context to switch to is a
 710:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 711:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_New - The context to switch to.
 712:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Attr_Cur - The attribute of the context to switch from.
 713:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_Cur - Whether the context to switch from is a
 714:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 715:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_Cur - The context to switch from.
 716:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : void* Cop_New - The coprocessor context to switch to.
 717:../../Source/Platform/A7A/rme_platform_a7a.c ****               void* Cop_Cur - The coprocessor context to switch from.
 718:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 719:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 720:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Swap(rme_ptr_t Attr_New,
 721:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_New,
 722:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_New,
 723:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_New,
 724:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Attr_Cur,
 725:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_Cur,
 726:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_Cur,
 727:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_Cur)
 728:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1997              		.loc 1 728 1
 1998              		.cfi_startproc
 1999              		@ args = 16, pretend = 0, frame = 16
 2000              		@ frame_needed = 1, uses_anonymous_args = 0
 2001              		@ link register save eliminated.
 2002 0000 04B02DE5 		str	fp, [sp, #-4]!
 2003              		.cfi_def_cfa_offset 4
 2004              		.cfi_offset 11, -4
 2005 0004 00B08DE2 		add	fp, sp, #0
 2006              		.cfi_def_cfa_register 11
 2007 0008 14D04DE2 		sub	sp, sp, #20
 2008 000c 08000BE5 		str	r0, [fp, #-8]
 2009 0010 0C100BE5 		str	r1, [fp, #-12]
 2010 0014 10200BE5 		str	r2, [fp, #-16]
 2011 0018 14300BE5 		str	r3, [fp, #-20]
 729:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 730:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2012              		.loc 1 730 1
 2013 001c 00F020E3 		nop
 2014 0020 00D08BE2 		add	sp, fp, #0
 2015              		.cfi_def_cfa_register 13
 2016              		@ sp needed
 2017 0024 04B09DE4 		ldr	fp, [sp], #4
 2018              		.cfi_restore 11
 2019              		.cfi_def_cfa_offset 0
 2020 0028 1EFF2FE1 		bx	lr
 2021              		.cfi_endproc
 2022              	.LFE26:
 2024              		.section	.text.__RME_Kfn_Handler,"ax",%progbits
 2025              		.align	2
 2026              		.global	__RME_Kfn_Handler
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 50


 2027              		.syntax unified
 2028              		.arm
 2030              	__RME_Kfn_Handler:
 2031              	.LFB27:
 731:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Swap *******************************************/
 732:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 733:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Kern_Func_Handler *******************************************
 734:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Handle kernel function calls.
 735:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The current register set.
 736:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Func_ID - The function ID.
 737:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Sub_ID - The sub function ID.
 738:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param1 - The first parameter.
 739:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param2 - The second parameter.
 740:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 741:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - The value that the function returned.
 742:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 743:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Kfn_Handler(struct RME_Cap_Cpt* Cpt,
 744:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            struct RME_Reg_Struct* Reg,
 745:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Func_ID,
 746:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Sub_ID,
 747:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param1,
 748:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param2)
 749:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2032              		.loc 1 749 1
 2033              		.cfi_startproc
 2034              		@ args = 8, pretend = 0, frame = 16
 2035              		@ frame_needed = 1, uses_anonymous_args = 0
 2036              		@ link register save eliminated.
 2037 0000 04B02DE5 		str	fp, [sp, #-4]!
 2038              		.cfi_def_cfa_offset 4
 2039              		.cfi_offset 11, -4
 2040 0004 00B08DE2 		add	fp, sp, #0
 2041              		.cfi_def_cfa_register 11
 2042 0008 14D04DE2 		sub	sp, sp, #20
 2043 000c 08000BE5 		str	r0, [fp, #-8]
 2044 0010 0C100BE5 		str	r1, [fp, #-12]
 2045 0014 10200BE5 		str	r2, [fp, #-16]
 2046 0018 14300BE5 		str	r3, [fp, #-20]
 750:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Currently no kernel function implemented */
 751:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2047              		.loc 1 751 12
 2048 001c 0030A0E3 		mov	r3, #0
 752:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2049              		.loc 1 752 1
 2050 0020 0300A0E1 		mov	r0, r3
 2051 0024 00D08BE2 		add	sp, fp, #0
 2052              		.cfi_def_cfa_register 13
 2053              		@ sp needed
 2054 0028 04B09DE4 		ldr	fp, [sp], #4
 2055              		.cfi_restore 11
 2056              		.cfi_def_cfa_offset 0
 2057 002c 1EFF2FE1 		bx	lr
 2058              		.cfi_endproc
 2059              	.LFE27:
 2061              		.section	.text.__RME_A7A_Undefined_Handler,"ax",%progbits
 2062              		.align	2
 2063              		.global	__RME_A7A_Undefined_Handler
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 51


 2064              		.syntax unified
 2065              		.arm
 2067              	__RME_A7A_Undefined_Handler:
 2068              	.LFB28:
 753:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Kern_Func_Handler **************************************/
 754:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 755:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Undefined_Handler **************************************
 756:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The undefined instruction vector handler of RME.
 757:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 758:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 759:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 760:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 761:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Undefined_Handler(struct RME_Reg_Struct* Reg)
 762:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2069              		.loc 1 762 1
 2070              		.cfi_startproc
 2071              		@ args = 0, pretend = 0, frame = 8
 2072              		@ frame_needed = 1, uses_anonymous_args = 0
 2073              		@ link register save eliminated.
 2074 0000 04B02DE5 		str	fp, [sp, #-4]!
 2075              		.cfi_def_cfa_offset 4
 2076              		.cfi_offset 11, -4
 2077 0004 00B08DE2 		add	fp, sp, #0
 2078              		.cfi_def_cfa_register 11
 2079 0008 0CD04DE2 		sub	sp, sp, #12
 2080 000c 08000BE5 		str	r0, [fp, #-8]
 2081              	.L71:
 763:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle undefined instructions now */
 764:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2082              		.loc 1 764 7
 2083 0010 FEFFFFEA 		b	.L71
 2084              		.cfi_endproc
 2085              	.LFE28:
 2087              		.section	.text.__RME_A7A_Prefetch_Abort_Handler,"ax",%progbits
 2088              		.align	2
 2089              		.global	__RME_A7A_Prefetch_Abort_Handler
 2090              		.syntax unified
 2091              		.arm
 2093              	__RME_A7A_Prefetch_Abort_Handler:
 2094              	.LFB29:
 765:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 766:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Undefined_Handler *********************************/
 767:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 768:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Prefetch_Abort_Handler *********************************
 769:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The prefetch abort vector handler of RME.
 770:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 771:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 772:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 773:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 774:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Prefetch_Abort_Handler(struct RME_Reg_Struct* Reg)
 775:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2095              		.loc 1 775 1
 2096              		.cfi_startproc
 2097              		@ args = 0, pretend = 0, frame = 8
 2098              		@ frame_needed = 1, uses_anonymous_args = 0
 2099              		@ link register save eliminated.
 2100 0000 04B02DE5 		str	fp, [sp, #-4]!
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 52


 2101              		.cfi_def_cfa_offset 4
 2102              		.cfi_offset 11, -4
 2103 0004 00B08DE2 		add	fp, sp, #0
 2104              		.cfi_def_cfa_register 11
 2105 0008 0CD04DE2 		sub	sp, sp, #12
 2106 000c 08000BE5 		str	r0, [fp, #-8]
 2107              	.L73:
 776:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle prefetch aborts now */
 777:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2108              		.loc 1 777 7
 2109 0010 FEFFFFEA 		b	.L73
 2110              		.cfi_endproc
 2111              	.LFE29:
 2113              		.section	.text.__RME_A7A_Data_Abort_Handler,"ax",%progbits
 2114              		.align	2
 2115              		.global	__RME_A7A_Data_Abort_Handler
 2116              		.syntax unified
 2117              		.arm
 2119              	__RME_A7A_Data_Abort_Handler:
 2120              	.LFB30:
 778:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 779:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Prefetch_Abort_Handler ****************************/
 780:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 781:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Data_Abort_Handler *************************************
 782:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The data abort vector handler of RME.
 783:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 784:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 785:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 786:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 787:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Data_Abort_Handler(struct RME_Reg_Struct* Reg)
 788:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2121              		.loc 1 788 1
 2122              		.cfi_startproc
 2123              		@ args = 0, pretend = 0, frame = 8
 2124              		@ frame_needed = 1, uses_anonymous_args = 0
 2125              		@ link register save eliminated.
 2126 0000 04B02DE5 		str	fp, [sp, #-4]!
 2127              		.cfi_def_cfa_offset 4
 2128              		.cfi_offset 11, -4
 2129 0004 00B08DE2 		add	fp, sp, #0
 2130              		.cfi_def_cfa_register 11
 2131 0008 0CD04DE2 		sub	sp, sp, #12
 2132 000c 08000BE5 		str	r0, [fp, #-8]
 2133              	.L75:
 789:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle data aborts now */
 790:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2134              		.loc 1 790 7
 2135 0010 FEFFFFEA 		b	.L75
 2136              		.cfi_endproc
 2137              	.LFE30:
 2139              		.section	.rodata
 2140              		.align	2
 2141              	.LC21:
 2142 0228 0D0A494E 		.ascii	"\015\012INT_ID is \000"
 2142      545F4944 
 2142      20697320 
 2142      00
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 53


 2143              		.section	.text.__RME_A7A_IRQ_Handler,"ax",%progbits
 2144              		.align	2
 2145              		.global	__RME_A7A_IRQ_Handler
 2146              		.syntax unified
 2147              		.arm
 2149              	__RME_A7A_IRQ_Handler:
 2150              	.LFB31:
 791:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 792:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Data_Abort_Handler ********************************/
 793:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 794:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_IRQ_Handler ********************************************
 795:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The regular interrupt vector handler of RME.
 796:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 797:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 798:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 799:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 800:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_IRQ_Handler(struct RME_Reg_Struct* Reg)
 801:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2151              		.loc 1 801 1
 2152              		.cfi_startproc
 2153              		@ args = 0, pretend = 0, frame = 16
 2154              		@ frame_needed = 1, uses_anonymous_args = 0
 2155 0000 00482DE9 		push	{fp, lr}
 2156              		.cfi_def_cfa_offset 8
 2157              		.cfi_offset 11, -8
 2158              		.cfi_offset 14, -4
 2159 0004 04B08DE2 		add	fp, sp, #4
 2160              		.cfi_def_cfa 11, 4
 2161 0008 10D04DE2 		sub	sp, sp, #16
 2162 000c 10000BE5 		str	r0, [fp, #-16]
 802:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t Int_ID;
 803:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t CPUID;
 804:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 805:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* What interrupt is this? */
 806:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID=RME_A7A_GICC_IAR;
 2163              		.loc 1 806 9
 2164 0010 433FA0E3 		mov	r3, #268
 2165 0014 F0384FE3 		movt	r3, 63728
 2166              		.loc 1 806 8
 2167 0018 003093E5 		ldr	r3, [r3]
 2168 001c 08300BE5 		str	r3, [fp, #-8]
 807:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 2169              		.loc 1 807 7
 2170 0020 08301BE5 		ldr	r3, [fp, #-8]
 2171 0024 2335A0E1 		lsr	r3, r3, #10
 2172 0028 0C300BE5 		str	r3, [fp, #-12]
 808:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID&=0x3FFU;
 2173              		.loc 1 808 8
 2174 002c 08301BE5 		ldr	r3, [fp, #-8]
 2175 0030 5330E9E7 		ubfx	r3, r3, #0, #10
 2176 0034 08300BE5 		str	r3, [fp, #-8]
 809:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nINT_ID is ");
 2177              		.loc 1 809 5
 2178 0038 000000E3 		movw	r0, #:lower16:.LC21
 2179 003c 000040E3 		movt	r0, #:upper16:.LC21
 2180 0040 FEFFFFEB 		bl	RME_Str_Print
 810:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_I(Int_ID);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 54


 2181              		.loc 1 810 2
 2182 0044 08301BE5 		ldr	r3, [fp, #-8]
 2183 0048 0300A0E1 		mov	r0, r3
 2184 004c FEFFFFEB 		bl	RME_Int_Print
 811:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 812:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 813:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a spurious interrupt? (Can't be 1022 because GICv1 don't have group1) */
 814:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(Int_ID!=1022);
 2185              		.loc 1 814 2
 2186 0050 08301BE5 		ldr	r3, [fp, #-8]
 2187 0054 FE2300E3 		movw	r2, #1022
 2188 0058 020053E1 		cmp	r3, r2
 2189 005c 0800001A 		bne	.L77
 2190              		.loc 1 814 2 is_stmt 0 discriminator 1
 2191 0060 003000E3 		movw	r3, #:lower16:.LC13
 2192 0064 003040E3 		movt	r3, #:upper16:.LC13
 2193 0068 002000E3 		movw	r2, #:lower16:.LC14
 2194 006c 002040E3 		movt	r2, #:upper16:.LC14
 2195 0070 2E1300E3 		movw	r1, #814
 2196 0074 000000E3 		movw	r0, #:lower16:.LC15
 2197 0078 000040E3 		movt	r0, #:upper16:.LC15
 2198 007c FEFFFFEB 		bl	RME_Log
 2199              	.L78:
 2200              		.loc 1 814 2
 2201 0080 FEFFFFEA 		b	.L78
 2202              	.L77:
 815:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 2203              		.loc 1 815 4 is_stmt 1
 2204 0084 08301BE5 		ldr	r3, [fp, #-8]
 2205 0088 FF2300E3 		movw	r2, #1023
 2206 008c 020053E1 		cmp	r3, r2
 2207 0090 3D00000A 		beq	.L87
 816:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 817:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 818:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 819:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 820:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is is an timer interrupt? (we know that it is at 29) */
 821:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==29)
 2208              		.loc 1 821 4
 2209 0094 08301BE5 		ldr	r3, [fp, #-8]
 2210 0098 1D0053E3 		cmp	r3, #29
 2211 009c 0B00001A 		bne	.L81
 822:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 823:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Clear the interrupt flag */
 824:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    RME_A7A_PTWD_PTISR=0;
 2212              		.loc 1 824 6
 2213 00a0 0C3600E3 		movw	r3, #1548
 2214 00a4 F0384FE3 		movt	r3, 63728
 2215              		.loc 1 824 24
 2216 00a8 0020A0E3 		mov	r2, #0
 2217 00ac 002083E5 		str	r2, [r3]
 825:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 826:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    _RME_Tim_Handler(Reg,1);
 2218              		.loc 1 826 6
 2219 00b0 0110A0E3 		mov	r1, #1
 2220 00b4 10001BE5 		ldr	r0, [fp, #-16]
 2221 00b8 FEFFFFEB 		bl	_RME_Tim_Handler
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 55


 827:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Send interrupt to all other processors to notify them about this */
 828:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 829:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 2222              		.loc 1 829 3
 2223 00bc 113EA0E3 		mov	r3, #272
 2224 00c0 F0384FE3 		movt	r3, 63728
 2225              		.loc 1 829 20
 2226 00c4 08201BE5 		ldr	r2, [fp, #-8]
 2227 00c8 002083E5 		str	r2, [r3]
 830:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2228              		.loc 1 830 3
 2229 00cc 2F0000EA 		b	.L76
 2230              	.L81:
 831:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 832:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 833:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 834:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 835:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 836:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 837:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 838:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 839:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a coprocessor timer interrupt? (We use interrupt number 0 for these) */
 840:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==0)
 2231              		.loc 1 840 4
 2232 00d0 08301BE5 		ldr	r3, [fp, #-8]
 2233 00d4 000053E3 		cmp	r3, #0
 2234 00d8 1000001A 		bne	.L82
 841:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 842:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* This must have originated from interface 0 */
 843:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(CPUID==0);
 2235              		.loc 1 843 3
 2236 00dc 0C301BE5 		ldr	r3, [fp, #-12]
 2237 00e0 000053E3 		cmp	r3, #0
 2238 00e4 0800000A 		beq	.L83
 2239              		.loc 1 843 3 is_stmt 0 discriminator 1
 2240 00e8 003000E3 		movw	r3, #:lower16:.LC13
 2241 00ec 003040E3 		movt	r3, #:upper16:.LC13
 2242 00f0 002000E3 		movw	r2, #:lower16:.LC14
 2243 00f4 002040E3 		movt	r2, #:upper16:.LC14
 2244 00f8 4B1300E3 		movw	r1, #843
 2245 00fc 000000E3 		movw	r0, #:lower16:.LC15
 2246 0100 000040E3 		movt	r0, #:upper16:.LC15
 2247 0104 FEFFFFEB 		bl	RME_Log
 2248              	.L84:
 2249              		.loc 1 843 3
 2250 0108 FEFFFFEA 		b	.L84
 2251              	.L83:
 844:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 845:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 846:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 2252              		.loc 1 846 3 is_stmt 1
 2253 010c 113EA0E3 		mov	r3, #272
 2254 0110 F0384FE3 		movt	r3, 63728
 2255              		.loc 1 846 20
 2256 0114 08201BE5 		ldr	r2, [fp, #-8]
 2257 0118 002083E5 		str	r2, [r3]
 847:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 56


 2258              		.loc 1 847 3
 2259 011c 1B0000EA 		b	.L76
 2260              	.L82:
 848:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 849:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 850:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an other IPI? (All the rest of the SGIs are these) */
 851:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID<16)
 2261              		.loc 1 851 4
 2262 0120 08301BE5 		ldr	r3, [fp, #-8]
 2263 0124 0F0053E3 		cmp	r3, #15
 2264 0128 0B00008A 		bhi	.L85
 852:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 853:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_A7A_SGI_Handler(Reg,CPUID,Int_ID);
 2265              		.loc 1 853 3
 2266 012c 08201BE5 		ldr	r2, [fp, #-8]
 2267 0130 0C101BE5 		ldr	r1, [fp, #-12]
 2268 0134 10001BE5 		ldr	r0, [fp, #-16]
 2269 0138 FEFFFFEB 		bl	_RME_A7A_SGI_Handler
 854:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 855:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=(CPUID<<10U)|Int_ID;
 2270              		.loc 1 855 27
 2271 013c 0C301BE5 		ldr	r3, [fp, #-12]
 2272 0140 0315A0E1 		lsl	r1, r3, #10
 2273              		.loc 1 855 3
 2274 0144 113EA0E3 		mov	r3, #272
 2275 0148 F0384FE3 		movt	r3, 63728
 2276              		.loc 1 855 33
 2277 014c 08201BE5 		ldr	r2, [fp, #-8]
 2278 0150 022081E1 		orr	r2, r1, r2
 2279              		.loc 1 855 20
 2280 0154 002083E5 		str	r2, [r3]
 856:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2281              		.loc 1 856 3
 2282 0158 0C0000EA 		b	.L76
 2283              	.L85:
 857:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 858:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 859:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an casual interrupt? */
 860:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(CPUID==0);
 2284              		.loc 1 860 2
 2285 015c 0C301BE5 		ldr	r3, [fp, #-12]
 2286 0160 000053E3 		cmp	r3, #0
 2287 0164 0900000A 		beq	.L76
 2288              		.loc 1 860 2 is_stmt 0 discriminator 1
 2289 0168 003000E3 		movw	r3, #:lower16:.LC13
 2290 016c 003040E3 		movt	r3, #:upper16:.LC13
 2291 0170 002000E3 		movw	r2, #:lower16:.LC14
 2292 0174 002040E3 		movt	r2, #:upper16:.LC14
 2293 0178 D71FA0E3 		mov	r1, #860
 2294 017c 000000E3 		movw	r0, #:lower16:.LC15
 2295 0180 000040E3 		movt	r0, #:upper16:.LC15
 2296 0184 FEFFFFEB 		bl	RME_Log
 2297              	.L86:
 2298              		.loc 1 860 2
 2299 0188 FEFFFFEA 		b	.L86
 2300              	.L87:
 816:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 57


 2301              		.loc 1 816 3 is_stmt 1
 2302 018c 00F020E3 		nop
 2303              	.L76:
 861:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 862:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2304              		.loc 1 862 1
 2305 0190 04D04BE2 		sub	sp, fp, #4
 2306              		.cfi_def_cfa 13, 8
 2307              		@ sp needed
 2308 0194 0088BDE8 		pop	{fp, pc}
 2309              		.cfi_endproc
 2310              	.LFE31:
 2312              		.section	.text._RME_A7A_SGI_Handler,"ax",%progbits
 2313              		.align	2
 2314              		.global	_RME_A7A_SGI_Handler
 2315              		.syntax unified
 2316              		.arm
 2318              	_RME_A7A_SGI_Handler:
 2319              	.LFB32:
 863:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_IRQ_Handler ***************************************/
 864:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 865:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:_RME_A7A_SGI_Handler *********************************************
 866:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for x64.
 867:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 868:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t CPUID - The ID of the sender CPU.
 869:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_ID - The ID of the SGI.
 870:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 871:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 872:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 873:../../Source/Platform/A7A/rme_platform_a7a.c **** void _RME_A7A_SGI_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t CPUID, rme_ptr_t Int_ID)
 874:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2320              		.loc 1 874 1
 2321              		.cfi_startproc
 2322              		@ args = 0, pretend = 0, frame = 16
 2323              		@ frame_needed = 1, uses_anonymous_args = 0
 2324              		@ link register save eliminated.
 2325 0000 04B02DE5 		str	fp, [sp, #-4]!
 2326              		.cfi_def_cfa_offset 4
 2327              		.cfi_offset 11, -4
 2328 0004 00B08DE2 		add	fp, sp, #0
 2329              		.cfi_def_cfa_register 11
 2330 0008 14D04DE2 		sub	sp, sp, #20
 2331 000c 08000BE5 		str	r0, [fp, #-8]
 2332 0010 0C100BE5 		str	r1, [fp, #-12]
 2333 0014 10200BE5 		str	r2, [fp, #-16]
 875:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Not handling SGIs */
 876:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return;
 2334              		.loc 1 876 2
 2335 0018 00F020E3 		nop
 877:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2336              		.loc 1 877 1
 2337 001c 00D08BE2 		add	sp, fp, #0
 2338              		.cfi_def_cfa_register 13
 2339              		@ sp needed
 2340 0020 04B09DE4 		ldr	fp, [sp], #4
 2341              		.cfi_restore 11
 2342              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 58


 2343 0024 1EFF2FE1 		bx	lr
 2344              		.cfi_endproc
 2345              	.LFE32:
 2347              		.section	.rodata
 2348 0235 000000   		.align	2
 2349              	.LC22:
 2350 0238 0D0A4765 		.ascii	"\015\012General int:\000"
 2350      6E657261 
 2350      6C20696E 
 2350      743A00
 2351              		.section	.text.__RME_A7A_Generic_Handler,"ax",%progbits
 2352              		.align	2
 2353              		.global	__RME_A7A_Generic_Handler
 2354              		.syntax unified
 2355              		.arm
 2357              	__RME_A7A_Generic_Handler:
 2358              	.LFB33:
 878:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:_RME_A7A_SGI_Handler ****************************************/
 879:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 880:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Generic_Handler ****************************************
 881:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for Cortex-A (ARMv7).
 882:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 883:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_Num - The interrupt number.
 884:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 885:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 886:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 887:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Generic_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t Int_Num)
 888:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2359              		.loc 1 888 1
 2360              		.cfi_startproc
 2361              		@ args = 0, pretend = 0, frame = 8
 2362              		@ frame_needed = 1, uses_anonymous_args = 0
 2363 0000 00482DE9 		push	{fp, lr}
 2364              		.cfi_def_cfa_offset 8
 2365              		.cfi_offset 11, -8
 2366              		.cfi_offset 14, -4
 2367 0004 04B08DE2 		add	fp, sp, #4
 2368              		.cfi_def_cfa 11, 4
 2369 0008 08D04DE2 		sub	sp, sp, #8
 2370 000c 08000BE5 		str	r0, [fp, #-8]
 2371 0010 0C100BE5 		str	r1, [fp, #-12]
 889:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 890:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nGeneral int:");
 2372              		.loc 1 890 5
 2373 0014 000000E3 		movw	r0, #:lower16:.LC22
 2374 0018 000040E3 		movt	r0, #:upper16:.LC22
 2375 001c FEFFFFEB 		bl	RME_Str_Print
 891:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 2376              		.loc 1 891 5
 2377 0020 0C301BE5 		ldr	r3, [fp, #-12]
 2378 0024 0300A0E1 		mov	r0, r3
 2379 0028 FEFFFFEB 		bl	RME_Int_Print
 892:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 893:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling anything */
 894:../../Source/Platform/A7A/rme_platform_a7a.c ****     switch(Int_Num)
 895:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 896:../../Source/Platform/A7A/rme_platform_a7a.c ****         default:break;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 59


 2380              		.loc 1 896 17
 2381 002c 00F020E3 		nop
 897:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 898:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Remember to perform context switch after any kernel sends */
 899:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2382              		.loc 1 899 1
 2383 0030 00F020E3 		nop
 2384 0034 04D04BE2 		sub	sp, fp, #4
 2385              		.cfi_def_cfa 13, 8
 2386              		@ sp needed
 2387 0038 0088BDE8 		pop	{fp, pc}
 2388              		.cfi_endproc
 2389              	.LFE33:
 2391              		.section	.rodata
 2392 0247 00       		.align	2
 2393              	.LC23:
 2394 0248 0D0A5F5F 		.ascii	"\015\012__RME_Pgt_Set\000"
 2394      524D455F 
 2394      5067745F 
 2394      53657400 
 2395              		.align	2
 2396              	.LC24:
 2397 0258 0D0A4E6F 		.ascii	"\015\012Normal memory\000"
 2397      726D616C 
 2397      206D656D 
 2397      6F727900 
 2398              		.align	2
 2399              	.LC25:
 2400 0268 0D0A4465 		.ascii	"\015\012Device memory 1\000"
 2400      76696365 
 2400      206D656D 
 2400      6F727920 
 2400      3100
 2401 027a 0000     		.align	2
 2402              	.LC26:
 2403 027c 0D0A4465 		.ascii	"\015\012Device memory 2\000"
 2403      76696365 
 2403      206D656D 
 2403      6F727920 
 2403      3200
 2404              		.section	.text.__RME_Pgt_Set,"ax",%progbits
 2405              		.align	2
 2406              		.global	__RME_Pgt_Set
 2407              		.syntax unified
 2408              		.arm
 2410              	__RME_Pgt_Set:
 2411              	.LFB34:
 900:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Generic_Handler ***********************************/
 901:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 902:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Set ***************************************************
 903:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the processor's page table.
 904:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Pgt - The virtual address of the page table.
 905:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 906:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 907:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 908:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Pgt_Set(struct RME_Cap_Pgt* Pgt)
 909:../../Source/Platform/A7A/rme_platform_a7a.c **** {
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 60


 2412              		.loc 1 909 1
 2413              		.cfi_startproc
 2414              		@ args = 0, pretend = 0, frame = 16
 2415              		@ frame_needed = 1, uses_anonymous_args = 0
 2416 0000 00482DE9 		push	{fp, lr}
 2417              		.cfi_def_cfa_offset 8
 2418              		.cfi_offset 11, -8
 2419              		.cfi_offset 14, -4
 2420 0004 04B08DE2 		add	fp, sp, #4
 2421              		.cfi_def_cfa 11, 4
 2422 0008 10D04DE2 		sub	sp, sp, #16
 2423 000c 10000BE5 		str	r0, [fp, #-16]
 910:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Count;
 911:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\n__RME_Pgt_Set");
 2424              		.loc 1 911 5
 2425 0010 000000E3 		movw	r0, #:lower16:.LC23
 2426 0014 000040E3 		movt	r0, #:upper16:.LC23
 2427 0018 FEFFFFEB 		bl	RME_Str_Print
 912:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Normal memory, 1GiB 0x00000000 -> 0x00000000 */
 913:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x400U;Count++)
 2428              		.loc 1 913 14
 2429 001c 0030A0E3 		mov	r3, #0
 2430 0020 08300BE5 		str	r3, [fp, #-8]
 2431              		.loc 1 913 5
 2432 0024 140000EA 		b	.L92
 2433              	.L95:
 914:../../Source/Platform/A7A/rme_platform_a7a.c ****     //for(Count=0U;Count<0x3U;Count++)
 915:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 916:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(__RME_Pgt_Page_Map(Pgt,
 2434              		.loc 1 916 3
 2435 0028 08301BE5 		ldr	r3, [fp, #-8]
 2436 002c 031AA0E1 		lsl	r1, r3, #20
 2437 0030 1F30A0E3 		mov	r3, #31
 2438 0034 08201BE5 		ldr	r2, [fp, #-8]
 2439 0038 10001BE5 		ldr	r0, [fp, #-16]
 2440 003c FEFFFFEB 		bl	__RME_Pgt_Page_Map
 2441 0040 0030A0E1 		mov	r3, r0
 2442              		.loc 1 916 3 is_stmt 0 discriminator 1
 2443 0044 000053E3 		cmp	r3, #0
 2444 0048 0800000A 		beq	.L93
 2445 004c 003000E3 		movw	r3, #:lower16:.LC13
 2446 0050 003040E3 		movt	r3, #:upper16:.LC13
 2447 0054 002000E3 		movw	r2, #:lower16:.LC14
 2448 0058 002040E3 		movt	r2, #:upper16:.LC14
 2449 005c E51FA0E3 		mov	r1, #916
 2450 0060 000000E3 		movw	r0, #:lower16:.LC15
 2451 0064 000040E3 		movt	r0, #:upper16:.LC15
 2452 0068 FEFFFFEB 		bl	RME_Log
 2453              	.L94:
 2454              		.loc 1 916 3
 2455 006c FEFFFFEA 		b	.L94
 2456              	.L93:
 913:../../Source/Platform/A7A/rme_platform_a7a.c ****     //for(Count=0U;Count<0x3U;Count++)
 2457              		.loc 1 913 36 is_stmt 1 discriminator 2
 2458 0070 08301BE5 		ldr	r3, [fp, #-8]
 2459 0074 013083E2 		add	r3, r3, #1
 2460 0078 08300BE5 		str	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 61


 2461              	.L92:
 913:../../Source/Platform/A7A/rme_platform_a7a.c ****     //for(Count=0U;Count<0x3U;Count++)
 2462              		.loc 1 913 23 discriminator 1
 2463 007c 08301BE5 		ldr	r3, [fp, #-8]
 2464 0080 010B53E3 		cmp	r3, #1024
 2465 0084 E7FFFF3A 		bcc	.L95
 917:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 Count*RME_POW2(RME_PGT_SIZE_1M),
 918:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 Count,
 919:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      RME_PGT_ALL_DYN)==0);
 920:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 921:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nNormal memory");
 2466              		.loc 1 921 5
 2467 0088 000000E3 		movw	r0, #:lower16:.LC24
 2468 008c 000040E3 		movt	r0, #:upper16:.LC24
 2469 0090 FEFFFFEB 		bl	RME_Str_Print
 922:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Device memory 1, 512MiB 0x40000000 -> 0x40000000 */
 923:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 2470              		.loc 1 923 14
 2471 0094 0030A0E3 		mov	r3, #0
 2472 0098 08300BE5 		str	r3, [fp, #-8]
 2473              		.loc 1 923 5
 2474 009c 160000EA 		b	.L96
 2475              	.L99:
 924:../../Source/Platform/A7A/rme_platform_a7a.c ****     //for(Count=0U;Count<0x3U;Count++)
 925:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 926:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(__RME_Pgt_Page_Map(Pgt,
 2476              		.loc 1 926 3
 2477 00a0 08301BE5 		ldr	r3, [fp, #-8]
 2478 00a4 013B83E2 		add	r3, r3, #1024
 2479 00a8 031AA0E1 		lsl	r1, r3, #20
 2480 00ac 08301BE5 		ldr	r3, [fp, #-8]
 2481 00b0 012B83E2 		add	r2, r3, #1024
 2482 00b4 2330A0E3 		mov	r3, #35
 2483 00b8 10001BE5 		ldr	r0, [fp, #-16]
 2484 00bc FEFFFFEB 		bl	__RME_Pgt_Page_Map
 2485 00c0 0030A0E1 		mov	r3, r0
 2486              		.loc 1 926 3 is_stmt 0 discriminator 1
 2487 00c4 000053E3 		cmp	r3, #0
 2488 00c8 0800000A 		beq	.L97
 2489 00cc 003000E3 		movw	r3, #:lower16:.LC13
 2490 00d0 003040E3 		movt	r3, #:upper16:.LC13
 2491 00d4 002000E3 		movw	r2, #:lower16:.LC14
 2492 00d8 002040E3 		movt	r2, #:upper16:.LC14
 2493 00dc 9E1300E3 		movw	r1, #926
 2494 00e0 000000E3 		movw	r0, #:lower16:.LC15
 2495 00e4 000040E3 		movt	r0, #:upper16:.LC15
 2496 00e8 FEFFFFEB 		bl	RME_Log
 2497              	.L98:
 2498              		.loc 1 926 3
 2499 00ec FEFFFFEA 		b	.L98
 2500              	.L97:
 923:../../Source/Platform/A7A/rme_platform_a7a.c ****     //for(Count=0U;Count<0x3U;Count++)
 2501              		.loc 1 923 36 is_stmt 1 discriminator 2
 2502 00f0 08301BE5 		ldr	r3, [fp, #-8]
 2503 00f4 013083E2 		add	r3, r3, #1
 2504 00f8 08300BE5 		str	r3, [fp, #-8]
 2505              	.L96:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 62


 923:../../Source/Platform/A7A/rme_platform_a7a.c ****     //for(Count=0U;Count<0x3U;Count++)
 2506              		.loc 1 923 23 discriminator 1
 2507 00fc 08301BE5 		ldr	r3, [fp, #-8]
 2508 0100 020C53E3 		cmp	r3, #512
 2509 0104 E5FFFF3A 		bcc	.L99
 927:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x400U)*RME_POW2(RME_PGT_SIZE_1M),
 928:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x400U),
 929:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE|RME_PGT_STATIC)==0);
 930:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 931:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nDevice memory 1");
 2510              		.loc 1 931 5
 2511 0108 000000E3 		movw	r0, #:lower16:.LC25
 2512 010c 000040E3 		movt	r0, #:upper16:.LC25
 2513 0110 FEFFFFEB 		bl	RME_Str_Print
 932:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Device memory 2, 512MiB 0x60000000 -> 0xE0000000 */
 933:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 2514              		.loc 1 933 14
 2515 0114 0030A0E3 		mov	r3, #0
 2516 0118 08300BE5 		str	r3, [fp, #-8]
 2517              		.loc 1 933 5
 2518 011c 160000EA 		b	.L100
 2519              	.L103:
 934:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 935:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(__RME_Pgt_Page_Map(Pgt,
 2520              		.loc 1 935 3
 2521 0120 08301BE5 		ldr	r3, [fp, #-8]
 2522 0124 0E3C83E2 		add	r3, r3, #3584
 2523 0128 031AA0E1 		lsl	r1, r3, #20
 2524 012c 08301BE5 		ldr	r3, [fp, #-8]
 2525 0130 062C83E2 		add	r2, r3, #1536
 2526 0134 2330A0E3 		mov	r3, #35
 2527 0138 10001BE5 		ldr	r0, [fp, #-16]
 2528 013c FEFFFFEB 		bl	__RME_Pgt_Page_Map
 2529 0140 0030A0E1 		mov	r3, r0
 2530              		.loc 1 935 3 is_stmt 0 discriminator 1
 2531 0144 000053E3 		cmp	r3, #0
 2532 0148 0800000A 		beq	.L101
 2533 014c 003000E3 		movw	r3, #:lower16:.LC13
 2534 0150 003040E3 		movt	r3, #:upper16:.LC13
 2535 0154 002000E3 		movw	r2, #:lower16:.LC14
 2536 0158 002040E3 		movt	r2, #:upper16:.LC14
 2537 015c A71300E3 		movw	r1, #935
 2538 0160 000000E3 		movw	r0, #:lower16:.LC15
 2539 0164 000040E3 		movt	r0, #:upper16:.LC15
 2540 0168 FEFFFFEB 		bl	RME_Log
 2541              	.L102:
 2542              		.loc 1 935 3
 2543 016c FEFFFFEA 		b	.L102
 2544              	.L101:
 933:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 2545              		.loc 1 933 36 is_stmt 1 discriminator 2
 2546 0170 08301BE5 		ldr	r3, [fp, #-8]
 2547 0174 013083E2 		add	r3, r3, #1
 2548 0178 08300BE5 		str	r3, [fp, #-8]
 2549              	.L100:
 933:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 2550              		.loc 1 933 23 discriminator 1
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 63


 2551 017c 08301BE5 		ldr	r3, [fp, #-8]
 2552 0180 020C53E3 		cmp	r3, #512
 2553 0184 E5FFFF3A 		bcc	.L103
 936:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0xE00U)*RME_POW2(RME_PGT_SIZE_1M),
 937:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x600U),
 938:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE|RME_PGT_STATIC)==0);
 939:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 940:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nDevice memory 2");
 2554              		.loc 1 940 5
 2555 0188 000000E3 		movw	r0, #:lower16:.LC26
 2556 018c 000040E3 		movt	r0, #:upper16:.LC26
 2557 0190 FEFFFFEB 		bl	RME_Str_Print
 941:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 942:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 943:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2558              		.loc 1 943 1
 2559 0194 00F020E3 		nop
 2560 0198 04D04BE2 		sub	sp, fp, #4
 2561              		.cfi_def_cfa 13, 8
 2562              		@ sp needed
 2563 019c 0088BDE8 		pop	{fp, pc}
 2564              		.cfi_endproc
 2565              	.LFE34:
 2567              		.section	.rodata
 2568 028e 0000     		.align	2
 2569              	.LC27:
 2570 0290 0D0A7661 		.ascii	"\015\012vaddr= \000"
 2570      6464723D 
 2570      2000
 2571 029a 0000     		.align	2
 2572              	.LC28:
 2573 029c 0D0A7661 		.ascii	"\015\012vaddr error= \000"
 2573      64647220 
 2573      6572726F 
 2573      723D2000 
 2574              		.section	.text.__RME_Pgt_Check,"ax",%progbits
 2575              		.align	2
 2576              		.global	__RME_Pgt_Check
 2577              		.syntax unified
 2578              		.arm
 2580              	__RME_Pgt_Check:
 2581              	.LFB35:
 944:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Set **********************************************/
 945:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 946:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Check *************************************************
 947:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table parameters are feasible, according to the
 948:../../Source/Platform/A7A/rme_platform_a7a.c ****               parameters. This is only used in page table creation. The following
 949:../../Source/Platform/A7A/rme_platform_a7a.c ****               restrictions apply:
 950:../../Source/Platform/A7A/rme_platform_a7a.c **** 1. PAE is not supported by this port: if you have that much memory, use the Cortex-A
 951:../../Source/Platform/A7A/rme_platform_a7a.c ****    64-bit port instead. The translation scheme here is always:
 952:../../Source/Platform/A7A/rme_platform_a7a.c ****    4GB VA -> {Supersection, Section} -> {Large Page, Small Page}.
 953:../../Source/Platform/A7A/rme_platform_a7a.c ****    The supersection is described in ARMv7-AR ARM as optional, but is implemented on
 954:../../Source/Platform/A7A/rme_platform_a7a.c ****    all known ARMv7-A processors.
 955:../../Source/Platform/A7A/rme_platform_a7a.c ****    We only user TTBR0 here and we set value N to 0 as always. Using TTBR1 is nonsense
 956:../../Source/Platform/A7A/rme_platform_a7a.c ****    in our context, as it gives little benefit.
 957:../../Source/Platform/A7A/rme_platform_a7a.c **** 2. The ARM page tables have idiosyncrasy that allow two page size mappings to exist
 958:../../Source/Platform/A7A/rme_platform_a7a.c ****    in the same page table.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 64


 959:../../Source/Platform/A7A/rme_platform_a7a.c **** 3. ARM page tables use repetition when it comes to supersections and large pages.
 960:../../Source/Platform/A7A/rme_platform_a7a.c ****    This breaks our numorder-sizeorder assumption, and for this reason, we do not
 961:../../Source/Platform/A7A/rme_platform_a7a.c ****    support these two page sizes explicitly. These two sizes are supported by kernel
 962:../../Source/Platform/A7A/rme_platform_a7a.c ****    functions instead, and the kernel function always maps/unmaps the pages as needed
 963:../../Source/Platform/A7A/rme_platform_a7a.c ****    without checking for any permissions; this can be viewed as a hack, and require
 964:../../Source/Platform/A7A/rme_platform_a7a.c ****    some caution when we are mapping pages in.
 965:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Base - The start mapping address.
 966:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Top - The top-level flag,
 967:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Size_Order - The size order of the page directory.
 968:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Num_Order - The number order of the page directory.
 969:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address of the page directory.
 970:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 971:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 972:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 973:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Check(rme_ptr_t Base, rme_ptr_t Is_Top,
 974:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ptr_t Size_Order, rme_ptr_t Num_Order, rme_ptr_t Vaddr)
 975:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2582              		.loc 1 975 1
 2583              		.cfi_startproc
 2584              		@ args = 4, pretend = 0, frame = 16
 2585              		@ frame_needed = 1, uses_anonymous_args = 0
 2586 0000 00482DE9 		push	{fp, lr}
 2587              		.cfi_def_cfa_offset 8
 2588              		.cfi_offset 11, -8
 2589              		.cfi_offset 14, -4
 2590 0004 04B08DE2 		add	fp, sp, #4
 2591              		.cfi_def_cfa 11, 4
 2592 0008 10D04DE2 		sub	sp, sp, #16
 2593 000c 08000BE5 		str	r0, [fp, #-8]
 2594 0010 0C100BE5 		str	r1, [fp, #-12]
 2595 0014 10200BE5 		str	r2, [fp, #-16]
 2596 0018 14300BE5 		str	r3, [fp, #-20]
 976:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S("\r\nvaddr= ");
 2597              		.loc 1 976 2
 2598 001c 000000E3 		movw	r0, #:lower16:.LC27
 2599 0020 000040E3 		movt	r0, #:upper16:.LC27
 2600 0024 FEFFFFEB 		bl	RME_Str_Print
 977:../../Source/Platform/A7A/rme_platform_a7a.c **** 	        RME_DBG_H(Vaddr);
 2601              		.loc 1 977 10
 2602 0028 04009BE5 		ldr	r0, [fp, #4]
 2603 002c FEFFFFEB 		bl	RME_Hex_Print
 978:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Top-level - 1MiB pages, 4096 entries, 16KiB alignment */
 979:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Is_Top!=0)
 2604              		.loc 1 979 7
 2605 0030 0C301BE5 		ldr	r3, [fp, #-12]
 2606 0034 000053E3 		cmp	r3, #0
 2607 0038 1400000A 		beq	.L105
 980:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 981:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_1M)
 2608              		.loc 1 981 11
 2609 003c 10301BE5 		ldr	r3, [fp, #-16]
 2610 0040 140053E3 		cmp	r3, #20
 2611 0044 0100000A 		beq	.L106
 982:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2612              		.loc 1 982 20
 2613 0048 0030E0E3 		mvn	r3, #0
 2614 004c 200000EA 		b	.L107
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 65


 2615              	.L106:
 983:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_4K)
 2616              		.loc 1 983 11
 2617 0050 14301BE5 		ldr	r3, [fp, #-20]
 2618 0054 0C0053E3 		cmp	r3, #12
 2619 0058 0100000A 		beq	.L108
 984:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2620              		.loc 1 984 20
 2621 005c 0030E0E3 		mvn	r3, #0
 2622 0060 1B0000EA 		b	.L107
 2623              	.L108:
 985:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 2624              		.loc 1 985 18
 2625 0064 04309BE5 		ldr	r3, [fp, #4]
 2626 0068 5330EDE7 		ubfx	r3, r3, #0, #14
 2627              		.loc 1 985 11
 2628 006c 000053E3 		cmp	r3, #0
 2629 0070 1600000A 		beq	.L109
 986:../../Source/Platform/A7A/rme_platform_a7a.c ****         {
 987:../../Source/Platform/A7A/rme_platform_a7a.c ****             RME_DBG_S("\r\nvaddr error= ");
 2630              		.loc 1 987 13
 2631 0074 000000E3 		movw	r0, #:lower16:.LC28
 2632 0078 000040E3 		movt	r0, #:upper16:.LC28
 2633 007c FEFFFFEB 		bl	RME_Str_Print
 988:../../Source/Platform/A7A/rme_platform_a7a.c ****             RME_DBG_H(Vaddr);
 2634              		.loc 1 988 13
 2635 0080 04009BE5 		ldr	r0, [fp, #4]
 2636 0084 FEFFFFEB 		bl	RME_Hex_Print
 989:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2637              		.loc 1 989 20
 2638 0088 0030E0E3 		mvn	r3, #0
 2639 008c 100000EA 		b	.L107
 2640              	.L105:
 990:../../Source/Platform/A7A/rme_platform_a7a.c ****         }
 991:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 992:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Second-level - 4KiB pages, 256 entries, 1KiB alignment */
 993:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
 994:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 995:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_4K)
 2641              		.loc 1 995 11
 2642 0090 10301BE5 		ldr	r3, [fp, #-16]
 2643 0094 0C0053E3 		cmp	r3, #12
 2644 0098 0100000A 		beq	.L110
 996:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2645              		.loc 1 996 20
 2646 009c 0030E0E3 		mvn	r3, #0
 2647 00a0 0B0000EA 		b	.L107
 2648              	.L110:
 997:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_256)
 2649              		.loc 1 997 11
 2650 00a4 14301BE5 		ldr	r3, [fp, #-20]
 2651 00a8 080053E3 		cmp	r3, #8
 2652 00ac 0100000A 		beq	.L111
 998:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2653              		.loc 1 998 20
 2654 00b0 0030E0E3 		mvn	r3, #0
 2655 00b4 060000EA 		b	.L107
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 66


 2656              	.L111:
 999:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FF)!=0)
 2657              		.loc 1 999 18
 2658 00b8 04309BE5 		ldr	r3, [fp, #4]
 2659 00bc 5330E9E7 		ubfx	r3, r3, #0, #10
 2660              		.loc 1 999 11
 2661 00c0 000053E3 		cmp	r3, #0
 2662 00c4 0100000A 		beq	.L109
1000:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2663              		.loc 1 1000 20
 2664 00c8 0030E0E3 		mvn	r3, #0
 2665 00cc 000000EA 		b	.L107
 2666              	.L109:
1001:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1002:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1003:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2667              		.loc 1 1003 12
 2668 00d0 0030A0E3 		mov	r3, #0
 2669              	.L107:
1004:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2670              		.loc 1 1004 1
 2671 00d4 0300A0E1 		mov	r0, r3
 2672 00d8 04D04BE2 		sub	sp, fp, #4
 2673              		.cfi_def_cfa 13, 8
 2674              		@ sp needed
 2675 00dc 0088BDE8 		pop	{fp, pc}
 2676              		.cfi_endproc
 2677              	.LFE35:
 2679              		.section	.text.__RME_Pgt_Init,"ax",%progbits
 2680              		.align	2
 2681              		.global	__RME_Pgt_Init
 2682              		.syntax unified
 2683              		.arm
 2685              	__RME_Pgt_Init:
 2686              	.LFB36:
1005:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Check ********************************************/
1006:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1007:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Init **************************************************
1008:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the page table data structure, according to the capability.
1009:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
1010:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1011:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1012:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1013:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Init(struct RME_Cap_Pgt* Pgt_Op)
1014:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2687              		.loc 1 1014 1
 2688              		.cfi_startproc
 2689              		@ args = 0, pretend = 0, frame = 16
 2690              		@ frame_needed = 1, uses_anonymous_args = 0
 2691              		@ link register save eliminated.
 2692 0000 04B02DE5 		str	fp, [sp, #-4]!
 2693              		.cfi_def_cfa_offset 4
 2694              		.cfi_offset 11, -4
 2695 0004 00B08DE2 		add	fp, sp, #0
 2696              		.cfi_def_cfa_register 11
 2697 0008 14D04DE2 		sub	sp, sp, #20
 2698 000c 10000BE5 		str	r0, [fp, #-16]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 67


1015:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_cnt_t Count;
1016:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
1017:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1018:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the actual table */
1019:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ptr=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);  //*((volatile rme_ptr_t*)0x12345678)
 2699              		.loc 1 1019 9
 2700 0010 10301BE5 		ldr	r3, [fp, #-16]
 2701 0014 0C3093E5 		ldr	r3, [r3, #12]
 2702              		.loc 1 1019 8
 2703 0018 0C300BE5 		str	r3, [fp, #-12]
1020:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1021:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a first-level or a second-level? */
1022:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Base&RME_PGT_TOP)!=0)
 2704              		.loc 1 1022 15
 2705 001c 10301BE5 		ldr	r3, [fp, #-16]
 2706 0020 183093E5 		ldr	r3, [r3, #24]
 2707              		.loc 1 1022 21
 2708 0024 013003E2 		and	r3, r3, #1
 2709              		.loc 1 1022 7
 2710 0028 000053E3 		cmp	r3, #0
 2711 002c 2100000A 		beq	.L113
1023:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1024:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* First-level - clean up the first half and map in the second half as kernel entries */
1025:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<2048;Count++)
 2712              		.loc 1 1025 12
 2713 0030 0030A0E3 		mov	r3, #0
 2714 0034 08300BE5 		str	r3, [fp, #-8]
 2715              		.loc 1 1025 3
 2716 0038 080000EA 		b	.L114
 2717              	.L115:
1026:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2718              		.loc 1 1026 7
 2719 003c 08301BE5 		ldr	r3, [fp, #-8]
 2720 0040 0331A0E1 		lsl	r3, r3, #2
 2721 0044 0C201BE5 		ldr	r2, [fp, #-12]
 2722 0048 033082E0 		add	r3, r2, r3
 2723              		.loc 1 1026 14
 2724 004c 0020A0E3 		mov	r2, #0
 2725 0050 002083E5 		str	r2, [r3]
1025:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2726              		.loc 1 1025 31 discriminator 3
 2727 0054 08301BE5 		ldr	r3, [fp, #-8]
 2728 0058 013083E2 		add	r3, r3, #1
 2729 005c 08300BE5 		str	r3, [fp, #-8]
 2730              	.L114:
1025:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2731              		.loc 1 1025 20 discriminator 1
 2732 0060 08301BE5 		ldr	r3, [fp, #-8]
 2733 0064 020B53E3 		cmp	r3, #2048
 2734 0068 F3FFFFBA 		blt	.L115
1027:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1028:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(;Count<4096;Count++)
 2735              		.loc 1 1028 3
 2736 006c 0D0000EA 		b	.L116
 2737              	.L117:
1029:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 2738              		.loc 1 1029 36
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 68


 2739 0070 08301BE5 		ldr	r3, [fp, #-8]
 2740 0074 0321A0E1 		lsl	r2, r3, #2
 2741 0078 003000E3 		movw	r3, #:lower16:__RME_A7A_Kern_Pgt
 2742 007c 003040E3 		movt	r3, #:upper16:__RME_A7A_Kern_Pgt
 2743 0080 032082E0 		add	r2, r2, r3
 2744              		.loc 1 1029 7
 2745 0084 08301BE5 		ldr	r3, [fp, #-8]
 2746 0088 0331A0E1 		lsl	r3, r3, #2
 2747 008c 0C101BE5 		ldr	r1, [fp, #-12]
 2748 0090 033081E0 		add	r3, r1, r3
 2749              		.loc 1 1029 36
 2750 0094 002092E5 		ldr	r2, [r2]
 2751              		.loc 1 1029 14
 2752 0098 002083E5 		str	r2, [r3]
1028:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 2753              		.loc 1 1028 24 discriminator 2
 2754 009c 08301BE5 		ldr	r3, [fp, #-8]
 2755 00a0 013083E2 		add	r3, r3, #1
 2756 00a4 08300BE5 		str	r3, [fp, #-8]
 2757              	.L116:
1028:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 2758              		.loc 1 1028 13 discriminator 1
 2759 00a8 08301BE5 		ldr	r3, [fp, #-8]
 2760 00ac 010A53E3 		cmp	r3, #4096
 2761 00b0 EEFFFFBA 		blt	.L117
 2762 00b4 0E0000EA 		b	.L118
 2763              	.L113:
1030:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1031:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1032:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1033:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Second-level - just clean it up to all zeros */
1034:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<256;Count++)
 2764              		.loc 1 1034 12
 2765 00b8 0030A0E3 		mov	r3, #0
 2766 00bc 08300BE5 		str	r3, [fp, #-8]
 2767              		.loc 1 1034 3
 2768 00c0 080000EA 		b	.L119
 2769              	.L120:
1035:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2770              		.loc 1 1035 7
 2771 00c4 08301BE5 		ldr	r3, [fp, #-8]
 2772 00c8 0331A0E1 		lsl	r3, r3, #2
 2773 00cc 0C201BE5 		ldr	r2, [fp, #-12]
 2774 00d0 033082E0 		add	r3, r2, r3
 2775              		.loc 1 1035 14
 2776 00d4 0020A0E3 		mov	r2, #0
 2777 00d8 002083E5 		str	r2, [r3]
1034:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2778              		.loc 1 1034 30 discriminator 3
 2779 00dc 08301BE5 		ldr	r3, [fp, #-8]
 2780 00e0 013083E2 		add	r3, r3, #1
 2781 00e4 08300BE5 		str	r3, [fp, #-8]
 2782              	.L119:
1034:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2783              		.loc 1 1034 20 discriminator 1
 2784 00e8 08301BE5 		ldr	r3, [fp, #-8]
 2785 00ec FF0053E3 		cmp	r3, #255
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 69


 2786 00f0 F3FFFFDA 		ble	.L120
 2787              	.L118:
1036:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1037:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1038:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2788              		.loc 1 1038 12
 2789 00f4 0030A0E3 		mov	r3, #0
1039:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2790              		.loc 1 1039 1
 2791 00f8 0300A0E1 		mov	r0, r3
 2792 00fc 00D08BE2 		add	sp, fp, #0
 2793              		.cfi_def_cfa_register 13
 2794              		@ sp needed
 2795 0100 04B09DE4 		ldr	fp, [sp], #4
 2796              		.cfi_restore 11
 2797              		.cfi_def_cfa_offset 0
 2798 0104 1EFF2FE1 		bx	lr
 2799              		.cfi_endproc
 2800              	.LFE36:
 2802              		.section	.text.__RME_Pgt_Del_Check,"ax",%progbits
 2803              		.align	2
 2804              		.global	__RME_Pgt_Del_Check
 2805              		.syntax unified
 2806              		.arm
 2808              	__RME_Pgt_Del_Check:
 2809              	.LFB37:
1040:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Init *********************************************/
1041:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1042:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Del_Check *********************************************
1043:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table can be deleted.
1044:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt Pgt_Op* - The capability to the page table to operate on.
1045:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1046:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If can be deleted, 0; else RME_ERR_HAL_FAIL.
1047:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1048:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Del_Check(struct RME_Cap_Pgt* Pgt_Op)
1049:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2810              		.loc 1 1049 1
 2811              		.cfi_startproc
 2812              		@ args = 0, pretend = 0, frame = 8
 2813              		@ frame_needed = 1, uses_anonymous_args = 0
 2814              		@ link register save eliminated.
 2815 0000 04B02DE5 		str	fp, [sp, #-4]!
 2816              		.cfi_def_cfa_offset 4
 2817              		.cfi_offset 11, -4
 2818 0004 00B08DE2 		add	fp, sp, #0
 2819              		.cfi_def_cfa_register 11
 2820 0008 0CD04DE2 		sub	sp, sp, #12
 2821 000c 08000BE5 		str	r0, [fp, #-8]
1050:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2822              		.loc 1 1050 12
 2823 0010 0030A0E3 		mov	r3, #0
1051:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2824              		.loc 1 1051 1
 2825 0014 0300A0E1 		mov	r0, r3
 2826 0018 00D08BE2 		add	sp, fp, #0
 2827              		.cfi_def_cfa_register 13
 2828              		@ sp needed
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 70


 2829 001c 04B09DE4 		ldr	fp, [sp], #4
 2830              		.cfi_restore 11
 2831              		.cfi_def_cfa_offset 0
 2832 0020 1EFF2FE1 		bx	lr
 2833              		.cfi_endproc
 2834              	.LFE37:
 2836              		.section	.rodata
 2837              		.align	2
 2838              	.LC29:
 2839 02ac 0D0A756E 		.ascii	"\015\012unreadable\000"
 2839      72656164 
 2839      61626C65 
 2839      00
 2840 02b9 000000   		.align	2
 2841              	.LC30:
 2842 02bc 0D0A4172 		.ascii	"\015\012Are we trying to map into the kernel space "
 2842      65207765 
 2842      20747279 
 2842      696E6720 
 2842      746F206D 
 2843 02e9 6F6E2074 		.ascii	"on the top level?\000"
 2843      68652074 
 2843      6F70206C 
 2843      6576656C 
 2843      3F00
 2844 02fb 00       		.align	2
 2845              	.LC31:
 2846 02fc 0D0A2A28 		.ascii	"\015\012*(Table[Pos])\000"
 2846      5461626C 
 2846      655B506F 
 2846      735D2900 
 2847              		.align	2
 2848              	.LC32:
 2849 030c 0D0A6D61 		.ascii	"\015\012map it in error\000"
 2849      70206974 
 2849      20696E20 
 2849      6572726F 
 2849      7200
 2850              		.section	.text.__RME_Pgt_Page_Map,"ax",%progbits
 2851              		.align	2
 2852              		.global	__RME_Pgt_Page_Map
 2853              		.syntax unified
 2854              		.arm
 2856              	__RME_Pgt_Page_Map:
 2857              	.LFB38:
1052:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Del_Check ****************************************/
1053:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1054:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Map **********************************************
1055:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page into the page table. This architecture requires that the
1056:../../Source/Platform/A7A/rme_platform_a7a.c ****               mapping is always at least readable. The Cortex-A's super pages are
1057:../../Source/Platform/A7A/rme_platform_a7a.c ****               not supported by this. Also, RME dfoesn't use the domain model; all
1058:../../Source/Platform/A7A/rme_platform_a7a.c ****               page tables' domain is always client, which means that the permission
1059:../../Source/Platform/A7A/rme_platform_a7a.c ****               flags will always be checked.
1060:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The cap ability to the page table to operate on.
1061:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Paddr - The physical address to map to. If we are unmapping,
1062:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 this have no effect.
1063:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 71


1064:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard page attributes. Need to translate
1065:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 them into architecture specific page table's settings.
1066:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1067:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1068:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1069:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Map(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Paddr, rme_ptr_t Pos, rme_ptr_t 
1070:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2858              		.loc 1 1070 1
 2859              		.cfi_startproc
 2860              		@ args = 0, pretend = 0, frame = 24
 2861              		@ frame_needed = 1, uses_anonymous_args = 0
 2862 0000 00482DE9 		push	{fp, lr}
 2863              		.cfi_def_cfa_offset 8
 2864              		.cfi_offset 11, -8
 2865              		.cfi_offset 14, -4
 2866 0004 04B08DE2 		add	fp, sp, #4
 2867              		.cfi_def_cfa 11, 4
 2868 0008 18D04DE2 		sub	sp, sp, #24
 2869 000c 10000BE5 		str	r0, [fp, #-16]
 2870 0010 14100BE5 		str	r1, [fp, #-20]
 2871 0014 18200BE5 		str	r2, [fp, #-24]
 2872 0018 1C300BE5 		str	r3, [fp, #-28]
1071:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1072:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*RME_DBG_S("\r\nPgt_Op->Order");
1073:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Pgt_Op->Order);
1074:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nPgt_Op->Order ");
1075:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_PGT_SZORD(Pgt_Op->Order));
1076:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nPgt_Op->Order ");
1077:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_PGT_SZORD(Pgt_Op->Order));
1078:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)!=0U)
1079:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1080:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nhhhhhhhhhhhhhhh ");
1081:../../Source/Platform/A7A/rme_platform_a7a.c ****     }*/
1082:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1083:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1084:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1085:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1086:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
1087:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 2873              		.loc 1 1087 14
 2874 001c 1C301BE5 		ldr	r3, [fp, #-28]
 2875 0020 013003E2 		and	r3, r3, #1
 2876              		.loc 1 1087 7
 2877 0024 000053E3 		cmp	r3, #0
 2878 0028 0400001A 		bne	.L125
1088:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1089:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nunreadable");
 2879              		.loc 1 1089 9
 2880 002c 000000E3 		movw	r0, #:lower16:.LC29
 2881 0030 000040E3 		movt	r0, #:upper16:.LC29
 2882 0034 FEFFFFEB 		bl	RME_Str_Print
1090:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2883              		.loc 1 1090 16
 2884 0038 0030E0E3 		mvn	r3, #0
 2885 003c 450000EA 		b	.L126
 2886              	.L125:
1091:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 72


1092:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1093:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1094:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base&RME_PGT_TOP)!=0)&&(Pos>=2048)){
 2887              		.loc 1 1094 16
 2888 0040 10301BE5 		ldr	r3, [fp, #-16]
 2889 0044 183093E5 		ldr	r3, [r3, #24]
 2890              		.loc 1 1094 22
 2891 0048 013003E2 		and	r3, r3, #1
 2892              		.loc 1 1094 7
 2893 004c 000053E3 		cmp	r3, #0
 2894 0050 0700000A 		beq	.L127
 2895              		.loc 1 1094 39 discriminator 1
 2896 0054 18301BE5 		ldr	r3, [fp, #-24]
 2897 0058 020B53E3 		cmp	r3, #2048
 2898 005c 0400003A 		bcc	.L127
1095:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nAre we trying to map into the kernel space on the top level?");
 2899              		.loc 1 1095 9
 2900 0060 000000E3 		movw	r0, #:lower16:.LC30
 2901 0064 000040E3 		movt	r0, #:upper16:.LC30
 2902 0068 FEFFFFEB 		bl	RME_Str_Print
1096:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2903              		.loc 1 1096 16
 2904 006c 0030E0E3 		mvn	r3, #0
 2905 0070 380000EA 		b	.L126
 2906              	.L127:
1097:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1098:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1099:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 2907              		.loc 1 1099 11
 2908 0074 10301BE5 		ldr	r3, [fp, #-16]
 2909 0078 0C3093E5 		ldr	r3, [r3, #12]
 2910              		.loc 1 1099 10
 2911 007c 0C300BE5 		str	r3, [fp, #-12]
1100:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1101:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate flags */
1102:../../Source/Platform/A7A/rme_platform_a7a.c ****     //if(RME_PGT_SZORD(Pgt_Op->Order)==RME_PGT_SIZE_4K)
1103:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)!=0U)
 2912              		.loc 1 1103 16
 2913 0080 10301BE5 		ldr	r3, [fp, #-16]
 2914 0084 183093E5 		ldr	r3, [r3, #24]
 2915              		.loc 1 1103 23
 2916 0088 013003E2 		and	r3, r3, #1
 2917              		.loc 1 1103 7
 2918 008c 000053E3 		cmp	r3, #0
 2919 0090 0C00000A 		beq	.L128
1104:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1105:../../Source/Platform/A7A/rme_platform_a7a.c ****         Flags&=(~RME_PGT_STATIC);
 2920              		.loc 1 1105 14
 2921 0094 1C301BE5 		ldr	r3, [fp, #-28]
 2922 0098 2030C3E3 		bic	r3, r3, #32
 2923 009c 1C300BE5 		str	r3, [fp, #-28]
1106:../../Source/Platform/A7A/rme_platform_a7a.c ****         /*RME_DBG_S("\r\n Flags ");
1107:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(Flags); */
1108:../../Source/Platform/A7A/rme_platform_a7a.c ****         
1109:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_1M_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_1M_RME2NAT(Flags);
 2924              		.loc 1 1109 19
 2925 00a0 14301BE5 		ldr	r3, [fp, #-20]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 73


 2926 00a4 233AA0E1 		lsr	r3, r3, #20
 2927 00a8 033AA0E1 		lsl	r3, r3, #20
 2928              		.loc 1 1109 51
 2929 00ac 002000E3 		movw	r2, #:lower16:RME_A7A_Pgflg_1M_RME2NAT
 2930 00b0 002040E3 		movt	r2, #:upper16:RME_A7A_Pgflg_1M_RME2NAT
 2931 00b4 1C101BE5 		ldr	r1, [fp, #-28]
 2932 00b8 012192E7 		ldr	r2, [r2, r1, lsl #2]
 2933              		.loc 1 1109 18
 2934 00bc 023083E1 		orr	r3, r3, r2
 2935 00c0 08300BE5 		str	r3, [fp, #-8]
 2936 00c4 080000EA 		b	.L129
 2937              	.L128:
1110:../../Source/Platform/A7A/rme_platform_a7a.c ****         /*RME_DBG_S("\r\n A7A_Flags= ");
1111:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(A7A_Flags);*/
1112:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1113:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1114:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_4K_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_4K_RME2NAT(Flags);
 2938              		.loc 1 1114 19
 2939 00c8 14301BE5 		ldr	r3, [fp, #-20]
 2940 00cc FF3EC3E3 		bic	r3, r3, #4080
 2941 00d0 0F30C3E3 		bic	r3, r3, #15
 2942              		.loc 1 1114 51
 2943 00d4 002000E3 		movw	r2, #:lower16:RME_A7A_Pgflg_4K_RME2NAT
 2944 00d8 002040E3 		movt	r2, #:upper16:RME_A7A_Pgflg_4K_RME2NAT
 2945 00dc 1C101BE5 		ldr	r1, [fp, #-28]
 2946 00e0 012192E7 		ldr	r2, [r2, r1, lsl #2]
 2947              		.loc 1 1114 18
 2948 00e4 023083E1 		orr	r3, r3, r2
 2949 00e8 08300BE5 		str	r3, [fp, #-8]
 2950              	.L129:
1115:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in */
1116:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),0,A7A_Flags)==0)
 2951              		.loc 1 1116 8
 2952 00ec 18301BE5 		ldr	r3, [fp, #-24]
 2953 00f0 0331A0E1 		lsl	r3, r3, #2
 2954 00f4 0C201BE5 		ldr	r2, [fp, #-12]
 2955 00f8 033082E0 		add	r3, r2, r3
 2956 00fc 08201BE5 		ldr	r2, [fp, #-8]
 2957 0100 0010A0E3 		mov	r1, #0
 2958 0104 0300A0E1 		mov	r0, r3
 2959 0108 FEFFFFEB 		bl	_RME_Comp_Swap_Single
 2960 010c 0030A0E1 		mov	r3, r0
 2961              		.loc 1 1116 7 discriminator 1
 2962 0110 000053E3 		cmp	r3, #0
 2963 0114 0E00001A 		bne	.L130
1117:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1118:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\n*(Table[Pos])");
 2964              		.loc 1 1118 9
 2965 0118 000000E3 		movw	r0, #:lower16:.LC31
 2966 011c 000040E3 		movt	r0, #:upper16:.LC31
 2967 0120 FEFFFFEB 		bl	RME_Str_Print
1119:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(Table[Pos]);
 2968              		.loc 1 1119 9
 2969 0124 18301BE5 		ldr	r3, [fp, #-24]
 2970 0128 0331A0E1 		lsl	r3, r3, #2
 2971 012c 0C201BE5 		ldr	r2, [fp, #-12]
 2972 0130 033082E0 		add	r3, r2, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 74


 2973 0134 003093E5 		ldr	r3, [r3]
 2974 0138 0300A0E1 		mov	r0, r3
 2975 013c FEFFFFEB 		bl	RME_Hex_Print
1120:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nmap it in error");
 2976              		.loc 1 1120 9
 2977 0140 000000E3 		movw	r0, #:lower16:.LC32
 2978 0144 000040E3 		movt	r0, #:upper16:.LC32
 2979 0148 FEFFFFEB 		bl	RME_Str_Print
1121:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2980              		.loc 1 1121 16
 2981 014c 0030E0E3 		mvn	r3, #0
 2982 0150 000000EA 		b	.L126
 2983              	.L130:
1122:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1123:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1124:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*RME_DBG_S("\r\nTable[Pos] = ");
1125:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Table[Pos]);*/
1126:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1127:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2984              		.loc 1 1127 12
 2985 0154 0030A0E3 		mov	r3, #0
 2986              	.L126:
1128:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2987              		.loc 1 1128 1
 2988 0158 0300A0E1 		mov	r0, r3
 2989 015c 04D04BE2 		sub	sp, fp, #4
 2990              		.cfi_def_cfa 13, 8
 2991              		@ sp needed
 2992 0160 0088BDE8 		pop	{fp, pc}
 2993              		.cfi_endproc
 2994              	.LFE38:
 2996              		.section	.text.__RME_Pgt_Page_Unmap,"ax",%progbits
 2997              		.align	2
 2998              		.global	__RME_Pgt_Page_Unmap
 2999              		.syntax unified
 3000              		.arm
 3002              	__RME_Pgt_Page_Unmap:
 3003              	.LFB39:
1129:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Map *****************************************/
1130:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1131:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Unmap ********************************************
1132:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page from the page table.
1133:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
1134:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1135:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1136:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1137:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1138:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Unmap(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos)
1139:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3004              		.loc 1 1139 1
 3005              		.cfi_startproc
 3006              		@ args = 0, pretend = 0, frame = 16
 3007              		@ frame_needed = 1, uses_anonymous_args = 0
 3008 0000 00482DE9 		push	{fp, lr}
 3009              		.cfi_def_cfa_offset 8
 3010              		.cfi_offset 11, -8
 3011              		.cfi_offset 14, -4
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 75


 3012 0004 04B08DE2 		add	fp, sp, #4
 3013              		.cfi_def_cfa 11, 4
 3014 0008 10D04DE2 		sub	sp, sp, #16
 3015 000c 10000BE5 		str	r0, [fp, #-16]
 3016 0010 14100BE5 		str	r1, [fp, #-20]
1140:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1141:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1142:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1143:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to unmap the kernel space on the top level? */
1144:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base&RME_PGT_TOP)!=0)&&(Pos>=2048))
 3017              		.loc 1 1144 16
 3018 0014 10301BE5 		ldr	r3, [fp, #-16]
 3019 0018 183093E5 		ldr	r3, [r3, #24]
 3020              		.loc 1 1144 22
 3021 001c 013003E2 		and	r3, r3, #1
 3022              		.loc 1 1144 7
 3023 0020 000053E3 		cmp	r3, #0
 3024 0024 0400000A 		beq	.L132
 3025              		.loc 1 1144 39 discriminator 1
 3026 0028 14301BE5 		ldr	r3, [fp, #-20]
 3027 002c 020B53E3 		cmp	r3, #2048
 3028 0030 0100003A 		bcc	.L132
1145:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3029              		.loc 1 1145 16
 3030 0034 0030E0E3 		mvn	r3, #0
 3031 0038 260000EA 		b	.L133
 3032              	.L132:
1146:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1147:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1148:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 3033              		.loc 1 1148 11
 3034 003c 10301BE5 		ldr	r3, [fp, #-16]
 3035 0040 0C3093E5 		ldr	r3, [r3, #12]
 3036              		.loc 1 1148 10
 3037 0044 08300BE5 		str	r3, [fp, #-8]
1149:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1150:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that there is something */
1151:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 3038              		.loc 1 1151 15
 3039 0048 14301BE5 		ldr	r3, [fp, #-20]
 3040 004c 0331A0E1 		lsl	r3, r3, #2
 3041 0050 08201BE5 		ldr	r2, [fp, #-8]
 3042 0054 033082E0 		add	r3, r2, r3
 3043              		.loc 1 1151 9
 3044 0058 003093E5 		ldr	r3, [r3]
 3045 005c 0C300BE5 		str	r3, [fp, #-12]
1152:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Temp==0)
 3046              		.loc 1 1152 7
 3047 0060 0C301BE5 		ldr	r3, [fp, #-12]
 3048 0064 000053E3 		cmp	r3, #0
 3049 0068 0100001A 		bne	.L134
1153:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3050              		.loc 1 1153 16
 3051 006c 0030E0E3 		mvn	r3, #0
 3052 0070 180000EA 		b	.L133
 3053              	.L134:
1154:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 76


1155:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a page directory? We cannot unmap page directories like this */
1156:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((RME_PGT_SZORD(Pgt_Op->Order)!=RME_PGT_SIZE_4K)&&((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0))
 3054              		.loc 1 1156 9
 3055 0074 10301BE5 		ldr	r3, [fp, #-16]
 3056 0078 143093E5 		ldr	r3, [r3, #20]
 3057 007c 2338A0E1 		lsr	r3, r3, #16
 3058              		.loc 1 1156 7
 3059 0080 0C0053E3 		cmp	r3, #12
 3060 0084 0500000A 		beq	.L135
 3061              		.loc 1 1156 63 discriminator 1
 3062 0088 0C301BE5 		ldr	r3, [fp, #-12]
 3063 008c 013003E2 		and	r3, r3, #1
 3064              		.loc 1 1156 55 discriminator 1
 3065 0090 000053E3 		cmp	r3, #0
 3066 0094 0100000A 		beq	.L135
1157:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3067              		.loc 1 1157 16
 3068 0098 0030E0E3 		mvn	r3, #0
 3069 009c 0D0000EA 		b	.L133
 3070              	.L135:
1158:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1159:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to unmap it. Use CAS just in case */
1160:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),Temp,0)==0)
 3071              		.loc 1 1160 8
 3072 00a0 14301BE5 		ldr	r3, [fp, #-20]
 3073 00a4 0331A0E1 		lsl	r3, r3, #2
 3074 00a8 08201BE5 		ldr	r2, [fp, #-8]
 3075 00ac 033082E0 		add	r3, r2, r3
 3076 00b0 0020A0E3 		mov	r2, #0
 3077 00b4 0C101BE5 		ldr	r1, [fp, #-12]
 3078 00b8 0300A0E1 		mov	r0, r3
 3079 00bc FEFFFFEB 		bl	_RME_Comp_Swap_Single
 3080 00c0 0030A0E1 		mov	r3, r0
 3081              		.loc 1 1160 7 discriminator 1
 3082 00c4 000053E3 		cmp	r3, #0
 3083 00c8 0100001A 		bne	.L136
1161:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3084              		.loc 1 1161 16
 3085 00cc 0030E0E3 		mvn	r3, #0
 3086 00d0 000000EA 		b	.L133
 3087              	.L136:
1162:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1163:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3088              		.loc 1 1163 12
 3089 00d4 0030A0E3 		mov	r3, #0
 3090              	.L133:
1164:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3091              		.loc 1 1164 1
 3092 00d8 0300A0E1 		mov	r0, r3
 3093 00dc 04D04BE2 		sub	sp, fp, #4
 3094              		.cfi_def_cfa 13, 8
 3095              		@ sp needed
 3096 00e0 0088BDE8 		pop	{fp, pc}
 3097              		.cfi_endproc
 3098              	.LFE39:
 3100              		.section	.text.__RME_Pgt_Pgdir_Map,"ax",%progbits
 3101              		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 77


 3102              		.global	__RME_Pgt_Pgdir_Map
 3103              		.syntax unified
 3104              		.arm
 3106              	__RME_Pgt_Pgdir_Map:
 3107              	.LFB40:
1165:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Unmap ***************************************/
1166:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1167:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Map *********************************************
1168:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page directory into the page table. It is surprising that
1169:../../Source/Platform/A7A/rme_platform_a7a.c ****               Cortex-A (ARMv7) does not support any kind of page directory flags.
1170:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Parent - The parent page table.
1171:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Cap_Pgt* Pgt_Child - The child page table.
1172:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the destination page table.
1173:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard flags for the child page table.
1174:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1175:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1176:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1177:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Pgdir_Map(struct RME_Cap_Pgt* Pgt_Parent, rme_ptr_t Pos,
1178:../../Source/Platform/A7A/rme_platform_a7a.c ****                               struct RME_Cap_Pgt* Pgt_Child, rme_ptr_t Flags)
1179:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3108              		.loc 1 1179 1
 3109              		.cfi_startproc
 3110              		@ args = 0, pretend = 0, frame = 32
 3111              		@ frame_needed = 1, uses_anonymous_args = 0
 3112 0000 00482DE9 		push	{fp, lr}
 3113              		.cfi_def_cfa_offset 8
 3114              		.cfi_offset 11, -8
 3115              		.cfi_offset 14, -4
 3116 0004 04B08DE2 		add	fp, sp, #4
 3117              		.cfi_def_cfa 11, 4
 3118 0008 20D04DE2 		sub	sp, sp, #32
 3119 000c 18000BE5 		str	r0, [fp, #-24]
 3120 0010 1C100BE5 		str	r1, [fp, #-28]
 3121 0014 20200BE5 		str	r2, [fp, #-32]
 3122 0018 24300BE5 		str	r3, [fp, #-36]
1180:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Parent_Table;
1181:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Child_Table;
1182:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1183:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1184:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
1185:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 3123              		.loc 1 1185 14
 3124 001c 24301BE5 		ldr	r3, [fp, #-36]
 3125 0020 013003E2 		and	r3, r3, #1
 3126              		.loc 1 1185 7
 3127 0024 000053E3 		cmp	r3, #0
 3128 0028 0100001A 		bne	.L138
1186:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3129              		.loc 1 1186 16
 3130 002c 0030E0E3 		mvn	r3, #0
 3131 0030 230000EA 		b	.L139
 3132              	.L138:
1187:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1188:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1189:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Parent->Base&RME_PGT_TOP)!=0)&&(Pos>=2048))
 3133              		.loc 1 1189 20
 3134 0034 18301BE5 		ldr	r3, [fp, #-24]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 78


 3135 0038 183093E5 		ldr	r3, [r3, #24]
 3136              		.loc 1 1189 26
 3137 003c 013003E2 		and	r3, r3, #1
 3138              		.loc 1 1189 7
 3139 0040 000053E3 		cmp	r3, #0
 3140 0044 0400000A 		beq	.L140
 3141              		.loc 1 1189 43 discriminator 1
 3142 0048 1C301BE5 		ldr	r3, [fp, #-28]
 3143 004c 020B53E3 		cmp	r3, #2048
 3144 0050 0100003A 		bcc	.L140
1190:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3145              		.loc 1 1190 16
 3146 0054 0030E0E3 		mvn	r3, #0
 3147 0058 190000EA 		b	.L139
 3148              	.L140:
1191:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1192:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1193:../../Source/Platform/A7A/rme_platform_a7a.c ****     Parent_Table=RME_CAP_GETOBJ(Pgt_Parent,rme_ptr_t*);
 3149              		.loc 1 1193 18
 3150 005c 18301BE5 		ldr	r3, [fp, #-24]
 3151 0060 0C3093E5 		ldr	r3, [r3, #12]
 3152              		.loc 1 1193 17
 3153 0064 08300BE5 		str	r3, [fp, #-8]
1194:../../Source/Platform/A7A/rme_platform_a7a.c ****     Child_Table=RME_CAP_GETOBJ(Pgt_Child,rme_ptr_t*);
 3154              		.loc 1 1194 17
 3155 0068 20301BE5 		ldr	r3, [fp, #-32]
 3156 006c 0C3093E5 		ldr	r3, [r3, #12]
 3157              		.loc 1 1194 16
 3158 0070 0C300BE5 		str	r3, [fp, #-12]
1195:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1196:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate the content */
1197:../../Source/Platform/A7A/rme_platform_a7a.c ****     A7A_Flags=RME_A7A_MMU_1M_PGT_ADDR(RME_A7A_VA2PA(Child_Table))|RME_A7A_MMU_1M_PGDIR_PRESENT;
 3159              		.loc 1 1197 15
 3160 0074 0C301BE5 		ldr	r3, [fp, #-12]
 3161 0078 023183E2 		add	r3, r3, #-2147483648
 3162 007c FF3FC3E3 		bic	r3, r3, #1020
 3163 0080 0330C3E3 		bic	r3, r3, #3
 3164              		.loc 1 1197 14
 3165 0084 013083E3 		orr	r3, r3, #1
 3166 0088 10300BE5 		str	r3, [fp, #-16]
1198:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1199:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in - may need to increase some count */
1200:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Parent_Table[Pos]),0,A7A_Flags)==0)
 3167              		.loc 1 1200 8
 3168 008c 1C301BE5 		ldr	r3, [fp, #-28]
 3169 0090 0331A0E1 		lsl	r3, r3, #2
 3170 0094 08201BE5 		ldr	r2, [fp, #-8]
 3171 0098 033082E0 		add	r3, r2, r3
 3172 009c 10201BE5 		ldr	r2, [fp, #-16]
 3173 00a0 0010A0E3 		mov	r1, #0
 3174 00a4 0300A0E1 		mov	r0, r3
 3175 00a8 FEFFFFEB 		bl	_RME_Comp_Swap_Single
 3176 00ac 0030A0E1 		mov	r3, r0
 3177              		.loc 1 1200 7 discriminator 1
 3178 00b0 000053E3 		cmp	r3, #0
 3179 00b4 0100001A 		bne	.L141
1201:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 79


 3180              		.loc 1 1201 16
 3181 00b8 0030E0E3 		mvn	r3, #0
 3182 00bc 000000EA 		b	.L139
 3183              	.L141:
1202:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1203:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3184              		.loc 1 1203 12
 3185 00c0 0030A0E3 		mov	r3, #0
 3186              	.L139:
1204:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3187              		.loc 1 1204 1
 3188 00c4 0300A0E1 		mov	r0, r3
 3189 00c8 04D04BE2 		sub	sp, fp, #4
 3190              		.cfi_def_cfa 13, 8
 3191              		@ sp needed
 3192 00cc 0088BDE8 		pop	{fp, pc}
 3193              		.cfi_endproc
 3194              	.LFE40:
 3196              		.section	.text.__RME_Pgt_Pgdir_Unmap,"ax",%progbits
 3197              		.align	2
 3198              		.global	__RME_Pgt_Pgdir_Unmap
 3199              		.syntax unified
 3200              		.arm
 3202              	__RME_Pgt_Pgdir_Unmap:
 3203              	.LFB41:
1205:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Map ****************************************/
1206:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1207:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Unmap *******************************************
1208:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page directory from the page table.
1209:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to operate on.
1210:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1211:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1212:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1213:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1214:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Pgt_Pgdir_Unmap(struct RME_Cap_Pgt* Pgt_Parent,rme_ptr_t Pos,
1215:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 struct RME_Cap_Pgt* Pgt_Child)
1216:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3204              		.loc 1 1216 1
 3205              		.cfi_startproc
 3206              		@ args = 0, pretend = 0, frame = 16
 3207              		@ frame_needed = 1, uses_anonymous_args = 0
 3208              		@ link register save eliminated.
 3209 0000 04B02DE5 		str	fp, [sp, #-4]!
 3210              		.cfi_def_cfa_offset 4
 3211              		.cfi_offset 11, -4
 3212 0004 00B08DE2 		add	fp, sp, #0
 3213              		.cfi_def_cfa_register 11
 3214 0008 14D04DE2 		sub	sp, sp, #20
 3215 000c 08000BE5 		str	r0, [fp, #-8]
 3216 0010 0C100BE5 		str	r1, [fp, #-12]
 3217 0014 10200BE5 		str	r2, [fp, #-16]
1217:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1218:../../Source/Platform/A7A/rme_platform_a7a.c ****    return 0;
 3218              		.loc 1 1218 11
 3219 0018 0030A0E3 		mov	r3, #0
1219:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3220              		.loc 1 1219 1
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 80


 3221 001c 0300A0E1 		mov	r0, r3
 3222 0020 00D08BE2 		add	sp, fp, #0
 3223              		.cfi_def_cfa_register 13
 3224              		@ sp needed
 3225 0024 04B09DE4 		ldr	fp, [sp], #4
 3226              		.cfi_restore 11
 3227              		.cfi_def_cfa_offset 0
 3228 0028 1EFF2FE1 		bx	lr
 3229              		.cfi_endproc
 3230              	.LFE41:
 3232              		.section	.text.__RME_Pgt_Lookup,"ax",%progbits
 3233              		.align	2
 3234              		.global	__RME_Pgt_Lookup
 3235              		.syntax unified
 3236              		.arm
 3238              	__RME_Pgt_Lookup:
 3239              	.LFB42:
1220:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Unmap **************************************/
1221:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1222:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Lookup **************************************************
1223:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Lookup a page entry in a page directory. This function cannot deal
1224:../../Source/Platform/A7A/rme_platform_a7a.c ****               with large pages and super sections - it is the user's responsibility
1225:../../Source/Platform/A7A/rme_platform_a7a.c ****               to avoid this.
1226:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page directory to lookup.
1227:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position to look up.
1228:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Paddr - The physical address of the page.
1229:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1230:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1231:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1232:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Lookup(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos, rme_ptr_t* Paddr, rme_ptr_t* 
1233:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3240              		.loc 1 1233 1
 3241              		.cfi_startproc
 3242              		@ args = 0, pretend = 0, frame = 24
 3243              		@ frame_needed = 1, uses_anonymous_args = 0
 3244              		@ link register save eliminated.
 3245 0000 04B02DE5 		str	fp, [sp, #-4]!
 3246              		.cfi_def_cfa_offset 4
 3247              		.cfi_offset 11, -4
 3248 0004 00B08DE2 		add	fp, sp, #0
 3249              		.cfi_def_cfa_register 11
 3250 0008 1CD04DE2 		sub	sp, sp, #28
 3251 000c 10000BE5 		str	r0, [fp, #-16]
 3252 0010 14100BE5 		str	r1, [fp, #-20]
 3253 0014 18200BE5 		str	r2, [fp, #-24]
 3254 0018 1C300BE5 		str	r3, [fp, #-28]
1234:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1235:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1236:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1237:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if the position is within the range of this page table */
1238:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pos>>RME_PGT_NMORD(Pgt_Op->Order))!=0)
 3255              		.loc 1 1238 14
 3256 001c 10301BE5 		ldr	r3, [fp, #-16]
 3257 0020 143093E5 		ldr	r3, [r3, #20]
 3258 0024 7330FFE6 		uxth	r3, r3
 3259              		.loc 1 1238 12
 3260 0028 14201BE5 		ldr	r2, [fp, #-20]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 81


 3261 002c 3233A0E1 		lsr	r3, r2, r3
 3262              		.loc 1 1238 7
 3263 0030 000053E3 		cmp	r3, #0
 3264 0034 0100000A 		beq	.L145
1239:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3265              		.loc 1 1239 16
 3266 0038 0030E0E3 		mvn	r3, #0
 3267 003c 580000EA 		b	.L146
 3268              	.L145:
1240:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1241:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1242:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 3269              		.loc 1 1242 11
 3270 0040 10301BE5 		ldr	r3, [fp, #-16]
 3271 0044 0C3093E5 		ldr	r3, [r3, #12]
 3272              		.loc 1 1242 10
 3273 0048 08300BE5 		str	r3, [fp, #-8]
1243:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the position requested - atomic read */
1244:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 3274              		.loc 1 1244 15
 3275 004c 14301BE5 		ldr	r3, [fp, #-20]
 3276 0050 0331A0E1 		lsl	r3, r3, #2
 3277 0054 08201BE5 		ldr	r2, [fp, #-8]
 3278 0058 033082E0 		add	r3, r2, r3
 3279              		.loc 1 1244 9
 3280 005c 003093E5 		ldr	r3, [r3]
 3281 0060 0C300BE5 		str	r3, [fp, #-12]
1245:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1246:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start lookup - is this a terminal page, or? */
1247:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SZORD(Pgt_Op->Order)==RME_PGT_SIZE_4K)
 3282              		.loc 1 1247 8
 3283 0064 10301BE5 		ldr	r3, [fp, #-16]
 3284 0068 143093E5 		ldr	r3, [r3, #20]
 3285 006c 2338A0E1 		lsr	r3, r3, #16
 3286              		.loc 1 1247 7
 3287 0070 0C0053E3 		cmp	r3, #12
 3288 0074 2400001A 		bne	.L147
1248:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1249:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)==0)
 3289              		.loc 1 1249 17
 3290 0078 0C301BE5 		ldr	r3, [fp, #-12]
 3291 007c 023003E2 		and	r3, r3, #2
 3292              		.loc 1 1249 11
 3293 0080 000053E3 		cmp	r3, #0
 3294 0084 0100001A 		bne	.L148
1250:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 3295              		.loc 1 1250 20
 3296 0088 0030E0E3 		mvn	r3, #0
 3297 008c 440000EA 		b	.L146
 3298              	.L148:
1251:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1252:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a small page. Return the physical address and flags */
1253:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
 3299              		.loc 1 1253 11
 3300 0090 18301BE5 		ldr	r3, [fp, #-24]
 3301 0094 000053E3 		cmp	r3, #0
 3302 0098 0400000A 		beq	.L149
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 82


1254:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
 3303              		.loc 1 1254 17
 3304 009c 0C301BE5 		ldr	r3, [fp, #-12]
 3305 00a0 FF3EC3E3 		bic	r3, r3, #4080
 3306 00a4 0F30C3E3 		bic	r3, r3, #15
 3307              		.loc 1 1254 16
 3308 00a8 18201BE5 		ldr	r2, [fp, #-24]
 3309 00ac 003082E5 		str	r3, [r2]
 3310              	.L149:
1255:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
 3311              		.loc 1 1255 11
 3312 00b0 1C301BE5 		ldr	r3, [fp, #-28]
 3313 00b4 000053E3 		cmp	r3, #0
 3314 00b8 3800000A 		beq	.L150
1256:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
 3315              		.loc 1 1256 20
 3316 00bc 0C301BE5 		ldr	r3, [fp, #-12]
 3317 00c0 2333A0E1 		lsr	r3, r3, #6
 3318 00c4 082003E2 		and	r2, r3, #8
 3319 00c8 0C301BE5 		ldr	r3, [fp, #-12]
 3320 00cc A330A0E1 		lsr	r3, r3, #1
 3321 00d0 043003E2 		and	r3, r3, #4
 3322 00d4 032082E1 		orr	r2, r2, r3
 3323 00d8 0C301BE5 		ldr	r3, [fp, #-12]
 3324 00dc A330A0E1 		lsr	r3, r3, #1
 3325 00e0 023003E2 		and	r3, r3, #2
 3326 00e4 032082E1 		orr	r2, r2, r3
 3327 00e8 0C301BE5 		ldr	r3, [fp, #-12]
 3328 00ec 013003E2 		and	r3, r3, #1
 3329 00f0 032082E1 		orr	r2, r2, r3
 3330 00f4 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_4K_NAT2RME
 3331 00f8 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_4K_NAT2RME
 3332 00fc 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3333              		.loc 1 1256 19
 3334 0100 1C301BE5 		ldr	r3, [fp, #-28]
 3335 0104 002083E5 		str	r2, [r3]
 3336 0108 240000EA 		b	.L150
 3337              	.L147:
1257:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1258:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1259:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1260:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)==0)
 3338              		.loc 1 1260 17
 3339 010c 0C301BE5 		ldr	r3, [fp, #-12]
 3340 0110 023003E2 		and	r3, r3, #2
 3341              		.loc 1 1260 11
 3342 0114 000053E3 		cmp	r3, #0
 3343 0118 0100001A 		bne	.L151
1261:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 3344              		.loc 1 1261 20
 3345 011c 0030E0E3 		mvn	r3, #0
 3346 0120 1F0000EA 		b	.L146
 3347              	.L151:
1262:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1263:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a section. Return the physical address and flags */
1264:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
 3348              		.loc 1 1264 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 83


 3349 0124 18301BE5 		ldr	r3, [fp, #-24]
 3350 0128 000053E3 		cmp	r3, #0
 3351 012c 0400000A 		beq	.L152
1265:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
 3352              		.loc 1 1265 17
 3353 0130 0C301BE5 		ldr	r3, [fp, #-12]
 3354 0134 233AA0E1 		lsr	r3, r3, #20
 3355 0138 033AA0E1 		lsl	r3, r3, #20
 3356              		.loc 1 1265 16
 3357 013c 18201BE5 		ldr	r2, [fp, #-24]
 3358 0140 003082E5 		str	r3, [r2]
 3359              	.L152:
1266:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
 3360              		.loc 1 1266 11
 3361 0144 1C301BE5 		ldr	r3, [fp, #-28]
 3362 0148 000053E3 		cmp	r3, #0
 3363 014c 1300000A 		beq	.L150
1267:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
 3364              		.loc 1 1267 20
 3365 0150 0C301BE5 		ldr	r3, [fp, #-12]
 3366 0154 2336A0E1 		lsr	r3, r3, #12
 3367 0158 082003E2 		and	r2, r3, #8
 3368 015c 0C301BE5 		ldr	r3, [fp, #-12]
 3369 0160 2331A0E1 		lsr	r3, r3, #2
 3370 0164 043003E2 		and	r3, r3, #4
 3371 0168 032082E1 		orr	r2, r2, r3
 3372 016c 0C301BE5 		ldr	r3, [fp, #-12]
 3373 0170 2331A0E1 		lsr	r3, r3, #2
 3374 0174 023003E2 		and	r3, r3, #2
 3375 0178 032082E1 		orr	r2, r2, r3
 3376 017c 0C301BE5 		ldr	r3, [fp, #-12]
 3377 0180 2331A0E1 		lsr	r3, r3, #2
 3378 0184 013003E2 		and	r3, r3, #1
 3379 0188 032082E1 		orr	r2, r2, r3
 3380 018c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_1M_NAT2RME
 3381 0190 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_1M_NAT2RME
 3382 0194 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3383              		.loc 1 1267 19
 3384 0198 1C301BE5 		ldr	r3, [fp, #-28]
 3385 019c 002083E5 		str	r2, [r3]
 3386              	.L150:
1268:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1269:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1270:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3387              		.loc 1 1270 12
 3388 01a0 0030A0E3 		mov	r3, #0
 3389              	.L146:
1271:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3390              		.loc 1 1271 1
 3391 01a4 0300A0E1 		mov	r0, r3
 3392 01a8 00D08BE2 		add	sp, fp, #0
 3393              		.cfi_def_cfa_register 13
 3394              		@ sp needed
 3395 01ac 04B09DE4 		ldr	fp, [sp], #4
 3396              		.cfi_restore 11
 3397              		.cfi_def_cfa_offset 0
 3398 01b0 1EFF2FE1 		bx	lr
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 84


 3399              		.cfi_endproc
 3400              	.LFE42:
 3402              		.section	.text.__RME_Pgt_Walk,"ax",%progbits
 3403              		.align	2
 3404              		.global	__RME_Pgt_Walk
 3405              		.syntax unified
 3406              		.arm
 3408              	__RME_Pgt_Walk:
 3409              	.LFB43:
1272:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Lookup *******************************************/
1273:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1274:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Walk **************************************************
1275:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Walking function for the page table. This function just does page
1276:../../Source/Platform/A7A/rme_platform_a7a.c ****               table lookups. The page table that is being walked must be the top-
1277:../../Source/Platform/A7A/rme_platform_a7a.c ****               level page table. The output values are optional; only pass in pointers
1278:../../Source/Platform/A7A/rme_platform_a7a.c ****               when you need that value.
1279:../../Source/Platform/A7A/rme_platform_a7a.c ****               Walking kernel page tables is prohibited.
1280:../../Source/Platform/A7A/rme_platform_a7a.c ****               This function also does not support large pages and super sections.
1281:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to walk.
1282:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address to look up.
1283:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Pgt - The pointer to the page table level.
1284:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Map_Vaddr - The virtual address that starts mapping.
1285:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Paddr - The physical address of the page.
1286:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Size_Order - The size order of the page.
1287:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Num_Order - The entry order of the page.
1288:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1289:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1290:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1291:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Walk(struct RME_Cap_Pgt* Pgt_Op, 
1292:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t Vaddr, 
1293:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t* Pgt,
1294:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Map_Vaddr, 
1295:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Paddr, 
1296:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Size_Order, 
1297:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Num_Order, 
1298:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Flags)
1299:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3410              		.loc 1 1299 1
 3411              		.cfi_startproc
 3412              		@ args = 16, pretend = 0, frame = 32
 3413              		@ frame_needed = 1, uses_anonymous_args = 0
 3414              		@ link register save eliminated.
 3415 0000 04B02DE5 		str	fp, [sp, #-4]!
 3416              		.cfi_def_cfa_offset 4
 3417              		.cfi_offset 11, -4
 3418 0004 00B08DE2 		add	fp, sp, #0
 3419              		.cfi_def_cfa_register 11
 3420 0008 24D04DE2 		sub	sp, sp, #36
 3421 000c 18000BE5 		str	r0, [fp, #-24]
 3422 0010 1C100BE5 		str	r1, [fp, #-28]
 3423 0014 20200BE5 		str	r2, [fp, #-32]
 3424 0018 24300BE5 		str	r3, [fp, #-36]
1300:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1301:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Pos;
1302:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1303:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1304:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if this is the top-level page table */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 85


1305:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)==0)
 3425              		.loc 1 1305 16
 3426 001c 18301BE5 		ldr	r3, [fp, #-24]
 3427 0020 183093E5 		ldr	r3, [r3, #24]
 3428              		.loc 1 1305 23
 3429 0024 013003E2 		and	r3, r3, #1
 3430              		.loc 1 1305 7
 3431 0028 000053E3 		cmp	r3, #0
 3432 002c 0100001A 		bne	.L154
1306:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3433              		.loc 1 1306 16
 3434 0030 0030E0E3 		mvn	r3, #0
 3435 0034 A30000EA 		b	.L155
 3436              	.L154:
1307:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1308:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we attempting a kernel or non-canonical lookup? If yes, stop immediately */
1309:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Vaddr>=0x7FFFFFFFU)
 3437              		.loc 1 1309 7
 3438 0038 1C301BE5 		ldr	r3, [fp, #-28]
 3439 003c 0A0173E3 		cmn	r3, #-2147483646
 3440 0040 0100009A 		bls	.L156
1310:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3441              		.loc 1 1310 16
 3442 0044 0030E0E3 		mvn	r3, #0
 3443 0048 9E0000EA 		b	.L155
 3444              	.L156:
1311:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1312:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table and start lookup - We know that there are only 2 levels */
1313:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op, rme_ptr_t*);
 3445              		.loc 1 1313 11
 3446 004c 18301BE5 		ldr	r3, [fp, #-24]
 3447 0050 0C3093E5 		ldr	r3, [r3, #12]
 3448              		.loc 1 1313 10
 3449 0054 08300BE5 		str	r3, [fp, #-8]
1314:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1315:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Calculate where is the entry - always 0 to 4096 */
1316:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Pos=(Vaddr>>RME_PGT_SIZE_1M)&0xFFFU;
 3450              		.loc 1 1316 5
 3451 0058 1C301BE5 		ldr	r3, [fp, #-28]
 3452 005c 233AA0E1 		lsr	r3, r3, #20
 3453 0060 0C300BE5 		str	r3, [fp, #-12]
1317:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Atomic read */
1318:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Temp=Table[Pos];
 3454              		.loc 1 1318 12
 3455 0064 0C301BE5 		ldr	r3, [fp, #-12]
 3456 0068 0331A0E1 		lsl	r3, r3, #2
 3457 006c 08201BE5 		ldr	r2, [fp, #-8]
 3458 0070 033082E0 		add	r3, r2, r3
 3459              		.loc 1 1318 6
 3460 0074 003093E5 		ldr	r3, [r3]
 3461 0078 10300BE5 		str	r3, [fp, #-16]
1319:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1320:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Find the position of the entry - Is there a page, a directory, or nothing? */
1321:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)!=0)
 3462              		.loc 1 1321 10
 3463 007c 10301BE5 		ldr	r3, [fp, #-16]
 3464 0080 023003E2 		and	r3, r3, #2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 86


 3465              		.loc 1 1321 4
 3466 0084 000053E3 		cmp	r3, #0
 3467 0088 3900000A 		beq	.L157
1322:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1323:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* There is a 1M page */
1324:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Pgt!=0)
 3468              		.loc 1 1324 5
 3469 008c 20301BE5 		ldr	r3, [fp, #-32]
 3470 0090 000053E3 		cmp	r3, #0
 3471 0094 0200000A 		beq	.L158
1325:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Pgt=(rme_ptr_t)Table;
 3472              		.loc 1 1325 9
 3473 0098 08201BE5 		ldr	r2, [fp, #-8]
 3474              		.loc 1 1325 8
 3475 009c 20301BE5 		ldr	r3, [fp, #-32]
 3476 00a0 002083E5 		str	r2, [r3]
 3477              	.L158:
1326:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Map_Vaddr!=0)
 3478              		.loc 1 1326 5
 3479 00a4 24301BE5 		ldr	r3, [fp, #-36]
 3480 00a8 000053E3 		cmp	r3, #0
 3481 00ac 0400000A 		beq	.L159
1327:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_1M);
 3482              		.loc 1 1327 15
 3483 00b0 1C301BE5 		ldr	r3, [fp, #-28]
 3484 00b4 233AA0E1 		lsr	r3, r3, #20
 3485 00b8 033AA0E1 		lsl	r3, r3, #20
 3486              		.loc 1 1327 14
 3487 00bc 24201BE5 		ldr	r2, [fp, #-36]
 3488 00c0 003082E5 		str	r3, [r2]
 3489              	.L159:
1328:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Paddr!=0)
 3490              		.loc 1 1328 5
 3491 00c4 04309BE5 		ldr	r3, [fp, #4]
 3492 00c8 000053E3 		cmp	r3, #0
 3493 00cc 0400000A 		beq	.L160
1329:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
 3494              		.loc 1 1329 11
 3495 00d0 10301BE5 		ldr	r3, [fp, #-16]
 3496 00d4 233AA0E1 		lsr	r3, r3, #20
 3497 00d8 033AA0E1 		lsl	r3, r3, #20
 3498              		.loc 1 1329 10
 3499 00dc 04209BE5 		ldr	r2, [fp, #4]
 3500 00e0 003082E5 		str	r3, [r2]
 3501              	.L160:
1330:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Size_Order!=0)
 3502              		.loc 1 1330 5
 3503 00e4 08309BE5 		ldr	r3, [fp, #8]
 3504 00e8 000053E3 		cmp	r3, #0
 3505 00ec 0200000A 		beq	.L161
1331:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Size_Order=RME_PGT_SIZE_1M;
 3506              		.loc 1 1331 15
 3507 00f0 08309BE5 		ldr	r3, [fp, #8]
 3508 00f4 1420A0E3 		mov	r2, #20
 3509 00f8 002083E5 		str	r2, [r3]
 3510              	.L161:
1332:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Num_Order!=0)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 87


 3511              		.loc 1 1332 5
 3512 00fc 0C309BE5 		ldr	r3, [fp, #12]
 3513 0100 000053E3 		cmp	r3, #0
 3514 0104 0200000A 		beq	.L162
1333:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Num_Order=RME_PGT_NUM_4K;
 3515              		.loc 1 1333 14
 3516 0108 0C309BE5 		ldr	r3, [fp, #12]
 3517 010c 0C20A0E3 		mov	r2, #12
 3518 0110 002083E5 		str	r2, [r3]
 3519              	.L162:
1334:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Flags!=0)
 3520              		.loc 1 1334 5
 3521 0114 10309BE5 		ldr	r3, [fp, #16]
 3522 0118 000053E3 		cmp	r3, #0
 3523 011c 6800000A 		beq	.L163
1335:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
 3524              		.loc 1 1335 11
 3525 0120 10301BE5 		ldr	r3, [fp, #-16]
 3526 0124 2336A0E1 		lsr	r3, r3, #12
 3527 0128 082003E2 		and	r2, r3, #8
 3528 012c 10301BE5 		ldr	r3, [fp, #-16]
 3529 0130 2331A0E1 		lsr	r3, r3, #2
 3530 0134 043003E2 		and	r3, r3, #4
 3531 0138 032082E1 		orr	r2, r2, r3
 3532 013c 10301BE5 		ldr	r3, [fp, #-16]
 3533 0140 2331A0E1 		lsr	r3, r3, #2
 3534 0144 023003E2 		and	r3, r3, #2
 3535 0148 032082E1 		orr	r2, r2, r3
 3536 014c 10301BE5 		ldr	r3, [fp, #-16]
 3537 0150 2331A0E1 		lsr	r3, r3, #2
 3538 0154 013003E2 		and	r3, r3, #1
 3539 0158 032082E1 		orr	r2, r2, r3
 3540 015c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_1M_NAT2RME
 3541 0160 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_1M_NAT2RME
 3542 0164 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3543              		.loc 1 1335 10
 3544 0168 10309BE5 		ldr	r3, [fp, #16]
 3545 016c 002083E5 		str	r2, [r3]
 3546 0170 530000EA 		b	.L163
 3547              	.L157:
1336:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1337:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1338:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else if((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0)
 3548              		.loc 1 1338 15
 3549 0174 10301BE5 		ldr	r3, [fp, #-16]
 3550 0178 013003E2 		and	r3, r3, #1
 3551              		.loc 1 1338 9
 3552 017c 000053E3 		cmp	r3, #0
 3553 0180 4D00000A 		beq	.L164
1339:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1340:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Table=(rme_ptr_t*)RME_A7A_PA2VA(RME_A7A_MMU_1M_PGT_ADDR(Temp));
 3554              		.loc 1 1340 21
 3555 0184 10301BE5 		ldr	r3, [fp, #-16]
 3556 0188 FF3FC3E3 		bic	r3, r3, #1020
 3557 018c 0330C3E3 		bic	r3, r3, #3
 3558 0190 023183E2 		add	r3, r3, #-2147483648
 3559              		.loc 1 1340 8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 88


 3560 0194 08300BE5 		str	r3, [fp, #-8]
1341:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Calculate where is the entry - always 0 to 256 */
1342:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Pos=(Vaddr>>RME_PGT_SIZE_4K)&0xFFU;
 3561              		.loc 1 1342 13
 3562 0198 1C301BE5 		ldr	r3, [fp, #-28]
 3563 019c 2336A0E1 		lsr	r3, r3, #12
 3564              		.loc 1 1342 6
 3565 01a0 7330EFE6 		uxtb	r3, r3
 3566 01a4 0C300BE5 		str	r3, [fp, #-12]
1343:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Atomic read */
1344:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Temp=Table[Pos];
 3567              		.loc 1 1344 13
 3568 01a8 0C301BE5 		ldr	r3, [fp, #-12]
 3569 01ac 0331A0E1 		lsl	r3, r3, #2
 3570 01b0 08201BE5 		ldr	r2, [fp, #-8]
 3571 01b4 033082E0 		add	r3, r2, r3
 3572              		.loc 1 1344 7
 3573 01b8 003093E5 		ldr	r3, [r3]
 3574 01bc 10300BE5 		str	r3, [fp, #-16]
1345:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1346:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)!=0)
 3575              		.loc 1 1346 11
 3576 01c0 10301BE5 		ldr	r3, [fp, #-16]
 3577 01c4 023003E2 		and	r3, r3, #2
 3578              		.loc 1 1346 5
 3579 01c8 000053E3 		cmp	r3, #0
 3580 01cc 3800000A 		beq	.L165
1347:../../Source/Platform/A7A/rme_platform_a7a.c **** 		{
1348:../../Source/Platform/A7A/rme_platform_a7a.c **** 			/* There is a 4k page */
1349:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Pgt!=0)
 3581              		.loc 1 1349 6
 3582 01d0 20301BE5 		ldr	r3, [fp, #-32]
 3583 01d4 000053E3 		cmp	r3, #0
 3584 01d8 0200000A 		beq	.L166
1350:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Pgt=(rme_ptr_t)Table;
 3585              		.loc 1 1350 10
 3586 01dc 08201BE5 		ldr	r2, [fp, #-8]
 3587              		.loc 1 1350 9
 3588 01e0 20301BE5 		ldr	r3, [fp, #-32]
 3589 01e4 002083E5 		str	r2, [r3]
 3590              	.L166:
1351:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Map_Vaddr!=0)
 3591              		.loc 1 1351 6
 3592 01e8 24301BE5 		ldr	r3, [fp, #-36]
 3593 01ec 000053E3 		cmp	r3, #0
 3594 01f0 0400000A 		beq	.L167
1352:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_4K);
 3595              		.loc 1 1352 16
 3596 01f4 1C301BE5 		ldr	r3, [fp, #-28]
 3597 01f8 FF3EC3E3 		bic	r3, r3, #4080
 3598 01fc 0F30C3E3 		bic	r3, r3, #15
 3599              		.loc 1 1352 15
 3600 0200 24201BE5 		ldr	r2, [fp, #-36]
 3601 0204 003082E5 		str	r3, [r2]
 3602              	.L167:
1353:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Paddr!=0)
 3603              		.loc 1 1353 6
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 89


 3604 0208 04309BE5 		ldr	r3, [fp, #4]
 3605 020c 000053E3 		cmp	r3, #0
 3606 0210 0400000A 		beq	.L168
1354:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
 3607              		.loc 1 1354 12
 3608 0214 10301BE5 		ldr	r3, [fp, #-16]
 3609 0218 FF3EC3E3 		bic	r3, r3, #4080
 3610 021c 0F30C3E3 		bic	r3, r3, #15
 3611              		.loc 1 1354 11
 3612 0220 04209BE5 		ldr	r2, [fp, #4]
 3613 0224 003082E5 		str	r3, [r2]
 3614              	.L168:
1355:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Size_Order!=0)
 3615              		.loc 1 1355 6
 3616 0228 08309BE5 		ldr	r3, [fp, #8]
 3617 022c 000053E3 		cmp	r3, #0
 3618 0230 0200000A 		beq	.L169
1356:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Size_Order=RME_PGT_SIZE_4K;
 3619              		.loc 1 1356 16
 3620 0234 08309BE5 		ldr	r3, [fp, #8]
 3621 0238 0C20A0E3 		mov	r2, #12
 3622 023c 002083E5 		str	r2, [r3]
 3623              	.L169:
1357:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Num_Order!=0)
 3624              		.loc 1 1357 6
 3625 0240 0C309BE5 		ldr	r3, [fp, #12]
 3626 0244 000053E3 		cmp	r3, #0
 3627 0248 0200000A 		beq	.L170
1358:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Num_Order=RME_PGT_NUM_256;
 3628              		.loc 1 1358 15
 3629 024c 0C309BE5 		ldr	r3, [fp, #12]
 3630 0250 0820A0E3 		mov	r2, #8
 3631 0254 002083E5 		str	r2, [r3]
 3632              	.L170:
1359:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Flags!=0)
 3633              		.loc 1 1359 6
 3634 0258 10309BE5 		ldr	r3, [fp, #16]
 3635 025c 000053E3 		cmp	r3, #0
 3636 0260 1700000A 		beq	.L163
1360:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
 3637              		.loc 1 1360 12
 3638 0264 10301BE5 		ldr	r3, [fp, #-16]
 3639 0268 2333A0E1 		lsr	r3, r3, #6
 3640 026c 082003E2 		and	r2, r3, #8
 3641 0270 10301BE5 		ldr	r3, [fp, #-16]
 3642 0274 A330A0E1 		lsr	r3, r3, #1
 3643 0278 043003E2 		and	r3, r3, #4
 3644 027c 032082E1 		orr	r2, r2, r3
 3645 0280 10301BE5 		ldr	r3, [fp, #-16]
 3646 0284 A330A0E1 		lsr	r3, r3, #1
 3647 0288 023003E2 		and	r3, r3, #2
 3648 028c 032082E1 		orr	r2, r2, r3
 3649 0290 10301BE5 		ldr	r3, [fp, #-16]
 3650 0294 013003E2 		and	r3, r3, #1
 3651 0298 032082E1 		orr	r2, r2, r3
 3652 029c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_4K_NAT2RME
 3653 02a0 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_4K_NAT2RME
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 90


 3654 02a4 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3655              		.loc 1 1360 11
 3656 02a8 10309BE5 		ldr	r3, [fp, #16]
 3657 02ac 002083E5 		str	r2, [r3]
 3658 02b0 030000EA 		b	.L163
 3659              	.L165:
1361:../../Source/Platform/A7A/rme_platform_a7a.c **** 		}
1362:../../Source/Platform/A7A/rme_platform_a7a.c **** 		else
1363:../../Source/Platform/A7A/rme_platform_a7a.c **** 			return RME_ERR_HAL_FAIL;
 3660              		.loc 1 1363 11
 3661 02b4 0030E0E3 		mvn	r3, #0
 3662 02b8 020000EA 		b	.L155
 3663              	.L164:
1364:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1365:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else
1366:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return RME_ERR_HAL_FAIL;
 3664              		.loc 1 1366 10
 3665 02bc 0030E0E3 		mvn	r3, #0
 3666 02c0 000000EA 		b	.L155
 3667              	.L163:
1367:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1368:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3668              		.loc 1 1368 12
 3669 02c4 0030A0E3 		mov	r3, #0
 3670              	.L155:
1369:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3671              		.loc 1 1369 1
 3672 02c8 0300A0E1 		mov	r0, r3
 3673 02cc 00D08BE2 		add	sp, fp, #0
 3674              		.cfi_def_cfa_register 13
 3675              		@ sp needed
 3676 02d0 04B09DE4 		ldr	fp, [sp], #4
 3677              		.cfi_restore 11
 3678              		.cfi_def_cfa_offset 0
 3679 02d4 1EFF2FE1 		bx	lr
 3680              		.cfi_endproc
 3681              	.LFE43:
 3683              		.text
 3684              	.Letext0:
 3685              		.file 2 "../../Include/Platform/A7A/rme_platform_a7a.h"
 3686              		.file 3 "../../Include/Kernel/rme_kernel.h"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 91


DEFINED SYMBOLS
                            *ABS*:00000000 rme_platform_a7a.c
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:21     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:24     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 RME_A7A_Pgflg_1M_RME2NAT
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:58     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:61     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 RME_A7A_Pgflg_4K_RME2NAT
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:95     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:98     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 RME_A7A_Pgflg_1M_NAT2RME
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:116    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:119    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 RME_A7A_Pgflg_4K_NAT2RME
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:141    .bss.RME_A7A_Timestamp:00000000 RME_A7A_Timestamp
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:138    .bss.RME_A7A_Timestamp:00000000 $d
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:148    .bss.RME_A7A_Local:00000000 RME_A7A_Local
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:145    .bss.RME_A7A_Local:00000000 $d
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:155    .bss.RME_A7A_Kot:00000000 RME_A7A_Kot
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:152    .bss.RME_A7A_Kot:00000000 $d
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:162    .rodata.RME_A7A_Mem_Info:00000000 RME_A7A_Mem_Info
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:159    .rodata.RME_A7A_Mem_Info:00000000 $d
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:193    .bss.RME_A7A_CPU_Cnt:00000000 RME_A7A_CPU_Cnt
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:190    .bss.RME_A7A_CPU_Cnt:00000000 $d
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:196    .text.main:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:201    .text.main:00000000 main
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:224    .text.__RME_Putchar:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:229    .text.__RME_Putchar:00000000 __RME_Putchar
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:272    .rodata:00000000 $d
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:273    .rodata:00000000 .LC0
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:276    .rodata:00000018 .LC1
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:279    .rodata:00000030 .LC2
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:282    .rodata:00000048 .LC3
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:285    .rodata:00000064 .LC4
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:288    .rodata:0000007c .LC5
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:291    .rodata:0000009c .LC6
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:294    .rodata:000000b4 .LC7
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:297    .text.__RME_A7A_Int_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:301    .text.__RME_A7A_Int_Init:00000000 __RME_A7A_Int_Init
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:561    .text.__RME_A7A_Int_Local_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:566    .text.__RME_A7A_Int_Local_Init:00000000 __RME_A7A_Int_Local_Init
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:609    .text.__RME_A7A_Timer_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:613    .text.__RME_A7A_Timer_Init:00000000 __RME_A7A_Timer_Init
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:666    .text.__RME_A7A_Feature_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:671    .text.__RME_A7A_Feature_Get:00000000 __RME_A7A_Feature_Get
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:696    .text.__RME_A7A_Mem_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:701    .text.__RME_A7A_Mem_Init:00000000 __RME_A7A_Mem_Init
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:729    .text.__RME_A7A_SMP_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:734    .text.__RME_A7A_SMP_Init:00000000 __RME_A7A_SMP_Init
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:759    .text.__RME_A7A_SMP_Tick:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:764    .text.__RME_A7A_SMP_Tick:00000000 __RME_A7A_SMP_Tick
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:790    .rodata:000000d8 .LC8
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:793    .rodata:000000ec .LC9
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:796    .text.__RME_Lowlvl_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:801    .text.__RME_Lowlvl_Init:00000000 __RME_Lowlvl_Init
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:853    .text.__RME_Pgt_Kom_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:858    .text.__RME_Pgt_Kom_Init:00000000 __RME_Pgt_Kom_Init
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:885    .text.__RME_SMP_Low_Level_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:890    .text.__RME_SMP_Low_Level_Init:00000000 __RME_SMP_Low_Level_Init
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:918    .rodata:00000100 .LC10
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:921    .rodata:00000110 .LC11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 92


C:\Users\even\AppData\Local\Temp\ccc53LFP.s:924    .rodata:00000124 .LC12
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:927    .rodata:0000013c .LC13
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:930    .rodata:00000148 .LC14
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:933    .rodata:00000154 .LC15
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:936    .rodata:00000184 .LC16
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:939    .rodata:0000019c .LC17
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:942    .rodata:000001b4 .LC18
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:945    .rodata:000001d0 .LC19
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:949    .rodata:00000214 .LC20
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:952    .text.__RME_Boot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:957    .text.__RME_Boot:00000000 __RME_Boot
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2410   .text.__RME_Pgt_Set:00000000 __RME_Pgt_Set
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1378   .text.__RME_Reboot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1383   .text.__RME_Reboot:00000000 __RME_Reboot
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1408   .text.__RME_Shutdown:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1413   .text.__RME_Shutdown:00000000 __RME_Shutdown
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1438   .text.__RME_Svc_Param_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1443   .text.__RME_Svc_Param_Get:00000000 __RME_Svc_Param_Get
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1511   .text.__RME_Svc_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1516   .text.__RME_Svc_Retval_Set:00000000 __RME_Svc_Retval_Set
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1549   .text.__RME_Thd_Reg_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1554   .text.__RME_Thd_Reg_Init:00000000 __RME_Thd_Reg_Init
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1596   .text.__RME_Thd_Reg_Copy:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1601   .text.__RME_Thd_Reg_Copy:00000000 __RME_Thd_Reg_Copy
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1725   .text.__RME_Thd_Cop_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1730   .text.__RME_Thd_Cop_Init:00000000 __RME_Thd_Cop_Init
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1758   .text.__RME_Thd_Cop_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1763   .text.__RME_Thd_Cop_Save:00000000 __RME_Thd_Cop_Save
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1791   .text.__RME_Thd_Cop_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1796   .text.__RME_Thd_Cop_Restore:00000000 __RME_Thd_Cop_Restore
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1824   .text.__RME_Inv_Reg_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1829   .text.__RME_Inv_Reg_Save:00000000 __RME_Inv_Reg_Save
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1869   .text.__RME_Inv_Reg_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1874   .text.__RME_Inv_Reg_Restore:00000000 __RME_Inv_Reg_Restore
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1914   .text.__RME_Inv_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1919   .text.__RME_Inv_Retval_Set:00000000 __RME_Inv_Retval_Set
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1952   .text.__RME_Set_Inv_Retval:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1957   .text.__RME_Set_Inv_Retval:00000000 __RME_Set_Inv_Retval
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1990   .text.__RME_Thd_Cop_Swap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:1995   .text.__RME_Thd_Cop_Swap:00000000 __RME_Thd_Cop_Swap
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2025   .text.__RME_Kfn_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2030   .text.__RME_Kfn_Handler:00000000 __RME_Kfn_Handler
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2062   .text.__RME_A7A_Undefined_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2067   .text.__RME_A7A_Undefined_Handler:00000000 __RME_A7A_Undefined_Handler
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2088   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2093   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 __RME_A7A_Prefetch_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2114   .text.__RME_A7A_Data_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2119   .text.__RME_A7A_Data_Abort_Handler:00000000 __RME_A7A_Data_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2141   .rodata:00000228 .LC21
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2144   .text.__RME_A7A_IRQ_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2149   .text.__RME_A7A_IRQ_Handler:00000000 __RME_A7A_IRQ_Handler
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2318   .text._RME_A7A_SGI_Handler:00000000 _RME_A7A_SGI_Handler
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2313   .text._RME_A7A_SGI_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2349   .rodata:00000238 .LC22
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2352   .text.__RME_A7A_Generic_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2357   .text.__RME_A7A_Generic_Handler:00000000 __RME_A7A_Generic_Handler
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2393   .rodata:00000248 .LC23
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 93


C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2396   .rodata:00000258 .LC24
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2399   .rodata:00000268 .LC25
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2402   .rodata:0000027c .LC26
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2405   .text.__RME_Pgt_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2856   .text.__RME_Pgt_Page_Map:00000000 __RME_Pgt_Page_Map
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2569   .rodata:00000290 .LC27
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2572   .rodata:0000029c .LC28
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2575   .text.__RME_Pgt_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2580   .text.__RME_Pgt_Check:00000000 __RME_Pgt_Check
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2680   .text.__RME_Pgt_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2685   .text.__RME_Pgt_Init:00000000 __RME_Pgt_Init
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2803   .text.__RME_Pgt_Del_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2808   .text.__RME_Pgt_Del_Check:00000000 __RME_Pgt_Del_Check
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2838   .rodata:000002ac .LC29
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2841   .rodata:000002bc .LC30
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2845   .rodata:000002fc .LC31
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2848   .rodata:0000030c .LC32
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2851   .text.__RME_Pgt_Page_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:2997   .text.__RME_Pgt_Page_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:3002   .text.__RME_Pgt_Page_Unmap:00000000 __RME_Pgt_Page_Unmap
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:3101   .text.__RME_Pgt_Pgdir_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:3106   .text.__RME_Pgt_Pgdir_Map:00000000 __RME_Pgt_Pgdir_Map
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:3197   .text.__RME_Pgt_Pgdir_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:3202   .text.__RME_Pgt_Pgdir_Unmap:00000000 __RME_Pgt_Pgdir_Unmap
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:3233   .text.__RME_Pgt_Lookup:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:3238   .text.__RME_Pgt_Lookup:00000000 __RME_Pgt_Lookup
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:3403   .text.__RME_Pgt_Walk:00000000 $a
C:\Users\even\AppData\Local\Temp\ccc53LFP.s:3408   .text.__RME_Pgt_Walk:00000000 __RME_Pgt_Walk
                           .group:00000000 wm4.0.3b9f63523dc4e8d86e863c7e7e762be7
                           .group:00000000 wm4.rme_platform_a7a.h.12.f1b47b5cf52f8425e79b8a761d5bd676
                           .group:00000000 wm4.rme_platform_xc7z020.h.15.c1d90fcf057b7628b5ac2d33951e63ab
                           .group:00000000 wm4.rme_platform_a7a.h.137.fdc6a038503ac117e4f4f30ba1107f52
                           .group:00000000 wm4.rme_kernel.h.27.716340edb41bad57d522729bf2b8a38a
                           .group:00000000 wm4.rme.h.11.105c42759f88404be372052d8d99e5e6
                           .group:00000000 wm4.rme_kernel.h.185.d02db6497e1a69d04e005d15d216f811
                           .group:00000000 wm4.rme_platform_a7a.h.390.918e282e9d9d990fe491c99e3e90944b
                           .group:00000000 wm4.rme_kernel.h.678.0572fdf2012fb48f701f562b23d175bb
                           .group:00000000 wm4.rme_platform_a7a.h.506.4a48ea2091da768113bc2e603a12de0c
                           .group:00000000 wm4.rme_kernel.h.930.0bcd107bd9a9b6f5fe5bbd4088ddbec4

UNDEFINED SYMBOLS
RME_Kmain
RME_Str_Print
RME_Int_Print
RME_Hex_Print
_RME_CPU_Local_Init
__RME_A7A_Vector_Table
__RME_A7A_VBAR_Set
__RME_A7A_SCR_Get
_RME_Cpt_Boot_Init
RME_Log
_RME_Pgt_Boot_Crt
_RME_Pgt_Boot_Add
_RME_Prc_Boot_Crt
_RME_Thd_Boot_Crt
_RME_Kfn_Boot_Crt
_RME_Kom_Boot_Crt
ARM GAS  C:\Users\even\AppData\Local\Temp\ccc53LFP.s 			page 94


_RME_Sig_Boot_Crt
__RME_Int_Enable
__RME_User_Enter
_RME_Tim_Handler
__RME_A7A_Kern_Pgt
_RME_Comp_Swap_Single
