ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 1


   1              		.cpu cortex-a9
   2              		.arch armv7-a
   3              		.fpu neon-fp16
   4              		.arch_extension mp
   5              		.arch_extension sec
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"rme_platform_a7a.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "../../Source/Platform/A7A/rme_platform_a7a.c"
  20              		.section	.rodata.RME_A7A_Pgflg_1M_RME2NAT,"a"
  21              		.align	2
  24              	RME_A7A_Pgflg_1M_RME2NAT:
  25 0000 128C0300 		.word	232466
  26 0004 128C0300 		.word	232466
  27 0008 120C0300 		.word	199698
  28 000c 120C0300 		.word	199698
  29 0010 028C0300 		.word	232450
  30 0014 028C0300 		.word	232450
  31 0018 020C0300 		.word	199682
  32 001c 020C0300 		.word	199682
  33 0020 1A8C0300 		.word	232474
  34 0024 1A8C0300 		.word	232474
  35 0028 1A0C0300 		.word	199706
  36 002c 1A0C0300 		.word	199706
  37 0030 0A8C0300 		.word	232458
  38 0034 0A8C0300 		.word	232458
  39 0038 0A0C0300 		.word	199690
  40 003c 0A0C0300 		.word	199690
  41 0040 168C0300 		.word	232470
  42 0044 168C0300 		.word	232470
  43 0048 160C0300 		.word	199702
  44 004c 160C0300 		.word	199702
  45 0050 068C0300 		.word	232454
  46 0054 068C0300 		.word	232454
  47 0058 060C0300 		.word	199686
  48 005c 060C0300 		.word	199686
  49 0060 1E8C0300 		.word	232478
  50 0064 1E8C0300 		.word	232478
  51 0068 1E0C0300 		.word	199710
  52 006c 1E0C0300 		.word	199710
  53 0070 0E8C0300 		.word	232462
  54 0074 0E8C0300 		.word	232462
  55 0078 0E0C0300 		.word	199694
  56 007c 0E0C0300 		.word	199694
  57              		.section	.rodata.RME_A7A_Pgflg_4K_RME2NAT,"a"
  58              		.align	2
  61              	RME_A7A_Pgflg_4K_RME2NAT:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 2


  62 0000 330E0000 		.word	3635
  63 0004 330E0000 		.word	3635
  64 0008 330C0000 		.word	3123
  65 000c 330C0000 		.word	3123
  66 0010 320E0000 		.word	3634
  67 0014 320E0000 		.word	3634
  68 0018 320C0000 		.word	3122
  69 001c 320C0000 		.word	3122
  70 0020 3B0E0000 		.word	3643
  71 0024 3B0E0000 		.word	3643
  72 0028 3B0C0000 		.word	3131
  73 002c 3B0C0000 		.word	3131
  74 0030 3A0E0000 		.word	3642
  75 0034 3A0E0000 		.word	3642
  76 0038 3A0C0000 		.word	3130
  77 003c 3A0C0000 		.word	3130
  78 0040 370E0000 		.word	3639
  79 0044 370E0000 		.word	3639
  80 0048 370C0000 		.word	3127
  81 004c 370C0000 		.word	3127
  82 0050 360E0000 		.word	3638
  83 0054 360E0000 		.word	3638
  84 0058 360C0000 		.word	3126
  85 005c 360C0000 		.word	3126
  86 0060 3F0E0000 		.word	3647
  87 0064 3F0E0000 		.word	3647
  88 0068 3F0C0000 		.word	3135
  89 006c 3F0C0000 		.word	3135
  90 0070 3E0E0000 		.word	3646
  91 0074 3E0E0000 		.word	3646
  92 0078 3E0C0000 		.word	3134
  93 007c 3E0C0000 		.word	3134
  94              		.section	.rodata.RME_A7A_Pgflg_1M_NAT2RME,"a"
  95              		.align	2
  98              	RME_A7A_Pgflg_1M_NAT2RME:
  99 0000 07000000 		.word	7
 100 0004 17000000 		.word	23
 101 0008 0F000000 		.word	15
 102 000c 1F000000 		.word	31
 103 0010 03000000 		.word	3
 104 0014 13000000 		.word	19
 105 0018 0B000000 		.word	11
 106 001c 1B000000 		.word	27
 107 0020 05000000 		.word	5
 108 0024 15000000 		.word	21
 109 0028 0D000000 		.word	13
 110 002c 1D000000 		.word	29
 111 0030 01000000 		.word	1
 112 0034 11000000 		.word	17
 113 0038 09000000 		.word	9
 114 003c 19000000 		.word	25
 115              		.section	.rodata.RME_A7A_Pgflg_4K_NAT2RME,"a"
 116              		.align	2
 119              	RME_A7A_Pgflg_4K_NAT2RME:
 120 0000 07000000 		.word	7
 121 0004 03000000 		.word	3
 122 0008 17000000 		.word	23
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 3


 123 000c 13000000 		.word	19
 124 0010 0F000000 		.word	15
 125 0014 0B000000 		.word	11
 126 0018 1F000000 		.word	31
 127 001c 1B000000 		.word	27
 128 0020 05000000 		.word	5
 129 0024 01000000 		.word	1
 130 0028 15000000 		.word	21
 131 002c 11000000 		.word	17
 132 0030 0D000000 		.word	13
 133 0034 09000000 		.word	9
 134 0038 1D000000 		.word	29
 135 003c 19000000 		.word	25
 136              		.global	RME_A7A_Timestamp
 137              		.section	.bss.RME_A7A_Timestamp,"aw",%nobits
 138              		.align	2
 141              	RME_A7A_Timestamp:
 142 0000 00000000 		.space	4
 143              		.global	RME_A7A_Local
 144              		.section	.bss.RME_A7A_Local,"aw",%nobits
 145              		.align	2
 148              	RME_A7A_Local:
 149 0000 00000000 		.space	276
 149      00000000 
 149      00000000 
 149      00000000 
 149      00000000 
 150              		.global	RME_A7A_Kot
 151              		.section	.bss.RME_A7A_Kot,"aw",%nobits
 152              		.align	2
 155              	RME_A7A_Kot:
 156 0000 00000000 		.space	131072
 156      00000000 
 156      00000000 
 156      00000000 
 156      00000000 
 157              		.global	RME_A7A_Mem_Info
 158              		.section	.rodata.RME_A7A_Mem_Info,"a"
 159              		.align	2
 162              	RME_A7A_Mem_Info:
 163 0000 19000000 		.word	25
 164 0004 00000000 		.word	0
 165 0008 00000000 		.word	0
 166 000c 00040000 		.word	1024
 167 0010 0E0C0300 		.word	199694
 168 0014 00000040 		.word	1073741824
 169 0018 00000040 		.word	1073741824
 170 001c 00020000 		.word	512
 171 0020 020C0300 		.word	199682
 172 0024 000000E0 		.word	-536870912
 173 0028 00000060 		.word	1610612736
 174 002c 00020000 		.word	512
 175 0030 020C0300 		.word	199682
 176 0034 00000000 		.word	0
 177 0038 00000080 		.word	-2147483648
 178 003c 00040000 		.word	1024
 179 0040 0E040300 		.word	197646
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 4


 180 0044 00000040 		.word	1073741824
 181 0048 000000C0 		.word	-1073741824
 182 004c 00020000 		.word	512
 183 0050 02040300 		.word	197634
 184 0054 000000E0 		.word	-536870912
 185 0058 000000E0 		.word	-536870912
 186 005c 00020000 		.word	512
 187 0060 02040300 		.word	197634
 188              		.global	RME_A7A_CPU_Cnt
 189              		.section	.bss.RME_A7A_CPU_Cnt,"aw",%nobits
 190              		.align	2
 193              	RME_A7A_CPU_Cnt:
 194 0000 00000000 		.space	4
 195              		.section	.text.main,"ax",%progbits
 196              		.align	2
 197              		.global	main
 198              		.syntax unified
 199              		.arm
 201              	main:
 202              	.LFB0:
   1:../../Source/Platform/A7A/rme_platform_a7a.c **** /******************************************************************************
   2:../../Source/Platform/A7A/rme_platform_a7a.c **** Filename    : platform_a7a.c
   3:../../Source/Platform/A7A/rme_platform_a7a.c **** Author      : pry
   4:../../Source/Platform/A7A/rme_platform_a7a.c **** Date        : 01/04/2017
   5:../../Source/Platform/A7A/rme_platform_a7a.c **** Licence     : LGPL v3+; see COPYING for details.
   6:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The hardware abstraction layer for ARMv7-A machines.
   7:../../Source/Platform/A7A/rme_platform_a7a.c ****               1. Interrupt controller
   8:../../Source/Platform/A7A/rme_platform_a7a.c ****               2. Timer
   9:../../Source/Platform/A7A/rme_platform_a7a.c ****               3. Pgt setup
  10:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  11:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  12:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Include *******************************************************************/
  13:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_DEF__
  14:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  15:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  16:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_DEF__
  17:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  18:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_STRUCT__
  19:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  20:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  21:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_STRUCT__
  22:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  23:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Private include */
  24:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Platform/A7A/rme_platform_a7a.h"
  25:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  26:../../Source/Platform/A7A/rme_platform_a7a.c **** #define __HDR_PUBLIC__
  27:../../Source/Platform/A7A/rme_platform_a7a.c **** #include "Kernel/rme_kernel.h"
  28:../../Source/Platform/A7A/rme_platform_a7a.c **** #undef __HDR_PUBLIC__
  29:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Include ***************************************************************/
  30:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  31:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:main **************************************************************
  32:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The entrance of the operating system.
  33:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  34:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  35:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : int - This function never returns.
  36:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  37:../../Source/Platform/A7A/rme_platform_a7a.c **** int main(void)
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 5


  38:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 203              		.loc 1 38 1
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 0
 206              		@ frame_needed = 1, uses_anonymous_args = 0
 207 0000 00482DE9 		push	{fp, lr}
 208              		.cfi_def_cfa_offset 8
 209              		.cfi_offset 11, -8
 210              		.cfi_offset 14, -4
 211 0004 04B08DE2 		add	fp, sp, #4
 212              		.cfi_def_cfa 11, 4
  39:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_H(__RME_A7A_ID_ISAR0_Get());
  40:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_I(10);
  41:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//RME_DBG_S("hello world\n");
  42:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//while(1);
  43:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('h');
  44:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('e');
  45:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  46:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  47:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  48:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar(' ');
  49:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('w');*/
  50:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  51:../../Source/Platform/A7A/rme_platform_a7a.c ****    /* RME_DBG_S("0123456789\n");
  52:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  53:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  54:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  55:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  56:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  57:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("0123456789\n");
  58:../../Source/Platform/A7A/rme_platform_a7a.c ****     while(1);*/
  59:../../Source/Platform/A7A/rme_platform_a7a.c ****    // __RME_Putchar('h');
  60:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('e');
  61:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  62:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');*/
  63:../../Source/Platform/A7A/rme_platform_a7a.c ****     //__RME_Putchar('o');
  64:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*__RME_Putchar('w');
  65:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('o');
  66:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('r');
  67:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('l');
  68:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Putchar('d');*/
  69:../../Source/Platform/A7A/rme_platform_a7a.c ****    RME_Kmain();
 213              		.loc 1 69 4
 214 0008 FEFFFFEB 		bl	RME_Kmain
  70:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  71:../../Source/Platform/A7A/rme_platform_a7a.c ****     
  72:../../Source/Platform/A7A/rme_platform_a7a.c ****     //test
  73:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The main function of the kernel - we will start our kernel boot here */
  74:../../Source/Platform/A7A/rme_platform_a7a.c ****     //_RME_Kmain(RME_KOM_STACK_ADDR);
  75:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  76:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 215              		.loc 1 76 12
 216 000c 0030A0E3 		mov	r3, #0
  77:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 217              		.loc 1 77 1
 218 0010 0300A0E1 		mov	r0, r3
 219 0014 0088BDE8 		pop	{fp, pc}
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 6


 220              		.cfi_endproc
 221              	.LFE0:
 223              		.section	.text.__RME_Putchar,"ax",%progbits
 224              		.align	2
 225              		.global	__RME_Putchar
 226              		.syntax unified
 227              		.arm
 229              	__RME_Putchar:
 230              	.LFB1:
  78:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:main *********************************************************/
  79:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  80:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Putchar *****************************************************
  81:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Output a character to console. In Cortex-M, under most circumstances, 
  82:../../Source/Platform/A7A/rme_platform_a7a.c ****               we should use the ITM for such outputs.
  83:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : char Char - The character to print.
  84:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  85:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
  86:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
  87:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Putchar(char Char)
  88:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 231              		.loc 1 88 1
 232              		.cfi_startproc
 233              		@ args = 0, pretend = 0, frame = 8
 234              		@ frame_needed = 1, uses_anonymous_args = 0
 235              		@ link register save eliminated.
 236 0000 04B02DE5 		str	fp, [sp, #-4]!
 237              		.cfi_def_cfa_offset 4
 238              		.cfi_offset 11, -4
 239 0004 00B08DE2 		add	fp, sp, #0
 240              		.cfi_def_cfa_register 11
 241 0008 0CD04DE2 		sub	sp, sp, #12
 242 000c 0030A0E1 		mov	r3, r0
 243 0010 05304BE5 		strb	r3, [fp, #-5]
 244              	.L4:
  89:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PUTCHAR(Char);
 245              		.loc 1 89 5 discriminator 1
 246 0014 2C3001E3 		movw	r3, #4140
 247 0018 00304EE3 		movt	r3, 57344
 248 001c 003093E5 		ldr	r3, [r3]
 249 0020 083003E2 		and	r3, r3, #8
 250 0024 000053E3 		cmp	r3, #0
 251 0028 F9FFFF0A 		beq	.L4
 252              		.loc 1 89 5 is_stmt 0 discriminator 2
 253 002c 303001E3 		movw	r3, #4144
 254 0030 00304EE3 		movt	r3, 57344
 255 0034 D5205BE1 		ldrsb	r2, [fp, #-5]
 256 0038 002083E5 		str	r2, [r3]
  90:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 257              		.loc 1 90 12 is_stmt 1
 258 003c 0030A0E3 		mov	r3, #0
  91:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 259              		.loc 1 91 1
 260 0040 0300A0E1 		mov	r0, r3
 261 0044 00D08BE2 		add	sp, fp, #0
 262              		.cfi_def_cfa_register 13
 263              		@ sp needed
 264 0048 04B09DE4 		ldr	fp, [sp], #4
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 7


 265              		.cfi_restore 11
 266              		.cfi_def_cfa_offset 0
 267 004c 1EFF2FE1 		bx	lr
 268              		.cfi_endproc
 269              	.LFE1:
 271              		.section	.rodata
 272              		.align	2
 273              	.LC0:
 274 0000 0D0A4137 		.ascii	"\015\012A7A-GIC: ProductID: \000"
 274      412D4749 
 274      433A2050 
 274      726F6475 
 274      63744944 
 275 0017 00       		.align	2
 276              	.LC1:
 277 0018 0D0A4137 		.ascii	"\015\012A7A-GIC: Variant: \000"
 277      412D4749 
 277      433A2056 
 277      61726961 
 277      6E743A20 
 278 002d 000000   		.align	2
 279              	.LC2:
 280 0030 0D0A4137 		.ascii	"\015\012A7A-GIC: Revision: \000"
 280      412D4749 
 280      433A2052 
 280      65766973 
 280      696F6E3A 
 281 0046 0000     		.align	2
 282              	.LC3:
 283 0048 0D0A4137 		.ascii	"\015\012A7A-GIC: Implementer: 0x\000"
 283      412D4749 
 283      433A2049 
 283      6D706C65 
 283      6D656E74 
 284 0063 00       		.align	2
 285              	.LC4:
 286 0064 0D0A4137 		.ascii	"\015\012A7A-GIC: SPI number: \000"
 286      412D4749 
 286      433A2053 
 286      5049206E 
 286      756D6265 
 287              		.align	2
 288              	.LC5:
 289 007c 0D0A4137 		.ascii	"\015\012A7A-GIC: Security extension: \000"
 289      412D4749 
 289      433A2053 
 289      65637572 
 289      69747920 
 290              		.align	2
 291              	.LC6:
 292 009c 0D0A4137 		.ascii	"\015\012A7A-GIC: CPU number: \000"
 292      412D4749 
 292      433A2043 
 292      5055206E 
 292      756D6265 
 293              		.align	2
 294              	.LC7:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 8


 295 00b4 0D0A4137 		.ascii	"\015\012A7A-GIC: Interrupt line number: \000"
 295      412D4749 
 295      433A2049 
 295      6E746572 
 295      72757074 
 296              		.section	.text.__RME_A7A_Int_Init,"ax",%progbits
 297              		.align	2
 298              		.syntax unified
 299              		.arm
 301              	__RME_A7A_Int_Init:
 302              	.LFB2:
  92:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Putchar ************************************************/
  93:../../Source/Platform/A7A/rme_platform_a7a.c **** 
  94:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_CPU_Local_Get ******************************************
  95:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the CPU-local data structures. This is to identify where we are
  96:../../Source/Platform/A7A/rme_platform_a7a.c ****               executing.
  97:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
  98:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
  99:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : struct RME_CPU_Local* - The CPU-local data structures.
 100:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 101:../../Source/Platform/A7A/rme_platform_a7a.c **** /*struct RME_CPU_Local* __RME_A7A_CPU_Local_Get(void)
 102:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 103:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return &RME_A7A_Local[__RME_A7A_MPIDR_Get()&0x03];
 104:../../Source/Platform/A7A/rme_platform_a7a.c **** }*/
 105:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_CPU_Local_Get *************************************/
 106:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 107:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Init ***********************************************
 108:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 109:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 110:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 111:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 112:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 113:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 114:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 115:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Init(void)
 116:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 303              		.loc 1 116 1
 304              		.cfi_startproc
 305              		@ args = 0, pretend = 0, frame = 8
 306              		@ frame_needed = 1, uses_anonymous_args = 0
 307 0000 00482DE9 		push	{fp, lr}
 308              		.cfi_def_cfa_offset 8
 309              		.cfi_offset 11, -8
 310              		.cfi_offset 14, -4
 311 0004 04B08DE2 		add	fp, sp, #4
 312              		.cfi_def_cfa 11, 4
 313 0008 08D04DE2 		sub	sp, sp, #8
 117:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
 118:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Lines;
 119:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 120:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Who implemented the GIC, what variant, how many interrupts? */
 121:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_IIDR;
 314              		.loc 1 121 10
 315 000c 083001E3 		movw	r3, #4104
 316 0010 F0384FE3 		movt	r3, 63728
 317              		.loc 1 121 9
 318 0014 003093E5 		ldr	r3, [r3]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 9


 319 0018 08300BE5 		str	r3, [fp, #-8]
 122:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: ProductID: ");
 320              		.loc 1 122 5
 321 001c 000000E3 		movw	r0, #:lower16:.LC0
 322 0020 000040E3 		movt	r0, #:upper16:.LC0
 323 0024 FEFFFFEB 		bl	RME_Str_Print
 123:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>24);
 324              		.loc 1 123 5
 325 0028 08301BE5 		ldr	r3, [fp, #-8]
 326 002c 233CA0E1 		lsr	r3, r3, #24
 327 0030 0300A0E1 		mov	r0, r3
 328 0034 FEFFFFEB 		bl	RME_Int_Print
 124:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Variant: ");
 329              		.loc 1 124 5
 330 0038 000000E3 		movw	r0, #:lower16:.LC1
 331 003c 000040E3 		movt	r0, #:upper16:.LC1
 332 0040 FEFFFFEB 		bl	RME_Str_Print
 125:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>20)&0xF);
 333              		.loc 1 125 5
 334 0044 08301BE5 		ldr	r3, [fp, #-8]
 335 0048 233AA0E1 		lsr	r3, r3, #20
 336 004c 0F3003E2 		and	r3, r3, #15
 337 0050 0300A0E1 		mov	r0, r3
 338 0054 FEFFFFEB 		bl	RME_Int_Print
 126:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Revision: ");
 339              		.loc 1 126 5
 340 0058 000000E3 		movw	r0, #:lower16:.LC2
 341 005c 000040E3 		movt	r0, #:upper16:.LC2
 342 0060 FEFFFFEB 		bl	RME_Str_Print
 127:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>12)&0xF);
 343              		.loc 1 127 5
 344 0064 08301BE5 		ldr	r3, [fp, #-8]
 345 0068 2336A0E1 		lsr	r3, r3, #12
 346 006c 0F3003E2 		and	r3, r3, #15
 347 0070 0300A0E1 		mov	r0, r3
 348 0074 FEFFFFEB 		bl	RME_Int_Print
 128:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Implementer: 0x");
 349              		.loc 1 128 5
 350 0078 000000E3 		movw	r0, #:lower16:.LC3
 351 007c 000040E3 		movt	r0, #:upper16:.LC3
 352 0080 FEFFFFEB 		bl	RME_Str_Print
 129:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Temp&0xFFF);
 353              		.loc 1 129 5
 354 0084 08301BE5 		ldr	r3, [fp, #-8]
 355 0088 5330EBE7 		ubfx	r3, r3, #0, #12
 356 008c 0300A0E1 		mov	r0, r3
 357 0090 FEFFFFEB 		bl	RME_Hex_Print
 130:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 131:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* How many locked SPIs, security extension enabled or not, number of
 132:../../Source/Platform/A7A/rme_platform_a7a.c ****      * actual CPUs and interrupt lines */
 133:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=RME_A7A_GICD_TYPER;
 358              		.loc 1 133 10
 359 0094 043001E3 		movw	r3, #4100
 360 0098 F0384FE3 		movt	r3, 63728
 361              		.loc 1 133 9
 362 009c 003093E5 		ldr	r3, [r3]
 363 00a0 08300BE5 		str	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 10


 134:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: SPI number: ");
 364              		.loc 1 134 5
 365 00a4 000000E3 		movw	r0, #:lower16:.LC4
 366 00a8 000040E3 		movt	r0, #:upper16:.LC4
 367 00ac FEFFFFEB 		bl	RME_Str_Print
 135:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Temp>>16);
 368              		.loc 1 135 5
 369 00b0 08301BE5 		ldr	r3, [fp, #-8]
 370 00b4 2338A0E1 		lsr	r3, r3, #16
 371 00b8 0300A0E1 		mov	r0, r3
 372 00bc FEFFFFEB 		bl	RME_Int_Print
 136:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Security extension: ");
 373              		.loc 1 136 5
 374 00c0 000000E3 		movw	r0, #:lower16:.LC5
 375 00c4 000040E3 		movt	r0, #:upper16:.LC5
 376 00c8 FEFFFFEB 		bl	RME_Str_Print
 137:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I((Temp>>10)&0x1);
 377              		.loc 1 137 5
 378 00cc 08301BE5 		ldr	r3, [fp, #-8]
 379 00d0 2335A0E1 		lsr	r3, r3, #10
 380 00d4 013003E2 		and	r3, r3, #1
 381 00d8 0300A0E1 		mov	r0, r3
 382 00dc FEFFFFEB 		bl	RME_Int_Print
 138:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: CPU number: ");
 383              		.loc 1 138 5
 384 00e0 000000E3 		movw	r0, #:lower16:.LC6
 385 00e4 000040E3 		movt	r0, #:upper16:.LC6
 386 00e8 FEFFFFEB 		bl	RME_Str_Print
 139:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(((Temp>>5)&0x7)+1);
 387              		.loc 1 139 5
 388 00ec 08301BE5 		ldr	r3, [fp, #-8]
 389 00f0 A332A0E1 		lsr	r3, r3, #5
 390 00f4 073003E2 		and	r3, r3, #7
 391 00f8 013083E2 		add	r3, r3, #1
 392 00fc 0300A0E1 		mov	r0, r3
 393 0100 FEFFFFEB 		bl	RME_Int_Print
 140:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-GIC: Interrupt line number: ");
 394              		.loc 1 140 5
 395 0104 000000E3 		movw	r0, #:lower16:.LC7
 396 0108 000040E3 		movt	r0, #:upper16:.LC7
 397 010c FEFFFFEB 		bl	RME_Str_Print
 141:../../Source/Platform/A7A/rme_platform_a7a.c ****     Lines=((Temp&0x1F)+1)*32;
 398              		.loc 1 141 17
 399 0110 08301BE5 		ldr	r3, [fp, #-8]
 400 0114 1F3003E2 		and	r3, r3, #31
 401              		.loc 1 141 23
 402 0118 013083E2 		add	r3, r3, #1
 403              		.loc 1 141 10
 404 011c 8332A0E1 		lsl	r3, r3, #5
 405 0120 0C300BE5 		str	r3, [fp, #-12]
 142:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Lines);
 406              		.loc 1 142 5
 407 0124 0C301BE5 		ldr	r3, [fp, #-12]
 408 0128 0300A0E1 		mov	r0, r3
 409 012c FEFFFFEB 		bl	RME_Int_Print
 143:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 144:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 11


 145:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 146:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 0, and disable all */
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/32;Temp++)
 410              		.loc 1 147 10
 411 0130 0030A0E3 		mov	r3, #0
 412 0134 08300BE5 		str	r3, [fp, #-8]
 413              		.loc 1 147 2
 414 0138 1A0000EA 		b	.L7
 415              	.L8:
 148:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 149:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 416              		.loc 1 149 3
 417 013c 08201BE5 		ldr	r2, [fp, #-8]
 418 0140 4A3EA0E3 		mov	r3, #1184
 419 0144 3C3E43E3 		movt	r3, 15932
 420 0148 033082E0 		add	r3, r2, r3
 421 014c 0331A0E1 		lsl	r3, r3, #2
 422 0150 0320A0E1 		mov	r2, r3
 423              		.loc 1 149 29
 424 0154 0030E0E3 		mvn	r3, #0
 425 0158 003082E5 		str	r3, [r2]
 150:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IGROUPR(Temp)=0x00000000U;
 426              		.loc 1 150 3
 427 015c 08201BE5 		ldr	r2, [fp, #-8]
 428 0160 423EA0E3 		mov	r3, #1056
 429 0164 3C3E43E3 		movt	r3, 15932
 430 0168 033082E0 		add	r3, r2, r3
 431 016c 0331A0E1 		lsl	r3, r3, #2
 432 0170 0320A0E1 		mov	r2, r3
 433              		.loc 1 150 29
 434 0174 0030A0E3 		mov	r3, #0
 435 0178 003082E5 		str	r3, [r2]
 151:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 436              		.loc 1 151 3
 437 017c 08201BE5 		ldr	r2, [fp, #-8]
 438 0180 463EA0E3 		mov	r3, #1120
 439 0184 3C3E43E3 		movt	r3, 15932
 440 0188 033082E0 		add	r3, r2, r3
 441 018c 0331A0E1 		lsl	r3, r3, #2
 442 0190 0320A0E1 		mov	r2, r3
 443              		.loc 1 151 31
 444 0194 0030E0E3 		mvn	r3, #0
 445 0198 003082E5 		str	r3, [r2]
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 446              		.loc 1 147 31 discriminator 3
 447 019c 08301BE5 		ldr	r3, [fp, #-8]
 448 01a0 013083E2 		add	r3, r3, #1
 449 01a4 08300BE5 		str	r3, [fp, #-8]
 450              	.L7:
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 451              		.loc 1 147 23 discriminator 1
 452 01a8 0C301BE5 		ldr	r3, [fp, #-12]
 453 01ac A332A0E1 		lsr	r3, r3, #5
 147:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 454              		.loc 1 147 17 discriminator 1
 455 01b0 08201BE5 		ldr	r2, [fp, #-8]
 456 01b4 030052E1 		cmp	r2, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 12


 457 01b8 DFFFFF3A 		bcc	.L8
 152:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 153:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 154:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Set the priority of all such interrupts to the lowest level */
 155:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/4;Temp++)
 458              		.loc 1 155 10
 459 01bc 0030A0E3 		mov	r3, #0
 460 01c0 08300BE5 		str	r3, [fp, #-8]
 461              		.loc 1 155 2
 462 01c4 0B0000EA 		b	.L9
 463              	.L10:
 156:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 464              		.loc 1 156 3
 465 01c8 08201BE5 		ldr	r2, [fp, #-8]
 466 01cc 053CA0E3 		mov	r3, #1280
 467 01d0 3C3E43E3 		movt	r3, 15932
 468 01d4 033082E0 		add	r3, r2, r3
 469 01d8 0331A0E1 		lsl	r3, r3, #2
 470 01dc 0320A0E1 		mov	r2, r3
 471              		.loc 1 156 32
 472 01e0 A0300AE3 		movw	r3, #41120
 473 01e4 A0304AE3 		movt	r3, 41120
 474 01e8 003082E5 		str	r3, [r2]
 155:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 475              		.loc 1 155 30 discriminator 3
 476 01ec 08301BE5 		ldr	r3, [fp, #-8]
 477 01f0 013083E2 		add	r3, r3, #1
 478 01f4 08300BE5 		str	r3, [fp, #-8]
 479              	.L9:
 155:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 480              		.loc 1 155 23 discriminator 1
 481 01f8 0C301BE5 		ldr	r3, [fp, #-12]
 482 01fc 2331A0E1 		lsr	r3, r3, #2
 155:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xA0A0A0A0U;
 483              		.loc 1 155 17 discriminator 1
 484 0200 08201BE5 		ldr	r2, [fp, #-8]
 485 0204 030052E1 		cmp	r2, r3
 486 0208 EEFFFF3A 		bcc	.L10
 157:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 158:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts target CPU0 */
 159:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=8;Temp<Lines/4;Temp++)
 487              		.loc 1 159 10
 488 020c 0830A0E3 		mov	r3, #8
 489 0210 08300BE5 		str	r3, [fp, #-8]
 490              		.loc 1 159 2
 491 0214 0B0000EA 		b	.L11
 492              	.L12:
 160:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 493              		.loc 1 160 3
 494 0218 08201BE5 		ldr	r2, [fp, #-8]
 495 021c 063CA0E3 		mov	r3, #1536
 496 0220 3C3E43E3 		movt	r3, 15932
 497 0224 033082E0 		add	r3, r2, r3
 498 0228 0331A0E1 		lsl	r3, r3, #2
 499 022c 0320A0E1 		mov	r2, r3
 500              		.loc 1 160 31
 501 0230 013100E3 		movw	r3, #257
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 13


 502 0234 013140E3 		movt	r3, 257
 503 0238 003082E5 		str	r3, [r2]
 159:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 504              		.loc 1 159 30 discriminator 3
 505 023c 08301BE5 		ldr	r3, [fp, #-8]
 506 0240 013083E2 		add	r3, r3, #1
 507 0244 08300BE5 		str	r3, [fp, #-8]
 508              	.L11:
 159:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 509              		.loc 1 159 23 discriminator 1
 510 0248 0C301BE5 		ldr	r3, [fp, #-12]
 511 024c 2331A0E1 		lsr	r3, r3, #2
 159:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 512              		.loc 1 159 17 discriminator 1
 513 0250 08201BE5 		ldr	r2, [fp, #-8]
 514 0254 030052E1 		cmp	r2, r3
 515 0258 EEFFFF3A 		bcc	.L12
 161:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 162:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* All interrupts are edge triggered, and use 1-N model */
 163:../../Source/Platform/A7A/rme_platform_a7a.c **** 	for(Temp=0;Temp<Lines/16;Temp++)
 516              		.loc 1 163 10
 517 025c 0030A0E3 		mov	r3, #0
 518 0260 08300BE5 		str	r3, [fp, #-8]
 519              		.loc 1 163 2
 520 0264 0B0000EA 		b	.L13
 521              	.L14:
 164:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 522              		.loc 1 164 3
 523 0268 08201BE5 		ldr	r2, [fp, #-8]
 524 026c 073CA0E3 		mov	r3, #1792
 525 0270 3C3E43E3 		movt	r3, 15932
 526 0274 033082E0 		add	r3, r2, r3
 527 0278 0331A0E1 		lsl	r3, r3, #2
 528 027c 0320A0E1 		mov	r2, r3
 529              		.loc 1 164 27
 530 0280 553505E3 		movw	r3, #21845
 531 0284 553545E3 		movt	r3, 21845
 532 0288 003082E5 		str	r3, [r2]
 163:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 533              		.loc 1 163 31 discriminator 3
 534 028c 08301BE5 		ldr	r3, [fp, #-8]
 535 0290 013083E2 		add	r3, r3, #1
 536 0294 08300BE5 		str	r3, [fp, #-8]
 537              	.L13:
 163:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 538              		.loc 1 163 23 discriminator 1
 539 0298 0C301BE5 		ldr	r3, [fp, #-12]
 540 029c 2332A0E1 		lsr	r3, r3, #4
 163:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_ICFGR(Temp)=0x55555555U;
 541              		.loc 1 163 17 discriminator 1
 542 02a0 08201BE5 		ldr	r2, [fp, #-8]
 543 02a4 030052E1 		cmp	r2, r3
 544 02a8 EEFFFF3A 		bcc	.L14
 165:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 166:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable the interrupt controller */
 167:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 545              		.loc 1 167 2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 14


 546 02ac 013AA0E3 		mov	r3, #4096
 547 02b0 F0384FE3 		movt	r3, 63728
 548              		.loc 1 167 19
 549 02b4 0320A0E3 		mov	r2, #3
 550 02b8 002083E5 		str	r2, [r3]
 168:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 169:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize all vectors to group 1, unless otherwise noted, and disable all */
 170:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/32;Temp++)
 171:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 172:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICPENDR(Temp)=0xFFFFFFFFU;
 173:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_IGROUPR(Temp)=0xFFFFFFFFU;
 174:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICENABLER(Temp)=0xFFFFFFFFU;
 175:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 176:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 177:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the priority of all such interrupts to the lowest level*/
 178:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/4;Temp++)
 179:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICD_IPRIORITYR(Temp)=0xE0E0E0E0U;
 180:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 181:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts target CPU0 */
 182:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=8;Temp<Lines/4;Temp++)
 183:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ITARGETSR(Temp)=0x01010101U;
 184:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 185:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* All interrupts are edge triggered, and use 1-N model */
 186:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Temp=0;Temp<Lines/16;Temp++)
 187:../../Source/Platform/A7A/rme_platform_a7a.c ****     	RME_A7A_GICD_ICFGR(Temp)=0xFFFFFFFFU;
 188:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 189:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the interrupt controller */
 190:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_CTLR=RME_A7A_GICD_CTLR_GRP1EN|RME_A7A_GICD_CTLR_GRP0EN;
 191:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 192:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 551              		.loc 1 192 1
 552 02bc 00F020E3 		nop
 553 02c0 04D04BE2 		sub	sp, fp, #4
 554              		.cfi_def_cfa 13, 8
 555              		@ sp needed
 556 02c4 0088BDE8 		pop	{fp, pc}
 557              		.cfi_endproc
 558              	.LFE2:
 560              		.section	.text.__RME_A7A_Int_Local_Init,"ax",%progbits
 561              		.align	2
 562              		.global	__RME_A7A_Int_Local_Init
 563              		.syntax unified
 564              		.arm
 566              	__RME_A7A_Int_Local_Init:
 567              	.LFB3:
 193:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Init ******************************************/
 194:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 195:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Int_Local_Init *****************************************
 196:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the local CPU interface of the processor.
 197:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 198:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 199:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 200:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 201:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Int_Local_Init(void)
 202:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 568              		.loc 1 202 1
 569              		.cfi_startproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 15


 570              		@ args = 0, pretend = 0, frame = 0
 571              		@ frame_needed = 1, uses_anonymous_args = 0
 572              		@ link register save eliminated.
 573 0000 04B02DE5 		str	fp, [sp, #-4]!
 574              		.cfi_def_cfa_offset 4
 575              		.cfi_offset 11, -4
 576 0004 00B08DE2 		add	fp, sp, #0
 577              		.cfi_def_cfa_register 11
 203:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Priority grouping */
 204:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_BPR=RME_A7A_GIC_GROUPING;
 578              		.loc 1 204 2
 579 0008 413FA0E3 		mov	r3, #260
 580 000c F0384FE3 		movt	r3, 63728
 581              		.loc 1 204 18
 582 0010 0020A0E3 		mov	r2, #0
 583 0014 002083E5 		str	r2, [r3]
 205:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 206:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 207:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Enable all interrupts to this interface - FIQ is bypassed, and all
 208:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * interrupts go through the IRQ. The FIQ feature is only available on
 209:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * the standalone FIQ interrupt line */
 210:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_ENABLEGRP0;
 584              		.loc 1 210 2
 585 0018 013CA0E3 		mov	r3, #256
 586 001c F0384FE3 		movt	r3, 63728
 587              		.loc 1 210 19
 588 0020 0120A0E3 		mov	r2, #1
 589 0024 002083E5 		str	r2, [r3]
 211:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 212:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_CTLR=RME_A7A_GICC_CBPR|RME_A7A_GICC_FIQEN|
 213:../../Source/Platform/A7A/rme_platform_a7a.c **** 			           RME_A7A_GICC_ENABLEGRP1|RME_A7A_GICC_ENABLEGRP0;
 214:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 215:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 216:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* No interrupts are masked - This must be set at last because enabling
 217:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * will trash the contents of this register if previously set. To maintain
 218:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * compatibility across all possible implementations, no priority level
 219:../../Source/Platform/A7A/rme_platform_a7a.c **** 	 * lower than 0xF0 will be considered valid */
 220:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_A7A_GICC_PMR=0xF0U;
 590              		.loc 1 220 2
 591 0028 413FA0E3 		mov	r3, #260
 592 002c F0384FE3 		movt	r3, 63728
 593              		.loc 1 220 18
 594 0030 F020A0E3 		mov	r2, #240
 595 0034 002083E5 		str	r2, [r3]
 221:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 596              		.loc 1 221 1
 597 0038 00F020E3 		nop
 598 003c 00D08BE2 		add	sp, fp, #0
 599              		.cfi_def_cfa_register 13
 600              		@ sp needed
 601 0040 04B09DE4 		ldr	fp, [sp], #4
 602              		.cfi_restore 11
 603              		.cfi_def_cfa_offset 0
 604 0044 1EFF2FE1 		bx	lr
 605              		.cfi_endproc
 606              	.LFE3:
 608              		.section	.rodata
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 16


 609 00d7 00       		.align	2
 610              	.LC8:
 611 00d8 0D0A7469 		.ascii	"\015\012timer init finish\000"
 611      6D657220 
 611      696E6974 
 611      2066696E 
 611      69736800 
 612              		.section	.text.__RME_A7A_Timer_Init,"ax",%progbits
 613              		.align	2
 614              		.syntax unified
 615              		.arm
 617              	__RME_A7A_Timer_Init:
 618              	.LFB4:
 222:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Int_Local_Init ************************************/
 223:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 224:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Timer_Init *********************************************
 225:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the interrupt controller of the Cortex-A ARMv7 platform.
 226:../../Source/Platform/A7A/rme_platform_a7a.c ****               This will only initialize the distributor and will only be run by
 227:../../Source/Platform/A7A/rme_platform_a7a.c ****               the first CPU. This will initialize the timer as well.
 228:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 229:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 230:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 231:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 232:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Timer_Init(void)
 233:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 619              		.loc 1 233 1
 620              		.cfi_startproc
 621              		@ args = 0, pretend = 0, frame = 0
 622              		@ frame_needed = 1, uses_anonymous_args = 0
 623 0000 00482DE9 		push	{fp, lr}
 624              		.cfi_def_cfa_offset 8
 625              		.cfi_offset 11, -8
 626              		.cfi_offset 14, -4
 627 0004 04B08DE2 		add	fp, sp, #4
 628              		.cfi_def_cfa 11, 4
 234:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 235:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 236:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Writing this will also write the counter register as well */
 237:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTLR=RME_A7A_SYSTICK_VAL;
 629              		.loc 1 237 5
 630 0008 063CA0E3 		mov	r3, #1536
 631 000c F0384FE3 		movt	r3, 63728
 632              		.loc 1 237 22
 633 0010 782408E3 		movw	r2, #33912
 634 0014 3A2040E3 		movt	r2, 58
 635 0018 002083E5 		str	r2, [r3]
 238:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Clear the interrupt flag */
 239:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTISR=0;
 636              		.loc 1 239 5
 637 001c 0C3600E3 		movw	r3, #1548
 638 0020 F0384FE3 		movt	r3, 63728
 639              		.loc 1 239 23
 640 0024 0020A0E3 		mov	r2, #0
 641 0028 002083E5 		str	r2, [r3]
 240:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start the timer */
 241:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_PTWD_PTCTLR=RME_A7A_PTWD_PTCTLR_PRESC(0)|
 642              		.loc 1 241 5
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 17


 643 002c 083600E3 		movw	r3, #1544
 644 0030 F0384FE3 		movt	r3, 63728
 645              		.loc 1 241 24
 646 0034 0720A0E3 		mov	r2, #7
 647 0038 002083E5 		str	r2, [r3]
 242:../../Source/Platform/A7A/rme_platform_a7a.c ****                          RME_A7A_PTWD_PTCTLR_IRQEN|
 243:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_AUTOREL|
 244:../../Source/Platform/A7A/rme_platform_a7a.c **** 						 RME_A7A_PTWD_PTCTLR_TIMEN;
 245:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 246:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Enable the timer interrupt in the GIC */
 247:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_GICD_ISENABLER(0)|=1<<29;
 648              		.loc 1 247 5
 649 003c 113CA0E3 		mov	r3, #4352
 650 0040 F0384FE3 		movt	r3, 63728
 651 0044 002093E5 		ldr	r2, [r3]
 652 0048 113CA0E3 		mov	r3, #4352
 653 004c F0384FE3 		movt	r3, 63728
 654              		.loc 1 247 30
 655 0050 022282E3 		orr	r2, r2, #536870912
 656 0054 002083E5 		str	r2, [r3]
 248:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\ntimer init finish");
 657              		.loc 1 248 5
 658 0058 000000E3 		movw	r0, #:lower16:.LC8
 659 005c 000040E3 		movt	r0, #:upper16:.LC8
 660 0060 FEFFFFEB 		bl	RME_Str_Print
 249:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 250:../../Source/Platform/A7A/rme_platform_a7a.c **** 	#error Cortex-A7/8/15/17 is not supported at the moment.
 251:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cortex-A7/15/17 use the new generic timer, and Cortex-A8 does not
 252:../../Source/Platform/A7A/rme_platform_a7a.c **** 	have a processor timer due to very early release dates.
 253:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 254:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 661              		.loc 1 254 1
 662 0064 00F020E3 		nop
 663 0068 0088BDE8 		pop	{fp, pc}
 664              		.cfi_endproc
 665              	.LFE4:
 667              		.section	.text.__RME_A7A_Feature_Get,"ax",%progbits
 668              		.align	2
 669              		.global	__RME_A7A_Feature_Get
 670              		.syntax unified
 671              		.arm
 673              	__RME_A7A_Feature_Get:
 674              	.LFB5:
 255:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Timer_Init ****************************************/
 256:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 257:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Feature_Get ********************************************
 258:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Use the CPUID instruction extensively to get all the processor
 259:../../Source/Platform/A7A/rme_platform_a7a.c ****               information. We assume that all processors installed have the same
 260:../../Source/Platform/A7A/rme_platform_a7a.c ****               features.
 261:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 262:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 263:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 264:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 265:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Feature_Get(void)
 266:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 675              		.loc 1 266 1
 676              		.cfi_startproc
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 18


 677              		@ args = 0, pretend = 0, frame = 0
 678              		@ frame_needed = 1, uses_anonymous_args = 0
 679              		@ link register save eliminated.
 680 0000 04B02DE5 		str	fp, [sp, #-4]!
 681              		.cfi_def_cfa_offset 4
 682              		.cfi_offset 11, -4
 683 0004 00B08DE2 		add	fp, sp, #0
 684              		.cfi_def_cfa_register 11
 267:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 268:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* TODO: Check these flags. If not satisfied, we hang immediately. */
 269:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 685              		.loc 1 269 1
 686 0008 00F020E3 		nop
 687 000c 00D08BE2 		add	sp, fp, #0
 688              		.cfi_def_cfa_register 13
 689              		@ sp needed
 690 0010 04B09DE4 		ldr	fp, [sp], #4
 691              		.cfi_restore 11
 692              		.cfi_def_cfa_offset 0
 693 0014 1EFF2FE1 		bx	lr
 694              		.cfi_endproc
 695              	.LFE5:
 697              		.section	.text.__RME_A7A_Mem_Init,"ax",%progbits
 698              		.align	2
 699              		.global	__RME_A7A_Mem_Init
 700              		.syntax unified
 701              		.arm
 703              	__RME_A7A_Mem_Init:
 704              	.LFB6:
 270:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Feature_Get ***************************************/
 271:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 272:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Mem_Init ***********************************************
 273:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the memory map, and get the size of kernel object
 274:../../Source/Platform/A7A/rme_platform_a7a.c ****               allocation registration table(Kot) and page table reference
 275:../../Source/Platform/A7A/rme_platform_a7a.c ****               count registration table(Pgreg).
 276:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t MMap_Addr - The GRUB multiboot memory map data address.
 277:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t MMap_Length - The GRUB multiboot memory map data length.
 278:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 279:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 280:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 281:../../Source/Platform/A7A/rme_platform_a7a.c **** const rme_ptr_t RME_A7A_Mem_Info[RME_A7A_MEM_ENTRIES]={RME_A7A_MEM_CONTENTS};
 282:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Mem_Init(rme_ptr_t MMap_Addr, rme_ptr_t MMap_Length)
 283:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 705              		.loc 1 283 1
 706              		.cfi_startproc
 707              		@ args = 0, pretend = 0, frame = 8
 708              		@ frame_needed = 1, uses_anonymous_args = 0
 709              		@ link register save eliminated.
 710 0000 04B02DE5 		str	fp, [sp, #-4]!
 711              		.cfi_def_cfa_offset 4
 712              		.cfi_offset 11, -4
 713 0004 00B08DE2 		add	fp, sp, #0
 714              		.cfi_def_cfa_register 11
 715 0008 0CD04DE2 		sub	sp, sp, #12
 716 000c 08000BE5 		str	r0, [fp, #-8]
 717 0010 0C100BE5 		str	r1, [fp, #-12]
 284:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 19


 285:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 718              		.loc 1 285 1
 719 0014 00F020E3 		nop
 720 0018 00D08BE2 		add	sp, fp, #0
 721              		.cfi_def_cfa_register 13
 722              		@ sp needed
 723 001c 04B09DE4 		ldr	fp, [sp], #4
 724              		.cfi_restore 11
 725              		.cfi_def_cfa_offset 0
 726 0020 1EFF2FE1 		bx	lr
 727              		.cfi_endproc
 728              	.LFE6:
 730              		.section	.text.__RME_A7A_SMP_Init,"ax",%progbits
 731              		.align	2
 732              		.global	__RME_A7A_SMP_Init
 733              		.syntax unified
 734              		.arm
 736              	__RME_A7A_SMP_Init:
 737              	.LFB7:
 286:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Mem_Init ******************************************/
 287:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 288:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Init ***********************************************
 289:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Start all other processors, one by one.
 290:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 291:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 292:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 293:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 294:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Init(void)
 295:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 738              		.loc 1 295 1
 739              		.cfi_startproc
 740              		@ args = 0, pretend = 0, frame = 0
 741              		@ frame_needed = 1, uses_anonymous_args = 0
 742              		@ link register save eliminated.
 743 0000 04B02DE5 		str	fp, [sp, #-4]!
 744              		.cfi_def_cfa_offset 4
 745              		.cfi_offset 11, -4
 746 0004 00B08DE2 		add	fp, sp, #0
 747              		.cfi_def_cfa_register 11
 296:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 297:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 748              		.loc 1 297 1
 749 0008 00F020E3 		nop
 750 000c 00D08BE2 		add	sp, fp, #0
 751              		.cfi_def_cfa_register 13
 752              		@ sp needed
 753 0010 04B09DE4 		ldr	fp, [sp], #4
 754              		.cfi_restore 11
 755              		.cfi_def_cfa_offset 0
 756 0014 1EFF2FE1 		bx	lr
 757              		.cfi_endproc
 758              	.LFE7:
 760              		.section	.text.__RME_A7A_SMP_Tick,"ax",%progbits
 761              		.align	2
 762              		.global	__RME_A7A_SMP_Tick
 763              		.syntax unified
 764              		.arm
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 20


 766              	__RME_A7A_SMP_Tick:
 767              	.LFB8:
 298:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Init ******************************************/
 299:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 300:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_SMP_Tick ***********************************************
 301:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Send IPI to all other cores,to run their handler on the time.
 302:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 303:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 304:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 305:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 306:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_SMP_Tick(void)
 307:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 768              		.loc 1 307 1
 769              		.cfi_startproc
 770              		@ args = 0, pretend = 0, frame = 0
 771              		@ frame_needed = 1, uses_anonymous_args = 0
 772              		@ link register save eliminated.
 773 0000 04B02DE5 		str	fp, [sp, #-4]!
 774              		.cfi_def_cfa_offset 4
 775              		.cfi_offset 11, -4
 776 0004 00B08DE2 		add	fp, sp, #0
 777              		.cfi_def_cfa_register 11
 308:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 309:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 778              		.loc 1 309 1
 779 0008 00F020E3 		nop
 780 000c 00D08BE2 		add	sp, fp, #0
 781              		.cfi_def_cfa_register 13
 782              		@ sp needed
 783 0010 04B09DE4 		ldr	fp, [sp], #4
 784              		.cfi_restore 11
 785              		.cfi_def_cfa_offset 0
 786 0014 1EFF2FE1 		bx	lr
 787              		.cfi_endproc
 788              	.LFE8:
 790              		.section	.rodata
 791              		.align	2
 792              	.LC9:
 793 00ec 0D0A4137 		.ascii	"\015\012A7A-Vector: 0x\000"
 793      412D5665 
 793      63746F72 
 793      3A203078 
 793      00
 794 00fd 000000   		.align	2
 795              	.LC10:
 796 0100 0D0A4137 		.ascii	"\015\012A7A-Non-Secure: \000"
 796      412D4E6F 
 796      6E2D5365 
 796      63757265 
 796      3A2000
 797              		.section	.text.__RME_Lowlvl_Init,"ax",%progbits
 798              		.align	2
 799              		.global	__RME_Lowlvl_Init
 800              		.syntax unified
 801              		.arm
 803              	__RME_Lowlvl_Init:
 804              	.LFB9:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 21


 310:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_SMP_Tick *******************************************/
 311:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 312:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Lowlvl_Init **********************************************
 313:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the low-level hardware. This assumes that we are already
 314:../../Source/Platform/A7A/rme_platform_a7a.c ****               in Supervisor (SVC) mode.
 315:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 316:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 317:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 318:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 319:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Lowlvl_Init(void)
 320:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 805              		.loc 1 320 1
 806              		.cfi_startproc
 807              		@ args = 0, pretend = 0, frame = 0
 808              		@ frame_needed = 1, uses_anonymous_args = 0
 809 0000 00482DE9 		push	{fp, lr}
 810              		.cfi_def_cfa_offset 8
 811              		.cfi_offset 11, -8
 812              		.cfi_offset 14, -4
 813 0004 04B08DE2 		add	fp, sp, #4
 814              		.cfi_def_cfa 11, 4
 321:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 322:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_LOW_LEVEL_INIT();
 323:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 324:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local data structure */
 325:../../Source/Platform/A7A/rme_platform_a7a.c ****     _RME_CPU_Local_Init(&RME_A7A_Local,0);
 815              		.loc 1 325 5
 816 0008 0010A0E3 		mov	r1, #0
 817 000c 000000E3 		movw	r0, #:lower16:RME_A7A_Local
 818 0010 000040E3 		movt	r0, #:upper16:RME_A7A_Local
 819 0014 FEFFFFEB 		bl	_RME_CPU_Local_Init
 326:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 327:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the interrupt controller */
 328:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_Int_Init();
 820              		.loc 1 328 5
 821 0018 FEFFFFEB 		bl	__RME_A7A_Int_Init
 329:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 330:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize CPU-local interrupt resources */
 331:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_Int_Local_Init();
 822              		.loc 1 331 2
 823 001c FEFFFFEB 		bl	__RME_A7A_Int_Local_Init
 332:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 333:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize the vector table */
 334:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Vector: 0x");
 824              		.loc 1 334 5
 825 0020 000000E3 		movw	r0, #:lower16:.LC9
 826 0024 000040E3 		movt	r0, #:upper16:.LC9
 827 0028 FEFFFFEB 		bl	RME_Str_Print
 335:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H((rme_ptr_t)&__RME_A7A_Vector_Table);
 828              		.loc 1 335 5
 829 002c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
 830 0030 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 831 0034 0300A0E1 		mov	r0, r3
 832 0038 FEFFFFEB 		bl	RME_Hex_Print
 336:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_VBAR_Set((rme_ptr_t)&__RME_A7A_Vector_Table);
 833              		.loc 1 336 5
 834 003c 003000E3 		movw	r3, #:lower16:__RME_A7A_Vector_Table
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 22


 835 0040 003040E3 		movt	r3, #:upper16:__RME_A7A_Vector_Table
 836 0044 0300A0E1 		mov	r0, r3
 837 0048 FEFFFFEB 		bl	__RME_A7A_VBAR_Set
 337:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 338:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nA7A-Non-Secure: ");
 838              		.loc 1 338 5
 839 004c 000000E3 		movw	r0, #:lower16:.LC10
 840 0050 000040E3 		movt	r0, #:upper16:.LC10
 841 0054 FEFFFFEB 		bl	RME_Str_Print
 339:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(__RME_A7A_SCR_Get());
 842              		.loc 1 339 5
 843 0058 FEFFFFEB 		bl	__RME_A7A_SCR_Get
 844 005c 0030A0E1 		mov	r3, r0
 845              		.loc 1 339 5 is_stmt 0 discriminator 1
 846 0060 0300A0E1 		mov	r0, r3
 847 0064 FEFFFFEB 		bl	RME_Hex_Print
 340:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 848              		.loc 1 340 1 is_stmt 1
 849 0068 00F020E3 		nop
 850 006c 0088BDE8 		pop	{fp, pc}
 851              		.cfi_endproc
 852              	.LFE9:
 854              		.section	.text.__RME_Pgt_Kom_Init,"ax",%progbits
 855              		.align	2
 856              		.global	__RME_Pgt_Kom_Init
 857              		.syntax unified
 858              		.arm
 860              	__RME_Pgt_Kom_Init:
 861              	.LFB10:
 341:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Lowlvl_Init *****************************************/
 342:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 343:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Kom_Init *********************************************
 344:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the kernel mapping tables, so it can be added to all the
 345:../../Source/Platform/A7A/rme_platform_a7a.c ****               top-level page tables. Currently this have no consideration for >1TB
 346:../../Source/Platform/A7A/rme_platform_a7a.c ****               RAM, and is not NUMA-aware.
 347:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 348:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 349:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 350:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 351:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Kom_Init(void)
 352:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 862              		.loc 1 352 1
 863              		.cfi_startproc
 864              		@ args = 0, pretend = 0, frame = 0
 865              		@ frame_needed = 1, uses_anonymous_args = 0
 866              		@ link register save eliminated.
 867 0000 04B02DE5 		str	fp, [sp, #-4]!
 868              		.cfi_def_cfa_offset 4
 869              		.cfi_offset 11, -4
 870 0004 00B08DE2 		add	fp, sp, #0
 871              		.cfi_def_cfa_register 11
 353:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Use initial page table here instead for kernel, which is sufficient */
 354:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 355:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 872              		.loc 1 355 12
 873 0008 0030A0E3 		mov	r3, #0
 356:../../Source/Platform/A7A/rme_platform_a7a.c **** }
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 23


 874              		.loc 1 356 1
 875 000c 0300A0E1 		mov	r0, r3
 876 0010 00D08BE2 		add	sp, fp, #0
 877              		.cfi_def_cfa_register 13
 878              		@ sp needed
 879 0014 04B09DE4 		ldr	fp, [sp], #4
 880              		.cfi_restore 11
 881              		.cfi_def_cfa_offset 0
 882 0018 1EFF2FE1 		bx	lr
 883              		.cfi_endproc
 884              	.LFE10:
 886              		.section	.text.__RME_SMP_Low_Level_Init,"ax",%progbits
 887              		.align	2
 888              		.global	__RME_SMP_Low_Level_Init
 889              		.syntax unified
 890              		.arm
 892              	__RME_SMP_Low_Level_Init:
 893              	.LFB11:
 357:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Kom_Init ****************************************/
 358:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 359:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_SMP_Low_Level_Init ******************************************
 360:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Low-level initialization for all other cores.
 361:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 362:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 363:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 364:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 365:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_SMP_Low_Level_Init(void)
 366:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 894              		.loc 1 366 1
 895              		.cfi_startproc
 896              		@ args = 0, pretend = 0, frame = 0
 897              		@ frame_needed = 1, uses_anonymous_args = 0
 898              		@ link register save eliminated.
 899 0000 04B02DE5 		str	fp, [sp, #-4]!
 900              		.cfi_def_cfa_offset 4
 901              		.cfi_offset 11, -4
 902 0004 00B08DE2 		add	fp, sp, #0
 903              		.cfi_def_cfa_register 11
 367:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize hardware */
 368:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_SMP_LOW_LEVEL_INIT();
 369:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize our own CPU-local variables */
 370:../../Source/Platform/A7A/rme_platform_a7a.c ****    // _RME_CPU_Local_Init(&RME_A7A_Local[RME_A7A_CPU_Cnt],RME_A7A_CPU_Cnt);
 371:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 904              		.loc 1 371 12
 905 0008 0030A0E3 		mov	r3, #0
 372:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 906              		.loc 1 372 1
 907 000c 0300A0E1 		mov	r0, r3
 908 0010 00D08BE2 		add	sp, fp, #0
 909              		.cfi_def_cfa_register 13
 910              		@ sp needed
 911 0014 04B09DE4 		ldr	fp, [sp], #4
 912              		.cfi_restore 11
 913              		.cfi_def_cfa_offset 0
 914 0018 1EFF2FE1 		bx	lr
 915              		.cfi_endproc
 916              	.LFE11:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 24


 918              		.section	.rodata
 919 0113 00       		.align	2
 920              	.LC11:
 921 0114 0D0A4372 		.ascii	"\015\012Creating boot-time capability table @ \000"
 921      65617469 
 921      6E672062 
 921      6F6F742D 
 921      74696D65 
 922 013d 000000   		.align	2
 923              	.LC12:
 924 0140 30303A34 		.ascii	"00:46:20\000"
 924      363A3230 
 924      00
 925 0149 000000   		.align	2
 926              	.LC13:
 927 014c 4D617220 		.ascii	"Mar 21 2025\000"
 927      32312032 
 927      30323500 
 928              		.align	2
 929              	.LC14:
 930 0158 2E2E2F2E 		.ascii	"../../Source/Platform/A7A/rme_platform_a7a.c\000"
 930      2E2F536F 
 930      75726365 
 930      2F506C61 
 930      74666F72 
 931 0185 000000   		.align	2
 932              	.LC15:
 933 0188 0D0A4372 		.ascii	"\015\012Creating boot-time page table @ \000"
 933      65617469 
 933      6E672062 
 933      6F6F742D 
 933      74696D65 
 934 01ab 00       		.align	2
 935              	.LC16:
 936 01ac 0D0A4669 		.ascii	"\015\012First section's first entry \000"
 936      72737420 
 936      73656374 
 936      696F6E27 
 936      73206669 
 937 01cb 00       		.align	2
 938              	.LC17:
 939 01cc 20402000 		.ascii	" @ \000"
 940              		.align	2
 941              	.LC18:
 942 01d0 0D0A4669 		.ascii	"\015\012First section's 0x080th entry \000"
 942      72737420 
 942      73656374 
 942      696F6E27 
 942      73203078 
 943 01f1 000000   		.align	2
 944              	.LC19:
 945 01f4 0D0A5365 		.ascii	"\015\012Second section's first entry \000"
 945      636F6E64 
 945      20736563 
 945      74696F6E 
 945      27732066 
 946              		.align	2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 25


 947              	.LC20:
 948 0214 0D0A5468 		.ascii	"\015\012Third section's first entry \000"
 948      69726420 
 948      73656374 
 948      696F6E27 
 948      73206669 
 949 0233 00       		.align	2
 950              	.LC21:
 951 0234 0D0A4B65 		.ascii	"\015\012Kernel pgtbl's 80th entry \000"
 951      726E656C 
 951      20706774 
 951      626C2773 
 951      20383074 
 952 0251 000000   		.align	2
 953              	.LC22:
 954 0254 0D0A7374 		.ascii	"\015\012start prc creation.\000"
 954      61727420 
 954      70726320 
 954      63726561 
 954      74696F6E 
 955 026a 0000     		.align	2
 956              	.LC23:
 957 026c 0D0A4372 		.ascii	"\015\012Creating boot-time thread @ \000"
 957      65617469 
 957      6E672062 
 957      6F6F742D 
 957      74696D65 
 958 028b 00       		.align	2
 959              	.LC24:
 960 028c 0D0A4669 		.ascii	"\015\012Finish creating boot-time thread @ \000"
 960      6E697368 
 960      20637265 
 960      6174696E 
 960      6720626F 
 961 02b2 0000     		.align	2
 962              	.LC25:
 963 02b4 0D0A4372 		.ascii	"\015\012Creating boot-time kernel function\000"
 963      65617469 
 963      6E672062 
 963      6F6F742D 
 963      74696D65 
 964 02d9 000000   		.align	2
 965              	.LC26:
 966 02dc 0D0A4372 		.ascii	"\015\012Creating boot-time kernel memory\000"
 966      65617469 
 966      6E672062 
 966      6F6F742D 
 966      74696D65 
 967 02ff 00       		.align	2
 968              	.LC27:
 969 0300 0D0A4372 		.ascii	"\015\012Create the initial kernel endpoint for time"
 969      65617465 
 969      20746865 
 969      20696E69 
 969      7469616C 
 970 032d 72207469 		.ascii	"r ticks and interrupts\000"
 970      636B7320 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 26


 970      616E6420 
 970      696E7465 
 970      72727570 
 971              		.align	2
 972              	.LC28:
 973 0344 0D0A656E 		.ascii	"\015\012enable interrupts\015\012\000"
 973      61626C65 
 973      20696E74 
 973      65727275 
 973      7074730D 
 974              		.section	.text.__RME_Boot,"ax",%progbits
 975              		.align	2
 976              		.global	__RME_Boot
 977              		.syntax unified
 978              		.arm
 980              	__RME_Boot:
 981              	.LFB12:
 373:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_SMP_Low_Level_Init *************************************/
 374:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 375:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Boot ********************************************************
 376:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Boot the first process in the system.
 377:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 378:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 379:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - Always 0.
 380:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 381:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Boot(void)
 382:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 982              		.loc 1 382 1
 983              		.cfi_startproc
 984              		@ args = 0, pretend = 0, frame = 8
 985              		@ frame_needed = 1, uses_anonymous_args = 0
 986 0000 00482DE9 		push	{fp, lr}
 987              		.cfi_def_cfa_offset 8
 988              		.cfi_offset 11, -8
 989              		.cfi_offset 14, -4
 990 0004 04B08DE2 		add	fp, sp, #4
 991              		.cfi_def_cfa 11, 4
 992 0008 18D04DE2 		sub	sp, sp, #24
 383:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Count;
 384:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Cur_Addr;
 385:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 386:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr=RME_KOM_VA_BASE;
 993              		.loc 1 386 13
 994 000c 8134A0E3 		mov	r3, #-2130706432
 995 0010 0C300BE5 		str	r3, [fp, #-12]
 387:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 388:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the capability table for the init process */
 389:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time capability table @ ");
 996              		.loc 1 389 5
 997 0014 000000E3 		movw	r0, #:lower16:.LC11
 998 0018 000040E3 		movt	r0, #:upper16:.LC11
 999 001c FEFFFFEB 		bl	RME_Str_Print
 390:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1000              		.loc 1 390 5
 1001 0020 0C001BE5 		ldr	r0, [fp, #-12]
 1002 0024 FEFFFFEB 		bl	RME_Hex_Print
 391:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Cpt_Boot_Init(RME_BOOT_INIT_CPT,
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 27


 1003              		.loc 1 391 5
 1004 0028 8020A0E3 		mov	r2, #128
 1005 002c 0C101BE5 		ldr	r1, [fp, #-12]
 1006 0030 0000A0E3 		mov	r0, #0
 1007 0034 FEFFFFEB 		bl	_RME_Cpt_Boot_Init
 1008 0038 0030A0E1 		mov	r3, r0
 1009              		.loc 1 391 5 is_stmt 0 discriminator 1
 1010 003c 000053E3 		cmp	r3, #0
 1011 0040 0800000A 		beq	.L27
 1012 0044 003000E3 		movw	r3, #:lower16:.LC12
 1013 0048 003040E3 		movt	r3, #:upper16:.LC12
 1014 004c 002000E3 		movw	r2, #:lower16:.LC13
 1015 0050 002040E3 		movt	r2, #:upper16:.LC13
 1016 0054 871100E3 		movw	r1, #391
 1017 0058 000000E3 		movw	r0, #:lower16:.LC14
 1018 005c 000040E3 		movt	r0, #:upper16:.LC14
 1019 0060 FEFFFFEB 		bl	RME_Log
 1020              	.L28:
 1021              		.loc 1 391 5
 1022 0064 FEFFFFEA 		b	.L28
 1023              	.L27:
 392:../../Source/Platform/A7A/rme_platform_a7a.c ****                                   Cur_Addr,
 393:../../Source/Platform/A7A/rme_platform_a7a.c ****                                   RME_A7A_INIT_CPT_SIZE)==0);
 394:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_CPT_SIZE(RME_A7A_INIT_CPT_SIZE));
 1024              		.loc 1 394 13 is_stmt 1
 1025 0068 0C301BE5 		ldr	r3, [fp, #-12]
 1026 006c 013A83E2 		add	r3, r3, #4096
 1027 0070 0C300BE5 		str	r3, [fp, #-12]
 395:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 396:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* The top-level page table - covers 1M address range - align to 16kB */
 397:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr=RME_ROUND_UP(Cur_Addr,16U);
 1028              		.loc 1 397 14
 1029 0074 0C301BE5 		ldr	r3, [fp, #-12]
 1030 0078 FF3C83E2 		add	r3, r3, #65280
 1031 007c FF3083E2 		add	r3, r3, #255
 1032              		.loc 1 397 13
 1033 0080 2338A0E1 		lsr	r3, r3, #16
 1034 0084 0338A0E1 		lsl	r3, r3, #16
 1035 0088 0C300BE5 		str	r3, [fp, #-12]
 398:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time page table @ ");
 1036              		.loc 1 398 5
 1037 008c 000000E3 		movw	r0, #:lower16:.LC15
 1038 0090 000040E3 		movt	r0, #:upper16:.LC15
 1039 0094 FEFFFFEB 		bl	RME_Str_Print
 399:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1040              		.loc 1 399 5
 1041 0098 0C001BE5 		ldr	r0, [fp, #-12]
 1042 009c FEFFFFEB 		bl	RME_Hex_Print
 400:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Pgt_Boot_Crt(RME_A7A_CPT,
 1043              		.loc 1 400 5
 1044 00a0 0C30A0E3 		mov	r3, #12
 1045 00a4 0C308DE5 		str	r3, [sp, #12]
 1046 00a8 1430A0E3 		mov	r3, #20
 1047 00ac 08308DE5 		str	r3, [sp, #8]
 1048 00b0 0130A0E3 		mov	r3, #1
 1049 00b4 04308DE5 		str	r3, [sp, #4]
 1050 00b8 0030A0E3 		mov	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 28


 1051 00bc 00308DE5 		str	r3, [sp]
 1052 00c0 0C301BE5 		ldr	r3, [fp, #-12]
 1053 00c4 0120A0E3 		mov	r2, #1
 1054 00c8 0010A0E3 		mov	r1, #0
 1055 00cc 8104A0E3 		mov	r0, #-2130706432
 1056 00d0 FEFFFFEB 		bl	_RME_Pgt_Boot_Crt
 1057 00d4 0030A0E1 		mov	r3, r0
 1058              		.loc 1 400 5 is_stmt 0 discriminator 1
 1059 00d8 000053E3 		cmp	r3, #0
 1060 00dc 0800000A 		beq	.L29
 1061 00e0 003000E3 		movw	r3, #:lower16:.LC12
 1062 00e4 003040E3 		movt	r3, #:upper16:.LC12
 1063 00e8 002000E3 		movw	r2, #:lower16:.LC13
 1064 00ec 002040E3 		movt	r2, #:upper16:.LC13
 1065 00f0 191EA0E3 		mov	r1, #400
 1066 00f4 000000E3 		movw	r0, #:lower16:.LC14
 1067 00f8 000040E3 		movt	r0, #:upper16:.LC14
 1068 00fc FEFFFFEB 		bl	RME_Log
 1069              	.L30:
 1070              		.loc 1 400 5
 1071 0100 FEFFFFEA 		b	.L30
 1072              	.L29:
 401:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 402:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PGT,
 403:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  Cur_Addr,
 404:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  0x00000000U,
 405:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_TOP,
 406:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_SIZE_1M,
 407:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_PGT_NUM_4K)==0);
 408:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 409:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Normal memory, 1GiB 0x00000000 -> 0x00000000 */
 410:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x400U;Count++)
 1073              		.loc 1 410 14 is_stmt 1
 1074 0104 0030A0E3 		mov	r3, #0
 1075 0108 08300BE5 		str	r3, [fp, #-8]
 1076              		.loc 1 410 5
 1077 010c 160000EA 		b	.L31
 1078              	.L34:
 411:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 412:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1079              		.loc 1 412 3
 1080 0110 08301BE5 		ldr	r3, [fp, #-8]
 1081 0114 032AA0E1 		lsl	r2, r3, #20
 1082 0118 1F30A0E3 		mov	r3, #31
 1083 011c 00308DE5 		str	r3, [sp]
 1084 0120 08301BE5 		ldr	r3, [fp, #-8]
 1085 0124 0110A0E3 		mov	r1, #1
 1086 0128 8104A0E3 		mov	r0, #-2130706432
 1087 012c FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1088 0130 0030A0E1 		mov	r3, r0
 1089              		.loc 1 412 3 is_stmt 0 discriminator 1
 1090 0134 000053E3 		cmp	r3, #0
 1091 0138 0800000A 		beq	.L32
 1092 013c 003000E3 		movw	r3, #:lower16:.LC12
 1093 0140 003040E3 		movt	r3, #:upper16:.LC12
 1094 0144 002000E3 		movw	r2, #:lower16:.LC13
 1095 0148 002040E3 		movt	r2, #:upper16:.LC13
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 29


 1096 014c 671FA0E3 		mov	r1, #412
 1097 0150 000000E3 		movw	r0, #:lower16:.LC14
 1098 0154 000040E3 		movt	r0, #:upper16:.LC14
 1099 0158 FEFFFFEB 		bl	RME_Log
 1100              	.L33:
 1101              		.loc 1 412 3
 1102 015c FEFFFFEA 		b	.L33
 1103              	.L32:
 410:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1104              		.loc 1 410 36 is_stmt 1 discriminator 2
 1105 0160 08301BE5 		ldr	r3, [fp, #-8]
 1106 0164 013083E2 		add	r3, r3, #1
 1107 0168 08300BE5 		str	r3, [fp, #-8]
 1108              	.L31:
 410:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1109              		.loc 1 410 23 discriminator 1
 1110 016c 08301BE5 		ldr	r3, [fp, #-8]
 1111 0170 010B53E3 		cmp	r3, #1024
 1112 0174 E5FFFF3A 		bcc	.L34
 413:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 414:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 Count*RME_POW2(RME_PGT_SIZE_1M),
 415:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 Count,
 416:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      RME_PGT_ALL_DYN)==0);
 417:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 418:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Device memory 1, 512MiB 0x40000000 -> 0x40000000 */
 419:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 1113              		.loc 1 419 14
 1114 0178 0030A0E3 		mov	r3, #0
 1115 017c 08300BE5 		str	r3, [fp, #-8]
 1116              		.loc 1 419 5
 1117 0180 180000EA 		b	.L35
 1118              	.L38:
 420:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 421:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1119              		.loc 1 421 3
 1120 0184 08301BE5 		ldr	r3, [fp, #-8]
 1121 0188 013B83E2 		add	r3, r3, #1024
 1122 018c 032AA0E1 		lsl	r2, r3, #20
 1123 0190 08301BE5 		ldr	r3, [fp, #-8]
 1124 0194 013B83E2 		add	r3, r3, #1024
 1125 0198 0310A0E3 		mov	r1, #3
 1126 019c 00108DE5 		str	r1, [sp]
 1127 01a0 0110A0E3 		mov	r1, #1
 1128 01a4 8104A0E3 		mov	r0, #-2130706432
 1129 01a8 FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1130 01ac 0030A0E1 		mov	r3, r0
 1131              		.loc 1 421 3 is_stmt 0 discriminator 1
 1132 01b0 000053E3 		cmp	r3, #0
 1133 01b4 0800000A 		beq	.L36
 1134 01b8 003000E3 		movw	r3, #:lower16:.LC12
 1135 01bc 003040E3 		movt	r3, #:upper16:.LC12
 1136 01c0 002000E3 		movw	r2, #:lower16:.LC13
 1137 01c4 002040E3 		movt	r2, #:upper16:.LC13
 1138 01c8 A51100E3 		movw	r1, #421
 1139 01cc 000000E3 		movw	r0, #:lower16:.LC14
 1140 01d0 000040E3 		movt	r0, #:upper16:.LC14
 1141 01d4 FEFFFFEB 		bl	RME_Log
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 30


 1142              	.L37:
 1143              		.loc 1 421 3
 1144 01d8 FEFFFFEA 		b	.L37
 1145              	.L36:
 419:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1146              		.loc 1 419 36 is_stmt 1 discriminator 2
 1147 01dc 08301BE5 		ldr	r3, [fp, #-8]
 1148 01e0 013083E2 		add	r3, r3, #1
 1149 01e4 08300BE5 		str	r3, [fp, #-8]
 1150              	.L35:
 419:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1151              		.loc 1 419 23 discriminator 1
 1152 01e8 08301BE5 		ldr	r3, [fp, #-8]
 1153 01ec 020C53E3 		cmp	r3, #512
 1154 01f0 E3FFFF3A 		bcc	.L38
 422:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 423:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x400U)*RME_POW2(RME_PGT_SIZE_1M),
 424:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x400U),
 425:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE)==0);
 426:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 427:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 428:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Device memory 2, 512MiB 0x60000000 -> 0xE0000000 */
 429:../../Source/Platform/A7A/rme_platform_a7a.c ****     for(Count=0U;Count<0x200U;Count++)
 1155              		.loc 1 429 14
 1156 01f4 0030A0E3 		mov	r3, #0
 1157 01f8 08300BE5 		str	r3, [fp, #-8]
 1158              		.loc 1 429 5
 1159 01fc 180000EA 		b	.L39
 1160              	.L42:
 430:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 431:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(_RME_Pgt_Boot_Add(RME_A7A_CPT,
 1161              		.loc 1 431 3
 1162 0200 08301BE5 		ldr	r3, [fp, #-8]
 1163 0204 0E3C83E2 		add	r3, r3, #3584
 1164 0208 032AA0E1 		lsl	r2, r3, #20
 1165 020c 08301BE5 		ldr	r3, [fp, #-8]
 1166 0210 063C83E2 		add	r3, r3, #1536
 1167 0214 0310A0E3 		mov	r1, #3
 1168 0218 00108DE5 		str	r1, [sp]
 1169 021c 0110A0E3 		mov	r1, #1
 1170 0220 8104A0E3 		mov	r0, #-2130706432
 1171 0224 FEFFFFEB 		bl	_RME_Pgt_Boot_Add
 1172 0228 0030A0E1 		mov	r3, r0
 1173              		.loc 1 431 3 is_stmt 0 discriminator 1
 1174 022c 000053E3 		cmp	r3, #0
 1175 0230 0800000A 		beq	.L40
 1176 0234 003000E3 		movw	r3, #:lower16:.LC12
 1177 0238 003040E3 		movt	r3, #:upper16:.LC12
 1178 023c 002000E3 		movw	r2, #:lower16:.LC13
 1179 0240 002040E3 		movt	r2, #:upper16:.LC13
 1180 0244 AF1100E3 		movw	r1, #431
 1181 0248 000000E3 		movw	r0, #:lower16:.LC14
 1182 024c 000040E3 		movt	r0, #:upper16:.LC14
 1183 0250 FEFFFFEB 		bl	RME_Log
 1184              	.L41:
 1185              		.loc 1 431 3
 1186 0254 FEFFFFEA 		b	.L41
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 31


 1187              	.L40:
 429:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1188              		.loc 1 429 36 is_stmt 1 discriminator 2
 1189 0258 08301BE5 		ldr	r3, [fp, #-8]
 1190 025c 013083E2 		add	r3, r3, #1
 1191 0260 08300BE5 		str	r3, [fp, #-8]
 1192              	.L39:
 429:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 1193              		.loc 1 429 23 discriminator 1
 1194 0264 08301BE5 		ldr	r3, [fp, #-8]
 1195 0268 020C53E3 		cmp	r3, #512
 1196 026c E3FFFF3A 		bcc	.L42
 432:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_BOOT_INIT_PGT,
 433:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0xE00U)*RME_POW2(RME_PGT_SIZE_1M),
 434:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 (Count+0x600U),
 435:../../Source/Platform/A7A/rme_platform_a7a.c **** 									 RME_PGT_READ|RME_PGT_WRITE)==0);
 436:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 437:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 438:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nFirst section's first entry ");
 1197              		.loc 1 438 5
 1198 0270 000000E3 		movw	r0, #:lower16:.LC16
 1199 0274 000040E3 		movt	r0, #:upper16:.LC16
 1200 0278 FEFFFFEB 		bl	RME_Str_Print
 439:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(Cur_Addr));
 1201              		.loc 1 439 5
 1202 027c 0C301BE5 		ldr	r3, [fp, #-12]
 1203 0280 003093E5 		ldr	r3, [r3]
 1204 0284 0300A0E1 		mov	r0, r3
 1205 0288 FEFFFFEB 		bl	RME_Hex_Print
 440:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1206              		.loc 1 440 5
 1207 028c 000000E3 		movw	r0, #:lower16:.LC17
 1208 0290 000040E3 		movt	r0, #:upper16:.LC17
 1209 0294 FEFFFFEB 		bl	RME_Str_Print
 441:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1210              		.loc 1 441 5
 1211 0298 0C001BE5 		ldr	r0, [fp, #-12]
 1212 029c FEFFFFEB 		bl	RME_Hex_Print
 442:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 443:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nFirst section's 0x080th entry ");
 1213              		.loc 1 443 5
 1214 02a0 000000E3 		movw	r0, #:lower16:.LC18
 1215 02a4 000040E3 		movt	r0, #:upper16:.LC18
 1216 02a8 FEFFFFEB 		bl	RME_Str_Print
 444:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(Cur_Addr+0x080*RME_WORD_BYTE));
 1217              		.loc 1 444 5
 1218 02ac 0C301BE5 		ldr	r3, [fp, #-12]
 1219 02b0 023C83E2 		add	r3, r3, #512
 1220 02b4 003093E5 		ldr	r3, [r3]
 1221 02b8 0300A0E1 		mov	r0, r3
 1222 02bc FEFFFFEB 		bl	RME_Hex_Print
 445:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1223              		.loc 1 445 5
 1224 02c0 000000E3 		movw	r0, #:lower16:.LC17
 1225 02c4 000040E3 		movt	r0, #:upper16:.LC17
 1226 02c8 FEFFFFEB 		bl	RME_Str_Print
 446:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr+0x080*RME_WORD_BYTE);
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 32


 1227              		.loc 1 446 5
 1228 02cc 0C301BE5 		ldr	r3, [fp, #-12]
 1229 02d0 023C83E2 		add	r3, r3, #512
 1230 02d4 0300A0E1 		mov	r0, r3
 1231 02d8 FEFFFFEB 		bl	RME_Hex_Print
 447:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 448:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nSecond section's first entry ");
 1232              		.loc 1 448 5
 1233 02dc 000000E3 		movw	r0, #:lower16:.LC19
 1234 02e0 000040E3 		movt	r0, #:upper16:.LC19
 1235 02e4 FEFFFFEB 		bl	RME_Str_Print
 449:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(Cur_Addr+0x400*RME_WORD_BYTE));
 1236              		.loc 1 449 5
 1237 02e8 0C301BE5 		ldr	r3, [fp, #-12]
 1238 02ec 013A83E2 		add	r3, r3, #4096
 1239 02f0 003093E5 		ldr	r3, [r3]
 1240 02f4 0300A0E1 		mov	r0, r3
 1241 02f8 FEFFFFEB 		bl	RME_Hex_Print
 450:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1242              		.loc 1 450 5
 1243 02fc 000000E3 		movw	r0, #:lower16:.LC17
 1244 0300 000040E3 		movt	r0, #:upper16:.LC17
 1245 0304 FEFFFFEB 		bl	RME_Str_Print
 451:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr+0x400*RME_WORD_BYTE);
 1246              		.loc 1 451 5
 1247 0308 0C301BE5 		ldr	r3, [fp, #-12]
 1248 030c 013A83E2 		add	r3, r3, #4096
 1249 0310 0300A0E1 		mov	r0, r3
 1250 0314 FEFFFFEB 		bl	RME_Hex_Print
 452:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 453:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nThird section's first entry ");
 1251              		.loc 1 453 5
 1252 0318 000000E3 		movw	r0, #:lower16:.LC20
 1253 031c 000040E3 		movt	r0, #:upper16:.LC20
 1254 0320 FEFFFFEB 		bl	RME_Str_Print
 454:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(Cur_Addr+0x600*RME_WORD_BYTE));
 1255              		.loc 1 454 5
 1256 0324 0C301BE5 		ldr	r3, [fp, #-12]
 1257 0328 063B83E2 		add	r3, r3, #6144
 1258 032c 003093E5 		ldr	r3, [r3]
 1259 0330 0300A0E1 		mov	r0, r3
 1260 0334 FEFFFFEB 		bl	RME_Hex_Print
 455:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1261              		.loc 1 455 5
 1262 0338 000000E3 		movw	r0, #:lower16:.LC17
 1263 033c 000040E3 		movt	r0, #:upper16:.LC17
 1264 0340 FEFFFFEB 		bl	RME_Str_Print
 456:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr+0x600*RME_WORD_BYTE);
 1265              		.loc 1 456 5
 1266 0344 0C301BE5 		ldr	r3, [fp, #-12]
 1267 0348 063B83E2 		add	r3, r3, #6144
 1268 034c 0300A0E1 		mov	r0, r3
 1269 0350 FEFFFFEB 		bl	RME_Hex_Print
 457:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 458:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nKernel pgtbl's 80th entry ");
 1270              		.loc 1 458 5
 1271 0354 000000E3 		movw	r0, #:lower16:.LC21
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 33


 1272 0358 000040E3 		movt	r0, #:upper16:.LC21
 1273 035c FEFFFFEB 		bl	RME_Str_Print
 459:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_A7A_REG(((rme_ptr_t)(&__RME_A7A_Kern_Pgt))+0x080*RME_WORD_BYTE));
 1274              		.loc 1 459 5
 1275 0360 003000E3 		movw	r3, #:lower16:__RME_A7A_Kern_Pgt
 1276 0364 003040E3 		movt	r3, #:upper16:__RME_A7A_Kern_Pgt
 1277 0368 023C83E2 		add	r3, r3, #512
 1278 036c 003093E5 		ldr	r3, [r3]
 1279 0370 0300A0E1 		mov	r0, r3
 1280 0374 FEFFFFEB 		bl	RME_Hex_Print
 460:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S(" @ ");
 1281              		.loc 1 460 5
 1282 0378 000000E3 		movw	r0, #:lower16:.LC17
 1283 037c 000040E3 		movt	r0, #:upper16:.LC17
 1284 0380 FEFFFFEB 		bl	RME_Str_Print
 461:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(((rme_ptr_t)(&__RME_A7A_Kern_Pgt))+0x080*RME_WORD_BYTE);
 1285              		.loc 1 461 5
 1286 0384 003000E3 		movw	r3, #:lower16:__RME_A7A_Kern_Pgt
 1287 0388 003040E3 		movt	r3, #:upper16:__RME_A7A_Kern_Pgt
 1288 038c 023C83E2 		add	r3, r3, #512
 1289 0390 0300A0E1 		mov	r0, r3
 1290 0394 FEFFFFEB 		bl	RME_Hex_Print
 462:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 463:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_PGT_SIZE_TOP(RME_PGT_NUM_4K));
 1291              		.loc 1 463 13
 1292 0398 0C301BE5 		ldr	r3, [fp, #-12]
 1293 039c 013983E2 		add	r3, r3, #16384
 1294 03a0 0C300BE5 		str	r3, [fp, #-12]
 464:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 465:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Activate the first process - This process cannot be deleted */
 466:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nstart prc creation.");
 1295              		.loc 1 466 5
 1296 03a4 000000E3 		movw	r0, #:lower16:.LC22
 1297 03a8 000040E3 		movt	r0, #:upper16:.LC22
 1298 03ac FEFFFFEB 		bl	RME_Str_Print
 467:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Prc_Boot_Crt(RME_A7A_CPT,
 1299              		.loc 1 467 5
 1300 03b0 0130A0E3 		mov	r3, #1
 1301 03b4 00308DE5 		str	r3, [sp]
 1302 03b8 0030A0E3 		mov	r3, #0
 1303 03bc 0220A0E3 		mov	r2, #2
 1304 03c0 0010A0E3 		mov	r1, #0
 1305 03c4 8104A0E3 		mov	r0, #-2130706432
 1306 03c8 FEFFFFEB 		bl	_RME_Prc_Boot_Crt
 1307 03cc 0030A0E1 		mov	r3, r0
 1308              		.loc 1 467 5 is_stmt 0 discriminator 1
 1309 03d0 000053E3 		cmp	r3, #0
 1310 03d4 0800000A 		beq	.L43
 1311 03d8 003000E3 		movw	r3, #:lower16:.LC12
 1312 03dc 003040E3 		movt	r3, #:upper16:.LC12
 1313 03e0 002000E3 		movw	r2, #:lower16:.LC13
 1314 03e4 002040E3 		movt	r2, #:upper16:.LC13
 1315 03e8 D31100E3 		movw	r1, #467
 1316 03ec 000000E3 		movw	r0, #:lower16:.LC14
 1317 03f0 000040E3 		movt	r0, #:upper16:.LC14
 1318 03f4 FEFFFFEB 		bl	RME_Log
 1319              	.L44:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 34


 1320              		.loc 1 467 5
 1321 03f8 FEFFFFEA 		b	.L44
 1322              	.L43:
 468:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 469:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PRC,
 470:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 471:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PGT)==0U);
 472:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 473:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Activate the first thread, and set its priority */
 474:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time thread @ ");
 1323              		.loc 1 474 5 is_stmt 1
 1324 03fc 000000E3 		movw	r0, #:lower16:.LC23
 1325 0400 000040E3 		movt	r0, #:upper16:.LC23
 1326 0404 FEFFFFEB 		bl	RME_Str_Print
 475:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1327              		.loc 1 475 5
 1328 0408 0C001BE5 		ldr	r0, [fp, #-12]
 1329 040c FEFFFFEB 		bl	RME_Hex_Print
 476:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Thd_Boot_Crt(RME_A7A_CPT,
 1330              		.loc 1 476 5
 1331 0410 003000E3 		movw	r3, #:lower16:RME_A7A_Local
 1332 0414 003040E3 		movt	r3, #:upper16:RME_A7A_Local
 1333 0418 08308DE5 		str	r3, [sp, #8]
 1334 041c 0030A0E3 		mov	r3, #0
 1335 0420 04308DE5 		str	r3, [sp, #4]
 1336 0424 0C301BE5 		ldr	r3, [fp, #-12]
 1337 0428 00308DE5 		str	r3, [sp]
 1338 042c 0230A0E3 		mov	r3, #2
 1339 0430 0320A0E3 		mov	r2, #3
 1340 0434 0010A0E3 		mov	r1, #0
 1341 0438 8104A0E3 		mov	r0, #-2130706432
 1342 043c FEFFFFEB 		bl	_RME_Thd_Boot_Crt
 1343 0440 0030A0E1 		mov	r3, r0
 1344              		.loc 1 476 5 is_stmt 0 discriminator 1
 1345 0444 000053E3 		cmp	r3, #0
 1346 0448 0800000A 		beq	.L45
 1347 044c 003000E3 		movw	r3, #:lower16:.LC12
 1348 0450 003040E3 		movt	r3, #:upper16:.LC12
 1349 0454 002000E3 		movw	r2, #:lower16:.LC13
 1350 0458 002040E3 		movt	r2, #:upper16:.LC13
 1351 045c 771FA0E3 		mov	r1, #476
 1352 0460 000000E3 		movw	r0, #:lower16:.LC14
 1353 0464 000040E3 		movt	r0, #:upper16:.LC14
 1354 0468 FEFFFFEB 		bl	RME_Log
 1355              	.L46:
 1356              		.loc 1 476 5
 1357 046c FEFFFFEA 		b	.L46
 1358              	.L45:
 477:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 478:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_THD,
 479:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_PRC,
 480:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  Cur_Addr,
 481:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  0U,
 482:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  &RME_A7A_Local)==0);
 483:../../Source/Platform/A7A/rme_platform_a7a.c ****     Cur_Addr+=RME_KOM_ROUND(RME_THD_SIZE(0U));
 1359              		.loc 1 483 13 is_stmt 1
 1360 0470 0C301BE5 		ldr	r3, [fp, #-12]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 35


 1361 0474 A03083E2 		add	r3, r3, #160
 1362 0478 0C300BE5 		str	r3, [fp, #-12]
 484:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nFinish creating boot-time thread @ ");
 1363              		.loc 1 484 5
 1364 047c 000000E3 		movw	r0, #:lower16:.LC24
 1365 0480 000040E3 		movt	r0, #:upper16:.LC24
 1366 0484 FEFFFFEB 		bl	RME_Str_Print
 485:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Cur_Addr);
 1367              		.loc 1 485 5
 1368 0488 0C001BE5 		ldr	r0, [fp, #-12]
 1369 048c FEFFFFEB 		bl	RME_Hex_Print
 486:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the initial kernel function capability, and kernel memory capability */
 487:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time kernel function");
 1370              		.loc 1 487 5
 1371 0490 000000E3 		movw	r0, #:lower16:.LC25
 1372 0494 000040E3 		movt	r0, #:upper16:.LC25
 1373 0498 FEFFFFEB 		bl	RME_Str_Print
 488:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Kfn_Boot_Crt(RME_A7A_CPT,
 1374              		.loc 1 488 5
 1375 049c 0420A0E3 		mov	r2, #4
 1376 04a0 0010A0E3 		mov	r1, #0
 1377 04a4 8104A0E3 		mov	r0, #-2130706432
 1378 04a8 FEFFFFEB 		bl	_RME_Kfn_Boot_Crt
 1379 04ac 0030A0E1 		mov	r3, r0
 1380              		.loc 1 488 5 is_stmt 0 discriminator 1
 1381 04b0 000053E3 		cmp	r3, #0
 1382 04b4 0800000A 		beq	.L47
 1383 04b8 003000E3 		movw	r3, #:lower16:.LC12
 1384 04bc 003040E3 		movt	r3, #:upper16:.LC12
 1385 04c0 002000E3 		movw	r2, #:lower16:.LC13
 1386 04c4 002040E3 		movt	r2, #:upper16:.LC13
 1387 04c8 7A1FA0E3 		mov	r1, #488
 1388 04cc 000000E3 		movw	r0, #:lower16:.LC14
 1389 04d0 000040E3 		movt	r0, #:upper16:.LC14
 1390 04d4 FEFFFFEB 		bl	RME_Log
 1391              	.L48:
 1392              		.loc 1 488 5
 1393 04d8 FEFFFFEA 		b	.L48
 1394              	.L47:
 489:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 490:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_KFN)==0);
 491:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreating boot-time kernel memory");
 1395              		.loc 1 491 5 is_stmt 1
 1396 04dc 000000E3 		movw	r0, #:lower16:.LC26
 1397 04e0 000040E3 		movt	r0, #:upper16:.LC26
 1398 04e4 FEFFFFEB 		bl	RME_Str_Print
 492:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Kom_Boot_Crt(RME_A7A_CPT, 
 1399              		.loc 1 492 5
 1400 04e8 0F30A0E3 		mov	r3, #15
 1401 04ec 04308DE5 		str	r3, [sp, #4]
 1402 04f0 7E34E0E3 		mvn	r3, #2113929216
 1403 04f4 00308DE5 		str	r3, [sp]
 1404 04f8 8134A0E3 		mov	r3, #-2130706432
 1405 04fc 0520A0E3 		mov	r2, #5
 1406 0500 0010A0E3 		mov	r1, #0
 1407 0504 8104A0E3 		mov	r0, #-2130706432
 1408 0508 FEFFFFEB 		bl	_RME_Kom_Boot_Crt
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 36


 1409 050c 0030A0E1 		mov	r3, r0
 1410              		.loc 1 492 5 is_stmt 0 discriminator 1
 1411 0510 000053E3 		cmp	r3, #0
 1412 0514 0800000A 		beq	.L49
 1413 0518 003000E3 		movw	r3, #:lower16:.LC12
 1414 051c 003040E3 		movt	r3, #:upper16:.LC12
 1415 0520 002000E3 		movw	r2, #:lower16:.LC13
 1416 0524 002040E3 		movt	r2, #:upper16:.LC13
 1417 0528 7B1FA0E3 		mov	r1, #492
 1418 052c 000000E3 		movw	r0, #:lower16:.LC14
 1419 0530 000040E3 		movt	r0, #:upper16:.LC14
 1420 0534 FEFFFFEB 		bl	RME_Log
 1421              	.L50:
 1422              		.loc 1 492 5
 1423 0538 FEFFFFEA 		b	.L50
 1424              	.L49:
 493:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT, 
 494:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_KOM,
 495:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_VA_BASE,
 496:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_VA_BASE+RME_KOM_VA_SIZE-1U,
 497:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_KOM_FLAG_ALL)==0U);
 498:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 499:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Create the initial kernel endpoint for timer ticks and interrupts */
 500:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_Local.Sig_Tim=(struct RME_Cap_Sig*)&(RME_A7A_CPT[RME_BOOT_INIT_VCT]);
 1425              		.loc 1 500 26 is_stmt 1
 1426 053c 002000E3 		movw	r2, #:lower16:RME_A7A_Local
 1427 0540 002040E3 		movt	r2, #:upper16:RME_A7A_Local
 1428 0544 C030A0E3 		mov	r3, #192
 1429 0548 003148E3 		movt	r3, 33024
 1430 054c 083082E5 		str	r3, [r2, #8]
 501:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_A7A_Local.Sig_Vct=(struct RME_Cap_Sig*)&(RME_A7A_CPT[RME_BOOT_INIT_VCT]);
 1431              		.loc 1 501 26
 1432 0550 002000E3 		movw	r2, #:lower16:RME_A7A_Local
 1433 0554 002040E3 		movt	r2, #:upper16:RME_A7A_Local
 1434 0558 C030A0E3 		mov	r3, #192
 1435 055c 003148E3 		movt	r3, 33024
 1436 0560 0C3082E5 		str	r3, [r2, #12]
 502:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nCreate the initial kernel endpoint for timer ticks and interrupts");
 1437              		.loc 1 502 5
 1438 0564 000000E3 		movw	r0, #:lower16:.LC27
 1439 0568 000040E3 		movt	r0, #:upper16:.LC27
 1440 056c FEFFFFEB 		bl	RME_Str_Print
 503:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_ASSERT(_RME_Sig_Boot_Crt(RME_A7A_CPT,
 1441              		.loc 1 503 5
 1442 0570 0620A0E3 		mov	r2, #6
 1443 0574 0010A0E3 		mov	r1, #0
 1444 0578 8104A0E3 		mov	r0, #-2130706432
 1445 057c FEFFFFEB 		bl	_RME_Sig_Boot_Crt
 1446 0580 0030A0E1 		mov	r3, r0
 1447              		.loc 1 503 5 is_stmt 0 discriminator 1
 1448 0584 000053E3 		cmp	r3, #0
 1449 0588 0800000A 		beq	.L51
 1450 058c 003000E3 		movw	r3, #:lower16:.LC12
 1451 0590 003040E3 		movt	r3, #:upper16:.LC12
 1452 0594 002000E3 		movw	r2, #:lower16:.LC13
 1453 0598 002040E3 		movt	r2, #:upper16:.LC13
 1454 059c F71100E3 		movw	r1, #503
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 37


 1455 05a0 000000E3 		movw	r0, #:lower16:.LC14
 1456 05a4 000040E3 		movt	r0, #:upper16:.LC14
 1457 05a8 FEFFFFEB 		bl	RME_Log
 1458              	.L52:
 1459              		.loc 1 503 5
 1460 05ac FEFFFFEA 		b	.L52
 1461              	.L51:
 504:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_CPT,
 505:../../Source/Platform/A7A/rme_platform_a7a.c ****                                  RME_BOOT_INIT_VCT)==0);
 506:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 507:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set page table as current */
 508:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Pgt_Set(RME_A7A_Local.Thd_Cur->Sched.Prc->Pgt);
 1462              		.loc 1 508 32 is_stmt 1
 1463 05b0 003000E3 		movw	r3, #:lower16:RME_A7A_Local
 1464 05b4 003040E3 		movt	r3, #:upper16:RME_A7A_Local
 1465 05b8 043093E5 		ldr	r3, [r3, #4]
 1466              		.loc 1 508 47
 1467 05bc 2C3093E5 		ldr	r3, [r3, #44]
 1468              		.loc 1 508 5
 1469 05c0 183093E5 		ldr	r3, [r3, #24]
 1470 05c4 0300A0E1 		mov	r0, r3
 1471 05c8 FEFFFFEB 		bl	__RME_Pgt_Set
 509:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 510:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize timer and enable interrupts */
 511:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nenable interrupts\r\n");
 1472              		.loc 1 511 5
 1473 05cc 000000E3 		movw	r0, #:lower16:.LC28
 1474 05d0 000040E3 		movt	r0, #:upper16:.LC28
 1475 05d4 FEFFFFEB 		bl	RME_Str_Print
 512:../../Source/Platform/A7A/rme_platform_a7a.c **** 	//__RME_A7A_Timer_Init();
 513:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_Int_Enable();
 1476              		.loc 1 513 5
 1477 05d8 FEFFFFEB 		bl	__RME_Int_Enable
 514:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 515:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Boot into the init thread */
 516:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_User_Enter(RME_A7A_INIT_ENTRY,RME_A7A_INIT_STACK,0U);
 1478              		.loc 1 516 5
 1479 05dc 0020A0E3 		mov	r2, #0
 1480 05e0 FF1CA0E3 		mov	r1, #65280
 1481 05e4 1F1840E3 		movt	r1, 2079
 1482 05e8 0109A0E3 		mov	r0, #16384
 1483 05ec 000840E3 		movt	r0, 2048
 1484 05f0 FEFFFFEB 		bl	__RME_User_Enter
 1485              	.L53:
 517:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 518:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Should never reach here */
 519:../../Source/Platform/A7A/rme_platform_a7a.c ****     while(1);
 1486              		.loc 1 519 10
 1487 05f4 FEFFFFEA 		b	.L53
 1488              		.cfi_endproc
 1489              	.LFE12:
 1491              		.section	.text.__RME_Reboot,"ax",%progbits
 1492              		.align	2
 1493              		.global	__RME_Reboot
 1494              		.syntax unified
 1495              		.arm
 1497              	__RME_Reboot:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 38


 1498              	.LFB13:
 520:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 521:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Boot ***************************************************/
 522:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 523:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Reboot ******************************************************
 524:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Reboot the machine, abandon all operating system states.
 525:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 526:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 527:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 528:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 529:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Reboot(void)
 530:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1499              		.loc 1 530 1
 1500              		.cfi_startproc
 1501              		@ args = 0, pretend = 0, frame = 0
 1502              		@ frame_needed = 1, uses_anonymous_args = 0
 1503              		@ link register save eliminated.
 1504 0000 04B02DE5 		str	fp, [sp, #-4]!
 1505              		.cfi_def_cfa_offset 4
 1506              		.cfi_offset 11, -4
 1507 0004 00B08DE2 		add	fp, sp, #0
 1508              		.cfi_def_cfa_register 11
 531:../../Source/Platform/A7A/rme_platform_a7a.c ****     //RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 532:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1509              		.loc 1 532 1
 1510 0008 00F020E3 		nop
 1511 000c 00D08BE2 		add	sp, fp, #0
 1512              		.cfi_def_cfa_register 13
 1513              		@ sp needed
 1514 0010 04B09DE4 		ldr	fp, [sp], #4
 1515              		.cfi_restore 11
 1516              		.cfi_def_cfa_offset 0
 1517 0014 1EFF2FE1 		bx	lr
 1518              		.cfi_endproc
 1519              	.LFE13:
 1521              		.section	.text.__RME_Shutdown,"ax",%progbits
 1522              		.align	2
 1523              		.global	__RME_Shutdown
 1524              		.syntax unified
 1525              		.arm
 1527              	__RME_Shutdown:
 1528              	.LFB14:
 533:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Reboot *************************************************/
 534:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 535:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Shutdown ****************************************************
 536:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Shutdown the machine, abandon all operating system states.
 537:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : None.
 538:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 539:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 540:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 541:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Shutdown(void)
 542:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1529              		.loc 1 542 1
 1530              		.cfi_startproc
 1531              		@ args = 0, pretend = 0, frame = 0
 1532              		@ frame_needed = 1, uses_anonymous_args = 0
 1533              		@ link register save eliminated.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 39


 1534 0000 04B02DE5 		str	fp, [sp, #-4]!
 1535              		.cfi_def_cfa_offset 4
 1536              		.cfi_offset 11, -4
 1537 0004 00B08DE2 		add	fp, sp, #0
 1538              		.cfi_def_cfa_register 11
 543:../../Source/Platform/A7A/rme_platform_a7a.c ****    // RME_ASSERT(RME_WORD_BITS!=RME_POW2(RME_WORD_ORDER));
 544:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1539              		.loc 1 544 1
 1540 0008 00F020E3 		nop
 1541 000c 00D08BE2 		add	sp, fp, #0
 1542              		.cfi_def_cfa_register 13
 1543              		@ sp needed
 1544 0010 04B09DE4 		ldr	fp, [sp], #4
 1545              		.cfi_restore 11
 1546              		.cfi_def_cfa_offset 0
 1547 0014 1EFF2FE1 		bx	lr
 1548              		.cfi_endproc
 1549              	.LFE14:
 1551              		.section	.text.__RME_Svc_Param_Get,"ax",%progbits
 1552              		.align	2
 1553              		.global	__RME_Svc_Param_Get
 1554              		.syntax unified
 1555              		.arm
 1557              	__RME_Svc_Param_Get:
 1558              	.LFB15:
 545:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Shutdown ***********************************************/
 546:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 547:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Get_Syscall_Param *******************************************
 548:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Get the system call parameters from the stack frame.
 549:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 550:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Svc - The system service number.
 551:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Capid - The capability ID number.
 552:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Param - The parameters.
 553:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 554:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 555:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Param_Get(struct RME_Reg_Struct* Reg,rme_ptr_t* Svc,rme_ptr_t* Capid,rme_ptr_t* Para
 556:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1559              		.loc 1 556 1
 1560              		.cfi_startproc
 1561              		@ args = 0, pretend = 0, frame = 16
 1562              		@ frame_needed = 1, uses_anonymous_args = 0
 1563              		@ link register save eliminated.
 1564 0000 04B02DE5 		str	fp, [sp, #-4]!
 1565              		.cfi_def_cfa_offset 4
 1566              		.cfi_offset 11, -4
 1567 0004 00B08DE2 		add	fp, sp, #0
 1568              		.cfi_def_cfa_register 11
 1569 0008 14D04DE2 		sub	sp, sp, #20
 1570 000c 08000BE5 		str	r0, [fp, #-8]
 1571 0010 0C100BE5 		str	r1, [fp, #-12]
 1572 0014 10200BE5 		str	r2, [fp, #-16]
 1573 0018 14300BE5 		str	r3, [fp, #-20]
 557:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Svc=(Reg->R0)>>16;
 1574              		.loc 1 557 14
 1575 001c 08301BE5 		ldr	r3, [fp, #-8]
 1576 0020 043093E5 		ldr	r3, [r3, #4]
 1577              		.loc 1 557 19
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 40


 1578 0024 2328A0E1 		lsr	r2, r3, #16
 1579              		.loc 1 557 9
 1580 0028 0C301BE5 		ldr	r3, [fp, #-12]
 1581 002c 002083E5 		str	r2, [r3]
 558:../../Source/Platform/A7A/rme_platform_a7a.c ****     *Capid=(Reg->R0)&0xFFFF;
 1582              		.loc 1 558 16
 1583 0030 08301BE5 		ldr	r3, [fp, #-8]
 1584 0034 043093E5 		ldr	r3, [r3, #4]
 1585              		.loc 1 558 21
 1586 0038 7320FFE6 		uxth	r2, r3
 1587              		.loc 1 558 11
 1588 003c 10301BE5 		ldr	r3, [fp, #-16]
 1589 0040 002083E5 		str	r2, [r3]
 559:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[0]=Reg->R1;
 1590              		.loc 1 559 17
 1591 0044 08301BE5 		ldr	r3, [fp, #-8]
 1592 0048 082093E5 		ldr	r2, [r3, #8]
 1593              		.loc 1 559 13
 1594 004c 14301BE5 		ldr	r3, [fp, #-20]
 1595 0050 002083E5 		str	r2, [r3]
 560:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[1]=Reg->R2;
 1596              		.loc 1 560 10
 1597 0054 14301BE5 		ldr	r3, [fp, #-20]
 1598 0058 043083E2 		add	r3, r3, #4
 1599              		.loc 1 560 17
 1600 005c 08201BE5 		ldr	r2, [fp, #-8]
 1601 0060 0C2092E5 		ldr	r2, [r2, #12]
 1602              		.loc 1 560 13
 1603 0064 002083E5 		str	r2, [r3]
 561:../../Source/Platform/A7A/rme_platform_a7a.c ****     Param[2]=Reg->R3;
 1604              		.loc 1 561 10
 1605 0068 14301BE5 		ldr	r3, [fp, #-20]
 1606 006c 083083E2 		add	r3, r3, #8
 1607              		.loc 1 561 17
 1608 0070 08201BE5 		ldr	r2, [fp, #-8]
 1609 0074 102092E5 		ldr	r2, [r2, #16]
 1610              		.loc 1 561 13
 1611 0078 002083E5 		str	r2, [r3]
 562:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1612              		.loc 1 562 1
 1613 007c 00F020E3 		nop
 1614 0080 00D08BE2 		add	sp, fp, #0
 1615              		.cfi_def_cfa_register 13
 1616              		@ sp needed
 1617 0084 04B09DE4 		ldr	fp, [sp], #4
 1618              		.cfi_restore 11
 1619              		.cfi_def_cfa_offset 0
 1620 0088 1EFF2FE1 		bx	lr
 1621              		.cfi_endproc
 1622              	.LFE15:
 1624              		.section	.text.__RME_Svc_Retval_Set,"ax",%progbits
 1625              		.align	2
 1626              		.global	__RME_Svc_Retval_Set
 1627              		.syntax unified
 1628              		.arm
 1630              	__RME_Svc_Retval_Set:
 1631              	.LFB16:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 41


 563:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Get_Syscall_Param **************************************/
 564:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 565:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Syscall_Retval ******************************************
 566:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the system call return value to the stack frame. This function 
 567:../../Source/Platform/A7A/rme_platform_a7a.c ****               may carry up to 4 return values. If the last 3 is not needed, just set
 568:../../Source/Platform/A7A/rme_platform_a7a.c ****               them to zero.
 569:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 570:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 571:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 572:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 573:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Svc_Retval_Set(struct RME_Reg_Struct* Reg,rme_ret_t Retval)
 574:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1632              		.loc 1 574 1
 1633              		.cfi_startproc
 1634              		@ args = 0, pretend = 0, frame = 8
 1635              		@ frame_needed = 1, uses_anonymous_args = 0
 1636              		@ link register save eliminated.
 1637 0000 04B02DE5 		str	fp, [sp, #-4]!
 1638              		.cfi_def_cfa_offset 4
 1639              		.cfi_offset 11, -4
 1640 0004 00B08DE2 		add	fp, sp, #0
 1641              		.cfi_def_cfa_register 11
 1642 0008 0CD04DE2 		sub	sp, sp, #12
 1643 000c 08000BE5 		str	r0, [fp, #-8]
 1644 0010 0C100BE5 		str	r1, [fp, #-12]
 575:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=(rme_ptr_t)Retval;
 1645              		.loc 1 575 13
 1646 0014 0C201BE5 		ldr	r2, [fp, #-12]
 1647              		.loc 1 575 12
 1648 0018 08301BE5 		ldr	r3, [fp, #-8]
 1649 001c 042083E5 		str	r2, [r3, #4]
 576:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1650              		.loc 1 576 1
 1651 0020 00F020E3 		nop
 1652 0024 00D08BE2 		add	sp, fp, #0
 1653              		.cfi_def_cfa_register 13
 1654              		@ sp needed
 1655 0028 04B09DE4 		ldr	fp, [sp], #4
 1656              		.cfi_restore 11
 1657              		.cfi_def_cfa_offset 0
 1658 002c 1EFF2FE1 		bx	lr
 1659              		.cfi_endproc
 1660              	.LFE16:
 1662              		.section	.text.__RME_Thd_Reg_Init,"ax",%progbits
 1663              		.align	2
 1664              		.global	__RME_Thd_Reg_Init
 1665              		.syntax unified
 1666              		.arm
 1668              	__RME_Thd_Reg_Init:
 1669              	.LFB17:
 577:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Syscall_Retval *************************************/
 578:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 579:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Init ************************************************
 580:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the register set for the thread.
 581:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Entry - The thread entry address.
 582:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Stack - The thread stack address.
 583:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param - The parameter to pass to it.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 42


 584:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set content generated.
 585:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 586:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 587:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Init(rme_ptr_t Attr,rme_ptr_t Entry,rme_ptr_t Stack,rme_ptr_t Param,
 588:../../Source/Platform/A7A/rme_platform_a7a.c ****                                        struct RME_Reg_Struct* Reg)
 589:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1670              		.loc 1 589 1
 1671              		.cfi_startproc
 1672              		@ args = 4, pretend = 0, frame = 16
 1673              		@ frame_needed = 1, uses_anonymous_args = 0
 1674              		@ link register save eliminated.
 1675 0000 04B02DE5 		str	fp, [sp, #-4]!
 1676              		.cfi_def_cfa_offset 4
 1677              		.cfi_offset 11, -4
 1678 0004 00B08DE2 		add	fp, sp, #0
 1679              		.cfi_def_cfa_register 11
 1680 0008 14D04DE2 		sub	sp, sp, #20
 1681 000c 08000BE5 		str	r0, [fp, #-8]
 1682 0010 0C100BE5 		str	r1, [fp, #-12]
 1683 0014 10200BE5 		str	r2, [fp, #-16]
 1684 0018 14300BE5 		str	r3, [fp, #-20]
 590:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the entry and stack */
 591:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Entry;
 1685              		.loc 1 591 12
 1686 001c 04309BE5 		ldr	r3, [fp, #4]
 1687 0020 0C201BE5 		ldr	r2, [fp, #-12]
 1688 0024 3C2083E5 		str	r2, [r3, #60]
 592:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Stack;
 1689              		.loc 1 592 12
 1690 0028 04309BE5 		ldr	r3, [fp, #4]
 1691 002c 10201BE5 		ldr	r2, [fp, #-16]
 1692 0030 342083E5 		str	r2, [r3, #52]
 593:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* LR needs to be a multiple of 4 upon return, ARMv7-A does not allow
 594:../../Source/Platform/A7A/rme_platform_a7a.c ****      * unaligned LR upon exception entry. Setting it to PC for convenience. */
 595:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->LR=Entry;
 1693              		.loc 1 595 12
 1694 0034 04309BE5 		ldr	r3, [fp, #4]
 1695 0038 0C201BE5 		ldr	r2, [fp, #-12]
 1696 003c 382083E5 		str	r2, [r3, #56]
 596:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Set the parameter */
 597:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R0=Param;
 1697              		.loc 1 597 12
 1698 0040 04309BE5 		ldr	r3, [fp, #4]
 1699 0044 14201BE5 		ldr	r2, [fp, #-20]
 1700 0048 042083E5 		str	r2, [r3, #4]
 598:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Initialize CPSR */
 599:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->CPSR=0U;
 1701              		.loc 1 599 14
 1702 004c 04309BE5 		ldr	r3, [fp, #4]
 1703 0050 0020A0E3 		mov	r2, #0
 1704 0054 002083E5 		str	r2, [r3]
 600:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1705              		.loc 1 600 1
 1706 0058 00F020E3 		nop
 1707 005c 00D08BE2 		add	sp, fp, #0
 1708              		.cfi_def_cfa_register 13
 1709              		@ sp needed
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 43


 1710 0060 04B09DE4 		ldr	fp, [sp], #4
 1711              		.cfi_restore 11
 1712              		.cfi_def_cfa_offset 0
 1713 0064 1EFF2FE1 		bx	lr
 1714              		.cfi_endproc
 1715              	.LFE17:
 1717              		.section	.text.__RME_Thd_Reg_Copy,"ax",%progbits
 1718              		.align	2
 1719              		.global	__RME_Thd_Reg_Copy
 1720              		.syntax unified
 1721              		.arm
 1723              	__RME_Thd_Reg_Copy:
 1724              	.LFB18:
 601:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Init *******************************************/
 602:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 603:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Reg_Copy ************************************************
 604:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Copy one set of registers into another.
 605:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Src - The source register set.
 606:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Dst - The destination register set.
 607:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 608:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 609:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Reg_Copy(struct RME_Reg_Struct* Dst, struct RME_Reg_Struct* Src)
 610:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1725              		.loc 1 610 1
 1726              		.cfi_startproc
 1727              		@ args = 0, pretend = 0, frame = 8
 1728              		@ frame_needed = 1, uses_anonymous_args = 0
 1729              		@ link register save eliminated.
 1730 0000 04B02DE5 		str	fp, [sp, #-4]!
 1731              		.cfi_def_cfa_offset 4
 1732              		.cfi_offset 11, -4
 1733 0004 00B08DE2 		add	fp, sp, #0
 1734              		.cfi_def_cfa_register 11
 1735 0008 0CD04DE2 		sub	sp, sp, #12
 1736 000c 08000BE5 		str	r0, [fp, #-8]
 1737 0010 0C100BE5 		str	r1, [fp, #-12]
 611:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that the ordering is the same so the compiler can optimize */
 612:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->CPSR=Src->CPSR;
 1738              		.loc 1 612 18
 1739 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1740 0018 002093E5 		ldr	r2, [r3]
 1741              		.loc 1 612 14
 1742 001c 08301BE5 		ldr	r3, [fp, #-8]
 1743 0020 002083E5 		str	r2, [r3]
 613:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R0=Src->R0;
 1744              		.loc 1 613 16
 1745 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1746 0028 042093E5 		ldr	r2, [r3, #4]
 1747              		.loc 1 613 12
 1748 002c 08301BE5 		ldr	r3, [fp, #-8]
 1749 0030 042083E5 		str	r2, [r3, #4]
 614:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R1=Src->R1;
 1750              		.loc 1 614 16
 1751 0034 0C301BE5 		ldr	r3, [fp, #-12]
 1752 0038 082093E5 		ldr	r2, [r3, #8]
 1753              		.loc 1 614 12
 1754 003c 08301BE5 		ldr	r3, [fp, #-8]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 44


 1755 0040 082083E5 		str	r2, [r3, #8]
 615:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R2=Src->R2;
 1756              		.loc 1 615 16
 1757 0044 0C301BE5 		ldr	r3, [fp, #-12]
 1758 0048 0C2093E5 		ldr	r2, [r3, #12]
 1759              		.loc 1 615 12
 1760 004c 08301BE5 		ldr	r3, [fp, #-8]
 1761 0050 0C2083E5 		str	r2, [r3, #12]
 616:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R3=Src->R3;
 1762              		.loc 1 616 16
 1763 0054 0C301BE5 		ldr	r3, [fp, #-12]
 1764 0058 102093E5 		ldr	r2, [r3, #16]
 1765              		.loc 1 616 12
 1766 005c 08301BE5 		ldr	r3, [fp, #-8]
 1767 0060 102083E5 		str	r2, [r3, #16]
 617:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R4=Src->R4;
 1768              		.loc 1 617 16
 1769 0064 0C301BE5 		ldr	r3, [fp, #-12]
 1770 0068 142093E5 		ldr	r2, [r3, #20]
 1771              		.loc 1 617 12
 1772 006c 08301BE5 		ldr	r3, [fp, #-8]
 1773 0070 142083E5 		str	r2, [r3, #20]
 618:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R5=Src->R5;
 1774              		.loc 1 618 16
 1775 0074 0C301BE5 		ldr	r3, [fp, #-12]
 1776 0078 182093E5 		ldr	r2, [r3, #24]
 1777              		.loc 1 618 12
 1778 007c 08301BE5 		ldr	r3, [fp, #-8]
 1779 0080 182083E5 		str	r2, [r3, #24]
 619:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R6=Src->R6;
 1780              		.loc 1 619 16
 1781 0084 0C301BE5 		ldr	r3, [fp, #-12]
 1782 0088 1C2093E5 		ldr	r2, [r3, #28]
 1783              		.loc 1 619 12
 1784 008c 08301BE5 		ldr	r3, [fp, #-8]
 1785 0090 1C2083E5 		str	r2, [r3, #28]
 620:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R7=Src->R7;
 1786              		.loc 1 620 16
 1787 0094 0C301BE5 		ldr	r3, [fp, #-12]
 1788 0098 202093E5 		ldr	r2, [r3, #32]
 1789              		.loc 1 620 12
 1790 009c 08301BE5 		ldr	r3, [fp, #-8]
 1791 00a0 202083E5 		str	r2, [r3, #32]
 621:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R8=Src->R8;
 1792              		.loc 1 621 16
 1793 00a4 0C301BE5 		ldr	r3, [fp, #-12]
 1794 00a8 242093E5 		ldr	r2, [r3, #36]
 1795              		.loc 1 621 12
 1796 00ac 08301BE5 		ldr	r3, [fp, #-8]
 1797 00b0 242083E5 		str	r2, [r3, #36]
 622:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R9=Src->R9;
 1798              		.loc 1 622 16
 1799 00b4 0C301BE5 		ldr	r3, [fp, #-12]
 1800 00b8 282093E5 		ldr	r2, [r3, #40]
 1801              		.loc 1 622 12
 1802 00bc 08301BE5 		ldr	r3, [fp, #-8]
 1803 00c0 282083E5 		str	r2, [r3, #40]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 45


 623:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R10=Src->R10;
 1804              		.loc 1 623 17
 1805 00c4 0C301BE5 		ldr	r3, [fp, #-12]
 1806 00c8 2C2093E5 		ldr	r2, [r3, #44]
 1807              		.loc 1 623 13
 1808 00cc 08301BE5 		ldr	r3, [fp, #-8]
 1809 00d0 2C2083E5 		str	r2, [r3, #44]
 624:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->R11=Src->R11;
 1810              		.loc 1 624 17
 1811 00d4 0C301BE5 		ldr	r3, [fp, #-12]
 1812 00d8 302093E5 		ldr	r2, [r3, #48]
 1813              		.loc 1 624 13
 1814 00dc 08301BE5 		ldr	r3, [fp, #-8]
 1815 00e0 302083E5 		str	r2, [r3, #48]
 625:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->SP=Src->SP;
 1816              		.loc 1 625 16
 1817 00e4 0C301BE5 		ldr	r3, [fp, #-12]
 1818 00e8 342093E5 		ldr	r2, [r3, #52]
 1819              		.loc 1 625 12
 1820 00ec 08301BE5 		ldr	r3, [fp, #-8]
 1821 00f0 342083E5 		str	r2, [r3, #52]
 626:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->LR=Src->LR;
 1822              		.loc 1 626 16
 1823 00f4 0C301BE5 		ldr	r3, [fp, #-12]
 1824 00f8 382093E5 		ldr	r2, [r3, #56]
 1825              		.loc 1 626 12
 1826 00fc 08301BE5 		ldr	r3, [fp, #-8]
 1827 0100 382083E5 		str	r2, [r3, #56]
 627:../../Source/Platform/A7A/rme_platform_a7a.c ****     Dst->PC=Src->PC;
 1828              		.loc 1 627 16
 1829 0104 0C301BE5 		ldr	r3, [fp, #-12]
 1830 0108 3C2093E5 		ldr	r2, [r3, #60]
 1831              		.loc 1 627 12
 1832 010c 08301BE5 		ldr	r3, [fp, #-8]
 1833 0110 3C2083E5 		str	r2, [r3, #60]
 628:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1834              		.loc 1 628 1
 1835 0114 00F020E3 		nop
 1836 0118 00D08BE2 		add	sp, fp, #0
 1837              		.cfi_def_cfa_register 13
 1838              		@ sp needed
 1839 011c 04B09DE4 		ldr	fp, [sp], #4
 1840              		.cfi_restore 11
 1841              		.cfi_def_cfa_offset 0
 1842 0120 1EFF2FE1 		bx	lr
 1843              		.cfi_endproc
 1844              	.LFE18:
 1846              		.section	.text.__RME_Thd_Cop_Init,"ax",%progbits
 1847              		.align	2
 1848              		.global	__RME_Thd_Cop_Init
 1849              		.syntax unified
 1850              		.arm
 1852              	__RME_Thd_Cop_Init:
 1853              	.LFB19:
 629:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Reg_Copy *******************************************/
 630:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 631:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Init ************************************************
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 46


 632:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the coprocessor register set for the thread.
 633:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register struct to help initialize the coprocessor.
 634:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Cop_Struct* Cop_Reg - The register set content generated.
 635:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 636:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 637:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Init(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 638:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1854              		.loc 1 638 1
 1855              		.cfi_startproc
 1856              		@ args = 0, pretend = 0, frame = 8
 1857              		@ frame_needed = 1, uses_anonymous_args = 0
 1858              		@ link register save eliminated.
 1859 0000 04B02DE5 		str	fp, [sp, #-4]!
 1860              		.cfi_def_cfa_offset 4
 1861              		.cfi_offset 11, -4
 1862 0004 00B08DE2 		add	fp, sp, #0
 1863              		.cfi_def_cfa_register 11
 1864 0008 0CD04DE2 		sub	sp, sp, #12
 1865 000c 08000BE5 		str	r0, [fp, #-8]
 1866 0010 0C100BE5 		str	r1, [fp, #-12]
 639:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Empty function, return immediately. The FPU contents is not predictable */
 640:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1867              		.loc 1 640 1
 1868 0014 00F020E3 		nop
 1869 0018 00D08BE2 		add	sp, fp, #0
 1870              		.cfi_def_cfa_register 13
 1871              		@ sp needed
 1872 001c 04B09DE4 		ldr	fp, [sp], #4
 1873              		.cfi_restore 11
 1874              		.cfi_def_cfa_offset 0
 1875 0020 1EFF2FE1 		bx	lr
 1876              		.cfi_endproc
 1877              	.LFE19:
 1879              		.section	.text.__RME_Thd_Cop_Save,"ax",%progbits
 1880              		.align	2
 1881              		.global	__RME_Thd_Cop_Save
 1882              		.syntax unified
 1883              		.arm
 1885              	__RME_Thd_Cop_Save:
 1886              	.LFB20:
 641:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Reg_Init ***************************************/
 642:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 643:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Save ************************************************
 644:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the co-op register sets. This operation is flexible - If the
 645:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save its context.
 646:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 647:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 648:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 649:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 650:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 651:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Save(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 652:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1887              		.loc 1 652 1
 1888              		.cfi_startproc
 1889              		@ args = 0, pretend = 0, frame = 8
 1890              		@ frame_needed = 1, uses_anonymous_args = 0
 1891              		@ link register save eliminated.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 47


 1892 0000 04B02DE5 		str	fp, [sp, #-4]!
 1893              		.cfi_def_cfa_offset 4
 1894              		.cfi_offset 11, -4
 1895 0004 00B08DE2 		add	fp, sp, #0
 1896              		.cfi_def_cfa_register 11
 1897 0008 0CD04DE2 		sub	sp, sp, #12
 1898 000c 08000BE5 		str	r0, [fp, #-8]
 1899 0010 0C100BE5 		str	r1, [fp, #-12]
 653:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 654:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1900              		.loc 1 654 1
 1901 0014 00F020E3 		nop
 1902 0018 00D08BE2 		add	sp, fp, #0
 1903              		.cfi_def_cfa_register 13
 1904              		@ sp needed
 1905 001c 04B09DE4 		ldr	fp, [sp], #4
 1906              		.cfi_restore 11
 1907              		.cfi_def_cfa_offset 0
 1908 0020 1EFF2FE1 		bx	lr
 1909              		.cfi_endproc
 1910              	.LFE20:
 1912              		.section	.text.__RME_Thd_Cop_Restore,"ax",%progbits
 1913              		.align	2
 1914              		.global	__RME_Thd_Cop_Restore
 1915              		.syntax unified
 1916              		.arm
 1918              	__RME_Thd_Cop_Restore:
 1919              	.LFB21:
 655:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Save *******************************************/
 656:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 657:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Restore *********************************************
 658:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the co-op register sets. This operation is flexible - If the
 659:../../Source/Platform/A7A/rme_platform_a7a.c ****               FPU is not used, we do not restore its context.
 660:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The context, used to decide whether
 661:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            to save the context of the coprocessor.
 662:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Cop_Struct* Cop_Reg - The pointer to the coprocessor contents.
 663:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 664:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 665:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Restore(struct RME_Reg_Struct* Reg, struct RME_Cop_Struct* Cop_Reg)
 666:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1920              		.loc 1 666 1
 1921              		.cfi_startproc
 1922              		@ args = 0, pretend = 0, frame = 8
 1923              		@ frame_needed = 1, uses_anonymous_args = 0
 1924              		@ link register save eliminated.
 1925 0000 04B02DE5 		str	fp, [sp, #-4]!
 1926              		.cfi_def_cfa_offset 4
 1927              		.cfi_offset 11, -4
 1928 0004 00B08DE2 		add	fp, sp, #0
 1929              		.cfi_def_cfa_register 11
 1930 0008 0CD04DE2 		sub	sp, sp, #12
 1931 000c 08000BE5 		str	r0, [fp, #-8]
 1932 0010 0C100BE5 		str	r1, [fp, #-12]
 667:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not used for now */
 668:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1933              		.loc 1 668 1
 1934 0014 00F020E3 		nop
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 48


 1935 0018 00D08BE2 		add	sp, fp, #0
 1936              		.cfi_def_cfa_register 13
 1937              		@ sp needed
 1938 001c 04B09DE4 		ldr	fp, [sp], #4
 1939              		.cfi_restore 11
 1940              		.cfi_def_cfa_offset 0
 1941 0020 1EFF2FE1 		bx	lr
 1942              		.cfi_endproc
 1943              	.LFE21:
 1945              		.section	.text.__RME_Inv_Reg_Save,"ax",%progbits
 1946              		.align	2
 1947              		.global	__RME_Inv_Reg_Save
 1948              		.syntax unified
 1949              		.arm
 1951              	__RME_Inv_Reg_Save:
 1952              	.LFB22:
 669:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Restore ****************************************/
 670:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 671:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Save ************************************************
 672:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Save the necessary registers on invocation for returning. Only the
 673:../../Source/Platform/A7A/rme_platform_a7a.c ****               registers that will influence program control flow will be saved.
 674:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set.
 675:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Iret_Struct* Ret - The invocation return register context.
 676:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 677:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 678:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Save(struct RME_Iret_Struct* Ret, struct RME_Reg_Struct* Reg)
 679:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1953              		.loc 1 679 1
 1954              		.cfi_startproc
 1955              		@ args = 0, pretend = 0, frame = 8
 1956              		@ frame_needed = 1, uses_anonymous_args = 0
 1957              		@ link register save eliminated.
 1958 0000 04B02DE5 		str	fp, [sp, #-4]!
 1959              		.cfi_def_cfa_offset 4
 1960              		.cfi_offset 11, -4
 1961 0004 00B08DE2 		add	fp, sp, #0
 1962              		.cfi_def_cfa_register 11
 1963 0008 0CD04DE2 		sub	sp, sp, #12
 1964 000c 08000BE5 		str	r0, [fp, #-8]
 1965 0010 0C100BE5 		str	r1, [fp, #-12]
 680:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->PC=Reg->PC;
 1966              		.loc 1 680 16
 1967 0014 0C301BE5 		ldr	r3, [fp, #-12]
 1968 0018 3C2093E5 		ldr	r2, [r3, #60]
 1969              		.loc 1 680 12
 1970 001c 08301BE5 		ldr	r3, [fp, #-8]
 1971 0020 002083E5 		str	r2, [r3]
 681:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ret->SP=Reg->SP;
 1972              		.loc 1 681 16
 1973 0024 0C301BE5 		ldr	r3, [fp, #-12]
 1974 0028 342093E5 		ldr	r2, [r3, #52]
 1975              		.loc 1 681 12
 1976 002c 08301BE5 		ldr	r3, [fp, #-8]
 1977 0030 042083E5 		str	r2, [r3, #4]
 682:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 1978              		.loc 1 682 1
 1979 0034 00F020E3 		nop
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 49


 1980 0038 00D08BE2 		add	sp, fp, #0
 1981              		.cfi_def_cfa_register 13
 1982              		@ sp needed
 1983 003c 04B09DE4 		ldr	fp, [sp], #4
 1984              		.cfi_restore 11
 1985              		.cfi_def_cfa_offset 0
 1986 0040 1EFF2FE1 		bx	lr
 1987              		.cfi_endproc
 1988              	.LFE22:
 1990              		.section	.text.__RME_Inv_Reg_Restore,"ax",%progbits
 1991              		.align	2
 1992              		.global	__RME_Inv_Reg_Restore
 1993              		.syntax unified
 1994              		.arm
 1996              	__RME_Inv_Reg_Restore:
 1997              	.LFB23:
 683:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Save *******************************************/
 684:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 685:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Reg_Restore *********************************************
 686:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Restore the necessary registers for returning from an invocation.
 687:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Iret_Struct* Ret - The invocation return register context.
 688:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 689:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 690:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 691:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Reg_Restore(struct RME_Reg_Struct* Reg, struct RME_Iret_Struct* Ret)
 692:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 1998              		.loc 1 692 1
 1999              		.cfi_startproc
 2000              		@ args = 0, pretend = 0, frame = 8
 2001              		@ frame_needed = 1, uses_anonymous_args = 0
 2002              		@ link register save eliminated.
 2003 0000 04B02DE5 		str	fp, [sp, #-4]!
 2004              		.cfi_def_cfa_offset 4
 2005              		.cfi_offset 11, -4
 2006 0004 00B08DE2 		add	fp, sp, #0
 2007              		.cfi_def_cfa_register 11
 2008 0008 0CD04DE2 		sub	sp, sp, #12
 2009 000c 08000BE5 		str	r0, [fp, #-8]
 2010 0010 0C100BE5 		str	r1, [fp, #-12]
 693:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->PC=Ret->PC;
 2011              		.loc 1 693 16
 2012 0014 0C301BE5 		ldr	r3, [fp, #-12]
 2013 0018 002093E5 		ldr	r2, [r3]
 2014              		.loc 1 693 12
 2015 001c 08301BE5 		ldr	r3, [fp, #-8]
 2016 0020 3C2083E5 		str	r2, [r3, #60]
 694:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->SP=Ret->SP;
 2017              		.loc 1 694 16
 2018 0024 0C301BE5 		ldr	r3, [fp, #-12]
 2019 0028 042093E5 		ldr	r2, [r3, #4]
 2020              		.loc 1 694 12
 2021 002c 08301BE5 		ldr	r3, [fp, #-8]
 2022 0030 342083E5 		str	r2, [r3, #52]
 695:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2023              		.loc 1 695 1
 2024 0034 00F020E3 		nop
 2025 0038 00D08BE2 		add	sp, fp, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 50


 2026              		.cfi_def_cfa_register 13
 2027              		@ sp needed
 2028 003c 04B09DE4 		ldr	fp, [sp], #4
 2029              		.cfi_restore 11
 2030              		.cfi_def_cfa_offset 0
 2031 0040 1EFF2FE1 		bx	lr
 2032              		.cfi_endproc
 2033              	.LFE23:
 2035              		.section	.text.__RME_Inv_Retval_Set,"ax",%progbits
 2036              		.align	2
 2037              		.global	__RME_Inv_Retval_Set
 2038              		.syntax unified
 2039              		.arm
 2041              	__RME_Inv_Retval_Set:
 2042              	.LFB24:
 696:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Reg_Restore ****************************************/
 697:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 698:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Inv_Retval_Set **********************************************
 699:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 700:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 701:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 702:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 703:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 704:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Inv_Retval_Set(struct RME_Reg_Struct* Reg,
 705:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ret_t Retval)
 706:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2043              		.loc 1 706 1
 2044              		.cfi_startproc
 2045              		@ args = 0, pretend = 0, frame = 8
 2046              		@ frame_needed = 1, uses_anonymous_args = 0
 2047              		@ link register save eliminated.
 2048 0000 04B02DE5 		str	fp, [sp, #-4]!
 2049              		.cfi_def_cfa_offset 4
 2050              		.cfi_offset 11, -4
 2051 0004 00B08DE2 		add	fp, sp, #0
 2052              		.cfi_def_cfa_register 11
 2053 0008 0CD04DE2 		sub	sp, sp, #12
 2054 000c 08000BE5 		str	r0, [fp, #-8]
 2055 0010 0C100BE5 		str	r1, [fp, #-12]
 707:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R5=(rme_ptr_t)Retval;
 2056              		.loc 1 707 13
 2057 0014 0C201BE5 		ldr	r2, [fp, #-12]
 2058              		.loc 1 707 12
 2059 0018 08301BE5 		ldr	r3, [fp, #-8]
 2060 001c 182083E5 		str	r2, [r3, #24]
 708:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2061              		.loc 1 708 1
 2062 0020 00F020E3 		nop
 2063 0024 00D08BE2 		add	sp, fp, #0
 2064              		.cfi_def_cfa_register 13
 2065              		@ sp needed
 2066 0028 04B09DE4 		ldr	fp, [sp], #4
 2067              		.cfi_restore 11
 2068              		.cfi_def_cfa_offset 0
 2069 002c 1EFF2FE1 		bx	lr
 2070              		.cfi_endproc
 2071              	.LFE24:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 51


 2073              		.section	.text.__RME_Set_Inv_Retval,"ax",%progbits
 2074              		.align	2
 2075              		.global	__RME_Set_Inv_Retval
 2076              		.syntax unified
 2077              		.arm
 2079              	__RME_Set_Inv_Retval:
 2080              	.LFB25:
 709:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Inv_Retval_Set *****************************************/
 710:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 711:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Set_Inv_Retval **********************************************
 712:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the invocation return value to the stack frame.
 713:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ret_t Retval - The return value.
 714:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set.
 715:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 716:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 717:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Set_Inv_Retval(struct RME_Reg_Struct* Reg, rme_ret_t Retval)
 718:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2081              		.loc 1 718 1
 2082              		.cfi_startproc
 2083              		@ args = 0, pretend = 0, frame = 8
 2084              		@ frame_needed = 1, uses_anonymous_args = 0
 2085              		@ link register save eliminated.
 2086 0000 04B02DE5 		str	fp, [sp, #-4]!
 2087              		.cfi_def_cfa_offset 4
 2088              		.cfi_offset 11, -4
 2089 0004 00B08DE2 		add	fp, sp, #0
 2090              		.cfi_def_cfa_register 11
 2091 0008 0CD04DE2 		sub	sp, sp, #12
 2092 000c 08000BE5 		str	r0, [fp, #-8]
 2093 0010 0C100BE5 		str	r1, [fp, #-12]
 719:../../Source/Platform/A7A/rme_platform_a7a.c ****     Reg->R1=(rme_ptr_t)Retval;
 2094              		.loc 1 719 13
 2095 0014 0C201BE5 		ldr	r2, [fp, #-12]
 2096              		.loc 1 719 12
 2097 0018 08301BE5 		ldr	r3, [fp, #-8]
 2098 001c 082083E5 		str	r2, [r3, #8]
 720:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2099              		.loc 1 720 1
 2100 0020 00F020E3 		nop
 2101 0024 00D08BE2 		add	sp, fp, #0
 2102              		.cfi_def_cfa_register 13
 2103              		@ sp needed
 2104 0028 04B09DE4 		ldr	fp, [sp], #4
 2105              		.cfi_restore 11
 2106              		.cfi_def_cfa_offset 0
 2107 002c 1EFF2FE1 		bx	lr
 2108              		.cfi_endproc
 2109              	.LFE25:
 2111              		.section	.text.__RME_Thd_Cop_Swap,"ax",%progbits
 2112              		.align	2
 2113              		.global	__RME_Thd_Cop_Swap
 2114              		.syntax unified
 2115              		.arm
 2117              	__RME_Thd_Cop_Swap:
 2118              	.LFB26:
 721:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Set_Inv_Retval *****************************************/
 722:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 52


 723:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Thd_Cop_Swap ************************************************
 724:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Swap the cop register sets. This operation is flexible - If the
 725:../../Source/Platform/A7A/rme_platform_a7a.c ****               program does not use the FPU, we do not save/restore its context.
 726:../../Source/Platform/A7A/rme_platform_a7a.c ****               We do not need to turn off lazy stacking, because even if a fault
 727:../../Source/Platform/A7A/rme_platform_a7a.c ****               occurs, it (1) tails the execution of activates the will get dropped
 728:../../Source/Platform/A7A/rme_platform_a7a.c ****               by our handler deliberately and will not cause wrong attribution.
 729:../../Source/Platform/A7A/rme_platform_a7a.c ****               They can be alternatively disabled as well if you wish.
 730:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Attr_New - The attribute of the context to switch to.
 731:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_New - Whether the context to switch to is a
 732:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 733:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_New - The context to switch to.
 734:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Attr_Cur - The attribute of the context to switch from.
 735:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Hyp_Cur - Whether the context to switch from is a
 736:../../Source/Platform/A7A/rme_platform_a7a.c ****                                      hypervisor dedicated one.
 737:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Reg_Struct* Reg_Cur - The context to switch from.
 738:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : void* Cop_New - The coprocessor context to switch to.
 739:../../Source/Platform/A7A/rme_platform_a7a.c ****               void* Cop_Cur - The coprocessor context to switch from.
 740:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 741:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 742:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Thd_Cop_Swap(rme_ptr_t Attr_New,
 743:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_New,
 744:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_New,
 745:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_New,
 746:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Attr_Cur,
 747:../../Source/Platform/A7A/rme_platform_a7a.c ****                         rme_ptr_t Is_Hyp_Cur,
 748:../../Source/Platform/A7A/rme_platform_a7a.c ****                         struct RME_Reg_Struct* Reg_Cur,
 749:../../Source/Platform/A7A/rme_platform_a7a.c ****                         void* Cop_Cur)
 750:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2119              		.loc 1 750 1
 2120              		.cfi_startproc
 2121              		@ args = 16, pretend = 0, frame = 16
 2122              		@ frame_needed = 1, uses_anonymous_args = 0
 2123              		@ link register save eliminated.
 2124 0000 04B02DE5 		str	fp, [sp, #-4]!
 2125              		.cfi_def_cfa_offset 4
 2126              		.cfi_offset 11, -4
 2127 0004 00B08DE2 		add	fp, sp, #0
 2128              		.cfi_def_cfa_register 11
 2129 0008 14D04DE2 		sub	sp, sp, #20
 2130 000c 08000BE5 		str	r0, [fp, #-8]
 2131 0010 0C100BE5 		str	r1, [fp, #-12]
 2132 0014 10200BE5 		str	r2, [fp, #-16]
 2133 0018 14300BE5 		str	r3, [fp, #-20]
 751:../../Source/Platform/A7A/rme_platform_a7a.c ****     
 752:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2134              		.loc 1 752 1
 2135 001c 00F020E3 		nop
 2136 0020 00D08BE2 		add	sp, fp, #0
 2137              		.cfi_def_cfa_register 13
 2138              		@ sp needed
 2139 0024 04B09DE4 		ldr	fp, [sp], #4
 2140              		.cfi_restore 11
 2141              		.cfi_def_cfa_offset 0
 2142 0028 1EFF2FE1 		bx	lr
 2143              		.cfi_endproc
 2144              	.LFE26:
 2146              		.section	.text.__RME_Kfn_Handler,"ax",%progbits
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 53


 2147              		.align	2
 2148              		.global	__RME_Kfn_Handler
 2149              		.syntax unified
 2150              		.arm
 2152              	__RME_Kfn_Handler:
 2153              	.LFB27:
 753:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Thd_Cop_Swap *******************************************/
 754:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 755:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Kern_Func_Handler *******************************************
 756:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Handle kernel function calls.
 757:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The current register set.
 758:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Func_ID - The function ID.
 759:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Sub_ID - The sub function ID.
 760:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param1 - The first parameter.
 761:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Param2 - The second parameter.
 762:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 763:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - The value that the function returned.
 764:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 765:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Kfn_Handler(struct RME_Cap_Cpt* Cpt,
 766:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            struct RME_Reg_Struct* Reg,
 767:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Func_ID,
 768:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Sub_ID,
 769:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param1,
 770:../../Source/Platform/A7A/rme_platform_a7a.c ****                                            rme_ptr_t Param2)
 771:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2154              		.loc 1 771 1
 2155              		.cfi_startproc
 2156              		@ args = 8, pretend = 0, frame = 16
 2157              		@ frame_needed = 1, uses_anonymous_args = 0
 2158              		@ link register save eliminated.
 2159 0000 04B02DE5 		str	fp, [sp, #-4]!
 2160              		.cfi_def_cfa_offset 4
 2161              		.cfi_offset 11, -4
 2162 0004 00B08DE2 		add	fp, sp, #0
 2163              		.cfi_def_cfa_register 11
 2164 0008 14D04DE2 		sub	sp, sp, #20
 2165 000c 08000BE5 		str	r0, [fp, #-8]
 2166 0010 0C100BE5 		str	r1, [fp, #-12]
 2167 0014 10200BE5 		str	r2, [fp, #-16]
 2168 0018 14300BE5 		str	r3, [fp, #-20]
 772:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Currently no kernel function implemented */
 773:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2169              		.loc 1 773 12
 2170 001c 0030A0E3 		mov	r3, #0
 774:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2171              		.loc 1 774 1
 2172 0020 0300A0E1 		mov	r0, r3
 2173 0024 00D08BE2 		add	sp, fp, #0
 2174              		.cfi_def_cfa_register 13
 2175              		@ sp needed
 2176 0028 04B09DE4 		ldr	fp, [sp], #4
 2177              		.cfi_restore 11
 2178              		.cfi_def_cfa_offset 0
 2179 002c 1EFF2FE1 		bx	lr
 2180              		.cfi_endproc
 2181              	.LFE27:
 2183              		.section	.rodata
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 54


 2184 035a 0000     		.align	2
 2185              	.LC29:
 2186 035c 0D0A556E 		.ascii	"\015\012Undefined_Handler\000"
 2186      64656669 
 2186      6E65645F 
 2186      48616E64 
 2186      6C657200 
 2187              		.align	2
 2188              	.LC30:
 2189 0370 20504320 		.ascii	" PC - \000"
 2189      2D2000
 2190 0377 00       		.align	2
 2191              	.LC31:
 2192 0378 20535020 		.ascii	" SP - \000"
 2192      2D2000
 2193 037f 00       		.align	2
 2194              	.LC32:
 2195 0380 20435053 		.ascii	" CPSR - \000"
 2195      52202D20 
 2195      00
 2196              		.section	.text.__RME_A7A_Undefined_Handler,"ax",%progbits
 2197              		.align	2
 2198              		.global	__RME_A7A_Undefined_Handler
 2199              		.syntax unified
 2200              		.arm
 2202              	__RME_A7A_Undefined_Handler:
 2203              	.LFB28:
 775:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Kern_Func_Handler **************************************/
 776:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 777:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Undefined_Handler **************************************
 778:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The undefined instruction vector handler of RME.
 779:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 780:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 781:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 782:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 783:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Undefined_Handler(struct RME_Reg_Struct* Reg)
 784:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2204              		.loc 1 784 1
 2205              		.cfi_startproc
 2206              		@ args = 0, pretend = 0, frame = 8
 2207              		@ frame_needed = 1, uses_anonymous_args = 0
 2208 0000 00482DE9 		push	{fp, lr}
 2209              		.cfi_def_cfa_offset 8
 2210              		.cfi_offset 11, -8
 2211              		.cfi_offset 14, -4
 2212 0004 04B08DE2 		add	fp, sp, #4
 2213              		.cfi_def_cfa 11, 4
 2214 0008 08D04DE2 		sub	sp, sp, #8
 2215 000c 08000BE5 		str	r0, [fp, #-8]
 785:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle undefined instructions now */
 786:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S("\r\nUndefined_Handler");
 2216              		.loc 1 786 2
 2217 0010 000000E3 		movw	r0, #:lower16:.LC29
 2218 0014 000040E3 		movt	r0, #:upper16:.LC29
 2219 0018 FEFFFFEB 		bl	RME_Str_Print
 787:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" PC - ");
 2220              		.loc 1 787 2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 55


 2221 001c 000000E3 		movw	r0, #:lower16:.LC30
 2222 0020 000040E3 		movt	r0, #:upper16:.LC30
 2223 0024 FEFFFFEB 		bl	RME_Str_Print
 788:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->PC);
 2224              		.loc 1 788 2
 2225 0028 08301BE5 		ldr	r3, [fp, #-8]
 2226 002c 3C3093E5 		ldr	r3, [r3, #60]
 2227 0030 0300A0E1 		mov	r0, r3
 2228 0034 FEFFFFEB 		bl	RME_Hex_Print
 789:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" SP - ");
 2229              		.loc 1 789 2
 2230 0038 000000E3 		movw	r0, #:lower16:.LC31
 2231 003c 000040E3 		movt	r0, #:upper16:.LC31
 2232 0040 FEFFFFEB 		bl	RME_Str_Print
 790:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->SP);
 2233              		.loc 1 790 2
 2234 0044 08301BE5 		ldr	r3, [fp, #-8]
 2235 0048 343093E5 		ldr	r3, [r3, #52]
 2236 004c 0300A0E1 		mov	r0, r3
 2237 0050 FEFFFFEB 		bl	RME_Hex_Print
 791:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" CPSR - ");
 2238              		.loc 1 791 2
 2239 0054 000000E3 		movw	r0, #:lower16:.LC32
 2240 0058 000040E3 		movt	r0, #:upper16:.LC32
 2241 005c FEFFFFEB 		bl	RME_Str_Print
 792:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->CPSR);
 2242              		.loc 1 792 2
 2243 0060 08301BE5 		ldr	r3, [fp, #-8]
 2244 0064 003093E5 		ldr	r3, [r3]
 2245 0068 0300A0E1 		mov	r0, r3
 2246 006c FEFFFFEB 		bl	RME_Hex_Print
 2247              	.L71:
 793:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2248              		.loc 1 793 7
 2249 0070 FEFFFFEA 		b	.L71
 2250              		.cfi_endproc
 2251              	.LFE28:
 2253              		.section	.rodata
 2254 0389 000000   		.align	2
 2255              	.LC33:
 2256 038c 50726566 		.ascii	"Prefetch_Abort_Handler\000"
 2256      65746368 
 2256      5F41626F 
 2256      72745F48 
 2256      616E646C 
 2257              		.section	.text.__RME_A7A_Prefetch_Abort_Handler,"ax",%progbits
 2258              		.align	2
 2259              		.global	__RME_A7A_Prefetch_Abort_Handler
 2260              		.syntax unified
 2261              		.arm
 2263              	__RME_A7A_Prefetch_Abort_Handler:
 2264              	.LFB29:
 794:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 795:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Undefined_Handler *********************************/
 796:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 797:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Prefetch_Abort_Handler *********************************
 798:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The prefetch abort vector handler of RME.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 56


 799:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 800:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 801:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 802:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 803:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Prefetch_Abort_Handler(struct RME_Reg_Struct* Reg)
 804:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2265              		.loc 1 804 1
 2266              		.cfi_startproc
 2267              		@ args = 0, pretend = 0, frame = 8
 2268              		@ frame_needed = 1, uses_anonymous_args = 0
 2269 0000 00482DE9 		push	{fp, lr}
 2270              		.cfi_def_cfa_offset 8
 2271              		.cfi_offset 11, -8
 2272              		.cfi_offset 14, -4
 2273 0004 04B08DE2 		add	fp, sp, #4
 2274              		.cfi_def_cfa 11, 4
 2275 0008 08D04DE2 		sub	sp, sp, #8
 2276 000c 08000BE5 		str	r0, [fp, #-8]
 805:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle prefetch aborts now */
 806:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S("Prefetch_Abort_Handler");
 2277              		.loc 1 806 2
 2278 0010 000000E3 		movw	r0, #:lower16:.LC33
 2279 0014 000040E3 		movt	r0, #:upper16:.LC33
 2280 0018 FEFFFFEB 		bl	RME_Str_Print
 807:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" PC - ");
 2281              		.loc 1 807 2
 2282 001c 000000E3 		movw	r0, #:lower16:.LC30
 2283 0020 000040E3 		movt	r0, #:upper16:.LC30
 2284 0024 FEFFFFEB 		bl	RME_Str_Print
 808:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->PC);
 2285              		.loc 1 808 2
 2286 0028 08301BE5 		ldr	r3, [fp, #-8]
 2287 002c 3C3093E5 		ldr	r3, [r3, #60]
 2288 0030 0300A0E1 		mov	r0, r3
 2289 0034 FEFFFFEB 		bl	RME_Hex_Print
 809:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" SP - ");
 2290              		.loc 1 809 2
 2291 0038 000000E3 		movw	r0, #:lower16:.LC31
 2292 003c 000040E3 		movt	r0, #:upper16:.LC31
 2293 0040 FEFFFFEB 		bl	RME_Str_Print
 810:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->SP);
 2294              		.loc 1 810 2
 2295 0044 08301BE5 		ldr	r3, [fp, #-8]
 2296 0048 343093E5 		ldr	r3, [r3, #52]
 2297 004c 0300A0E1 		mov	r0, r3
 2298 0050 FEFFFFEB 		bl	RME_Hex_Print
 811:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" CPSR - ");
 2299              		.loc 1 811 2
 2300 0054 000000E3 		movw	r0, #:lower16:.LC32
 2301 0058 000040E3 		movt	r0, #:upper16:.LC32
 2302 005c FEFFFFEB 		bl	RME_Str_Print
 812:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->CPSR);
 2303              		.loc 1 812 2
 2304 0060 08301BE5 		ldr	r3, [fp, #-8]
 2305 0064 003093E5 		ldr	r3, [r3]
 2306 0068 0300A0E1 		mov	r0, r3
 2307 006c FEFFFFEB 		bl	RME_Hex_Print
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 57


 2308              	.L73:
 813:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2309              		.loc 1 813 7
 2310 0070 FEFFFFEA 		b	.L73
 2311              		.cfi_endproc
 2312              	.LFE29:
 2314              		.section	.rodata
 2315 03a3 00       		.align	2
 2316              	.LC34:
 2317 03a4 0D0A4461 		.ascii	"\015\012Data_Abort_Handler\000"
 2317      74615F41 
 2317      626F7274 
 2317      5F48616E 
 2317      646C6572 
 2318              		.section	.text.__RME_A7A_Data_Abort_Handler,"ax",%progbits
 2319              		.align	2
 2320              		.global	__RME_A7A_Data_Abort_Handler
 2321              		.syntax unified
 2322              		.arm
 2324              	__RME_A7A_Data_Abort_Handler:
 2325              	.LFB30:
 814:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 815:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Prefetch_Abort_Handler ****************************/
 816:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 817:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Data_Abort_Handler *************************************
 818:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The data abort vector handler of RME.
 819:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 820:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 821:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 822:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 823:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Data_Abort_Handler(struct RME_Reg_Struct* Reg)
 824:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2326              		.loc 1 824 1
 2327              		.cfi_startproc
 2328              		@ args = 0, pretend = 0, frame = 8
 2329              		@ frame_needed = 1, uses_anonymous_args = 0
 2330 0000 00482DE9 		push	{fp, lr}
 2331              		.cfi_def_cfa_offset 8
 2332              		.cfi_offset 11, -8
 2333              		.cfi_offset 14, -4
 2334 0004 04B08DE2 		add	fp, sp, #4
 2335              		.cfi_def_cfa 11, 4
 2336 0008 08D04DE2 		sub	sp, sp, #8
 2337 000c 08000BE5 		str	r0, [fp, #-8]
 825:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* We don't handle data aborts now */
 826:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S("\r\nData_Abort_Handler");
 2338              		.loc 1 826 2
 2339 0010 000000E3 		movw	r0, #:lower16:.LC34
 2340 0014 000040E3 		movt	r0, #:upper16:.LC34
 2341 0018 FEFFFFEB 		bl	RME_Str_Print
 827:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" PC - ");
 2342              		.loc 1 827 2
 2343 001c 000000E3 		movw	r0, #:lower16:.LC30
 2344 0020 000040E3 		movt	r0, #:upper16:.LC30
 2345 0024 FEFFFFEB 		bl	RME_Str_Print
 828:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->PC);
 2346              		.loc 1 828 2
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 58


 2347 0028 08301BE5 		ldr	r3, [fp, #-8]
 2348 002c 3C3093E5 		ldr	r3, [r3, #60]
 2349 0030 0300A0E1 		mov	r0, r3
 2350 0034 FEFFFFEB 		bl	RME_Hex_Print
 829:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" SP - ");
 2351              		.loc 1 829 2
 2352 0038 000000E3 		movw	r0, #:lower16:.LC31
 2353 003c 000040E3 		movt	r0, #:upper16:.LC31
 2354 0040 FEFFFFEB 		bl	RME_Str_Print
 830:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->SP);
 2355              		.loc 1 830 2
 2356 0044 08301BE5 		ldr	r3, [fp, #-8]
 2357 0048 343093E5 		ldr	r3, [r3, #52]
 2358 004c 0300A0E1 		mov	r0, r3
 2359 0050 FEFFFFEB 		bl	RME_Hex_Print
 831:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_S(" CPSR - ");
 2360              		.loc 1 831 2
 2361 0054 000000E3 		movw	r0, #:lower16:.LC32
 2362 0058 000040E3 		movt	r0, #:upper16:.LC32
 2363 005c FEFFFFEB 		bl	RME_Str_Print
 832:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_H(Reg->CPSR);
 2364              		.loc 1 832 2
 2365 0060 08301BE5 		ldr	r3, [fp, #-8]
 2366 0064 003093E5 		ldr	r3, [r3]
 2367 0068 0300A0E1 		mov	r0, r3
 2368 006c FEFFFFEB 		bl	RME_Hex_Print
 2369              	.L75:
 833:../../Source/Platform/A7A/rme_platform_a7a.c **** 	while(1);
 2370              		.loc 1 833 7
 2371 0070 FEFFFFEA 		b	.L75
 2372              		.cfi_endproc
 2373              	.LFE30:
 2375              		.section	.rodata
 2376 03b9 000000   		.align	2
 2377              	.LC35:
 2378 03bc 0D0A494E 		.ascii	"\015\012INT_ID is \000"
 2378      545F4944 
 2378      20697320 
 2378      00
 2379              		.section	.text.__RME_A7A_IRQ_Handler,"ax",%progbits
 2380              		.align	2
 2381              		.global	__RME_A7A_IRQ_Handler
 2382              		.syntax unified
 2383              		.arm
 2385              	__RME_A7A_IRQ_Handler:
 2386              	.LFB31:
 834:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 835:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Data_Abort_Handler ********************************/
 836:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 837:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_IRQ_Handler ********************************************
 838:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The regular interrupt vector handler of RME.
 839:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 840:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 841:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 842:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 843:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_IRQ_Handler(struct RME_Reg_Struct* Reg)
 844:../../Source/Platform/A7A/rme_platform_a7a.c **** {
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 59


 2387              		.loc 1 844 1
 2388              		.cfi_startproc
 2389              		@ args = 0, pretend = 0, frame = 16
 2390              		@ frame_needed = 1, uses_anonymous_args = 0
 2391 0000 00482DE9 		push	{fp, lr}
 2392              		.cfi_def_cfa_offset 8
 2393              		.cfi_offset 11, -8
 2394              		.cfi_offset 14, -4
 2395 0004 04B08DE2 		add	fp, sp, #4
 2396              		.cfi_def_cfa 11, 4
 2397 0008 10D04DE2 		sub	sp, sp, #16
 2398 000c 10000BE5 		str	r0, [fp, #-16]
 845:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t Int_ID;
 846:../../Source/Platform/A7A/rme_platform_a7a.c **** 	rme_ptr_t CPUID;
 847:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 848:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* What interrupt is this? */
 849:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID=RME_A7A_GICC_IAR;
 2399              		.loc 1 849 9
 2400 0010 433FA0E3 		mov	r3, #268
 2401 0014 F0384FE3 		movt	r3, 63728
 2402              		.loc 1 849 8
 2403 0018 003093E5 		ldr	r3, [r3]
 2404 001c 08300BE5 		str	r3, [fp, #-8]
 850:../../Source/Platform/A7A/rme_platform_a7a.c **** 	CPUID=Int_ID>>10;
 2405              		.loc 1 850 7
 2406 0020 08301BE5 		ldr	r3, [fp, #-8]
 2407 0024 2335A0E1 		lsr	r3, r3, #10
 2408 0028 0C300BE5 		str	r3, [fp, #-12]
 851:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Int_ID&=0x3FFU;
 2409              		.loc 1 851 8
 2410 002c 08301BE5 		ldr	r3, [fp, #-8]
 2411 0030 5330E9E7 		ubfx	r3, r3, #0, #10
 2412 0034 08300BE5 		str	r3, [fp, #-8]
 852:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nINT_ID is ");
 2413              		.loc 1 852 5
 2414 0038 000000E3 		movw	r0, #:lower16:.LC35
 2415 003c 000040E3 		movt	r0, #:upper16:.LC35
 2416 0040 FEFFFFEB 		bl	RME_Str_Print
 853:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_DBG_I(Int_ID);
 2417              		.loc 1 853 2
 2418 0044 08301BE5 		ldr	r3, [fp, #-8]
 2419 0048 0300A0E1 		mov	r0, r3
 2420 004c FEFFFFEB 		bl	RME_Int_Print
 854:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 855:../../Source/Platform/A7A/rme_platform_a7a.c **** #if(RME_A7A_GIC_TYPE==RME_A7A_GIC_V1)
 856:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a spurious interrupt? (Can't be 1022 because GICv1 don't have group1) */
 857:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(Int_ID!=1022);
 2421              		.loc 1 857 2
 2422 0050 08301BE5 		ldr	r3, [fp, #-8]
 2423 0054 FE2300E3 		movw	r2, #1022
 2424 0058 020053E1 		cmp	r3, r2
 2425 005c 0800001A 		bne	.L77
 2426              		.loc 1 857 2 is_stmt 0 discriminator 1
 2427 0060 003000E3 		movw	r3, #:lower16:.LC12
 2428 0064 003040E3 		movt	r3, #:upper16:.LC12
 2429 0068 002000E3 		movw	r2, #:lower16:.LC13
 2430 006c 002040E3 		movt	r2, #:upper16:.LC13
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 60


 2431 0070 591300E3 		movw	r1, #857
 2432 0074 000000E3 		movw	r0, #:lower16:.LC14
 2433 0078 000040E3 		movt	r0, #:upper16:.LC14
 2434 007c FEFFFFEB 		bl	RME_Log
 2435              	.L78:
 2436              		.loc 1 857 2
 2437 0080 FEFFFFEA 		b	.L78
 2438              	.L77:
 858:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==1023)
 2439              		.loc 1 858 4 is_stmt 1
 2440 0084 08301BE5 		ldr	r3, [fp, #-8]
 2441 0088 FF2300E3 		movw	r2, #1023
 2442 008c 020053E1 		cmp	r3, r2
 2443 0090 3D00000A 		beq	.L87
 859:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 860:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 861:../../Source/Platform/A7A/rme_platform_a7a.c **** #if((RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A5)|| \
 862:../../Source/Platform/A7A/rme_platform_a7a.c **** 	(RME_A7A_CPU_TYPE==RME_A7A_CPU_CORTEX_A9))
 863:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is is an timer interrupt? (we know that it is at 29) */
 864:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==29)
 2444              		.loc 1 864 4
 2445 0094 08301BE5 		ldr	r3, [fp, #-8]
 2446 0098 1D0053E3 		cmp	r3, #29
 2447 009c 0B00001A 		bne	.L81
 865:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 866:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Clear the interrupt flag */
 867:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    RME_A7A_PTWD_PTISR=0;
 2448              		.loc 1 867 6
 2449 00a0 0C3600E3 		movw	r3, #1548
 2450 00a4 F0384FE3 		movt	r3, 63728
 2451              		.loc 1 867 24
 2452 00a8 0020A0E3 		mov	r2, #0
 2453 00ac 002083E5 		str	r2, [r3]
 868:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_Handler(Reg);
 869:../../Source/Platform/A7A/rme_platform_a7a.c **** 	    _RME_Tim_Handler(Reg,1);
 2454              		.loc 1 869 6
 2455 00b0 0110A0E3 		mov	r1, #1
 2456 00b4 10001BE5 		ldr	r0, [fp, #-16]
 2457 00b8 FEFFFFEB 		bl	_RME_Tim_Handler
 870:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Send interrupt to all other processors to notify them about this */
 871:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 872:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 2458              		.loc 1 872 3
 2459 00bc 113EA0E3 		mov	r3, #272
 2460 00c0 F0384FE3 		movt	r3, 63728
 2461              		.loc 1 872 20
 2462 00c4 08201BE5 		ldr	r2, [fp, #-8]
 2463 00c8 002083E5 		str	r2, [r3]
 873:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2464              		.loc 1 873 3
 2465 00cc 2F0000EA 		b	.L76
 2466              	.L81:
 874:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 875:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 876:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 877:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 878:../../Source/Platform/A7A/rme_platform_a7a.c **** 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 61


 879:../../Source/Platform/A7A/rme_platform_a7a.c **** #else
 880:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 881:../../Source/Platform/A7A/rme_platform_a7a.c **** #endif
 882:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this a coprocessor timer interrupt? (We use interrupt number 0 for these) */
 883:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID==0)
 2467              		.loc 1 883 4
 2468 00d0 08301BE5 		ldr	r3, [fp, #-8]
 2469 00d4 000053E3 		cmp	r3, #0
 2470 00d8 1000001A 		bne	.L82
 884:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 885:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* This must have originated from interface 0 */
 886:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_ASSERT(CPUID==0);
 2471              		.loc 1 886 3
 2472 00dc 0C301BE5 		ldr	r3, [fp, #-12]
 2473 00e0 000053E3 		cmp	r3, #0
 2474 00e4 0800000A 		beq	.L83
 2475              		.loc 1 886 3 is_stmt 0 discriminator 1
 2476 00e8 003000E3 		movw	r3, #:lower16:.LC12
 2477 00ec 003040E3 		movt	r3, #:upper16:.LC12
 2478 00f0 002000E3 		movw	r2, #:lower16:.LC13
 2479 00f4 002040E3 		movt	r2, #:upper16:.LC13
 2480 00f8 761300E3 		movw	r1, #886
 2481 00fc 000000E3 		movw	r0, #:lower16:.LC14
 2482 0100 000040E3 		movt	r0, #:upper16:.LC14
 2483 0104 FEFFFFEB 		bl	RME_Log
 2484              	.L84:
 2485              		.loc 1 886 3
 2486 0108 FEFFFFEA 		b	.L84
 2487              	.L83:
 887:../../Source/Platform/A7A/rme_platform_a7a.c **** 		//_RME_Tick_SMP_Handler(Reg);
 888:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 889:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=Int_ID;
 2488              		.loc 1 889 3 is_stmt 1
 2489 010c 113EA0E3 		mov	r3, #272
 2490 0110 F0384FE3 		movt	r3, 63728
 2491              		.loc 1 889 20
 2492 0114 08201BE5 		ldr	r2, [fp, #-8]
 2493 0118 002083E5 		str	r2, [r3]
 890:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2494              		.loc 1 890 3
 2495 011c 1B0000EA 		b	.L76
 2496              	.L82:
 891:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 892:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 893:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an other IPI? (All the rest of the SGIs are these) */
 894:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if(Int_ID<16)
 2497              		.loc 1 894 4
 2498 0120 08301BE5 		ldr	r3, [fp, #-8]
 2499 0124 0F0053E3 		cmp	r3, #15
 2500 0128 0B00008A 		bhi	.L85
 895:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
 896:../../Source/Platform/A7A/rme_platform_a7a.c **** 		_RME_A7A_SGI_Handler(Reg,CPUID,Int_ID);
 2501              		.loc 1 896 3
 2502 012c 08201BE5 		ldr	r2, [fp, #-8]
 2503 0130 0C101BE5 		ldr	r1, [fp, #-12]
 2504 0134 10001BE5 		ldr	r0, [fp, #-16]
 2505 0138 FEFFFFEB 		bl	_RME_A7A_SGI_Handler
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 62


 897:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* EOI the interrupt */
 898:../../Source/Platform/A7A/rme_platform_a7a.c **** 		RME_A7A_GICC_EOIR=(CPUID<<10U)|Int_ID;
 2506              		.loc 1 898 27
 2507 013c 0C301BE5 		ldr	r3, [fp, #-12]
 2508 0140 0315A0E1 		lsl	r1, r3, #10
 2509              		.loc 1 898 3
 2510 0144 113EA0E3 		mov	r3, #272
 2511 0148 F0384FE3 		movt	r3, 63728
 2512              		.loc 1 898 33
 2513 014c 08201BE5 		ldr	r2, [fp, #-8]
 2514 0150 022081E1 		orr	r2, r1, r2
 2515              		.loc 1 898 20
 2516 0154 002083E5 		str	r2, [r3]
 899:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return;
 2517              		.loc 1 899 3
 2518 0158 0C0000EA 		b	.L76
 2519              	.L85:
 900:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
 901:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 902:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Is this an casual interrupt? */
 903:../../Source/Platform/A7A/rme_platform_a7a.c **** 	RME_ASSERT(CPUID==0);
 2520              		.loc 1 903 2
 2521 015c 0C301BE5 		ldr	r3, [fp, #-12]
 2522 0160 000053E3 		cmp	r3, #0
 2523 0164 0900000A 		beq	.L76
 2524              		.loc 1 903 2 is_stmt 0 discriminator 1
 2525 0168 003000E3 		movw	r3, #:lower16:.LC12
 2526 016c 003040E3 		movt	r3, #:upper16:.LC12
 2527 0170 002000E3 		movw	r2, #:lower16:.LC13
 2528 0174 002040E3 		movt	r2, #:upper16:.LC13
 2529 0178 871300E3 		movw	r1, #903
 2530 017c 000000E3 		movw	r0, #:lower16:.LC14
 2531 0180 000040E3 		movt	r0, #:upper16:.LC14
 2532 0184 FEFFFFEB 		bl	RME_Log
 2533              	.L86:
 2534              		.loc 1 903 2
 2535 0188 FEFFFFEA 		b	.L86
 2536              	.L87:
 859:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Only the booting processor will receive timer interrupts */
 2537              		.loc 1 859 3 is_stmt 1
 2538 018c 00F020E3 		nop
 2539              	.L76:
 904:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 905:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2540              		.loc 1 905 1
 2541 0190 04D04BE2 		sub	sp, fp, #4
 2542              		.cfi_def_cfa 13, 8
 2543              		@ sp needed
 2544 0194 0088BDE8 		pop	{fp, pc}
 2545              		.cfi_endproc
 2546              	.LFE31:
 2548              		.section	.text._RME_A7A_SGI_Handler,"ax",%progbits
 2549              		.align	2
 2550              		.global	_RME_A7A_SGI_Handler
 2551              		.syntax unified
 2552              		.arm
 2554              	_RME_A7A_SGI_Handler:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 63


 2555              	.LFB32:
 906:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_IRQ_Handler ***************************************/
 907:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 908:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:_RME_A7A_SGI_Handler *********************************************
 909:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for x64.
 910:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 911:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t CPUID - The ID of the sender CPU.
 912:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_ID - The ID of the SGI.
 913:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 914:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 915:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 916:../../Source/Platform/A7A/rme_platform_a7a.c **** void _RME_A7A_SGI_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t CPUID, rme_ptr_t Int_ID)
 917:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2556              		.loc 1 917 1
 2557              		.cfi_startproc
 2558              		@ args = 0, pretend = 0, frame = 16
 2559              		@ frame_needed = 1, uses_anonymous_args = 0
 2560              		@ link register save eliminated.
 2561 0000 04B02DE5 		str	fp, [sp, #-4]!
 2562              		.cfi_def_cfa_offset 4
 2563              		.cfi_offset 11, -4
 2564 0004 00B08DE2 		add	fp, sp, #0
 2565              		.cfi_def_cfa_register 11
 2566 0008 14D04DE2 		sub	sp, sp, #20
 2567 000c 08000BE5 		str	r0, [fp, #-8]
 2568 0010 0C100BE5 		str	r1, [fp, #-12]
 2569 0014 10200BE5 		str	r2, [fp, #-16]
 918:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Not handling SGIs */
 919:../../Source/Platform/A7A/rme_platform_a7a.c **** 	return;
 2570              		.loc 1 919 2
 2571 0018 00F020E3 		nop
 920:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2572              		.loc 1 920 1
 2573 001c 00D08BE2 		add	sp, fp, #0
 2574              		.cfi_def_cfa_register 13
 2575              		@ sp needed
 2576 0020 04B09DE4 		ldr	fp, [sp], #4
 2577              		.cfi_restore 11
 2578              		.cfi_def_cfa_offset 0
 2579 0024 1EFF2FE1 		bx	lr
 2580              		.cfi_endproc
 2581              	.LFE32:
 2583              		.section	.rodata
 2584 03c9 000000   		.align	2
 2585              	.LC36:
 2586 03cc 0D0A4765 		.ascii	"\015\012General int:\000"
 2586      6E657261 
 2586      6C20696E 
 2586      743A00
 2587              		.section	.text.__RME_A7A_Generic_Handler,"ax",%progbits
 2588              		.align	2
 2589              		.global	__RME_A7A_Generic_Handler
 2590              		.syntax unified
 2591              		.arm
 2593              	__RME_A7A_Generic_Handler:
 2594              	.LFB33:
 921:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:_RME_A7A_SGI_Handler ****************************************/
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 64


 922:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 923:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_A7A_Generic_Handler ****************************************
 924:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : The generic interrupt handler of RME for Cortex-A (ARMv7).
 925:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Reg_Struct* Reg - The register set when entering the handler.
 926:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Int_Num - The interrupt number.
 927:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : struct RME_Reg_Struct* Reg - The register set when exiting the handler.
 928:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 929:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 930:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_A7A_Generic_Handler(struct RME_Reg_Struct* Reg, rme_ptr_t Int_Num)
 931:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2595              		.loc 1 931 1
 2596              		.cfi_startproc
 2597              		@ args = 0, pretend = 0, frame = 8
 2598              		@ frame_needed = 1, uses_anonymous_args = 0
 2599 0000 00482DE9 		push	{fp, lr}
 2600              		.cfi_def_cfa_offset 8
 2601              		.cfi_offset 11, -8
 2602              		.cfi_offset 14, -4
 2603 0004 04B08DE2 		add	fp, sp, #4
 2604              		.cfi_def_cfa 11, 4
 2605 0008 08D04DE2 		sub	sp, sp, #8
 2606 000c 08000BE5 		str	r0, [fp, #-8]
 2607 0010 0C100BE5 		str	r1, [fp, #-12]
 932:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling interrupts */
 933:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nGeneral int:");
 2608              		.loc 1 933 5
 2609 0014 000000E3 		movw	r0, #:lower16:.LC36
 2610 0018 000040E3 		movt	r0, #:upper16:.LC36
 2611 001c FEFFFFEB 		bl	RME_Str_Print
 934:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_I(Int_Num);
 2612              		.loc 1 934 5
 2613 0020 0C301BE5 		ldr	r3, [fp, #-12]
 2614 0024 0300A0E1 		mov	r0, r3
 2615 0028 FEFFFFEB 		bl	RME_Int_Print
 935:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 936:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Not handling anything */
 937:../../Source/Platform/A7A/rme_platform_a7a.c ****     switch(Int_Num)
 938:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 939:../../Source/Platform/A7A/rme_platform_a7a.c ****         default:break;
 2616              		.loc 1 939 17
 2617 002c 00F020E3 		nop
 940:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
 941:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Remember to perform context switch after any kernel sends */
 942:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2618              		.loc 1 942 1
 2619 0030 00F020E3 		nop
 2620 0034 04D04BE2 		sub	sp, fp, #4
 2621              		.cfi_def_cfa 13, 8
 2622              		@ sp needed
 2623 0038 0088BDE8 		pop	{fp, pc}
 2624              		.cfi_endproc
 2625              	.LFE33:
 2627              		.section	.rodata
 2628 03db 00       		.align	2
 2629              	.LC37:
 2630 03dc 0D0A5F5F 		.ascii	"\015\012__RME_Pgt_Set table kernel VA @ \000"
 2630      524D455F 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 65


 2630      5067745F 
 2630      53657420 
 2630      7461626C 
 2631              		.section	.text.__RME_Pgt_Set,"ax",%progbits
 2632              		.align	2
 2633              		.global	__RME_Pgt_Set
 2634              		.syntax unified
 2635              		.arm
 2637              	__RME_Pgt_Set:
 2638              	.LFB34:
 943:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_A7A_Generic_Handler ***********************************/
 944:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 945:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Set ***************************************************
 946:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Set the processor's page table.
 947:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Pgt - The virtual address of the page table.
 948:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 949:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : None.
 950:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 951:../../Source/Platform/A7A/rme_platform_a7a.c **** void __RME_Pgt_Set(struct RME_Cap_Pgt* Pgt)
 952:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2639              		.loc 1 952 1
 2640              		.cfi_startproc
 2641              		@ args = 0, pretend = 0, frame = 16
 2642              		@ frame_needed = 1, uses_anonymous_args = 0
 2643 0000 00482DE9 		push	{fp, lr}
 2644              		.cfi_def_cfa_offset 8
 2645              		.cfi_offset 11, -8
 2646              		.cfi_offset 14, -4
 2647 0004 04B08DE2 		add	fp, sp, #4
 2648              		.cfi_def_cfa 11, 4
 2649 0008 10D04DE2 		sub	sp, sp, #16
 2650 000c 10000BE5 		str	r0, [fp, #-16]
 953:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
 954:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 955:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the actual table */
 956:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ptr=RME_CAP_GETOBJ(Pgt,rme_ptr_t*);
 2651              		.loc 1 956 9
 2652 0010 10301BE5 		ldr	r3, [fp, #-16]
 2653 0014 0C3093E5 		ldr	r3, [r3, #12]
 2654              		.loc 1 956 8
 2655 0018 08300BE5 		str	r3, [fp, #-8]
 957:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 958:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\n__RME_Pgt_Set table kernel VA @ ");
 2656              		.loc 1 958 5
 2657 001c 000000E3 		movw	r0, #:lower16:.LC37
 2658 0020 000040E3 		movt	r0, #:upper16:.LC37
 2659 0024 FEFFFFEB 		bl	RME_Str_Print
 959:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Ptr);
 2660              		.loc 1 959 5
 2661 0028 08301BE5 		ldr	r3, [fp, #-8]
 2662 002c 0300A0E1 		mov	r0, r3
 2663 0030 FEFFFFEB 		bl	RME_Hex_Print
 960:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 961:../../Source/Platform/A7A/rme_platform_a7a.c ****     __RME_A7A_TTBR0_Set(RME_A7A_VA2PA(Ptr)|0x4A);
 2664              		.loc 1 961 25
 2665 0034 08301BE5 		ldr	r3, [fp, #-8]
 2666 0038 023183E2 		add	r3, r3, #-2147483648
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 66


 2667              		.loc 1 961 5
 2668 003c 4A3083E3 		orr	r3, r3, #74
 2669 0040 0300A0E1 		mov	r0, r3
 2670 0044 FEFFFFEB 		bl	__RME_A7A_TTBR0_Set
 962:../../Source/Platform/A7A/rme_platform_a7a.c **** 	__RME_A7A_TLBIALL_Set(0);
 2671              		.loc 1 962 2
 2672 0048 0000A0E3 		mov	r0, #0
 2673 004c FEFFFFEB 		bl	__RME_A7A_TLBIALL_Set
 963:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2674              		.loc 1 963 1
 2675 0050 00F020E3 		nop
 2676 0054 04D04BE2 		sub	sp, fp, #4
 2677              		.cfi_def_cfa 13, 8
 2678              		@ sp needed
 2679 0058 0088BDE8 		pop	{fp, pc}
 2680              		.cfi_endproc
 2681              	.LFE34:
 2683              		.section	.rodata
 2684 03ff 00       		.align	2
 2685              	.LC38:
 2686 0400 0D0A7661 		.ascii	"\015\012vaddr error= \000"
 2686      64647220 
 2686      6572726F 
 2686      723D2000 
 2687              		.section	.text.__RME_Pgt_Check,"ax",%progbits
 2688              		.align	2
 2689              		.global	__RME_Pgt_Check
 2690              		.syntax unified
 2691              		.arm
 2693              	__RME_Pgt_Check:
 2694              	.LFB35:
 964:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Set **********************************************/
 965:../../Source/Platform/A7A/rme_platform_a7a.c **** 
 966:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Check *************************************************
 967:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table parameters are feasible, according to the
 968:../../Source/Platform/A7A/rme_platform_a7a.c ****               parameters. This is only used in page table creation. The following
 969:../../Source/Platform/A7A/rme_platform_a7a.c ****               restrictions apply:
 970:../../Source/Platform/A7A/rme_platform_a7a.c **** 1. PAE is not supported by this port: if you have that much memory, use the Cortex-A
 971:../../Source/Platform/A7A/rme_platform_a7a.c ****    64-bit port instead. The translation scheme here is always:
 972:../../Source/Platform/A7A/rme_platform_a7a.c ****    4GB VA -> {Supersection, Section} -> {Large Page, Small Page}.
 973:../../Source/Platform/A7A/rme_platform_a7a.c ****    The supersection is described in ARMv7-AR ARM as optional, but is implemented on
 974:../../Source/Platform/A7A/rme_platform_a7a.c ****    all known ARMv7-A processors.
 975:../../Source/Platform/A7A/rme_platform_a7a.c ****    We only user TTBR0 here and we set value N to 0 as always. Using TTBR1 is nonsense
 976:../../Source/Platform/A7A/rme_platform_a7a.c ****    in our context, as it gives little benefit.
 977:../../Source/Platform/A7A/rme_platform_a7a.c **** 2. The ARM page tables have idiosyncrasy that allow two page size mappings to exist
 978:../../Source/Platform/A7A/rme_platform_a7a.c ****    in the same page table.
 979:../../Source/Platform/A7A/rme_platform_a7a.c **** 3. ARM page tables use repetition when it comes to supersections and large pages.
 980:../../Source/Platform/A7A/rme_platform_a7a.c ****    This breaks our numorder-sizeorder assumption, and for this reason, we do not
 981:../../Source/Platform/A7A/rme_platform_a7a.c ****    support these two page sizes explicitly. These two sizes are supported by kernel
 982:../../Source/Platform/A7A/rme_platform_a7a.c ****    functions instead, and the kernel function always maps/unmaps the pages as needed
 983:../../Source/Platform/A7A/rme_platform_a7a.c ****    without checking for any permissions; this can be viewed as a hack, and require
 984:../../Source/Platform/A7A/rme_platform_a7a.c ****    some caution when we are mapping pages in.
 985:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : rme_ptr_t Base - The start mapping address.
 986:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Is_Top - The top-level flag,
 987:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Size_Order - The size order of the page directory.
 988:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Num_Order - The number order of the page directory.
 989:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address of the page directory.
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 67


 990:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
 991:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
 992:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
 993:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Check(rme_ptr_t Base, rme_ptr_t Is_Top,
 994:../../Source/Platform/A7A/rme_platform_a7a.c ****                           rme_ptr_t Size_Order, rme_ptr_t Num_Order, rme_ptr_t Vaddr)
 995:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2695              		.loc 1 995 1
 2696              		.cfi_startproc
 2697              		@ args = 4, pretend = 0, frame = 16
 2698              		@ frame_needed = 1, uses_anonymous_args = 0
 2699 0000 00482DE9 		push	{fp, lr}
 2700              		.cfi_def_cfa_offset 8
 2701              		.cfi_offset 11, -8
 2702              		.cfi_offset 14, -4
 2703 0004 04B08DE2 		add	fp, sp, #4
 2704              		.cfi_def_cfa 11, 4
 2705 0008 10D04DE2 		sub	sp, sp, #16
 2706 000c 08000BE5 		str	r0, [fp, #-8]
 2707 0010 0C100BE5 		str	r1, [fp, #-12]
 2708 0014 10200BE5 		str	r2, [fp, #-16]
 2709 0018 14300BE5 		str	r3, [fp, #-20]
 996:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Top-level - 1MiB pages, 4096 entries, 16KiB alignment */
 997:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Is_Top!=0)
 2710              		.loc 1 997 7
 2711 001c 0C301BE5 		ldr	r3, [fp, #-12]
 2712 0020 000053E3 		cmp	r3, #0
 2713 0024 1400000A 		beq	.L93
 998:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
 999:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_1M)
 2714              		.loc 1 999 11
 2715 0028 10301BE5 		ldr	r3, [fp, #-16]
 2716 002c 140053E3 		cmp	r3, #20
 2717 0030 0100000A 		beq	.L94
1000:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2718              		.loc 1 1000 20
 2719 0034 0030E0E3 		mvn	r3, #0
 2720 0038 200000EA 		b	.L95
 2721              	.L94:
1001:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_4K)
 2722              		.loc 1 1001 11
 2723 003c 14301BE5 		ldr	r3, [fp, #-20]
 2724 0040 0C0053E3 		cmp	r3, #12
 2725 0044 0100000A 		beq	.L96
1002:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2726              		.loc 1 1002 20
 2727 0048 0030E0E3 		mvn	r3, #0
 2728 004c 1B0000EA 		b	.L95
 2729              	.L96:
1003:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FFF)!=0)
 2730              		.loc 1 1003 18
 2731 0050 04309BE5 		ldr	r3, [fp, #4]
 2732 0054 5330EDE7 		ubfx	r3, r3, #0, #14
 2733              		.loc 1 1003 11
 2734 0058 000053E3 		cmp	r3, #0
 2735 005c 1600000A 		beq	.L97
1004:../../Source/Platform/A7A/rme_platform_a7a.c ****         {
1005:../../Source/Platform/A7A/rme_platform_a7a.c ****             RME_DBG_S("\r\nvaddr error= ");
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 68


 2736              		.loc 1 1005 13
 2737 0060 000000E3 		movw	r0, #:lower16:.LC38
 2738 0064 000040E3 		movt	r0, #:upper16:.LC38
 2739 0068 FEFFFFEB 		bl	RME_Str_Print
1006:../../Source/Platform/A7A/rme_platform_a7a.c ****             RME_DBG_H(Vaddr);
 2740              		.loc 1 1006 13
 2741 006c 04009BE5 		ldr	r0, [fp, #4]
 2742 0070 FEFFFFEB 		bl	RME_Hex_Print
1007:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2743              		.loc 1 1007 20
 2744 0074 0030E0E3 		mvn	r3, #0
 2745 0078 100000EA 		b	.L95
 2746              	.L93:
1008:../../Source/Platform/A7A/rme_platform_a7a.c ****         }
1009:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1010:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Second-level - 4KiB pages, 256 entries, 1KiB alignment */
1011:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1012:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1013:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Size_Order!=RME_PGT_SIZE_4K)
 2747              		.loc 1 1013 11
 2748 007c 10301BE5 		ldr	r3, [fp, #-16]
 2749 0080 0C0053E3 		cmp	r3, #12
 2750 0084 0100000A 		beq	.L98
1014:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2751              		.loc 1 1014 20
 2752 0088 0030E0E3 		mvn	r3, #0
 2753 008c 0B0000EA 		b	.L95
 2754              	.L98:
1015:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Num_Order!=RME_PGT_NUM_256)
 2755              		.loc 1 1015 11
 2756 0090 14301BE5 		ldr	r3, [fp, #-20]
 2757 0094 080053E3 		cmp	r3, #8
 2758 0098 0100000A 		beq	.L99
1016:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2759              		.loc 1 1016 20
 2760 009c 0030E0E3 		mvn	r3, #0
 2761 00a0 060000EA 		b	.L95
 2762              	.L99:
1017:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Vaddr&0x3FF)!=0)
 2763              		.loc 1 1017 18
 2764 00a4 04309BE5 		ldr	r3, [fp, #4]
 2765 00a8 5330E9E7 		ubfx	r3, r3, #0, #10
 2766              		.loc 1 1017 11
 2767 00ac 000053E3 		cmp	r3, #0
 2768 00b0 0100000A 		beq	.L97
1018:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 2769              		.loc 1 1018 20
 2770 00b4 0030E0E3 		mvn	r3, #0
 2771 00b8 000000EA 		b	.L95
 2772              	.L97:
1019:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1020:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1021:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2773              		.loc 1 1021 12
 2774 00bc 0030A0E3 		mov	r3, #0
 2775              	.L95:
1022:../../Source/Platform/A7A/rme_platform_a7a.c **** }
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 69


 2776              		.loc 1 1022 1
 2777 00c0 0300A0E1 		mov	r0, r3
 2778 00c4 04D04BE2 		sub	sp, fp, #4
 2779              		.cfi_def_cfa 13, 8
 2780              		@ sp needed
 2781 00c8 0088BDE8 		pop	{fp, pc}
 2782              		.cfi_endproc
 2783              	.LFE35:
 2785              		.section	.text.__RME_Pgt_Init,"ax",%progbits
 2786              		.align	2
 2787              		.global	__RME_Pgt_Init
 2788              		.syntax unified
 2789              		.arm
 2791              	__RME_Pgt_Init:
 2792              	.LFB36:
1023:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Check ********************************************/
1024:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1025:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Init **************************************************
1026:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Initialize the page table data structure, according to the capability.
1027:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
1028:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1029:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1030:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1031:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Init(struct RME_Cap_Pgt* Pgt_Op)
1032:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2793              		.loc 1 1032 1
 2794              		.cfi_startproc
 2795              		@ args = 0, pretend = 0, frame = 16
 2796              		@ frame_needed = 1, uses_anonymous_args = 0
 2797              		@ link register save eliminated.
 2798 0000 04B02DE5 		str	fp, [sp, #-4]!
 2799              		.cfi_def_cfa_offset 4
 2800              		.cfi_offset 11, -4
 2801 0004 00B08DE2 		add	fp, sp, #0
 2802              		.cfi_def_cfa_register 11
 2803 0008 14D04DE2 		sub	sp, sp, #20
 2804 000c 10000BE5 		str	r0, [fp, #-16]
1033:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_cnt_t Count;
1034:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Ptr;
1035:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1036:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the actual table */
1037:../../Source/Platform/A7A/rme_platform_a7a.c ****     Ptr=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);  //*((volatile rme_ptr_t*)0x12345678)
 2805              		.loc 1 1037 9
 2806 0010 10301BE5 		ldr	r3, [fp, #-16]
 2807 0014 0C3093E5 		ldr	r3, [r3, #12]
 2808              		.loc 1 1037 8
 2809 0018 0C300BE5 		str	r3, [fp, #-12]
1038:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1039:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a first-level or a second-level? */
1040:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pgt_Op->Base&RME_PGT_TOP)!=0)
 2810              		.loc 1 1040 15
 2811 001c 10301BE5 		ldr	r3, [fp, #-16]
 2812 0020 183093E5 		ldr	r3, [r3, #24]
 2813              		.loc 1 1040 21
 2814 0024 013003E2 		and	r3, r3, #1
 2815              		.loc 1 1040 7
 2816 0028 000053E3 		cmp	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 70


 2817 002c 2100000A 		beq	.L101
1041:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1042:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* First-level - clean up the first half and map in the second half as kernel entries */
1043:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<2048;Count++)
 2818              		.loc 1 1043 12
 2819 0030 0030A0E3 		mov	r3, #0
 2820 0034 08300BE5 		str	r3, [fp, #-8]
 2821              		.loc 1 1043 3
 2822 0038 080000EA 		b	.L102
 2823              	.L103:
1044:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2824              		.loc 1 1044 7
 2825 003c 08301BE5 		ldr	r3, [fp, #-8]
 2826 0040 0331A0E1 		lsl	r3, r3, #2
 2827 0044 0C201BE5 		ldr	r2, [fp, #-12]
 2828 0048 033082E0 		add	r3, r2, r3
 2829              		.loc 1 1044 14
 2830 004c 0020A0E3 		mov	r2, #0
 2831 0050 002083E5 		str	r2, [r3]
1043:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2832              		.loc 1 1043 31 discriminator 3
 2833 0054 08301BE5 		ldr	r3, [fp, #-8]
 2834 0058 013083E2 		add	r3, r3, #1
 2835 005c 08300BE5 		str	r3, [fp, #-8]
 2836              	.L102:
1043:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2837              		.loc 1 1043 20 discriminator 1
 2838 0060 08301BE5 		ldr	r3, [fp, #-8]
 2839 0064 020B53E3 		cmp	r3, #2048
 2840 0068 F3FFFFBA 		blt	.L103
1045:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1046:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(;Count<4096;Count++)
 2841              		.loc 1 1046 3
 2842 006c 0D0000EA 		b	.L104
 2843              	.L105:
1047:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 2844              		.loc 1 1047 36
 2845 0070 08301BE5 		ldr	r3, [fp, #-8]
 2846 0074 0321A0E1 		lsl	r2, r3, #2
 2847 0078 003000E3 		movw	r3, #:lower16:__RME_A7A_Kern_Pgt
 2848 007c 003040E3 		movt	r3, #:upper16:__RME_A7A_Kern_Pgt
 2849 0080 032082E0 		add	r2, r2, r3
 2850              		.loc 1 1047 7
 2851 0084 08301BE5 		ldr	r3, [fp, #-8]
 2852 0088 0331A0E1 		lsl	r3, r3, #2
 2853 008c 0C101BE5 		ldr	r1, [fp, #-12]
 2854 0090 033081E0 		add	r3, r1, r3
 2855              		.loc 1 1047 36
 2856 0094 002092E5 		ldr	r2, [r2]
 2857              		.loc 1 1047 14
 2858 0098 002083E5 		str	r2, [r3]
1046:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 2859              		.loc 1 1046 24 discriminator 2
 2860 009c 08301BE5 		ldr	r3, [fp, #-8]
 2861 00a0 013083E2 		add	r3, r3, #1
 2862 00a4 08300BE5 		str	r3, [fp, #-8]
 2863              	.L104:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 71


1046:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=(&__RME_A7A_Kern_Pgt)[Count];
 2864              		.loc 1 1046 13 discriminator 1
 2865 00a8 08301BE5 		ldr	r3, [fp, #-8]
 2866 00ac 010A53E3 		cmp	r3, #4096
 2867 00b0 EEFFFFBA 		blt	.L105
 2868 00b4 0E0000EA 		b	.L106
 2869              	.L101:
1048:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1049:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1050:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1051:../../Source/Platform/A7A/rme_platform_a7a.c ****     	/* Second-level - just clean it up to all zeros */
1052:../../Source/Platform/A7A/rme_platform_a7a.c **** 		for(Count=0;Count<256;Count++)
 2870              		.loc 1 1052 12
 2871 00b8 0030A0E3 		mov	r3, #0
 2872 00bc 08300BE5 		str	r3, [fp, #-8]
 2873              		.loc 1 1052 3
 2874 00c0 080000EA 		b	.L107
 2875              	.L108:
1053:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2876              		.loc 1 1053 7
 2877 00c4 08301BE5 		ldr	r3, [fp, #-8]
 2878 00c8 0331A0E1 		lsl	r3, r3, #2
 2879 00cc 0C201BE5 		ldr	r2, [fp, #-12]
 2880 00d0 033082E0 		add	r3, r2, r3
 2881              		.loc 1 1053 14
 2882 00d4 0020A0E3 		mov	r2, #0
 2883 00d8 002083E5 		str	r2, [r3]
1052:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2884              		.loc 1 1052 30 discriminator 3
 2885 00dc 08301BE5 		ldr	r3, [fp, #-8]
 2886 00e0 013083E2 		add	r3, r3, #1
 2887 00e4 08300BE5 		str	r3, [fp, #-8]
 2888              	.L107:
1052:../../Source/Platform/A7A/rme_platform_a7a.c **** 			Ptr[Count]=0;
 2889              		.loc 1 1052 20 discriminator 1
 2890 00e8 08301BE5 		ldr	r3, [fp, #-8]
 2891 00ec FF0053E3 		cmp	r3, #255
 2892 00f0 F3FFFFDA 		ble	.L108
 2893              	.L106:
1054:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1055:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1056:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2894              		.loc 1 1056 12
 2895 00f4 0030A0E3 		mov	r3, #0
1057:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2896              		.loc 1 1057 1
 2897 00f8 0300A0E1 		mov	r0, r3
 2898 00fc 00D08BE2 		add	sp, fp, #0
 2899              		.cfi_def_cfa_register 13
 2900              		@ sp needed
 2901 0100 04B09DE4 		ldr	fp, [sp], #4
 2902              		.cfi_restore 11
 2903              		.cfi_def_cfa_offset 0
 2904 0104 1EFF2FE1 		bx	lr
 2905              		.cfi_endproc
 2906              	.LFE36:
 2908              		.section	.text.__RME_Pgt_Del_Check,"ax",%progbits
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 72


 2909              		.align	2
 2910              		.global	__RME_Pgt_Del_Check
 2911              		.syntax unified
 2912              		.arm
 2914              	__RME_Pgt_Del_Check:
 2915              	.LFB37:
1058:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Init *********************************************/
1059:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1060:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Del_Check *********************************************
1061:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Check if the page table can be deleted.
1062:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt Pgt_Op* - The capability to the page table to operate on.
1063:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1064:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If can be deleted, 0; else RME_ERR_HAL_FAIL.
1065:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1066:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Del_Check(struct RME_Cap_Pgt* Pgt_Op)
1067:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2916              		.loc 1 1067 1
 2917              		.cfi_startproc
 2918              		@ args = 0, pretend = 0, frame = 8
 2919              		@ frame_needed = 1, uses_anonymous_args = 0
 2920              		@ link register save eliminated.
 2921 0000 04B02DE5 		str	fp, [sp, #-4]!
 2922              		.cfi_def_cfa_offset 4
 2923              		.cfi_offset 11, -4
 2924 0004 00B08DE2 		add	fp, sp, #0
 2925              		.cfi_def_cfa_register 11
 2926 0008 0CD04DE2 		sub	sp, sp, #12
 2927 000c 08000BE5 		str	r0, [fp, #-8]
1068:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 2928              		.loc 1 1068 12
 2929 0010 0030A0E3 		mov	r3, #0
1069:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 2930              		.loc 1 1069 1
 2931 0014 0300A0E1 		mov	r0, r3
 2932 0018 00D08BE2 		add	sp, fp, #0
 2933              		.cfi_def_cfa_register 13
 2934              		@ sp needed
 2935 001c 04B09DE4 		ldr	fp, [sp], #4
 2936              		.cfi_restore 11
 2937              		.cfi_def_cfa_offset 0
 2938 0020 1EFF2FE1 		bx	lr
 2939              		.cfi_endproc
 2940              	.LFE37:
 2942              		.section	.rodata
 2943              		.align	2
 2944              	.LC39:
 2945 0410 0D0A756E 		.ascii	"\015\012unreadable\000"
 2945      72656164 
 2945      61626C65 
 2945      00
 2946 041d 000000   		.align	2
 2947              	.LC40:
 2948 0420 0D0A4172 		.ascii	"\015\012Are we trying to map into the kernel space "
 2948      65207765 
 2948      20747279 
 2948      696E6720 
 2948      746F206D 
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 73


 2949 044d 6F6E2074 		.ascii	"on the top level?\000"
 2949      68652074 
 2949      6F70206C 
 2949      6576656C 
 2949      3F00
 2950 045f 00       		.align	2
 2951              	.LC41:
 2952 0460 0D0A2654 		.ascii	"\015\012&Table[Pos] = \000"
 2952      61626C65 
 2952      5B506F73 
 2952      5D203D20 
 2952      00
 2953 0471 000000   		.align	2
 2954              	.LC42:
 2955 0474 0D0A2A28 		.ascii	"\015\012*(Table[Pos])\000"
 2955      5461626C 
 2955      655B506F 
 2955      735D2900 
 2956              		.align	2
 2957              	.LC43:
 2958 0484 0D0A6D61 		.ascii	"\015\012map it in error\000"
 2958      70206974 
 2958      20696E20 
 2958      6572726F 
 2958      7200
 2959              		.section	.text.__RME_Pgt_Page_Map,"ax",%progbits
 2960              		.align	2
 2961              		.global	__RME_Pgt_Page_Map
 2962              		.syntax unified
 2963              		.arm
 2965              	__RME_Pgt_Page_Map:
 2966              	.LFB38:
1070:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Del_Check ****************************************/
1071:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1072:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Map **********************************************
1073:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page into the page table. This architecture requires that the
1074:../../Source/Platform/A7A/rme_platform_a7a.c ****               mapping is always at least readable. The Cortex-A's super pages are
1075:../../Source/Platform/A7A/rme_platform_a7a.c ****               not supported by this. Also, RME dfoesn't use the domain model; all
1076:../../Source/Platform/A7A/rme_platform_a7a.c ****               page tables' domain is always client, which means that the permission
1077:../../Source/Platform/A7A/rme_platform_a7a.c ****               flags will always be checked.
1078:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The cap ability to the page table to operate on.
1079:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Paddr - The physical address to map to. If we are unmapping,
1080:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 this have no effect.
1081:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1082:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard page attributes. Need to translate
1083:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 them into architecture specific page table's settings.
1084:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1085:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1086:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1087:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Map(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Paddr, rme_ptr_t Pos, rme_ptr_t 
1088:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 2967              		.loc 1 1088 1
 2968              		.cfi_startproc
 2969              		@ args = 0, pretend = 0, frame = 24
 2970              		@ frame_needed = 1, uses_anonymous_args = 0
 2971 0000 00482DE9 		push	{fp, lr}
 2972              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 74


 2973              		.cfi_offset 11, -8
 2974              		.cfi_offset 14, -4
 2975 0004 04B08DE2 		add	fp, sp, #4
 2976              		.cfi_def_cfa 11, 4
 2977 0008 18D04DE2 		sub	sp, sp, #24
 2978 000c 10000BE5 		str	r0, [fp, #-16]
 2979 0010 14100BE5 		str	r1, [fp, #-20]
 2980 0014 18200BE5 		str	r2, [fp, #-24]
 2981 0018 1C300BE5 		str	r3, [fp, #-28]
1089:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1090:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*RME_DBG_S("\r\nPgt_Op->Order");
1091:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Pgt_Op->Order);
1092:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nPgt_Op->Order ");
1093:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_PGT_SZORD(Pgt_Op->Order));
1094:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\nPgt_Op->Order ");
1095:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(RME_PGT_SZORD(Pgt_Op->Order));
1096:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)!=0U)
1097:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1098:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nhhhhhhhhhhhhhhh ");
1099:../../Source/Platform/A7A/rme_platform_a7a.c ****     }*/
1100:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1101:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1102:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1103:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1104:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
1105:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 2982              		.loc 1 1105 14
 2983 001c 1C301BE5 		ldr	r3, [fp, #-28]
 2984 0020 013003E2 		and	r3, r3, #1
 2985              		.loc 1 1105 7
 2986 0024 000053E3 		cmp	r3, #0
 2987 0028 0400001A 		bne	.L113
1106:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1107:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nunreadable");
 2988              		.loc 1 1107 9
 2989 002c 000000E3 		movw	r0, #:lower16:.LC39
 2990 0030 000040E3 		movt	r0, #:upper16:.LC39
 2991 0034 FEFFFFEB 		bl	RME_Str_Print
1108:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 2992              		.loc 1 1108 16
 2993 0038 0030E0E3 		mvn	r3, #0
 2994 003c 4E0000EA 		b	.L114
 2995              	.L113:
1109:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1110:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1111:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1112:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base&RME_PGT_TOP)!=0)&&(Pos>=2048)){
 2996              		.loc 1 1112 16
 2997 0040 10301BE5 		ldr	r3, [fp, #-16]
 2998 0044 183093E5 		ldr	r3, [r3, #24]
 2999              		.loc 1 1112 22
 3000 0048 013003E2 		and	r3, r3, #1
 3001              		.loc 1 1112 7
 3002 004c 000053E3 		cmp	r3, #0
 3003 0050 0700000A 		beq	.L115
 3004              		.loc 1 1112 39 discriminator 1
 3005 0054 18301BE5 		ldr	r3, [fp, #-24]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 75


 3006 0058 020B53E3 		cmp	r3, #2048
 3007 005c 0400003A 		bcc	.L115
1113:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nAre we trying to map into the kernel space on the top level?");
 3008              		.loc 1 1113 9
 3009 0060 000000E3 		movw	r0, #:lower16:.LC40
 3010 0064 000040E3 		movt	r0, #:upper16:.LC40
 3011 0068 FEFFFFEB 		bl	RME_Str_Print
1114:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3012              		.loc 1 1114 16
 3013 006c 0030E0E3 		mvn	r3, #0
 3014 0070 410000EA 		b	.L114
 3015              	.L115:
1115:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1116:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1117:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 3016              		.loc 1 1117 11
 3017 0074 10301BE5 		ldr	r3, [fp, #-16]
 3018 0078 0C3093E5 		ldr	r3, [r3, #12]
 3019              		.loc 1 1117 10
 3020 007c 0C300BE5 		str	r3, [fp, #-12]
1118:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1119:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate flags */
1120:../../Source/Platform/A7A/rme_platform_a7a.c ****     //if(RME_PGT_SZORD(Pgt_Op->Order)==RME_PGT_SIZE_4K)
1121:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)!=0U)
 3021              		.loc 1 1121 16
 3022 0080 10301BE5 		ldr	r3, [fp, #-16]
 3023 0084 183093E5 		ldr	r3, [r3, #24]
 3024              		.loc 1 1121 23
 3025 0088 013003E2 		and	r3, r3, #1
 3026              		.loc 1 1121 7
 3027 008c 000053E3 		cmp	r3, #0
 3028 0090 0C00000A 		beq	.L116
1122:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1123:../../Source/Platform/A7A/rme_platform_a7a.c ****         Flags&=(~RME_PGT_STATIC);
 3029              		.loc 1 1123 14
 3030 0094 1C301BE5 		ldr	r3, [fp, #-28]
 3031 0098 2030C3E3 		bic	r3, r3, #32
 3032 009c 1C300BE5 		str	r3, [fp, #-28]
1124:../../Source/Platform/A7A/rme_platform_a7a.c ****         /*RME_DBG_S("\r\n Flags ");
1125:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(Flags); */
1126:../../Source/Platform/A7A/rme_platform_a7a.c ****         
1127:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_1M_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_1M_RME2NAT(Flags);
 3033              		.loc 1 1127 19
 3034 00a0 14301BE5 		ldr	r3, [fp, #-20]
 3035 00a4 233AA0E1 		lsr	r3, r3, #20
 3036 00a8 033AA0E1 		lsl	r3, r3, #20
 3037              		.loc 1 1127 51
 3038 00ac 002000E3 		movw	r2, #:lower16:RME_A7A_Pgflg_1M_RME2NAT
 3039 00b0 002040E3 		movt	r2, #:upper16:RME_A7A_Pgflg_1M_RME2NAT
 3040 00b4 1C101BE5 		ldr	r1, [fp, #-28]
 3041 00b8 012192E7 		ldr	r2, [r2, r1, lsl #2]
 3042              		.loc 1 1127 18
 3043 00bc 023083E1 		orr	r3, r3, r2
 3044 00c0 08300BE5 		str	r3, [fp, #-8]
 3045 00c4 080000EA 		b	.L117
 3046              	.L116:
1128:../../Source/Platform/A7A/rme_platform_a7a.c ****         /*RME_DBG_S("\r\n A7A_Flags= ");
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 76


1129:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(A7A_Flags);*/
1130:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1131:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1132:../../Source/Platform/A7A/rme_platform_a7a.c ****         A7A_Flags=RME_A7A_MMU_4K_PAGE_ADDR(Paddr)|RME_A7A_PGFLG_4K_RME2NAT(Flags);
 3047              		.loc 1 1132 19
 3048 00c8 14301BE5 		ldr	r3, [fp, #-20]
 3049 00cc FF3EC3E3 		bic	r3, r3, #4080
 3050 00d0 0F30C3E3 		bic	r3, r3, #15
 3051              		.loc 1 1132 51
 3052 00d4 002000E3 		movw	r2, #:lower16:RME_A7A_Pgflg_4K_RME2NAT
 3053 00d8 002040E3 		movt	r2, #:upper16:RME_A7A_Pgflg_4K_RME2NAT
 3054 00dc 1C101BE5 		ldr	r1, [fp, #-28]
 3055 00e0 012192E7 		ldr	r2, [r2, r1, lsl #2]
 3056              		.loc 1 1132 18
 3057 00e4 023083E1 		orr	r3, r3, r2
 3058 00e8 08300BE5 		str	r3, [fp, #-8]
 3059              	.L117:
1133:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in */
1134:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),0,A7A_Flags)==0)
 3060              		.loc 1 1134 8
 3061 00ec 18301BE5 		ldr	r3, [fp, #-24]
 3062 00f0 0331A0E1 		lsl	r3, r3, #2
 3063 00f4 0C201BE5 		ldr	r2, [fp, #-12]
 3064 00f8 033082E0 		add	r3, r2, r3
 3065 00fc 08201BE5 		ldr	r2, [fp, #-8]
 3066 0100 0010A0E3 		mov	r1, #0
 3067 0104 0300A0E1 		mov	r0, r3
 3068 0108 FEFFFFEB 		bl	_RME_Comp_Swap_Single
 3069 010c 0030A0E1 		mov	r3, r0
 3070              		.loc 1 1134 7 discriminator 1
 3071 0110 000053E3 		cmp	r3, #0
 3072 0114 1700001A 		bne	.L118
1135:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1136:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\n&Table[Pos] = ");
 3073              		.loc 1 1136 9
 3074 0118 000000E3 		movw	r0, #:lower16:.LC41
 3075 011c 000040E3 		movt	r0, #:upper16:.LC41
 3076 0120 FEFFFFEB 		bl	RME_Str_Print
1137:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(&Table[Pos]);
 3077              		.loc 1 1137 9
 3078 0124 18301BE5 		ldr	r3, [fp, #-24]
 3079 0128 0331A0E1 		lsl	r3, r3, #2
 3080 012c 0C201BE5 		ldr	r2, [fp, #-12]
 3081 0130 033082E0 		add	r3, r2, r3
 3082 0134 0300A0E1 		mov	r0, r3
 3083 0138 FEFFFFEB 		bl	RME_Hex_Print
1138:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\n*(Table[Pos])");
 3084              		.loc 1 1138 9
 3085 013c 000000E3 		movw	r0, #:lower16:.LC42
 3086 0140 000040E3 		movt	r0, #:upper16:.LC42
 3087 0144 FEFFFFEB 		bl	RME_Str_Print
1139:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_H(Table[Pos]);
 3088              		.loc 1 1139 9
 3089 0148 18301BE5 		ldr	r3, [fp, #-24]
 3090 014c 0331A0E1 		lsl	r3, r3, #2
 3091 0150 0C201BE5 		ldr	r2, [fp, #-12]
 3092 0154 033082E0 		add	r3, r2, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 77


 3093 0158 003093E5 		ldr	r3, [r3]
 3094 015c 0300A0E1 		mov	r0, r3
 3095 0160 FEFFFFEB 		bl	RME_Hex_Print
1140:../../Source/Platform/A7A/rme_platform_a7a.c ****         RME_DBG_S("\r\nmap it in error");
 3096              		.loc 1 1140 9
 3097 0164 000000E3 		movw	r0, #:lower16:.LC43
 3098 0168 000040E3 		movt	r0, #:upper16:.LC43
 3099 016c FEFFFFEB 		bl	RME_Str_Print
1141:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3100              		.loc 1 1141 16
 3101 0170 0030E0E3 		mvn	r3, #0
 3102 0174 000000EA 		b	.L114
 3103              	.L118:
1142:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1143:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1144:../../Source/Platform/A7A/rme_platform_a7a.c ****     /*RME_DBG_S("\r\n&Table[Pos] = ");
1145:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(&Table[Pos]);
1146:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_S("\r\n*(Table[Pos])");
1147:../../Source/Platform/A7A/rme_platform_a7a.c ****     RME_DBG_H(Table[Pos]);*/
1148:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1149:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3104              		.loc 1 1149 12
 3105 0178 0030A0E3 		mov	r3, #0
 3106              	.L114:
1150:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3107              		.loc 1 1150 1
 3108 017c 0300A0E1 		mov	r0, r3
 3109 0180 04D04BE2 		sub	sp, fp, #4
 3110              		.cfi_def_cfa 13, 8
 3111              		@ sp needed
 3112 0184 0088BDE8 		pop	{fp, pc}
 3113              		.cfi_endproc
 3114              	.LFE38:
 3116              		.section	.text.__RME_Pgt_Page_Unmap,"ax",%progbits
 3117              		.align	2
 3118              		.global	__RME_Pgt_Page_Unmap
 3119              		.syntax unified
 3120              		.arm
 3122              	__RME_Pgt_Page_Unmap:
 3123              	.LFB39:
1151:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Map *****************************************/
1152:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1153:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Page_Unmap ********************************************
1154:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page from the page table.
1155:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* - The capability to the page table to operate on.
1156:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1157:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1158:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1159:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1160:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Page_Unmap(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos)
1161:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3124              		.loc 1 1161 1
 3125              		.cfi_startproc
 3126              		@ args = 0, pretend = 0, frame = 16
 3127              		@ frame_needed = 1, uses_anonymous_args = 0
 3128 0000 00482DE9 		push	{fp, lr}
 3129              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 78


 3130              		.cfi_offset 11, -8
 3131              		.cfi_offset 14, -4
 3132 0004 04B08DE2 		add	fp, sp, #4
 3133              		.cfi_def_cfa 11, 4
 3134 0008 10D04DE2 		sub	sp, sp, #16
 3135 000c 10000BE5 		str	r0, [fp, #-16]
 3136 0010 14100BE5 		str	r1, [fp, #-20]
1162:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1163:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1164:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1165:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to unmap the kernel space on the top level? */
1166:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base&RME_PGT_TOP)!=0)&&(Pos>=2048))
 3137              		.loc 1 1166 16
 3138 0014 10301BE5 		ldr	r3, [fp, #-16]
 3139 0018 183093E5 		ldr	r3, [r3, #24]
 3140              		.loc 1 1166 22
 3141 001c 013003E2 		and	r3, r3, #1
 3142              		.loc 1 1166 7
 3143 0020 000053E3 		cmp	r3, #0
 3144 0024 0400000A 		beq	.L120
 3145              		.loc 1 1166 39 discriminator 1
 3146 0028 14301BE5 		ldr	r3, [fp, #-20]
 3147 002c 020B53E3 		cmp	r3, #2048
 3148 0030 0100003A 		bcc	.L120
1167:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3149              		.loc 1 1167 16
 3150 0034 0030E0E3 		mvn	r3, #0
 3151 0038 260000EA 		b	.L121
 3152              	.L120:
1168:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1169:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1170:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 3153              		.loc 1 1170 11
 3154 003c 10301BE5 		ldr	r3, [fp, #-16]
 3155 0040 0C3093E5 		ldr	r3, [r3, #12]
 3156              		.loc 1 1170 10
 3157 0044 08300BE5 		str	r3, [fp, #-8]
1171:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1172:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Make sure that there is something */
1173:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 3158              		.loc 1 1173 15
 3159 0048 14301BE5 		ldr	r3, [fp, #-20]
 3160 004c 0331A0E1 		lsl	r3, r3, #2
 3161 0050 08201BE5 		ldr	r2, [fp, #-8]
 3162 0054 033082E0 		add	r3, r2, r3
 3163              		.loc 1 1173 9
 3164 0058 003093E5 		ldr	r3, [r3]
 3165 005c 0C300BE5 		str	r3, [fp, #-12]
1174:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Temp==0)
 3166              		.loc 1 1174 7
 3167 0060 0C301BE5 		ldr	r3, [fp, #-12]
 3168 0064 000053E3 		cmp	r3, #0
 3169 0068 0100001A 		bne	.L122
1175:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3170              		.loc 1 1175 16
 3171 006c 0030E0E3 		mvn	r3, #0
 3172 0070 180000EA 		b	.L121
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 79


 3173              	.L122:
1176:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1177:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Is this a page directory? We cannot unmap page directories like this */
1178:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((RME_PGT_SZORD(Pgt_Op->Order)!=RME_PGT_SIZE_4K)&&((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0))
 3174              		.loc 1 1178 9
 3175 0074 10301BE5 		ldr	r3, [fp, #-16]
 3176 0078 143093E5 		ldr	r3, [r3, #20]
 3177 007c 2338A0E1 		lsr	r3, r3, #16
 3178              		.loc 1 1178 7
 3179 0080 0C0053E3 		cmp	r3, #12
 3180 0084 0500000A 		beq	.L123
 3181              		.loc 1 1178 63 discriminator 1
 3182 0088 0C301BE5 		ldr	r3, [fp, #-12]
 3183 008c 013003E2 		and	r3, r3, #1
 3184              		.loc 1 1178 55 discriminator 1
 3185 0090 000053E3 		cmp	r3, #0
 3186 0094 0100000A 		beq	.L123
1179:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3187              		.loc 1 1179 16
 3188 0098 0030E0E3 		mvn	r3, #0
 3189 009c 0D0000EA 		b	.L121
 3190              	.L123:
1180:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1181:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to unmap it. Use CAS just in case */
1182:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Table[Pos]),Temp,0)==0)
 3191              		.loc 1 1182 8
 3192 00a0 14301BE5 		ldr	r3, [fp, #-20]
 3193 00a4 0331A0E1 		lsl	r3, r3, #2
 3194 00a8 08201BE5 		ldr	r2, [fp, #-8]
 3195 00ac 033082E0 		add	r3, r2, r3
 3196 00b0 0020A0E3 		mov	r2, #0
 3197 00b4 0C101BE5 		ldr	r1, [fp, #-12]
 3198 00b8 0300A0E1 		mov	r0, r3
 3199 00bc FEFFFFEB 		bl	_RME_Comp_Swap_Single
 3200 00c0 0030A0E1 		mov	r3, r0
 3201              		.loc 1 1182 7 discriminator 1
 3202 00c4 000053E3 		cmp	r3, #0
 3203 00c8 0100001A 		bne	.L124
1183:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3204              		.loc 1 1183 16
 3205 00cc 0030E0E3 		mvn	r3, #0
 3206 00d0 000000EA 		b	.L121
 3207              	.L124:
1184:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1185:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3208              		.loc 1 1185 12
 3209 00d4 0030A0E3 		mov	r3, #0
 3210              	.L121:
1186:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3211              		.loc 1 1186 1
 3212 00d8 0300A0E1 		mov	r0, r3
 3213 00dc 04D04BE2 		sub	sp, fp, #4
 3214              		.cfi_def_cfa 13, 8
 3215              		@ sp needed
 3216 00e0 0088BDE8 		pop	{fp, pc}
 3217              		.cfi_endproc
 3218              	.LFE39:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 80


 3220              		.section	.text.__RME_Pgt_Pgdir_Map,"ax",%progbits
 3221              		.align	2
 3222              		.global	__RME_Pgt_Pgdir_Map
 3223              		.syntax unified
 3224              		.arm
 3226              	__RME_Pgt_Pgdir_Map:
 3227              	.LFB40:
1187:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Page_Unmap ***************************************/
1188:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1189:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Map *********************************************
1190:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Map a page directory into the page table. It is surprising that
1191:../../Source/Platform/A7A/rme_platform_a7a.c ****               Cortex-A (ARMv7) does not support any kind of page directory flags.
1192:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Parent - The parent page table.
1193:../../Source/Platform/A7A/rme_platform_a7a.c ****               struct RME_Cap_Pgt* Pgt_Child - The child page table.
1194:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the destination page table.
1195:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Flags - The RME standard flags for the child page table.
1196:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1197:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1198:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1199:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Pgdir_Map(struct RME_Cap_Pgt* Pgt_Parent, rme_ptr_t Pos,
1200:../../Source/Platform/A7A/rme_platform_a7a.c ****                               struct RME_Cap_Pgt* Pgt_Child, rme_ptr_t Flags)
1201:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3228              		.loc 1 1201 1
 3229              		.cfi_startproc
 3230              		@ args = 0, pretend = 0, frame = 32
 3231              		@ frame_needed = 1, uses_anonymous_args = 0
 3232 0000 00482DE9 		push	{fp, lr}
 3233              		.cfi_def_cfa_offset 8
 3234              		.cfi_offset 11, -8
 3235              		.cfi_offset 14, -4
 3236 0004 04B08DE2 		add	fp, sp, #4
 3237              		.cfi_def_cfa 11, 4
 3238 0008 20D04DE2 		sub	sp, sp, #32
 3239 000c 18000BE5 		str	r0, [fp, #-24]
 3240 0010 1C100BE5 		str	r1, [fp, #-28]
 3241 0014 20200BE5 		str	r2, [fp, #-32]
 3242 0018 24300BE5 		str	r3, [fp, #-36]
1202:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Parent_Table;
1203:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Child_Table;
1204:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t A7A_Flags;
1205:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1206:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* It should at least be readable */
1207:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Flags&RME_PGT_READ)==0)
 3243              		.loc 1 1207 14
 3244 001c 24301BE5 		ldr	r3, [fp, #-36]
 3245 0020 013003E2 		and	r3, r3, #1
 3246              		.loc 1 1207 7
 3247 0024 000053E3 		cmp	r3, #0
 3248 0028 0100001A 		bne	.L126
1208:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3249              		.loc 1 1208 16
 3250 002c 0030E0E3 		mvn	r3, #0
 3251 0030 230000EA 		b	.L127
 3252              	.L126:
1209:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1210:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we trying to map into the kernel space on the top level? */
1211:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Parent->Base&RME_PGT_TOP)!=0)&&(Pos>=2048))
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 81


 3253              		.loc 1 1211 20
 3254 0034 18301BE5 		ldr	r3, [fp, #-24]
 3255 0038 183093E5 		ldr	r3, [r3, #24]
 3256              		.loc 1 1211 26
 3257 003c 013003E2 		and	r3, r3, #1
 3258              		.loc 1 1211 7
 3259 0040 000053E3 		cmp	r3, #0
 3260 0044 0400000A 		beq	.L128
 3261              		.loc 1 1211 43 discriminator 1
 3262 0048 1C301BE5 		ldr	r3, [fp, #-28]
 3263 004c 020B53E3 		cmp	r3, #2048
 3264 0050 0100003A 		bcc	.L128
1212:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3265              		.loc 1 1212 16
 3266 0054 0030E0E3 		mvn	r3, #0
 3267 0058 190000EA 		b	.L127
 3268              	.L128:
1213:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1214:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1215:../../Source/Platform/A7A/rme_platform_a7a.c ****     Parent_Table=RME_CAP_GETOBJ(Pgt_Parent,rme_ptr_t*);
 3269              		.loc 1 1215 18
 3270 005c 18301BE5 		ldr	r3, [fp, #-24]
 3271 0060 0C3093E5 		ldr	r3, [r3, #12]
 3272              		.loc 1 1215 17
 3273 0064 08300BE5 		str	r3, [fp, #-8]
1216:../../Source/Platform/A7A/rme_platform_a7a.c ****     Child_Table=RME_CAP_GETOBJ(Pgt_Child,rme_ptr_t*);
 3274              		.loc 1 1216 17
 3275 0068 20301BE5 		ldr	r3, [fp, #-32]
 3276 006c 0C3093E5 		ldr	r3, [r3, #12]
 3277              		.loc 1 1216 16
 3278 0070 0C300BE5 		str	r3, [fp, #-12]
1217:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1218:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Generate the content */
1219:../../Source/Platform/A7A/rme_platform_a7a.c ****     A7A_Flags=RME_A7A_MMU_1M_PGT_ADDR(RME_A7A_VA2PA(Child_Table))|RME_A7A_MMU_1M_PGDIR_PRESENT;
 3279              		.loc 1 1219 15
 3280 0074 0C301BE5 		ldr	r3, [fp, #-12]
 3281 0078 023183E2 		add	r3, r3, #-2147483648
 3282 007c FF3FC3E3 		bic	r3, r3, #1020
 3283 0080 0330C3E3 		bic	r3, r3, #3
 3284              		.loc 1 1219 14
 3285 0084 013083E3 		orr	r3, r3, #1
 3286 0088 10300BE5 		str	r3, [fp, #-16]
1220:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1221:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Try to map it in - may need to increase some count */
1222:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_COMP_SWAP(&(Parent_Table[Pos]),0,A7A_Flags)==0)
 3287              		.loc 1 1222 8
 3288 008c 1C301BE5 		ldr	r3, [fp, #-28]
 3289 0090 0331A0E1 		lsl	r3, r3, #2
 3290 0094 08201BE5 		ldr	r2, [fp, #-8]
 3291 0098 033082E0 		add	r3, r2, r3
 3292 009c 10201BE5 		ldr	r2, [fp, #-16]
 3293 00a0 0010A0E3 		mov	r1, #0
 3294 00a4 0300A0E1 		mov	r0, r3
 3295 00a8 FEFFFFEB 		bl	_RME_Comp_Swap_Single
 3296 00ac 0030A0E1 		mov	r3, r0
 3297              		.loc 1 1222 7 discriminator 1
 3298 00b0 000053E3 		cmp	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 82


 3299 00b4 0100001A 		bne	.L129
1223:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3300              		.loc 1 1223 16
 3301 00b8 0030E0E3 		mvn	r3, #0
 3302 00bc 000000EA 		b	.L127
 3303              	.L129:
1224:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1225:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3304              		.loc 1 1225 12
 3305 00c0 0030A0E3 		mov	r3, #0
 3306              	.L127:
1226:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3307              		.loc 1 1226 1
 3308 00c4 0300A0E1 		mov	r0, r3
 3309 00c8 04D04BE2 		sub	sp, fp, #4
 3310              		.cfi_def_cfa 13, 8
 3311              		@ sp needed
 3312 00cc 0088BDE8 		pop	{fp, pc}
 3313              		.cfi_endproc
 3314              	.LFE40:
 3316              		.section	.text.__RME_Pgt_Pgdir_Unmap,"ax",%progbits
 3317              		.align	2
 3318              		.global	__RME_Pgt_Pgdir_Unmap
 3319              		.syntax unified
 3320              		.arm
 3322              	__RME_Pgt_Pgdir_Unmap:
 3323              	.LFB41:
1227:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Map ****************************************/
1228:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1229:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Pgdir_Unmap *******************************************
1230:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Unmap a page directory from the page table.
1231:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to operate on.
1232:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position in the page table.
1233:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : None.
1234:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1235:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1236:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ret_t __RME_Pgt_Pgdir_Unmap(struct RME_Cap_Pgt* Pgt_Parent,rme_ptr_t Pos,
1237:../../Source/Platform/A7A/rme_platform_a7a.c ****                                 struct RME_Cap_Pgt* Pgt_Child)
1238:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3324              		.loc 1 1238 1
 3325              		.cfi_startproc
 3326              		@ args = 0, pretend = 0, frame = 16
 3327              		@ frame_needed = 1, uses_anonymous_args = 0
 3328              		@ link register save eliminated.
 3329 0000 04B02DE5 		str	fp, [sp, #-4]!
 3330              		.cfi_def_cfa_offset 4
 3331              		.cfi_offset 11, -4
 3332 0004 00B08DE2 		add	fp, sp, #0
 3333              		.cfi_def_cfa_register 11
 3334 0008 14D04DE2 		sub	sp, sp, #20
 3335 000c 08000BE5 		str	r0, [fp, #-8]
 3336 0010 0C100BE5 		str	r1, [fp, #-12]
 3337 0014 10200BE5 		str	r2, [fp, #-16]
1239:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1240:../../Source/Platform/A7A/rme_platform_a7a.c ****    return 0;
 3338              		.loc 1 1240 11
 3339 0018 0030A0E3 		mov	r3, #0
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 83


1241:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3340              		.loc 1 1241 1
 3341 001c 0300A0E1 		mov	r0, r3
 3342 0020 00D08BE2 		add	sp, fp, #0
 3343              		.cfi_def_cfa_register 13
 3344              		@ sp needed
 3345 0024 04B09DE4 		ldr	fp, [sp], #4
 3346              		.cfi_restore 11
 3347              		.cfi_def_cfa_offset 0
 3348 0028 1EFF2FE1 		bx	lr
 3349              		.cfi_endproc
 3350              	.LFE41:
 3352              		.section	.text.__RME_Pgt_Lookup,"ax",%progbits
 3353              		.align	2
 3354              		.global	__RME_Pgt_Lookup
 3355              		.syntax unified
 3356              		.arm
 3358              	__RME_Pgt_Lookup:
 3359              	.LFB42:
1242:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Pgdir_Unmap **************************************/
1243:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1244:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Lookup **************************************************
1245:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Lookup a page entry in a page directory. This function cannot deal
1246:../../Source/Platform/A7A/rme_platform_a7a.c ****               with large pages and super sections - it is the user's responsibility
1247:../../Source/Platform/A7A/rme_platform_a7a.c ****               to avoid this.
1248:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page directory to lookup.
1249:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Pos - The position to look up.
1250:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Paddr - The physical address of the page.
1251:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1252:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1253:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1254:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Lookup(struct RME_Cap_Pgt* Pgt_Op, rme_ptr_t Pos, rme_ptr_t* Paddr, rme_ptr_t* 
1255:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3360              		.loc 1 1255 1
 3361              		.cfi_startproc
 3362              		@ args = 0, pretend = 0, frame = 24
 3363              		@ frame_needed = 1, uses_anonymous_args = 0
 3364              		@ link register save eliminated.
 3365 0000 04B02DE5 		str	fp, [sp, #-4]!
 3366              		.cfi_def_cfa_offset 4
 3367              		.cfi_offset 11, -4
 3368 0004 00B08DE2 		add	fp, sp, #0
 3369              		.cfi_def_cfa_register 11
 3370 0008 1CD04DE2 		sub	sp, sp, #28
 3371 000c 10000BE5 		str	r0, [fp, #-16]
 3372 0010 14100BE5 		str	r1, [fp, #-20]
 3373 0014 18200BE5 		str	r2, [fp, #-24]
 3374 0018 1C300BE5 		str	r3, [fp, #-28]
1256:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1257:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
1258:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1259:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if the position is within the range of this page table */
1260:../../Source/Platform/A7A/rme_platform_a7a.c ****     if((Pos>>RME_PGT_NMORD(Pgt_Op->Order))!=0)
 3375              		.loc 1 1260 14
 3376 001c 10301BE5 		ldr	r3, [fp, #-16]
 3377 0020 143093E5 		ldr	r3, [r3, #20]
 3378 0024 7330FFE6 		uxth	r3, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 84


 3379              		.loc 1 1260 12
 3380 0028 14201BE5 		ldr	r2, [fp, #-20]
 3381 002c 3233A0E1 		lsr	r3, r2, r3
 3382              		.loc 1 1260 7
 3383 0030 000053E3 		cmp	r3, #0
 3384 0034 0100000A 		beq	.L133
1261:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3385              		.loc 1 1261 16
 3386 0038 0030E0E3 		mvn	r3, #0
 3387 003c 580000EA 		b	.L134
 3388              	.L133:
1262:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1263:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table */
1264:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op,rme_ptr_t*);
 3389              		.loc 1 1264 11
 3390 0040 10301BE5 		ldr	r3, [fp, #-16]
 3391 0044 0C3093E5 		ldr	r3, [r3, #12]
 3392              		.loc 1 1264 10
 3393 0048 08300BE5 		str	r3, [fp, #-8]
1265:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the position requested - atomic read */
1266:../../Source/Platform/A7A/rme_platform_a7a.c ****     Temp=Table[Pos];
 3394              		.loc 1 1266 15
 3395 004c 14301BE5 		ldr	r3, [fp, #-20]
 3396 0050 0331A0E1 		lsl	r3, r3, #2
 3397 0054 08201BE5 		ldr	r2, [fp, #-8]
 3398 0058 033082E0 		add	r3, r2, r3
 3399              		.loc 1 1266 9
 3400 005c 003093E5 		ldr	r3, [r3]
 3401 0060 0C300BE5 		str	r3, [fp, #-12]
1267:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1268:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Start lookup - is this a terminal page, or? */
1269:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(RME_PGT_SZORD(Pgt_Op->Order)==RME_PGT_SIZE_4K)
 3402              		.loc 1 1269 8
 3403 0064 10301BE5 		ldr	r3, [fp, #-16]
 3404 0068 143093E5 		ldr	r3, [r3, #20]
 3405 006c 2338A0E1 		lsr	r3, r3, #16
 3406              		.loc 1 1269 7
 3407 0070 0C0053E3 		cmp	r3, #12
 3408 0074 2400001A 		bne	.L135
1270:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1271:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)==0)
 3409              		.loc 1 1271 17
 3410 0078 0C301BE5 		ldr	r3, [fp, #-12]
 3411 007c 023003E2 		and	r3, r3, #2
 3412              		.loc 1 1271 11
 3413 0080 000053E3 		cmp	r3, #0
 3414 0084 0100001A 		bne	.L136
1272:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 3415              		.loc 1 1272 20
 3416 0088 0030E0E3 		mvn	r3, #0
 3417 008c 440000EA 		b	.L134
 3418              	.L136:
1273:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1274:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a small page. Return the physical address and flags */
1275:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
 3419              		.loc 1 1275 11
 3420 0090 18301BE5 		ldr	r3, [fp, #-24]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 85


 3421 0094 000053E3 		cmp	r3, #0
 3422 0098 0400000A 		beq	.L137
1276:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
 3423              		.loc 1 1276 17
 3424 009c 0C301BE5 		ldr	r3, [fp, #-12]
 3425 00a0 FF3EC3E3 		bic	r3, r3, #4080
 3426 00a4 0F30C3E3 		bic	r3, r3, #15
 3427              		.loc 1 1276 16
 3428 00a8 18201BE5 		ldr	r2, [fp, #-24]
 3429 00ac 003082E5 		str	r3, [r2]
 3430              	.L137:
1277:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
 3431              		.loc 1 1277 11
 3432 00b0 1C301BE5 		ldr	r3, [fp, #-28]
 3433 00b4 000053E3 		cmp	r3, #0
 3434 00b8 3800000A 		beq	.L138
1278:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
 3435              		.loc 1 1278 20
 3436 00bc 0C301BE5 		ldr	r3, [fp, #-12]
 3437 00c0 2333A0E1 		lsr	r3, r3, #6
 3438 00c4 082003E2 		and	r2, r3, #8
 3439 00c8 0C301BE5 		ldr	r3, [fp, #-12]
 3440 00cc A330A0E1 		lsr	r3, r3, #1
 3441 00d0 043003E2 		and	r3, r3, #4
 3442 00d4 032082E1 		orr	r2, r2, r3
 3443 00d8 0C301BE5 		ldr	r3, [fp, #-12]
 3444 00dc A330A0E1 		lsr	r3, r3, #1
 3445 00e0 023003E2 		and	r3, r3, #2
 3446 00e4 032082E1 		orr	r2, r2, r3
 3447 00e8 0C301BE5 		ldr	r3, [fp, #-12]
 3448 00ec 013003E2 		and	r3, r3, #1
 3449 00f0 032082E1 		orr	r2, r2, r3
 3450 00f4 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_4K_NAT2RME
 3451 00f8 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_4K_NAT2RME
 3452 00fc 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3453              		.loc 1 1278 19
 3454 0100 1C301BE5 		ldr	r3, [fp, #-28]
 3455 0104 002083E5 		str	r2, [r3]
 3456 0108 240000EA 		b	.L138
 3457              	.L135:
1279:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1280:../../Source/Platform/A7A/rme_platform_a7a.c ****     else
1281:../../Source/Platform/A7A/rme_platform_a7a.c ****     {
1282:../../Source/Platform/A7A/rme_platform_a7a.c ****         if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)==0)
 3458              		.loc 1 1282 17
 3459 010c 0C301BE5 		ldr	r3, [fp, #-12]
 3460 0110 023003E2 		and	r3, r3, #2
 3461              		.loc 1 1282 11
 3462 0114 000053E3 		cmp	r3, #0
 3463 0118 0100001A 		bne	.L139
1283:../../Source/Platform/A7A/rme_platform_a7a.c ****             return RME_ERR_HAL_FAIL;
 3464              		.loc 1 1283 20
 3465 011c 0030E0E3 		mvn	r3, #0
 3466 0120 1F0000EA 		b	.L134
 3467              	.L139:
1284:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1285:../../Source/Platform/A7A/rme_platform_a7a.c ****         /* This is a section. Return the physical address and flags */
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 86


1286:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Paddr!=0)
 3468              		.loc 1 1286 11
 3469 0124 18301BE5 		ldr	r3, [fp, #-24]
 3470 0128 000053E3 		cmp	r3, #0
 3471 012c 0400000A 		beq	.L140
1287:../../Source/Platform/A7A/rme_platform_a7a.c ****         	*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
 3472              		.loc 1 1287 17
 3473 0130 0C301BE5 		ldr	r3, [fp, #-12]
 3474 0134 233AA0E1 		lsr	r3, r3, #20
 3475 0138 033AA0E1 		lsl	r3, r3, #20
 3476              		.loc 1 1287 16
 3477 013c 18201BE5 		ldr	r2, [fp, #-24]
 3478 0140 003082E5 		str	r3, [r2]
 3479              	.L140:
1288:../../Source/Platform/A7A/rme_platform_a7a.c ****         if(Flags!=0)
 3480              		.loc 1 1288 11
 3481 0144 1C301BE5 		ldr	r3, [fp, #-28]
 3482 0148 000053E3 		cmp	r3, #0
 3483 014c 1300000A 		beq	.L138
1289:../../Source/Platform/A7A/rme_platform_a7a.c ****             *Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
 3484              		.loc 1 1289 20
 3485 0150 0C301BE5 		ldr	r3, [fp, #-12]
 3486 0154 2336A0E1 		lsr	r3, r3, #12
 3487 0158 082003E2 		and	r2, r3, #8
 3488 015c 0C301BE5 		ldr	r3, [fp, #-12]
 3489 0160 2331A0E1 		lsr	r3, r3, #2
 3490 0164 043003E2 		and	r3, r3, #4
 3491 0168 032082E1 		orr	r2, r2, r3
 3492 016c 0C301BE5 		ldr	r3, [fp, #-12]
 3493 0170 2331A0E1 		lsr	r3, r3, #2
 3494 0174 023003E2 		and	r3, r3, #2
 3495 0178 032082E1 		orr	r2, r2, r3
 3496 017c 0C301BE5 		ldr	r3, [fp, #-12]
 3497 0180 2331A0E1 		lsr	r3, r3, #2
 3498 0184 013003E2 		and	r3, r3, #1
 3499 0188 032082E1 		orr	r2, r2, r3
 3500 018c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_1M_NAT2RME
 3501 0190 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_1M_NAT2RME
 3502 0194 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3503              		.loc 1 1289 19
 3504 0198 1C301BE5 		ldr	r3, [fp, #-28]
 3505 019c 002083E5 		str	r2, [r3]
 3506              	.L138:
1290:../../Source/Platform/A7A/rme_platform_a7a.c ****     }
1291:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1292:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3507              		.loc 1 1292 12
 3508 01a0 0030A0E3 		mov	r3, #0
 3509              	.L134:
1293:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3510              		.loc 1 1293 1
 3511 01a4 0300A0E1 		mov	r0, r3
 3512 01a8 00D08BE2 		add	sp, fp, #0
 3513              		.cfi_def_cfa_register 13
 3514              		@ sp needed
 3515 01ac 04B09DE4 		ldr	fp, [sp], #4
 3516              		.cfi_restore 11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 87


 3517              		.cfi_def_cfa_offset 0
 3518 01b0 1EFF2FE1 		bx	lr
 3519              		.cfi_endproc
 3520              	.LFE42:
 3522              		.section	.text.__RME_Pgt_Walk,"ax",%progbits
 3523              		.align	2
 3524              		.global	__RME_Pgt_Walk
 3525              		.syntax unified
 3526              		.arm
 3528              	__RME_Pgt_Walk:
 3529              	.LFB43:
1294:../../Source/Platform/A7A/rme_platform_a7a.c **** /* End Function:__RME_Pgt_Lookup *******************************************/
1295:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1296:../../Source/Platform/A7A/rme_platform_a7a.c **** /* Function:__RME_Pgt_Walk **************************************************
1297:../../Source/Platform/A7A/rme_platform_a7a.c **** Description : Walking function for the page table. This function just does page
1298:../../Source/Platform/A7A/rme_platform_a7a.c ****               table lookups. The page table that is being walked must be the top-
1299:../../Source/Platform/A7A/rme_platform_a7a.c ****               level page table. The output values are optional; only pass in pointers
1300:../../Source/Platform/A7A/rme_platform_a7a.c ****               when you need that value.
1301:../../Source/Platform/A7A/rme_platform_a7a.c ****               Walking kernel page tables is prohibited.
1302:../../Source/Platform/A7A/rme_platform_a7a.c ****               This function also does not support large pages and super sections.
1303:../../Source/Platform/A7A/rme_platform_a7a.c **** Input       : struct RME_Cap_Pgt* Pgt_Op - The page table to walk.
1304:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t Vaddr - The virtual address to look up.
1305:../../Source/Platform/A7A/rme_platform_a7a.c **** Output      : rme_ptr_t* Pgt - The pointer to the page table level.
1306:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Map_Vaddr - The virtual address that starts mapping.
1307:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Paddr - The physical address of the page.
1308:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Size_Order - The size order of the page.
1309:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Num_Order - The entry order of the page.
1310:../../Source/Platform/A7A/rme_platform_a7a.c ****               rme_ptr_t* Flags - The RME standard flags of the page.
1311:../../Source/Platform/A7A/rme_platform_a7a.c **** Return      : rme_ptr_t - If successful, 0; else RME_ERR_HAL_FAIL.
1312:../../Source/Platform/A7A/rme_platform_a7a.c **** ******************************************************************************/
1313:../../Source/Platform/A7A/rme_platform_a7a.c **** rme_ptr_t __RME_Pgt_Walk(struct RME_Cap_Pgt* Pgt_Op, 
1314:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t Vaddr, 
1315:../../Source/Platform/A7A/rme_platform_a7a.c ****                          rme_ptr_t* Pgt,
1316:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Map_Vaddr, 
1317:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Paddr, 
1318:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Size_Order, 
1319:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Num_Order, 
1320:../../Source/Platform/A7A/rme_platform_a7a.c ****                            rme_ptr_t* Flags)
1321:../../Source/Platform/A7A/rme_platform_a7a.c **** {
 3530              		.loc 1 1321 1
 3531              		.cfi_startproc
 3532              		@ args = 16, pretend = 0, frame = 32
 3533              		@ frame_needed = 1, uses_anonymous_args = 0
 3534              		@ link register save eliminated.
 3535 0000 04B02DE5 		str	fp, [sp, #-4]!
 3536              		.cfi_def_cfa_offset 4
 3537              		.cfi_offset 11, -4
 3538 0004 00B08DE2 		add	fp, sp, #0
 3539              		.cfi_def_cfa_register 11
 3540 0008 24D04DE2 		sub	sp, sp, #36
 3541 000c 18000BE5 		str	r0, [fp, #-24]
 3542 0010 1C100BE5 		str	r1, [fp, #-28]
 3543 0014 20200BE5 		str	r2, [fp, #-32]
 3544 0018 24300BE5 		str	r3, [fp, #-36]
1322:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t* Table;
1323:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Pos;
1324:../../Source/Platform/A7A/rme_platform_a7a.c ****     rme_ptr_t Temp;
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 88


1325:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1326:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Check if this is the top-level page table */
1327:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(((Pgt_Op->Base)&RME_PGT_TOP)==0)
 3545              		.loc 1 1327 16
 3546 001c 18301BE5 		ldr	r3, [fp, #-24]
 3547 0020 183093E5 		ldr	r3, [r3, #24]
 3548              		.loc 1 1327 23
 3549 0024 013003E2 		and	r3, r3, #1
 3550              		.loc 1 1327 7
 3551 0028 000053E3 		cmp	r3, #0
 3552 002c 0100001A 		bne	.L142
1328:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3553              		.loc 1 1328 16
 3554 0030 0030E0E3 		mvn	r3, #0
 3555 0034 A30000EA 		b	.L143
 3556              	.L142:
1329:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1330:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Are we attempting a kernel or non-canonical lookup? If yes, stop immediately */
1331:../../Source/Platform/A7A/rme_platform_a7a.c ****     if(Vaddr>=0x7FFFFFFFU)
 3557              		.loc 1 1331 7
 3558 0038 1C301BE5 		ldr	r3, [fp, #-28]
 3559 003c 0A0173E3 		cmn	r3, #-2147483646
 3560 0040 0100009A 		bls	.L144
1332:../../Source/Platform/A7A/rme_platform_a7a.c ****         return RME_ERR_HAL_FAIL;
 3561              		.loc 1 1332 16
 3562 0044 0030E0E3 		mvn	r3, #0
 3563 0048 9E0000EA 		b	.L143
 3564              	.L144:
1333:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1334:../../Source/Platform/A7A/rme_platform_a7a.c ****     /* Get the table and start lookup - We know that there are only 2 levels */
1335:../../Source/Platform/A7A/rme_platform_a7a.c ****     Table=RME_CAP_GETOBJ(Pgt_Op, rme_ptr_t*);
 3565              		.loc 1 1335 11
 3566 004c 18301BE5 		ldr	r3, [fp, #-24]
 3567 0050 0C3093E5 		ldr	r3, [r3, #12]
 3568              		.loc 1 1335 10
 3569 0054 08300BE5 		str	r3, [fp, #-8]
1336:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1337:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Calculate where is the entry - always 0 to 4096 */
1338:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Pos=(Vaddr>>RME_PGT_SIZE_1M)&0xFFFU;
 3570              		.loc 1 1338 5
 3571 0058 1C301BE5 		ldr	r3, [fp, #-28]
 3572 005c 233AA0E1 		lsr	r3, r3, #20
 3573 0060 0C300BE5 		str	r3, [fp, #-12]
1339:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Atomic read */
1340:../../Source/Platform/A7A/rme_platform_a7a.c **** 	Temp=Table[Pos];
 3574              		.loc 1 1340 12
 3575 0064 0C301BE5 		ldr	r3, [fp, #-12]
 3576 0068 0331A0E1 		lsl	r3, r3, #2
 3577 006c 08201BE5 		ldr	r2, [fp, #-8]
 3578 0070 033082E0 		add	r3, r2, r3
 3579              		.loc 1 1340 6
 3580 0074 003093E5 		ldr	r3, [r3]
 3581 0078 10300BE5 		str	r3, [fp, #-16]
1341:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1342:../../Source/Platform/A7A/rme_platform_a7a.c **** 	/* Find the position of the entry - Is there a page, a directory, or nothing? */
1343:../../Source/Platform/A7A/rme_platform_a7a.c **** 	if((Temp&RME_A7A_MMU_1M_PAGE_PRESENT)!=0)
 3582              		.loc 1 1343 10
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 89


 3583 007c 10301BE5 		ldr	r3, [fp, #-16]
 3584 0080 023003E2 		and	r3, r3, #2
 3585              		.loc 1 1343 4
 3586 0084 000053E3 		cmp	r3, #0
 3587 0088 3900000A 		beq	.L145
1344:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1345:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* There is a 1M page */
1346:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Pgt!=0)
 3588              		.loc 1 1346 5
 3589 008c 20301BE5 		ldr	r3, [fp, #-32]
 3590 0090 000053E3 		cmp	r3, #0
 3591 0094 0200000A 		beq	.L146
1347:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Pgt=(rme_ptr_t)Table;
 3592              		.loc 1 1347 9
 3593 0098 08201BE5 		ldr	r2, [fp, #-8]
 3594              		.loc 1 1347 8
 3595 009c 20301BE5 		ldr	r3, [fp, #-32]
 3596 00a0 002083E5 		str	r2, [r3]
 3597              	.L146:
1348:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Map_Vaddr!=0)
 3598              		.loc 1 1348 5
 3599 00a4 24301BE5 		ldr	r3, [fp, #-36]
 3600 00a8 000053E3 		cmp	r3, #0
 3601 00ac 0400000A 		beq	.L147
1349:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_1M);
 3602              		.loc 1 1349 15
 3603 00b0 1C301BE5 		ldr	r3, [fp, #-28]
 3604 00b4 233AA0E1 		lsr	r3, r3, #20
 3605 00b8 033AA0E1 		lsl	r3, r3, #20
 3606              		.loc 1 1349 14
 3607 00bc 24201BE5 		ldr	r2, [fp, #-36]
 3608 00c0 003082E5 		str	r3, [r2]
 3609              	.L147:
1350:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Paddr!=0)
 3610              		.loc 1 1350 5
 3611 00c4 04309BE5 		ldr	r3, [fp, #4]
 3612 00c8 000053E3 		cmp	r3, #0
 3613 00cc 0400000A 		beq	.L148
1351:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Paddr=RME_A7A_MMU_1M_PAGE_ADDR(Temp);
 3614              		.loc 1 1351 11
 3615 00d0 10301BE5 		ldr	r3, [fp, #-16]
 3616 00d4 233AA0E1 		lsr	r3, r3, #20
 3617 00d8 033AA0E1 		lsl	r3, r3, #20
 3618              		.loc 1 1351 10
 3619 00dc 04209BE5 		ldr	r2, [fp, #4]
 3620 00e0 003082E5 		str	r3, [r2]
 3621              	.L148:
1352:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Size_Order!=0)
 3622              		.loc 1 1352 5
 3623 00e4 08309BE5 		ldr	r3, [fp, #8]
 3624 00e8 000053E3 		cmp	r3, #0
 3625 00ec 0200000A 		beq	.L149
1353:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Size_Order=RME_PGT_SIZE_1M;
 3626              		.loc 1 1353 15
 3627 00f0 08309BE5 		ldr	r3, [fp, #8]
 3628 00f4 1420A0E3 		mov	r2, #20
 3629 00f8 002083E5 		str	r2, [r3]
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 90


 3630              	.L149:
1354:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Num_Order!=0)
 3631              		.loc 1 1354 5
 3632 00fc 0C309BE5 		ldr	r3, [fp, #12]
 3633 0100 000053E3 		cmp	r3, #0
 3634 0104 0200000A 		beq	.L150
1355:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Num_Order=RME_PGT_NUM_4K;
 3635              		.loc 1 1355 14
 3636 0108 0C309BE5 		ldr	r3, [fp, #12]
 3637 010c 0C20A0E3 		mov	r2, #12
 3638 0110 002083E5 		str	r2, [r3]
 3639              	.L150:
1356:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if(Flags!=0)
 3640              		.loc 1 1356 5
 3641 0114 10309BE5 		ldr	r3, [fp, #16]
 3642 0118 000053E3 		cmp	r3, #0
 3643 011c 6800000A 		beq	.L151
1357:../../Source/Platform/A7A/rme_platform_a7a.c **** 			*Flags=RME_A7A_PGFLG_1M_NAT2RME(Temp);
 3644              		.loc 1 1357 11
 3645 0120 10301BE5 		ldr	r3, [fp, #-16]
 3646 0124 2336A0E1 		lsr	r3, r3, #12
 3647 0128 082003E2 		and	r2, r3, #8
 3648 012c 10301BE5 		ldr	r3, [fp, #-16]
 3649 0130 2331A0E1 		lsr	r3, r3, #2
 3650 0134 043003E2 		and	r3, r3, #4
 3651 0138 032082E1 		orr	r2, r2, r3
 3652 013c 10301BE5 		ldr	r3, [fp, #-16]
 3653 0140 2331A0E1 		lsr	r3, r3, #2
 3654 0144 023003E2 		and	r3, r3, #2
 3655 0148 032082E1 		orr	r2, r2, r3
 3656 014c 10301BE5 		ldr	r3, [fp, #-16]
 3657 0150 2331A0E1 		lsr	r3, r3, #2
 3658 0154 013003E2 		and	r3, r3, #1
 3659 0158 032082E1 		orr	r2, r2, r3
 3660 015c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_1M_NAT2RME
 3661 0160 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_1M_NAT2RME
 3662 0164 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3663              		.loc 1 1357 10
 3664 0168 10309BE5 		ldr	r3, [fp, #16]
 3665 016c 002083E5 		str	r2, [r3]
 3666 0170 530000EA 		b	.L151
 3667              	.L145:
1358:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1359:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1360:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else if((Temp&RME_A7A_MMU_1M_PGDIR_PRESENT)!=0)
 3668              		.loc 1 1360 15
 3669 0174 10301BE5 		ldr	r3, [fp, #-16]
 3670 0178 013003E2 		and	r3, r3, #1
 3671              		.loc 1 1360 9
 3672 017c 000053E3 		cmp	r3, #0
 3673 0180 4D00000A 		beq	.L152
1361:../../Source/Platform/A7A/rme_platform_a7a.c **** 	{
1362:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Table=(rme_ptr_t*)RME_A7A_PA2VA(RME_A7A_MMU_1M_PGT_ADDR(Temp));
 3674              		.loc 1 1362 21
 3675 0184 10301BE5 		ldr	r3, [fp, #-16]
 3676 0188 FF3FC3E3 		bic	r3, r3, #1020
 3677 018c 0330C3E3 		bic	r3, r3, #3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 91


 3678 0190 023183E2 		add	r3, r3, #-2147483648
 3679              		.loc 1 1362 8
 3680 0194 08300BE5 		str	r3, [fp, #-8]
1363:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Calculate where is the entry - always 0 to 256 */
1364:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Pos=(Vaddr>>RME_PGT_SIZE_4K)&0xFFU;
 3681              		.loc 1 1364 13
 3682 0198 1C301BE5 		ldr	r3, [fp, #-28]
 3683 019c 2336A0E1 		lsr	r3, r3, #12
 3684              		.loc 1 1364 6
 3685 01a0 7330EFE6 		uxtb	r3, r3
 3686 01a4 0C300BE5 		str	r3, [fp, #-12]
1365:../../Source/Platform/A7A/rme_platform_a7a.c **** 		/* Atomic read */
1366:../../Source/Platform/A7A/rme_platform_a7a.c **** 		Temp=Table[Pos];
 3687              		.loc 1 1366 13
 3688 01a8 0C301BE5 		ldr	r3, [fp, #-12]
 3689 01ac 0331A0E1 		lsl	r3, r3, #2
 3690 01b0 08201BE5 		ldr	r2, [fp, #-8]
 3691 01b4 033082E0 		add	r3, r2, r3
 3692              		.loc 1 1366 7
 3693 01b8 003093E5 		ldr	r3, [r3]
 3694 01bc 10300BE5 		str	r3, [fp, #-16]
1367:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1368:../../Source/Platform/A7A/rme_platform_a7a.c **** 		if((Temp&RME_A7A_MMU_4K_PAGE_PRESENT)!=0)
 3695              		.loc 1 1368 11
 3696 01c0 10301BE5 		ldr	r3, [fp, #-16]
 3697 01c4 023003E2 		and	r3, r3, #2
 3698              		.loc 1 1368 5
 3699 01c8 000053E3 		cmp	r3, #0
 3700 01cc 3800000A 		beq	.L153
1369:../../Source/Platform/A7A/rme_platform_a7a.c **** 		{
1370:../../Source/Platform/A7A/rme_platform_a7a.c **** 			/* There is a 4k page */
1371:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Pgt!=0)
 3701              		.loc 1 1371 6
 3702 01d0 20301BE5 		ldr	r3, [fp, #-32]
 3703 01d4 000053E3 		cmp	r3, #0
 3704 01d8 0200000A 		beq	.L154
1372:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Pgt=(rme_ptr_t)Table;
 3705              		.loc 1 1372 10
 3706 01dc 08201BE5 		ldr	r2, [fp, #-8]
 3707              		.loc 1 1372 9
 3708 01e0 20301BE5 		ldr	r3, [fp, #-32]
 3709 01e4 002083E5 		str	r2, [r3]
 3710              	.L154:
1373:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Map_Vaddr!=0)
 3711              		.loc 1 1373 6
 3712 01e8 24301BE5 		ldr	r3, [fp, #-36]
 3713 01ec 000053E3 		cmp	r3, #0
 3714 01f0 0400000A 		beq	.L155
1374:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Map_Vaddr=RME_ROUND_DOWN(Vaddr,RME_PGT_SIZE_4K);
 3715              		.loc 1 1374 16
 3716 01f4 1C301BE5 		ldr	r3, [fp, #-28]
 3717 01f8 FF3EC3E3 		bic	r3, r3, #4080
 3718 01fc 0F30C3E3 		bic	r3, r3, #15
 3719              		.loc 1 1374 15
 3720 0200 24201BE5 		ldr	r2, [fp, #-36]
 3721 0204 003082E5 		str	r3, [r2]
 3722              	.L155:
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 92


1375:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Paddr!=0)
 3723              		.loc 1 1375 6
 3724 0208 04309BE5 		ldr	r3, [fp, #4]
 3725 020c 000053E3 		cmp	r3, #0
 3726 0210 0400000A 		beq	.L156
1376:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Paddr=RME_A7A_MMU_4K_PAGE_ADDR(Temp);
 3727              		.loc 1 1376 12
 3728 0214 10301BE5 		ldr	r3, [fp, #-16]
 3729 0218 FF3EC3E3 		bic	r3, r3, #4080
 3730 021c 0F30C3E3 		bic	r3, r3, #15
 3731              		.loc 1 1376 11
 3732 0220 04209BE5 		ldr	r2, [fp, #4]
 3733 0224 003082E5 		str	r3, [r2]
 3734              	.L156:
1377:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Size_Order!=0)
 3735              		.loc 1 1377 6
 3736 0228 08309BE5 		ldr	r3, [fp, #8]
 3737 022c 000053E3 		cmp	r3, #0
 3738 0230 0200000A 		beq	.L157
1378:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Size_Order=RME_PGT_SIZE_4K;
 3739              		.loc 1 1378 16
 3740 0234 08309BE5 		ldr	r3, [fp, #8]
 3741 0238 0C20A0E3 		mov	r2, #12
 3742 023c 002083E5 		str	r2, [r3]
 3743              	.L157:
1379:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Num_Order!=0)
 3744              		.loc 1 1379 6
 3745 0240 0C309BE5 		ldr	r3, [fp, #12]
 3746 0244 000053E3 		cmp	r3, #0
 3747 0248 0200000A 		beq	.L158
1380:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Num_Order=RME_PGT_NUM_256;
 3748              		.loc 1 1380 15
 3749 024c 0C309BE5 		ldr	r3, [fp, #12]
 3750 0250 0820A0E3 		mov	r2, #8
 3751 0254 002083E5 		str	r2, [r3]
 3752              	.L158:
1381:../../Source/Platform/A7A/rme_platform_a7a.c **** 			if(Flags!=0)
 3753              		.loc 1 1381 6
 3754 0258 10309BE5 		ldr	r3, [fp, #16]
 3755 025c 000053E3 		cmp	r3, #0
 3756 0260 1700000A 		beq	.L151
1382:../../Source/Platform/A7A/rme_platform_a7a.c **** 				*Flags=RME_A7A_PGFLG_4K_NAT2RME(Temp);
 3757              		.loc 1 1382 12
 3758 0264 10301BE5 		ldr	r3, [fp, #-16]
 3759 0268 2333A0E1 		lsr	r3, r3, #6
 3760 026c 082003E2 		and	r2, r3, #8
 3761 0270 10301BE5 		ldr	r3, [fp, #-16]
 3762 0274 A330A0E1 		lsr	r3, r3, #1
 3763 0278 043003E2 		and	r3, r3, #4
 3764 027c 032082E1 		orr	r2, r2, r3
 3765 0280 10301BE5 		ldr	r3, [fp, #-16]
 3766 0284 A330A0E1 		lsr	r3, r3, #1
 3767 0288 023003E2 		and	r3, r3, #2
 3768 028c 032082E1 		orr	r2, r2, r3
 3769 0290 10301BE5 		ldr	r3, [fp, #-16]
 3770 0294 013003E2 		and	r3, r3, #1
 3771 0298 032082E1 		orr	r2, r2, r3
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 93


 3772 029c 003000E3 		movw	r3, #:lower16:RME_A7A_Pgflg_4K_NAT2RME
 3773 02a0 003040E3 		movt	r3, #:upper16:RME_A7A_Pgflg_4K_NAT2RME
 3774 02a4 022193E7 		ldr	r2, [r3, r2, lsl #2]
 3775              		.loc 1 1382 11
 3776 02a8 10309BE5 		ldr	r3, [fp, #16]
 3777 02ac 002083E5 		str	r2, [r3]
 3778 02b0 030000EA 		b	.L151
 3779              	.L153:
1383:../../Source/Platform/A7A/rme_platform_a7a.c **** 		}
1384:../../Source/Platform/A7A/rme_platform_a7a.c **** 		else
1385:../../Source/Platform/A7A/rme_platform_a7a.c **** 			return RME_ERR_HAL_FAIL;
 3780              		.loc 1 1385 11
 3781 02b4 0030E0E3 		mvn	r3, #0
 3782 02b8 020000EA 		b	.L143
 3783              	.L152:
1386:../../Source/Platform/A7A/rme_platform_a7a.c **** 	}
1387:../../Source/Platform/A7A/rme_platform_a7a.c **** 	else
1388:../../Source/Platform/A7A/rme_platform_a7a.c **** 		return RME_ERR_HAL_FAIL;
 3784              		.loc 1 1388 10
 3785 02bc 0030E0E3 		mvn	r3, #0
 3786 02c0 000000EA 		b	.L143
 3787              	.L151:
1389:../../Source/Platform/A7A/rme_platform_a7a.c **** 
1390:../../Source/Platform/A7A/rme_platform_a7a.c ****     return 0;
 3788              		.loc 1 1390 12
 3789 02c4 0030A0E3 		mov	r3, #0
 3790              	.L143:
1391:../../Source/Platform/A7A/rme_platform_a7a.c **** }
 3791              		.loc 1 1391 1
 3792 02c8 0300A0E1 		mov	r0, r3
 3793 02cc 00D08BE2 		add	sp, fp, #0
 3794              		.cfi_def_cfa_register 13
 3795              		@ sp needed
 3796 02d0 04B09DE4 		ldr	fp, [sp], #4
 3797              		.cfi_restore 11
 3798              		.cfi_def_cfa_offset 0
 3799 02d4 1EFF2FE1 		bx	lr
 3800              		.cfi_endproc
 3801              	.LFE43:
 3803              		.text
 3804              	.Letext0:
 3805              		.file 2 "../../Include/Platform/A7A/rme_platform_a7a.h"
 3806              		.file 3 "../../Include/Kernel/rme_kernel.h"
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 94


DEFINED SYMBOLS
                            *ABS*:00000000 rme_platform_a7a.c
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:21     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:24     .rodata.RME_A7A_Pgflg_1M_RME2NAT:00000000 RME_A7A_Pgflg_1M_RME2NAT
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:58     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 $d
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:61     .rodata.RME_A7A_Pgflg_4K_RME2NAT:00000000 RME_A7A_Pgflg_4K_RME2NAT
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:95     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:98     .rodata.RME_A7A_Pgflg_1M_NAT2RME:00000000 RME_A7A_Pgflg_1M_NAT2RME
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:116    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 $d
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:119    .rodata.RME_A7A_Pgflg_4K_NAT2RME:00000000 RME_A7A_Pgflg_4K_NAT2RME
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:141    .bss.RME_A7A_Timestamp:00000000 RME_A7A_Timestamp
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:138    .bss.RME_A7A_Timestamp:00000000 $d
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:148    .bss.RME_A7A_Local:00000000 RME_A7A_Local
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:145    .bss.RME_A7A_Local:00000000 $d
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:155    .bss.RME_A7A_Kot:00000000 RME_A7A_Kot
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:152    .bss.RME_A7A_Kot:00000000 $d
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:162    .rodata.RME_A7A_Mem_Info:00000000 RME_A7A_Mem_Info
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:159    .rodata.RME_A7A_Mem_Info:00000000 $d
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:193    .bss.RME_A7A_CPU_Cnt:00000000 RME_A7A_CPU_Cnt
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:190    .bss.RME_A7A_CPU_Cnt:00000000 $d
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:196    .text.main:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:201    .text.main:00000000 main
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:224    .text.__RME_Putchar:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:229    .text.__RME_Putchar:00000000 __RME_Putchar
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:272    .rodata:00000000 $d
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:273    .rodata:00000000 .LC0
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:276    .rodata:00000018 .LC1
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:279    .rodata:00000030 .LC2
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:282    .rodata:00000048 .LC3
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:285    .rodata:00000064 .LC4
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:288    .rodata:0000007c .LC5
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:291    .rodata:0000009c .LC6
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:294    .rodata:000000b4 .LC7
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:297    .text.__RME_A7A_Int_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:301    .text.__RME_A7A_Int_Init:00000000 __RME_A7A_Int_Init
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:561    .text.__RME_A7A_Int_Local_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:566    .text.__RME_A7A_Int_Local_Init:00000000 __RME_A7A_Int_Local_Init
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:610    .rodata:000000d8 .LC8
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:613    .text.__RME_A7A_Timer_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:617    .text.__RME_A7A_Timer_Init:00000000 __RME_A7A_Timer_Init
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:668    .text.__RME_A7A_Feature_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:673    .text.__RME_A7A_Feature_Get:00000000 __RME_A7A_Feature_Get
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:698    .text.__RME_A7A_Mem_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:703    .text.__RME_A7A_Mem_Init:00000000 __RME_A7A_Mem_Init
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:731    .text.__RME_A7A_SMP_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:736    .text.__RME_A7A_SMP_Init:00000000 __RME_A7A_SMP_Init
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:761    .text.__RME_A7A_SMP_Tick:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:766    .text.__RME_A7A_SMP_Tick:00000000 __RME_A7A_SMP_Tick
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:792    .rodata:000000ec .LC9
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:795    .rodata:00000100 .LC10
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:798    .text.__RME_Lowlvl_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:803    .text.__RME_Lowlvl_Init:00000000 __RME_Lowlvl_Init
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:855    .text.__RME_Pgt_Kom_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:860    .text.__RME_Pgt_Kom_Init:00000000 __RME_Pgt_Kom_Init
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:887    .text.__RME_SMP_Low_Level_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:892    .text.__RME_SMP_Low_Level_Init:00000000 __RME_SMP_Low_Level_Init
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:920    .rodata:00000114 .LC11
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 95


C:\Users\even\AppData\Local\Temp\ccm8DURl.s:923    .rodata:00000140 .LC12
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:926    .rodata:0000014c .LC13
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:929    .rodata:00000158 .LC14
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:932    .rodata:00000188 .LC15
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:935    .rodata:000001ac .LC16
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:938    .rodata:000001cc .LC17
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:941    .rodata:000001d0 .LC18
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:944    .rodata:000001f4 .LC19
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:947    .rodata:00000214 .LC20
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:950    .rodata:00000234 .LC21
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:953    .rodata:00000254 .LC22
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:956    .rodata:0000026c .LC23
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:959    .rodata:0000028c .LC24
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:962    .rodata:000002b4 .LC25
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:965    .rodata:000002dc .LC26
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:968    .rodata:00000300 .LC27
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:972    .rodata:00000344 .LC28
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:975    .text.__RME_Boot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:980    .text.__RME_Boot:00000000 __RME_Boot
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2637   .text.__RME_Pgt_Set:00000000 __RME_Pgt_Set
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1492   .text.__RME_Reboot:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1497   .text.__RME_Reboot:00000000 __RME_Reboot
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1522   .text.__RME_Shutdown:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1527   .text.__RME_Shutdown:00000000 __RME_Shutdown
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1552   .text.__RME_Svc_Param_Get:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1557   .text.__RME_Svc_Param_Get:00000000 __RME_Svc_Param_Get
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1625   .text.__RME_Svc_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1630   .text.__RME_Svc_Retval_Set:00000000 __RME_Svc_Retval_Set
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1663   .text.__RME_Thd_Reg_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1668   .text.__RME_Thd_Reg_Init:00000000 __RME_Thd_Reg_Init
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1718   .text.__RME_Thd_Reg_Copy:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1723   .text.__RME_Thd_Reg_Copy:00000000 __RME_Thd_Reg_Copy
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1847   .text.__RME_Thd_Cop_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1852   .text.__RME_Thd_Cop_Init:00000000 __RME_Thd_Cop_Init
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1880   .text.__RME_Thd_Cop_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1885   .text.__RME_Thd_Cop_Save:00000000 __RME_Thd_Cop_Save
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1913   .text.__RME_Thd_Cop_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1918   .text.__RME_Thd_Cop_Restore:00000000 __RME_Thd_Cop_Restore
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1946   .text.__RME_Inv_Reg_Save:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1951   .text.__RME_Inv_Reg_Save:00000000 __RME_Inv_Reg_Save
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1991   .text.__RME_Inv_Reg_Restore:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:1996   .text.__RME_Inv_Reg_Restore:00000000 __RME_Inv_Reg_Restore
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2036   .text.__RME_Inv_Retval_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2041   .text.__RME_Inv_Retval_Set:00000000 __RME_Inv_Retval_Set
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2074   .text.__RME_Set_Inv_Retval:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2079   .text.__RME_Set_Inv_Retval:00000000 __RME_Set_Inv_Retval
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2112   .text.__RME_Thd_Cop_Swap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2117   .text.__RME_Thd_Cop_Swap:00000000 __RME_Thd_Cop_Swap
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2147   .text.__RME_Kfn_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2152   .text.__RME_Kfn_Handler:00000000 __RME_Kfn_Handler
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2185   .rodata:0000035c .LC29
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2188   .rodata:00000370 .LC30
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2191   .rodata:00000378 .LC31
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2194   .rodata:00000380 .LC32
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2197   .text.__RME_A7A_Undefined_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2202   .text.__RME_A7A_Undefined_Handler:00000000 __RME_A7A_Undefined_Handler
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2255   .rodata:0000038c .LC33
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 96


C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2258   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2263   .text.__RME_A7A_Prefetch_Abort_Handler:00000000 __RME_A7A_Prefetch_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2316   .rodata:000003a4 .LC34
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2319   .text.__RME_A7A_Data_Abort_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2324   .text.__RME_A7A_Data_Abort_Handler:00000000 __RME_A7A_Data_Abort_Handler
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2377   .rodata:000003bc .LC35
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2380   .text.__RME_A7A_IRQ_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2385   .text.__RME_A7A_IRQ_Handler:00000000 __RME_A7A_IRQ_Handler
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2554   .text._RME_A7A_SGI_Handler:00000000 _RME_A7A_SGI_Handler
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2549   .text._RME_A7A_SGI_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2585   .rodata:000003cc .LC36
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2588   .text.__RME_A7A_Generic_Handler:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2593   .text.__RME_A7A_Generic_Handler:00000000 __RME_A7A_Generic_Handler
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2629   .rodata:000003dc .LC37
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2632   .text.__RME_Pgt_Set:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2685   .rodata:00000400 .LC38
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2688   .text.__RME_Pgt_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2693   .text.__RME_Pgt_Check:00000000 __RME_Pgt_Check
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2786   .text.__RME_Pgt_Init:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2791   .text.__RME_Pgt_Init:00000000 __RME_Pgt_Init
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2909   .text.__RME_Pgt_Del_Check:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2914   .text.__RME_Pgt_Del_Check:00000000 __RME_Pgt_Del_Check
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2944   .rodata:00000410 .LC39
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2947   .rodata:00000420 .LC40
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2951   .rodata:00000460 .LC41
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2954   .rodata:00000474 .LC42
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2957   .rodata:00000484 .LC43
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2960   .text.__RME_Pgt_Page_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:2965   .text.__RME_Pgt_Page_Map:00000000 __RME_Pgt_Page_Map
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:3117   .text.__RME_Pgt_Page_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:3122   .text.__RME_Pgt_Page_Unmap:00000000 __RME_Pgt_Page_Unmap
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:3221   .text.__RME_Pgt_Pgdir_Map:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:3226   .text.__RME_Pgt_Pgdir_Map:00000000 __RME_Pgt_Pgdir_Map
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:3317   .text.__RME_Pgt_Pgdir_Unmap:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:3322   .text.__RME_Pgt_Pgdir_Unmap:00000000 __RME_Pgt_Pgdir_Unmap
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:3353   .text.__RME_Pgt_Lookup:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:3358   .text.__RME_Pgt_Lookup:00000000 __RME_Pgt_Lookup
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:3523   .text.__RME_Pgt_Walk:00000000 $a
C:\Users\even\AppData\Local\Temp\ccm8DURl.s:3528   .text.__RME_Pgt_Walk:00000000 __RME_Pgt_Walk
                           .group:00000000 wm4.0.3b9f63523dc4e8d86e863c7e7e762be7
                           .group:00000000 wm4.rme_platform_a7a.h.12.6f31e4bbf2ba0e08caa014445997fe37
                           .group:00000000 wm4.rme_platform_xc7z020.h.16.ad2f0318b93804fb8601302b8cc407b4
                           .group:00000000 wm4.rme_platform_a7a.h.137.fdc6a038503ac117e4f4f30ba1107f52
                           .group:00000000 wm4.rme_kernel.h.27.716340edb41bad57d522729bf2b8a38a
                           .group:00000000 wm4.rme.h.11.105c42759f88404be372052d8d99e5e6
                           .group:00000000 wm4.rme_kernel.h.185.d02db6497e1a69d04e005d15d216f811
                           .group:00000000 wm4.rme_platform_a7a.h.390.918e282e9d9d990fe491c99e3e90944b
                           .group:00000000 wm4.rme_kernel.h.678.0572fdf2012fb48f701f562b23d175bb
                           .group:00000000 wm4.rme_platform_a7a.h.506.34ea8feea6a0221549eb5f652542a41e
                           .group:00000000 wm4.rme_kernel.h.930.0bcd107bd9a9b6f5fe5bbd4088ddbec4

UNDEFINED SYMBOLS
RME_Kmain
RME_Str_Print
RME_Int_Print
RME_Hex_Print
_RME_CPU_Local_Init
ARM GAS  C:\Users\even\AppData\Local\Temp\ccm8DURl.s 			page 97


__RME_A7A_Vector_Table
__RME_A7A_VBAR_Set
__RME_A7A_SCR_Get
_RME_Cpt_Boot_Init
RME_Log
_RME_Pgt_Boot_Crt
_RME_Pgt_Boot_Add
__RME_A7A_Kern_Pgt
_RME_Prc_Boot_Crt
_RME_Thd_Boot_Crt
_RME_Kfn_Boot_Crt
_RME_Kom_Boot_Crt
_RME_Sig_Boot_Crt
__RME_Int_Enable
__RME_User_Enter
_RME_Tim_Handler
__RME_A7A_TTBR0_Set
__RME_A7A_TLBIALL_Set
_RME_Comp_Swap_Single
